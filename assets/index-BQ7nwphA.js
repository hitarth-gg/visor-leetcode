function dG(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(i,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Pk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mw={exports:{}},xd={};var RD;function hG(){if(RD)return xd;RD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,s,o){var r=null;if(o!==void 0&&(r=""+o),s.key!==void 0&&(r=""+s.key),"key"in s){o={};for(var l in s)l!=="key"&&(o[l]=s[l])}else o=s;return s=o.ref,{$$typeof:e,type:i,key:r,ref:s!==void 0?s:null,props:o}}return xd.Fragment=t,xd.jsx=n,xd.jsxs=n,xd}var xD;function fG(){return xD||(xD=1,Mw.exports=hG()),Mw.exports}var E=fG(),kw={exports:{}},Ed={},Iw={exports:{}},Ow={};var ED;function gG(){return ED||(ED=1,(function(e){function t(V,$){var N=V.length;V.push($);e:for(;0<N;){var X=N-1>>>1,ie=V[X];if(0<s(ie,$))V[X]=$,V[N]=ie,N=X;else break e}}function n(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var $=V[0],N=V.pop();if(N!==$){V[0]=N;e:for(var X=0,ie=V.length,L=ie>>>1;X<L;){var j=2*(X+1)-1,Q=V[j],re=j+1,me=V[re];if(0>s(Q,N))re<ie&&0>s(me,Q)?(V[X]=me,V[re]=N,X=re):(V[X]=Q,V[j]=N,X=j);else if(re<ie&&0>s(me,N))V[X]=me,V[re]=N,X=re;else break e}}return $}function s(V,$){var N=V.sortIndex-$.sortIndex;return N!==0?N:V.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var u=[],d=[],f=1,g=null,m=3,v=!1,y=!1,S=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function M(V){for(var $=n(d);$!==null;){if($.callback===null)i(d);else if($.startTime<=V)i(d),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(d)}}function F(V){if(S=!1,M(V),!y)if(n(u)!==null)y=!0,I||(I=!0,q());else{var $=n(d);$!==null&&Y(F,$.startTime-V)}}var I=!1,A=-1,O=5,_=-1;function B(){return R?!0:!(e.unstable_now()-_<O)}function z(){if(R=!1,I){var V=e.unstable_now();_=V;var $=!0;try{e:{y=!1,S&&(S=!1,T(A),A=-1),v=!0;var N=m;try{t:{for(M(V),g=n(u);g!==null&&!(g.expirationTime>V&&B());){var X=g.callback;if(typeof X=="function"){g.callback=null,m=g.priorityLevel;var ie=X(g.expirationTime<=V);if(V=e.unstable_now(),typeof ie=="function"){g.callback=ie,M(V),$=!0;break t}g===n(u)&&i(u),M(V)}else i(u);g=n(u)}if(g!==null)$=!0;else{var L=n(d);L!==null&&Y(F,L.startTime-V),$=!1}}break e}finally{g=null,m=N,v=!1}$=void 0}}finally{$?q():I=!1}}}var q;if(typeof D=="function")q=function(){D(z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ce=oe.port2;oe.port1.onmessage=z,q=function(){ce.postMessage(null)}}else q=function(){x(z,0)};function Y(V,$){A=x(function(){V(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(V){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var N=m;m=$;try{return V()}finally{m=N}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(V,$){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var N=m;m=V;try{return $()}finally{m=N}},e.unstable_scheduleCallback=function(V,$,N){var X=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?X+N:X):N=X,V){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=N+ie,V={id:f++,callback:$,priorityLevel:V,startTime:N,expirationTime:ie,sortIndex:-1},N>X?(V.sortIndex=N,t(d,V),n(u)===null&&V===n(d)&&(S?(T(A),A=-1):S=!0,Y(F,N-X))):(V.sortIndex=ie,t(u,V),y||v||(y=!0,I||(I=!0,q()))),V},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(V){var $=m;return function(){var N=m;m=$;try{return V.apply(this,arguments)}finally{m=N}}}})(Ow)),Ow}var TD;function pG(){return TD||(TD=1,Iw.exports=gG()),Iw.exports}var Lw={exports:{}},tt={};var DD;function mG(){if(DD)return tt;DD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),r=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function x(L,j,Q){this.props=L,this.context=j,this.refs=R,this.updater=Q||y}x.prototype.isReactComponent={},x.prototype.setState=function(L,j){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,j,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=x.prototype;function D(L,j,Q){this.props=L,this.context=j,this.refs=R,this.updater=Q||y}var M=D.prototype=new T;M.constructor=D,S(M,x.prototype),M.isPureReactComponent=!0;var F=Array.isArray;function I(){}var A={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function _(L,j,Q){var re=Q.ref;return{$$typeof:e,type:L,key:j,ref:re!==void 0?re:null,props:Q}}function B(L,j){return _(L.type,j,L.props)}function z(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function q(L){var j={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Q){return j[Q]})}var oe=/\/+/g;function ce(L,j){return typeof L=="object"&&L!==null&&L.key!=null?q(""+L.key):j.toString(36)}function Y(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(j){L.status==="pending"&&(L.status="fulfilled",L.value=j)},function(j){L.status==="pending"&&(L.status="rejected",L.reason=j)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function V(L,j,Q,re,me){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var pe=!1;if(L===null)pe=!0;else switch(Ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(L.$$typeof){case e:case t:pe=!0;break;case f:return pe=L._init,V(pe(L._payload),j,Q,re,me)}}if(pe)return me=me(L),pe=re===""?"."+ce(L,0):re,F(me)?(Q="",pe!=null&&(Q=pe.replace(oe,"$&/")+"/"),V(me,j,Q,"",function(Ve){return Ve})):me!=null&&(z(me)&&(me=B(me,Q+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(oe,"$&/")+"/")+pe)),j.push(me)),1;pe=0;var Ue=re===""?".":re+":";if(F(L))for(var qe=0;qe<L.length;qe++)re=L[qe],Ce=Ue+ce(re,qe),pe+=V(re,j,Q,Ce,me);else if(qe=v(L),typeof qe=="function")for(L=qe.call(L),qe=0;!(re=L.next()).done;)re=re.value,Ce=Ue+ce(re,qe++),pe+=V(re,j,Q,Ce,me);else if(Ce==="object"){if(typeof L.then=="function")return V(Y(L),j,Q,re,me);throw j=String(L),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return pe}function $(L,j,Q){if(L==null)return L;var re=[],me=0;return V(L,re,"","",function(Ce){return j.call(Q,Ce,me++)}),re}function N(L){if(L._status===-1){var j=L._result;j=j(),j.then(function(Q){(L._status===0||L._status===-1)&&(L._status=1,L._result=Q)},function(Q){(L._status===0||L._status===-1)&&(L._status=2,L._result=Q)}),L._status===-1&&(L._status=0,L._result=j)}if(L._status===1)return L._result.default;throw L._result}var X=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ie={map:$,forEach:function(L,j,Q){$(L,function(){j.apply(this,arguments)},Q)},count:function(L){var j=0;return $(L,function(){j++}),j},toArray:function(L){return $(L,function(j){return j})||[]},only:function(L){if(!z(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return tt.Activity=g,tt.Children=ie,tt.Component=x,tt.Fragment=n,tt.Profiler=s,tt.PureComponent=D,tt.StrictMode=i,tt.Suspense=u,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,tt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return A.H.useMemoCache(L)}},tt.cache=function(L){return function(){return L.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(L,j,Q){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var re=S({},L.props),me=L.key;if(j!=null)for(Ce in j.key!==void 0&&(me=""+j.key),j)!O.call(j,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&j.ref===void 0||(re[Ce]=j[Ce]);var Ce=arguments.length-2;if(Ce===1)re.children=Q;else if(1<Ce){for(var pe=Array(Ce),Ue=0;Ue<Ce;Ue++)pe[Ue]=arguments[Ue+2];re.children=pe}return _(L.type,me,re)},tt.createContext=function(L){return L={$$typeof:r,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},tt.createElement=function(L,j,Q){var re,me={},Ce=null;if(j!=null)for(re in j.key!==void 0&&(Ce=""+j.key),j)O.call(j,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=j[re]);var pe=arguments.length-2;if(pe===1)me.children=Q;else if(1<pe){for(var Ue=Array(pe),qe=0;qe<pe;qe++)Ue[qe]=arguments[qe+2];me.children=Ue}if(L&&L.defaultProps)for(re in pe=L.defaultProps,pe)me[re]===void 0&&(me[re]=pe[re]);return _(L,Ce,me)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(L){return{$$typeof:l,render:L}},tt.isValidElement=z,tt.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:N}},tt.memo=function(L,j){return{$$typeof:d,type:L,compare:j===void 0?null:j}},tt.startTransition=function(L){var j=A.T,Q={};A.T=Q;try{var re=L(),me=A.S;me!==null&&me(Q,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(I,X)}catch(Ce){X(Ce)}finally{j!==null&&Q.types!==null&&(j.types=Q.types),A.T=j}},tt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},tt.use=function(L){return A.H.use(L)},tt.useActionState=function(L,j,Q){return A.H.useActionState(L,j,Q)},tt.useCallback=function(L,j){return A.H.useCallback(L,j)},tt.useContext=function(L){return A.H.useContext(L)},tt.useDebugValue=function(){},tt.useDeferredValue=function(L,j){return A.H.useDeferredValue(L,j)},tt.useEffect=function(L,j){return A.H.useEffect(L,j)},tt.useEffectEvent=function(L){return A.H.useEffectEvent(L)},tt.useId=function(){return A.H.useId()},tt.useImperativeHandle=function(L,j,Q){return A.H.useImperativeHandle(L,j,Q)},tt.useInsertionEffect=function(L,j){return A.H.useInsertionEffect(L,j)},tt.useLayoutEffect=function(L,j){return A.H.useLayoutEffect(L,j)},tt.useMemo=function(L,j){return A.H.useMemo(L,j)},tt.useOptimistic=function(L,j){return A.H.useOptimistic(L,j)},tt.useReducer=function(L,j,Q){return A.H.useReducer(L,j,Q)},tt.useRef=function(L){return A.H.useRef(L)},tt.useState=function(L){return A.H.useState(L)},tt.useSyncExternalStore=function(L,j,Q){return A.H.useSyncExternalStore(L,j,Q)},tt.useTransition=function(){return A.H.useTransition()},tt.version="19.2.3",tt}var PD;function Nh(){return PD||(PD=1,Lw.exports=mG()),Lw.exports}var _w={exports:{}},si={};var AD;function vG(){if(AD)return si;AD=1;var e=Nh();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(u,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:d,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,si.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(u,d,null,f)},si.flushSync=function(u){var d=r.T,f=i.p;try{if(r.T=null,i.p=2,u)return u()}finally{r.T=d,i.p=f,i.d.f()}},si.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},si.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},si.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,g=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:v}):f==="script"&&i.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},si.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},si.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=l(f,d.crossOrigin);i.d.L(u,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},si.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},si.requestFormReset=function(u){i.d.r(u)},si.unstable_batchedUpdates=function(u,d){return u(d)},si.useFormState=function(u,d,f){return r.H.useFormState(u,d,f)},si.useFormStatus=function(){return r.H.useHostTransitionStatus()},si.version="19.2.3",si}var FD;function Ak(){if(FD)return _w.exports;FD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_w.exports=vG(),_w.exports}var MD;function CG(){if(MD)return Ed;MD=1;var e=pG(),t=Nh(),n=Ak();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function r(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(i(188))}function d(a){var c=a.alternate;if(!c){if(c=o(a),c===null)throw Error(i(188));return c!==a?null:a}for(var h=a,p=c;;){var w=h.return;if(w===null)break;var b=w.alternate;if(b===null){if(p=w.return,p!==null){h=p;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===h)return u(w),a;if(b===p)return u(w),c;b=b.sibling}throw Error(i(188))}if(h.return!==p.return)h=w,p=b;else{for(var P=!1,k=w.child;k;){if(k===h){P=!0,h=w,p=b;break}if(k===p){P=!0,p=w,h=b;break}k=k.sibling}if(!P){for(k=b.child;k;){if(k===h){P=!0,h=b,p=w;break}if(k===p){P=!0,p=b,h=w;break}k=k.sibling}if(!P)throw Error(i(189))}}if(h.alternate!==p)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:c}function f(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=f(a),c!==null)return c;a=a.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===oe?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case x:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case _:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case y:return"Portal";case D:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case M:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return c=a.displayName||null,c!==null?c:ce(a.type)||"Memo";case O:c=a._payload,a=a._init;try{return ce(a(c))}catch{}}return null}var Y=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},X=[],ie=-1;function L(a){return{current:a}}function j(a){0>ie||(a.current=X[ie],X[ie]=null,ie--)}function Q(a,c){ie++,X[ie]=a.current,a.current=c}var re=L(null),me=L(null),Ce=L(null),pe=L(null);function Ue(a,c){switch(Q(Ce,c),Q(me,a),Q(re,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?$T(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=$T(c),a=KT(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}j(re),Q(re,a)}function qe(){j(re),j(me),j(Ce)}function Ve(a){a.memoizedState!==null&&Q(pe,a);var c=re.current,h=KT(c,a.type);c!==h&&(Q(me,a),Q(re,h))}function mt(a){me.current===a&&(j(re),j(me)),pe.current===a&&(j(pe),yd._currentValue=N)}var Ne,at;function Dt(a){if(Ne===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Ne=c&&c[1]||"",at=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+a+at}var It=!1;function Ot(a,c){if(!a||It)return"";It=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var ne=se}Reflect.construct(a,[],de)}else{try{de.call()}catch(se){ne=se}a.call(de.prototype)}}else{try{throw Error()}catch(se){ne=se}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&ne&&typeof se.stack=="string")return[se.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),P=b[0],k=b[1];if(P&&k){var G=P.split(`
`),J=k.split(`
`);for(w=p=0;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;for(;w<J.length&&!J[w].includes("DetermineComponentFrameRoot");)w++;if(p===G.length||w===J.length)for(p=G.length-1,w=J.length-1;1<=p&&0<=w&&G[p]!==J[w];)w--;for(;1<=p&&0<=w;p--,w--)if(G[p]!==J[w]){if(p!==1||w!==1)do if(p--,w--,0>w||G[p]!==J[w]){var le=`
`+G[p].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=p&&0<=w);break}}}finally{It=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Dt(h):""}function Le(a,c){switch(a.tag){case 26:case 27:case 5:return Dt(a.type);case 16:return Dt("Lazy");case 13:return a.child!==c&&c!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return Ot(a.type,!1);case 11:return Ot(a.type.render,!1);case 1:return Ot(a.type,!0);case 31:return Dt("Activity");default:return""}}function Je(a){try{var c="",h=null;do c+=Le(a,h),h=a,a=a.return;while(a);return c}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var nt=Object.prototype.hasOwnProperty,st=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,et=e.unstable_shouldYield,yt=e.unstable_requestPaint,Ye=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,Be=e.unstable_NormalPriority,Ze=e.unstable_LowPriority,qt=e.unstable_IdlePriority,Ln=e.log,ln=e.unstable_setDisableYieldValue,sn=null,bt=null;function cn(a){if(typeof Ln=="function"&&ln(a),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(sn,a)}catch{}}var Bt=Math.clz32?Math.clz32:zn,Gn=Math.log,ui=Math.LN2;function zn(a){return a>>>=0,a===0?32:31-(Gn(a)/ui|0)|0}var yn=256,lt=262144,Tn=4194304;function un(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function dn(a,c,h){var p=a.pendingLanes;if(p===0)return 0;var w=0,b=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var k=p&134217727;return k!==0?(p=k&~b,p!==0?w=un(p):(P&=k,P!==0?w=un(P):h||(h=k&~a,h!==0&&(w=un(h))))):(k=p&~b,k!==0?w=un(k):P!==0?w=un(P):h||(h=p&~a,h!==0&&(w=un(h)))),w===0?0:c!==0&&c!==w&&(c&b)===0&&(b=w&-w,h=c&-c,b>=h||b===32&&(h&4194048)!==0)?c:w}function Dn(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function Si(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(){var a=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),a}function di(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function ht(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Js(a,c,h,p,w,b){var P=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var k=a.entanglements,G=a.expirationTimes,J=a.hiddenUpdates;for(h=P&~h;0<h;){var le=31-Bt(h),de=1<<le;k[le]=0,G[le]=-1;var ne=J[le];if(ne!==null)for(J[le]=null,le=0;le<ne.length;le++){var se=ne[le];se!==null&&(se.lane&=-536870913)}h&=~de}p!==0&&Ri(a,p,0),b!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=b&~(P&~c))}function Ri(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var p=31-Bt(c);a.entangledLanes|=c,a.entanglements[p]=a.entanglements[p]|1073741824|h&261930}function H(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var p=31-Bt(h),w=1<<p;w&c|a[p]&c&&(a[p]|=c),h&=~w}}function W(a,c){var h=c&-c;return h=(h&42)!==0?1:te(h),(h&(a.suspendedLanes|c))!==0?0:h}function te(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ge(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ve(){var a=$.p;return a!==0?a:(a=window.event,a===void 0?32:mD(a.type))}function Pe(a,c){var h=$.p;try{return $.p=a,c()}finally{$.p=h}}var ye=Math.random().toString(36).slice(2),Se="__reactFiber$"+ye,Ee="__reactProps$"+ye,Oe="__reactContainer$"+ye,We="__reactEvents$"+ye,He="__reactListeners$"+ye,Pt="__reactHandles$"+ye,St="__reactResources$"+ye,on="__reactMarker$"+ye;function hn(a){delete a[Se],delete a[Ee],delete a[We],delete a[He],delete a[Pt]}function fn(a){var c=a[Se];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Oe]||h[Se]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=eD(a);a!==null;){if(h=a[Se])return h;a=eD(a)}return c}a=h,h=a.parentNode}return null}function Rt(a){if(a=a[Se]||a[Oe]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function jn(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function xi(a){var c=a[St];return c||(c=a[St]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Jt(a){a[on]=!0}var As=new Set,Ni={};function Fs(a,c){ns(a,c),ns(a+"Capture",c)}function ns(a,c){for(Ni[a]=c,a=0;a<c.length;a++)As.add(c[a])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wa={},ya={};function xt(a){return nt.call(ya,a)?!0:nt.call(wa,a)?!1:Po.test(a)?ya[a]=!0:(wa[a]=!0,!1)}function bn(a,c,h){if(xt(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function Ms(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function qn(a,c,h,p){if(p===null)a.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+p)}}function Et(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ba(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function df(a,c,h){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,b=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return w.call(this)},set:function(P){h=""+P,b.call(this,P)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function _u(a){if(!a._valueTracker){var c=ba(a)?"checked":"value";a._valueTracker=df(a,c,""+a[c])}}function Hx(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return a&&(p=ba(a)?a.checked?"true":"false":a.value),a=p,a!==h?(c.setValue(a),!0):!1}function hf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var oH=/[\n"\\]/g;function is(a){return a.replace(oH,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ev(a,c,h,p,w,b,P,k){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),c!=null?P==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Et(c)):a.value!==""+Et(c)&&(a.value=""+Et(c)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),c!=null?Tv(a,P,Et(c)):h!=null?Tv(a,P,Et(h)):p!=null&&a.removeAttribute("value"),w==null&&b!=null&&(a.defaultChecked=!!b),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+Et(k):a.removeAttribute("name")}function Bx(a,c,h,p,w,b,P,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),c!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||c!=null)){_u(a);return}h=h!=null?""+Et(h):"",c=c!=null?""+Et(c):h,k||c===a.value||(a.value=c),a.defaultValue=c}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=k?a.checked:!!p,a.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),_u(a)}function Tv(a,c,h){c==="number"&&hf(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function kl(a,c,h,p){if(a=a.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<a.length;h++)w=c.hasOwnProperty("$"+a[h].value),a[h].selected!==w&&(a[h].selected=w),w&&p&&(a[h].defaultSelected=!0)}else{for(h=""+Et(h),c=null,w=0;w<a.length;w++){if(a[w].value===h){a[w].selected=!0,p&&(a[w].defaultSelected=!0);return}c!==null||a[w].disabled||(c=a[w])}c!==null&&(c.selected=!0)}}function Gx(a,c,h){if(c!=null&&(c=""+Et(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+Et(h):""}function zx(a,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(i(92));if(Y(p)){if(1<p.length)throw Error(i(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=Et(c),a.defaultValue=h,p=a.textContent,p===h&&p!==""&&p!==null&&(a.value=p),_u(a)}function Il(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var rH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jx(a,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":p?a.setProperty(c,h):typeof h!="number"||h===0||rH.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function Ux(a,c,h){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var w in c)p=c[w],c.hasOwnProperty(w)&&h[w]!==p&&jx(a,w,p)}else for(var b in c)c.hasOwnProperty(b)&&jx(a,b,c[b])}function Dv(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ff(a){return lH.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ao(){}var Pv=null;function Av(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ol=null,Ll=null;function Wx(a){var c=Rt(a);if(c&&(a=c.stateNode)){var h=a[Ee]||null;e:switch(a=c.stateNode,c.type){case"input":if(Ev(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+is(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==a&&p.form===a.form){var w=p[Ee]||null;if(!w)throw Error(i(90));Ev(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===a.form&&Hx(p)}break e;case"textarea":Gx(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&kl(a,!!h.multiple,c,!1)}}}var Fv=!1;function $x(a,c,h){if(Fv)return a(c,h);Fv=!0;try{var p=a(c);return p}finally{if(Fv=!1,(Ol!==null||Ll!==null)&&(eg(),Ol&&(c=Ol,a=Ll,Ll=Ol=null,Wx(c),a)))for(c=0;c<a.length;c++)Wx(a[c])}}function Nu(a,c){var h=a.stateNode;if(h===null)return null;var p=h[Ee]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,c,typeof h));return h}var Fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mv=!1;if(Fo)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){Mv=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{Mv=!1}var pr=null,kv=null,gf=null;function Kx(){if(gf)return gf;var a,c=kv,h=c.length,p,w="value"in pr?pr.value:pr.textContent,b=w.length;for(a=0;a<h&&c[a]===w[a];a++);var P=h-a;for(p=1;p<=P&&c[h-p]===w[b-p];p++);return gf=w.slice(a,1<p?1-p:void 0)}function pf(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function mf(){return!0}function qx(){return!1}function Ei(a){function c(h,p,w,b,P){this._reactName=h,this._targetInst=w,this.type=p,this.nativeEvent=b,this.target=P,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(h=a[k],this[k]=h?h(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?mf:qx,this.isPropagationStopped=qx,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),c}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=Ei(Sa),Hu=g({},Sa,{view:0,detail:0}),cH=Ei(Hu),Iv,Ov,Bu,Cf=g({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_v,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bu&&(Bu&&a.type==="mousemove"?(Iv=a.screenX-Bu.screenX,Ov=a.screenY-Bu.screenY):Ov=Iv=0,Bu=a),Iv)},movementY:function(a){return"movementY"in a?a.movementY:Ov}}),Yx=Ei(Cf),uH=g({},Cf,{dataTransfer:0}),dH=Ei(uH),hH=g({},Hu,{relatedTarget:0}),Lv=Ei(hH),fH=g({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),gH=Ei(fH),pH=g({},Sa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mH=Ei(pH),vH=g({},Sa,{data:0}),Xx=Ei(vH),CH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bH(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=yH[a])?!!c[a]:!1}function _v(){return bH}var SH=g({},Hu,{key:function(a){if(a.key){var c=CH[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=pf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wH[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_v,charCode:function(a){return a.type==="keypress"?pf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?pf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),RH=Ei(SH),xH=g({},Cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qx=Ei(xH),EH=g({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_v}),TH=Ei(EH),DH=g({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),PH=Ei(DH),AH=g({},Cf,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),FH=Ei(AH),MH=g({},Sa,{newState:0,oldState:0}),kH=Ei(MH),IH=[9,13,27,32],Nv=Fo&&"CompositionEvent"in window,Gu=null;Fo&&"documentMode"in document&&(Gu=document.documentMode);var OH=Fo&&"TextEvent"in window&&!Gu,Zx=Fo&&(!Nv||Gu&&8<Gu&&11>=Gu),Jx=" ",e1=!1;function t1(a,c){switch(a){case"keyup":return IH.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _l=!1;function LH(a,c){switch(a){case"compositionend":return n1(c);case"keypress":return c.which!==32?null:(e1=!0,Jx);case"textInput":return a=c.data,a===Jx&&e1?null:a;default:return null}}function _H(a,c){if(_l)return a==="compositionend"||!Nv&&t1(a,c)?(a=Kx(),gf=kv=pr=null,_l=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Zx&&c.locale!=="ko"?null:c.data;default:return null}}var NH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i1(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!NH[a.type]:c==="textarea"}function s1(a,c,h,p){Ol?Ll?Ll.push(p):Ll=[p]:Ol=p,c=ag(c,"onChange"),0<c.length&&(h=new vf("onChange","change",null,h,p),a.push({event:h,listeners:c}))}var zu=null,ju=null;function VH(a){BT(a,0)}function wf(a){var c=jn(a);if(Hx(c))return a}function o1(a,c){if(a==="change")return c}var r1=!1;if(Fo){var Vv;if(Fo){var Hv="oninput"in document;if(!Hv){var a1=document.createElement("div");a1.setAttribute("oninput","return;"),Hv=typeof a1.oninput=="function"}Vv=Hv}else Vv=!1;r1=Vv&&(!document.documentMode||9<document.documentMode)}function l1(){zu&&(zu.detachEvent("onpropertychange",c1),ju=zu=null)}function c1(a){if(a.propertyName==="value"&&wf(ju)){var c=[];s1(c,ju,a,Av(a)),$x(VH,c)}}function HH(a,c,h){a==="focusin"?(l1(),zu=c,ju=h,zu.attachEvent("onpropertychange",c1)):a==="focusout"&&l1()}function BH(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wf(ju)}function GH(a,c){if(a==="click")return wf(c)}function zH(a,c){if(a==="input"||a==="change")return wf(c)}function jH(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Vi=typeof Object.is=="function"?Object.is:jH;function Uu(a,c){if(Vi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var w=h[p];if(!nt.call(c,w)||!Vi(a[w],c[w]))return!1}return!0}function u1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d1(a,c){var h=u1(a);a=0;for(var p;h;){if(h.nodeType===3){if(p=a+h.textContent.length,a<=c&&p>=c)return{node:h,offset:c-a};a=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=u1(h)}}function h1(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?h1(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function f1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=hf(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=hf(a.document)}return c}function Bv(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var UH=Fo&&"documentMode"in document&&11>=document.documentMode,Nl=null,Gv=null,Wu=null,zv=!1;function g1(a,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;zv||Nl==null||Nl!==hf(p)||(p=Nl,"selectionStart"in p&&Bv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wu&&Uu(Wu,p)||(Wu=p,p=ag(Gv,"onSelect"),0<p.length&&(c=new vf("onSelect","select",null,c,h),a.push({event:c,listeners:p}),c.target=Nl)))}function Ra(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var Vl={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},jv={},p1={};Fo&&(p1=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function xa(a){if(jv[a])return jv[a];if(!Vl[a])return a;var c=Vl[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in p1)return jv[a]=c[h];return a}var m1=xa("animationend"),v1=xa("animationiteration"),C1=xa("animationstart"),WH=xa("transitionrun"),$H=xa("transitionstart"),KH=xa("transitioncancel"),w1=xa("transitionend"),y1=new Map,Uv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uv.push("scrollEnd");function ks(a,c){y1.set(a,c),Fs(c,[a])}var yf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ss=[],Hl=0,Wv=0;function bf(){for(var a=Hl,c=Wv=Hl=0;c<a;){var h=ss[c];ss[c++]=null;var p=ss[c];ss[c++]=null;var w=ss[c];ss[c++]=null;var b=ss[c];if(ss[c++]=null,p!==null&&w!==null){var P=p.pending;P===null?w.next=w:(w.next=P.next,P.next=w),p.pending=w}b!==0&&b1(h,w,b)}}function Sf(a,c,h,p){ss[Hl++]=a,ss[Hl++]=c,ss[Hl++]=h,ss[Hl++]=p,Wv|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function $v(a,c,h,p){return Sf(a,c,h,p),Rf(a)}function Ea(a,c){return Sf(a,null,null,c),Rf(a)}function b1(a,c,h){a.lanes|=h;var p=a.alternate;p!==null&&(p.lanes|=h);for(var w=!1,b=a.return;b!==null;)b.childLanes|=h,p=b.alternate,p!==null&&(p.childLanes|=h),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(w=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,w&&c!==null&&(w=31-Bt(h),a=b.hiddenUpdates,p=a[w],p===null?a[w]=[c]:p.push(c),c.lane=h|536870912),b):null}function Rf(a){if(50<fd)throw fd=0,tw=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Bl={};function qH(a,c,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(a,c,h,p){return new qH(a,c,h,p)}function Kv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Mo(a,c){var h=a.alternate;return h===null?(h=Hi(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function S1(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function xf(a,c,h,p,w,b){var P=0;if(p=a,typeof a=="function")Kv(a)&&(P=1);else if(typeof a=="string")P=JB(a,h,re.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case _:return a=Hi(31,h,c,w),a.elementType=_,a.lanes=b,a;case S:return Ta(h.children,w,b,c);case R:P=8,w|=24;break;case x:return a=Hi(12,h,c,w|2),a.elementType=x,a.lanes=b,a;case F:return a=Hi(13,h,c,w),a.elementType=F,a.lanes=b,a;case I:return a=Hi(19,h,c,w),a.elementType=I,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:P=10;break e;case T:P=9;break e;case M:P=11;break e;case A:P=14;break e;case O:P=16,p=null;break e}P=29,h=Error(i(130,a===null?"null":typeof a,"")),p=null}return c=Hi(P,h,c,w),c.elementType=a,c.type=p,c.lanes=b,c}function Ta(a,c,h,p){return a=Hi(7,a,p,c),a.lanes=h,a}function qv(a,c,h){return a=Hi(6,a,null,c),a.lanes=h,a}function R1(a){var c=Hi(18,null,null,0);return c.stateNode=a,c}function Yv(a,c,h){return c=Hi(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var x1=new WeakMap;function os(a,c){if(typeof a=="object"&&a!==null){var h=x1.get(a);return h!==void 0?h:(c={value:a,source:c,stack:Je(c)},x1.set(a,c),c)}return{value:a,source:c,stack:Je(c)}}var Gl=[],zl=0,Ef=null,$u=0,rs=[],as=0,mr=null,eo=1,to="";function ko(a,c){Gl[zl++]=$u,Gl[zl++]=Ef,Ef=a,$u=c}function E1(a,c,h){rs[as++]=eo,rs[as++]=to,rs[as++]=mr,mr=a;var p=eo;a=to;var w=32-Bt(p)-1;p&=~(1<<w),h+=1;var b=32-Bt(c)+w;if(30<b){var P=w-w%5;b=(p&(1<<P)-1).toString(32),p>>=P,w-=P,eo=1<<32-Bt(c)+w|h<<w|p,to=b+a}else eo=1<<b|h<<w|p,to=a}function Xv(a){a.return!==null&&(ko(a,1),E1(a,1,0))}function Qv(a){for(;a===Ef;)Ef=Gl[--zl],Gl[zl]=null,$u=Gl[--zl],Gl[zl]=null;for(;a===mr;)mr=rs[--as],rs[as]=null,to=rs[--as],rs[as]=null,eo=rs[--as],rs[as]=null}function T1(a,c){rs[as++]=eo,rs[as++]=to,rs[as++]=mr,eo=c.id,to=c.overflow,mr=a}var Yn=null,Qt=null,Tt=!1,vr=null,ls=!1,Zv=Error(i(519));function Cr(a){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ku(os(c,a)),Zv}function D1(a){var c=a.stateNode,h=a.type,p=a.memoizedProps;switch(c[Se]=a,c[Ee]=p,h){case"dialog":gt("cancel",c),gt("close",c);break;case"iframe":case"object":case"embed":gt("load",c);break;case"video":case"audio":for(h=0;h<pd.length;h++)gt(pd[h],c);break;case"source":gt("error",c);break;case"img":case"image":case"link":gt("error",c),gt("load",c);break;case"details":gt("toggle",c);break;case"input":gt("invalid",c),Bx(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":gt("invalid",c);break;case"textarea":gt("invalid",c),zx(c,p.value,p.defaultValue,p.children)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||UT(c.textContent,h)?(p.popover!=null&&(gt("beforetoggle",c),gt("toggle",c)),p.onScroll!=null&&gt("scroll",c),p.onScrollEnd!=null&&gt("scrollend",c),p.onClick!=null&&(c.onclick=Ao),c=!0):c=!1,c||Cr(a,!0)}function P1(a){for(Yn=a.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:Yn=Yn.return}}function jl(a){if(a!==Yn)return!1;if(!Tt)return P1(a),Tt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||mw(a.type,a.memoizedProps)),h=!h),h&&Qt&&Cr(a),P1(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Qt=JT(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Qt=JT(a)}else c===27?(c=Qt,kr(a.type)?(a=bw,bw=null,Qt=a):Qt=c):Qt=Yn?us(a.stateNode.nextSibling):null;return!0}function Da(){Qt=Yn=null,Tt=!1}function Jv(){var a=vr;return a!==null&&(Ai===null?Ai=a:Ai.push.apply(Ai,a),vr=null),a}function Ku(a){vr===null?vr=[a]:vr.push(a)}var eC=L(null),Pa=null,Io=null;function wr(a,c,h){Q(eC,c._currentValue),c._currentValue=h}function Oo(a){a._currentValue=eC.current,j(eC)}function tC(a,c,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),a===h)break;a=a.return}}function nC(a,c,h,p){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var b=w.dependencies;if(b!==null){var P=w.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=w;for(var G=0;G<c.length;G++)if(k.context===c[G]){b.lanes|=h,k=b.alternate,k!==null&&(k.lanes|=h),tC(b.return,h,a),p||(P=null);break e}b=k.next}}else if(w.tag===18){if(P=w.return,P===null)throw Error(i(341));P.lanes|=h,b=P.alternate,b!==null&&(b.lanes|=h),tC(P,h,a),P=null}else P=w.child;if(P!==null)P.return=w;else for(P=w;P!==null;){if(P===a){P=null;break}if(w=P.sibling,w!==null){w.return=P.return,P=w;break}P=P.return}w=P}}function Ul(a,c,h,p){a=null;for(var w=c,b=!1;w!==null;){if(!b){if((w.flags&524288)!==0)b=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var P=w.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var k=w.type;Vi(w.pendingProps.value,P.value)||(a!==null?a.push(k):a=[k])}}else if(w===pe.current){if(P=w.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(yd):a=[yd])}w=w.return}a!==null&&nC(c,a,h,p),c.flags|=262144}function Tf(a){for(a=a.firstContext;a!==null;){if(!Vi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Aa(a){Pa=a,Io=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Xn(a){return A1(Pa,a)}function Df(a,c){return Pa===null&&Aa(a),A1(a,c)}function A1(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Io===null){if(a===null)throw Error(i(308));Io=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else Io=Io.next=c;return h}var YH=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,p){a.push(p)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},XH=e.unstable_scheduleCallback,QH=e.unstable_NormalPriority,Pn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iC(){return{controller:new YH,data:new Map,refCount:0}}function qu(a){a.refCount--,a.refCount===0&&XH(QH,function(){a.controller.abort()})}var Yu=null,sC=0,Wl=0,$l=null;function ZH(a,c){if(Yu===null){var h=Yu=[];sC=0,Wl=aw(),$l={status:"pending",value:void 0,then:function(p){h.push(p)}}}return sC++,c.then(F1,F1),c}function F1(){if(--sC===0&&Yu!==null){$l!==null&&($l.status="fulfilled");var a=Yu;Yu=null,Wl=0,$l=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function JH(a,c){var h=[],p={status:"pending",value:null,reason:null,then:function(w){h.push(w)}};return a.then(function(){p.status="fulfilled",p.value=c;for(var w=0;w<h.length;w++)(0,h[w])(c)},function(w){for(p.status="rejected",p.reason=w,w=0;w<h.length;w++)(0,h[w])(void 0)}),p}var M1=V.S;V.S=function(a,c){gT=Ye(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&ZH(a,c),M1!==null&&M1(a,c)};var Fa=L(null);function oC(){var a=Fa.current;return a!==null?a:$t.pooledCache}function Pf(a,c){c===null?Q(Fa,Fa.current):Q(Fa,c.pool)}function k1(){var a=oC();return a===null?null:{parent:Pn._currentValue,pool:a}}var Kl=Error(i(460)),rC=Error(i(474)),Af=Error(i(542)),Ff={then:function(){}};function I1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function O1(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(Ao,Ao),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,_1(a),a;default:if(typeof c.status=="string")c.then(Ao,Ao);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(p){if(c.status==="pending"){var w=c;w.status="fulfilled",w.value=p}},function(p){if(c.status==="pending"){var w=c;w.status="rejected",w.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,_1(a),a}throw ka=c,Kl}}function Ma(a){try{var c=a._init;return c(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ka=h,Kl):h}}var ka=null;function L1(){if(ka===null)throw Error(i(459));var a=ka;return ka=null,a}function _1(a){if(a===Kl||a===Af)throw Error(i(483))}var ql=null,Xu=0;function Mf(a){var c=Xu;return Xu+=1,ql===null&&(ql=[]),O1(ql,a,c)}function Qu(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function kf(a,c){throw c.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function N1(a){function c(K,U){if(a){var Z=K.deletions;Z===null?(K.deletions=[U],K.flags|=16):Z.push(U)}}function h(K,U){if(!a)return null;for(;U!==null;)c(K,U),U=U.sibling;return null}function p(K){for(var U=new Map;K!==null;)K.key!==null?U.set(K.key,K):U.set(K.index,K),K=K.sibling;return U}function w(K,U){return K=Mo(K,U),K.index=0,K.sibling=null,K}function b(K,U,Z){return K.index=Z,a?(Z=K.alternate,Z!==null?(Z=Z.index,Z<U?(K.flags|=67108866,U):Z):(K.flags|=67108866,U)):(K.flags|=1048576,U)}function P(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function k(K,U,Z,ue){return U===null||U.tag!==6?(U=qv(Z,K.mode,ue),U.return=K,U):(U=w(U,Z),U.return=K,U)}function G(K,U,Z,ue){var Ge=Z.type;return Ge===S?le(K,U,Z.props.children,ue,Z.key):U!==null&&(U.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&Ma(Ge)===U.type)?(U=w(U,Z.props),Qu(U,Z),U.return=K,U):(U=xf(Z.type,Z.key,Z.props,null,K.mode,ue),Qu(U,Z),U.return=K,U)}function J(K,U,Z,ue){return U===null||U.tag!==4||U.stateNode.containerInfo!==Z.containerInfo||U.stateNode.implementation!==Z.implementation?(U=Yv(Z,K.mode,ue),U.return=K,U):(U=w(U,Z.children||[]),U.return=K,U)}function le(K,U,Z,ue,Ge){return U===null||U.tag!==7?(U=Ta(Z,K.mode,ue,Ge),U.return=K,U):(U=w(U,Z),U.return=K,U)}function de(K,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=qv(""+U,K.mode,Z),U.return=K,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return Z=xf(U.type,U.key,U.props,null,K.mode,Z),Qu(Z,U),Z.return=K,Z;case y:return U=Yv(U,K.mode,Z),U.return=K,U;case O:return U=Ma(U),de(K,U,Z)}if(Y(U)||q(U))return U=Ta(U,K.mode,Z,null),U.return=K,U;if(typeof U.then=="function")return de(K,Mf(U),Z);if(U.$$typeof===D)return de(K,Df(K,U),Z);kf(K,U)}return null}function ne(K,U,Z,ue){var Ge=U!==null?U.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ge!==null?null:k(K,U,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Ge?G(K,U,Z,ue):null;case y:return Z.key===Ge?J(K,U,Z,ue):null;case O:return Z=Ma(Z),ne(K,U,Z,ue)}if(Y(Z)||q(Z))return Ge!==null?null:le(K,U,Z,ue,null);if(typeof Z.then=="function")return ne(K,U,Mf(Z),ue);if(Z.$$typeof===D)return ne(K,U,Df(K,Z),ue);kf(K,Z)}return null}function se(K,U,Z,ue,Ge){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(Z)||null,k(U,K,""+ue,Ge);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return K=K.get(ue.key===null?Z:ue.key)||null,G(U,K,ue,Ge);case y:return K=K.get(ue.key===null?Z:ue.key)||null,J(U,K,ue,Ge);case O:return ue=Ma(ue),se(K,U,Z,ue,Ge)}if(Y(ue)||q(ue))return K=K.get(Z)||null,le(U,K,ue,Ge,null);if(typeof ue.then=="function")return se(K,U,Z,Mf(ue),Ge);if(ue.$$typeof===D)return se(K,U,Z,Df(U,ue),Ge);kf(U,ue)}return null}function De(K,U,Z,ue){for(var Ge=null,At=null,Ie=U,rt=U=0,Ct=null;Ie!==null&&rt<Z.length;rt++){Ie.index>rt?(Ct=Ie,Ie=null):Ct=Ie.sibling;var Ft=ne(K,Ie,Z[rt],ue);if(Ft===null){Ie===null&&(Ie=Ct);break}a&&Ie&&Ft.alternate===null&&c(K,Ie),U=b(Ft,U,rt),At===null?Ge=Ft:At.sibling=Ft,At=Ft,Ie=Ct}if(rt===Z.length)return h(K,Ie),Tt&&ko(K,rt),Ge;if(Ie===null){for(;rt<Z.length;rt++)Ie=de(K,Z[rt],ue),Ie!==null&&(U=b(Ie,U,rt),At===null?Ge=Ie:At.sibling=Ie,At=Ie);return Tt&&ko(K,rt),Ge}for(Ie=p(Ie);rt<Z.length;rt++)Ct=se(Ie,K,rt,Z[rt],ue),Ct!==null&&(a&&Ct.alternate!==null&&Ie.delete(Ct.key===null?rt:Ct.key),U=b(Ct,U,rt),At===null?Ge=Ct:At.sibling=Ct,At=Ct);return a&&Ie.forEach(function(Nr){return c(K,Nr)}),Tt&&ko(K,rt),Ge}function $e(K,U,Z,ue){if(Z==null)throw Error(i(151));for(var Ge=null,At=null,Ie=U,rt=U=0,Ct=null,Ft=Z.next();Ie!==null&&!Ft.done;rt++,Ft=Z.next()){Ie.index>rt?(Ct=Ie,Ie=null):Ct=Ie.sibling;var Nr=ne(K,Ie,Ft.value,ue);if(Nr===null){Ie===null&&(Ie=Ct);break}a&&Ie&&Nr.alternate===null&&c(K,Ie),U=b(Nr,U,rt),At===null?Ge=Nr:At.sibling=Nr,At=Nr,Ie=Ct}if(Ft.done)return h(K,Ie),Tt&&ko(K,rt),Ge;if(Ie===null){for(;!Ft.done;rt++,Ft=Z.next())Ft=de(K,Ft.value,ue),Ft!==null&&(U=b(Ft,U,rt),At===null?Ge=Ft:At.sibling=Ft,At=Ft);return Tt&&ko(K,rt),Ge}for(Ie=p(Ie);!Ft.done;rt++,Ft=Z.next())Ft=se(Ie,K,rt,Ft.value,ue),Ft!==null&&(a&&Ft.alternate!==null&&Ie.delete(Ft.key===null?rt:Ft.key),U=b(Ft,U,rt),At===null?Ge=Ft:At.sibling=Ft,At=Ft);return a&&Ie.forEach(function(uG){return c(K,uG)}),Tt&&ko(K,rt),Ge}function jt(K,U,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Ge=Z.key;U!==null;){if(U.key===Ge){if(Ge=Z.type,Ge===S){if(U.tag===7){h(K,U.sibling),ue=w(U,Z.props.children),ue.return=K,K=ue;break e}}else if(U.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===O&&Ma(Ge)===U.type){h(K,U.sibling),ue=w(U,Z.props),Qu(ue,Z),ue.return=K,K=ue;break e}h(K,U);break}else c(K,U);U=U.sibling}Z.type===S?(ue=Ta(Z.props.children,K.mode,ue,Z.key),ue.return=K,K=ue):(ue=xf(Z.type,Z.key,Z.props,null,K.mode,ue),Qu(ue,Z),ue.return=K,K=ue)}return P(K);case y:e:{for(Ge=Z.key;U!==null;){if(U.key===Ge)if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){h(K,U.sibling),ue=w(U,Z.children||[]),ue.return=K,K=ue;break e}else{h(K,U);break}else c(K,U);U=U.sibling}ue=Yv(Z,K.mode,ue),ue.return=K,K=ue}return P(K);case O:return Z=Ma(Z),jt(K,U,Z,ue)}if(Y(Z))return De(K,U,Z,ue);if(q(Z)){if(Ge=q(Z),typeof Ge!="function")throw Error(i(150));return Z=Ge.call(Z),$e(K,U,Z,ue)}if(typeof Z.then=="function")return jt(K,U,Mf(Z),ue);if(Z.$$typeof===D)return jt(K,U,Df(K,Z),ue);kf(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,U!==null&&U.tag===6?(h(K,U.sibling),ue=w(U,Z),ue.return=K,K=ue):(h(K,U),ue=qv(Z,K.mode,ue),ue.return=K,K=ue),P(K)):h(K,U)}return function(K,U,Z,ue){try{Xu=0;var Ge=jt(K,U,Z,ue);return ql=null,Ge}catch(Ie){if(Ie===Kl||Ie===Af)throw Ie;var At=Hi(29,Ie,null,K.mode);return At.lanes=ue,At.return=K,At}}}var Ia=N1(!0),V1=N1(!1),yr=!1;function aC(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lC(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function br(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Sr(a,c,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Mt&2)!==0){var w=p.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),p.pending=c,c=Rf(a),b1(a,null,h),c}return Sf(a,p,c,h),Rf(a)}function Zu(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var p=c.lanes;p&=a.pendingLanes,h|=p,c.lanes=h,H(a,h)}}function cC(a,c){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var w=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var P={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?w=b=P:b=b.next=P,h=h.next}while(h!==null);b===null?w=b=c:b=b.next=c}else w=b=c;h={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var uC=!1;function Ju(){if(uC){var a=$l;if(a!==null)throw a}}function ed(a,c,h,p){uC=!1;var w=a.updateQueue;yr=!1;var b=w.firstBaseUpdate,P=w.lastBaseUpdate,k=w.shared.pending;if(k!==null){w.shared.pending=null;var G=k,J=G.next;G.next=null,P===null?b=J:P.next=J,P=G;var le=a.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==P&&(k===null?le.firstBaseUpdate=J:k.next=J,le.lastBaseUpdate=G))}if(b!==null){var de=w.baseState;P=0,le=J=G=null,k=b;do{var ne=k.lane&-536870913,se=ne!==k.lane;if(se?(vt&ne)===ne:(p&ne)===ne){ne!==0&&ne===Wl&&(uC=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var De=a,$e=k;ne=c;var jt=h;switch($e.tag){case 1:if(De=$e.payload,typeof De=="function"){de=De.call(jt,de,ne);break e}de=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=$e.payload,ne=typeof De=="function"?De.call(jt,de,ne):De,ne==null)break e;de=g({},de,ne);break e;case 2:yr=!0}}ne=k.callback,ne!==null&&(a.flags|=64,se&&(a.flags|=8192),se=w.callbacks,se===null?w.callbacks=[ne]:se.push(ne))}else se={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(J=le=se,G=de):le=le.next=se,P|=ne;if(k=k.next,k===null){if(k=w.shared.pending,k===null)break;se=k,k=se.next,se.next=null,w.lastBaseUpdate=se,w.shared.pending=null}}while(!0);le===null&&(G=de),w.baseState=G,w.firstBaseUpdate=J,w.lastBaseUpdate=le,b===null&&(w.shared.lanes=0),Dr|=P,a.lanes=P,a.memoizedState=de}}function H1(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function B1(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)H1(h[a],c)}var Yl=L(null),If=L(0);function G1(a,c){a=jo,Q(If,a),Q(Yl,c),jo=a|c.baseLanes}function dC(){Q(If,jo),Q(Yl,Yl.current)}function hC(){jo=If.current,j(Yl),j(If)}var Bi=L(null),cs=null;function Rr(a){var c=a.alternate;Q(Sn,Sn.current&1),Q(Bi,a),cs===null&&(c===null||Yl.current!==null||c.memoizedState!==null)&&(cs=a)}function fC(a){Q(Sn,Sn.current),Q(Bi,a),cs===null&&(cs=a)}function z1(a){a.tag===22?(Q(Sn,Sn.current),Q(Bi,a),cs===null&&(cs=a)):xr()}function xr(){Q(Sn,Sn.current),Q(Bi,Bi.current)}function Gi(a){j(Bi),cs===a&&(cs=null),j(Sn)}var Sn=L(0);function Of(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||ww(h)||yw(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Lo=0,ot=null,Gt=null,An=null,Lf=!1,Xl=!1,Oa=!1,_f=0,td=0,Ql=null,eB=0;function gn(){throw Error(i(321))}function gC(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Vi(a[h],c[h]))return!1;return!0}function pC(a,c,h,p,w,b){return Lo=b,ot=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=a===null||a.memoizedState===null?EE:FC,Oa=!1,b=h(p,w),Oa=!1,Xl&&(b=U1(c,h,p,w)),j1(a),b}function j1(a){V.H=sd;var c=Gt!==null&&Gt.next!==null;if(Lo=0,An=Gt=ot=null,Lf=!1,td=0,Ql=null,c)throw Error(i(300));a===null||Fn||(a=a.dependencies,a!==null&&Tf(a)&&(Fn=!0))}function U1(a,c,h,p){ot=a;var w=0;do{if(Xl&&(Ql=null),td=0,Xl=!1,25<=w)throw Error(i(301));if(w+=1,An=Gt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}V.H=TE,b=c(h,p)}while(Xl);return b}function tB(){var a=V.H,c=a.useState()[0];return c=typeof c.then=="function"?nd(c):c,a=a.useState()[0],(Gt!==null?Gt.memoizedState:null)!==a&&(ot.flags|=1024),c}function mC(){var a=_f!==0;return _f=0,a}function vC(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function CC(a){if(Lf){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Lf=!1}Lo=0,An=Gt=ot=null,Xl=!1,td=_f=0,Ql=null}function hi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?ot.memoizedState=An=a:An=An.next=a,An}function Rn(){if(Gt===null){var a=ot.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var c=An===null?ot.memoizedState:An.next;if(c!==null)An=c,Gt=a;else{if(a===null)throw ot.alternate===null?Error(i(467)):Error(i(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},An===null?ot.memoizedState=An=a:An=An.next=a}return An}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nd(a){var c=td;return td+=1,Ql===null&&(Ql=[]),a=O1(Ql,a,c),c=ot,(An===null?c.memoizedState:An.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?EE:FC),a}function Vf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nd(a);if(a.$$typeof===D)return Xn(a)}throw Error(i(438,String(a)))}function wC(a){var c=null,h=ot.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=ot.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(w){return w.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Nf(),ot.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),p=0;p<a;p++)h[p]=B;return c.index++,h}function _o(a,c){return typeof c=="function"?c(a):c}function Hf(a){var c=Rn();return yC(c,Gt,a)}function yC(a,c,h){var p=a.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=h;var w=a.baseQueue,b=p.pending;if(b!==null){if(w!==null){var P=w.next;w.next=b.next,b.next=P}c.baseQueue=w=b,p.pending=null}if(b=a.baseState,w===null)a.memoizedState=b;else{c=w.next;var k=P=null,G=null,J=c,le=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(vt&de)===de:(Lo&de)===de){var ne=J.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===Wl&&(le=!0);else if((Lo&ne)===ne){J=J.next,ne===Wl&&(le=!0);continue}else de={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},G===null?(k=G=de,P=b):G=G.next=de,ot.lanes|=ne,Dr|=ne;de=J.action,Oa&&h(b,de),b=J.hasEagerState?J.eagerState:h(b,de)}else ne={lane:de,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},G===null?(k=G=ne,P=b):G=G.next=ne,ot.lanes|=de,Dr|=de;J=J.next}while(J!==null&&J!==c);if(G===null?P=b:G.next=k,!Vi(b,a.memoizedState)&&(Fn=!0,le&&(h=$l,h!==null)))throw h;a.memoizedState=b,a.baseState=P,a.baseQueue=G,p.lastRenderedState=b}return w===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function bC(a){var c=Rn(),h=c.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var p=h.dispatch,w=h.pending,b=c.memoizedState;if(w!==null){h.pending=null;var P=w=w.next;do b=a(b,P.action),P=P.next;while(P!==w);Vi(b,c.memoizedState)||(Fn=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),h.lastRenderedState=b}return[b,p]}function W1(a,c,h){var p=ot,w=Rn(),b=Tt;if(b){if(h===void 0)throw Error(i(407));h=h()}else h=c();var P=!Vi((Gt||w).memoizedState,h);if(P&&(w.memoizedState=h,Fn=!0),w=w.queue,xC(q1.bind(null,p,w,a),[a]),w.getSnapshot!==c||P||An!==null&&An.memoizedState.tag&1){if(p.flags|=2048,Zl(9,{destroy:void 0},K1.bind(null,p,w,h,c),null),$t===null)throw Error(i(349));b||(Lo&127)!==0||$1(p,c,h)}return h}function $1(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=ot.updateQueue,c===null?(c=Nf(),ot.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function K1(a,c,h,p){c.value=h,c.getSnapshot=p,Y1(c)&&X1(a)}function q1(a,c,h){return h(function(){Y1(c)&&X1(a)})}function Y1(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Vi(a,h)}catch{return!0}}function X1(a){var c=Ea(a,2);c!==null&&Fi(c,a,2)}function SC(a){var c=hi();if(typeof a=="function"){var h=a;if(a=h(),Oa){cn(!0);try{h()}finally{cn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:a},c}function Q1(a,c,h,p){return a.baseState=h,yC(a,Gt,typeof p=="function"?p:_o)}function nB(a,c,h,p,w){if(zf(a))throw Error(i(485));if(a=c.action,a!==null){var b={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){b.listeners.push(P)}};V.T!==null?h(!0):b.isTransition=!1,p(b),h=c.pending,h===null?(b.next=c.pending=b,Z1(c,b)):(b.next=h.next,c.pending=h.next=b)}}function Z1(a,c){var h=c.action,p=c.payload,w=a.state;if(c.isTransition){var b=V.T,P={};V.T=P;try{var k=h(w,p),G=V.S;G!==null&&G(P,k),J1(a,c,k)}catch(J){RC(a,c,J)}finally{b!==null&&P.types!==null&&(b.types=P.types),V.T=b}}else try{b=h(w,p),J1(a,c,b)}catch(J){RC(a,c,J)}}function J1(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){eE(a,c,p)},function(p){return RC(a,c,p)}):eE(a,c,h)}function eE(a,c,h){c.status="fulfilled",c.value=h,tE(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,Z1(a,h)))}function RC(a,c,h){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,tE(c),c=c.next;while(c!==p)}a.action=null}function tE(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function nE(a,c){return c}function iE(a,c){if(Tt){var h=$t.formState;if(h!==null){e:{var p=ot;if(Tt){if(Qt){t:{for(var w=Qt,b=ls;w.nodeType!==8;){if(!b){w=null;break t}if(w=us(w.nextSibling),w===null){w=null;break t}}b=w.data,w=b==="F!"||b==="F"?w:null}if(w){Qt=us(w.nextSibling),p=w.data==="F!";break e}}Cr(p)}p=!1}p&&(c=h[0])}}return h=hi(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nE,lastRenderedState:c},h.queue=p,h=SE.bind(null,ot,p),p.dispatch=h,p=SC(!1),b=AC.bind(null,ot,!1,p.queue),p=hi(),w={state:c,dispatch:null,action:a,pending:null},p.queue=w,h=nB.bind(null,ot,w,b,h),w.dispatch=h,p.memoizedState=a,[c,h,!1]}function sE(a){var c=Rn();return oE(c,Gt,a)}function oE(a,c,h){if(c=yC(a,c,nE)[0],a=Hf(_o)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var p=nd(c)}catch(P){throw P===Kl?Af:P}else p=c;c=Rn();var w=c.queue,b=w.dispatch;return h!==c.memoizedState&&(ot.flags|=2048,Zl(9,{destroy:void 0},iB.bind(null,w,h),null)),[p,b,a]}function iB(a,c){a.action=c}function rE(a){var c=Rn(),h=Gt;if(h!==null)return oE(c,h,a);Rn(),c=c.memoizedState,h=Rn();var p=h.queue.dispatch;return h.memoizedState=a,[c,p,!1]}function Zl(a,c,h,p){return a={tag:a,create:h,deps:p,inst:c,next:null},c=ot.updateQueue,c===null&&(c=Nf(),ot.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,c.lastEffect=a),a}function aE(){return Rn().memoizedState}function Bf(a,c,h,p){var w=hi();ot.flags|=a,w.memoizedState=Zl(1|c,{destroy:void 0},h,p===void 0?null:p)}function Gf(a,c,h,p){var w=Rn();p=p===void 0?null:p;var b=w.memoizedState.inst;Gt!==null&&p!==null&&gC(p,Gt.memoizedState.deps)?w.memoizedState=Zl(c,b,h,p):(ot.flags|=a,w.memoizedState=Zl(1|c,b,h,p))}function lE(a,c){Bf(8390656,8,a,c)}function xC(a,c){Gf(2048,8,a,c)}function sB(a){ot.flags|=4;var c=ot.updateQueue;if(c===null)c=Nf(),ot.updateQueue=c,c.events=[a];else{var h=c.events;h===null?c.events=[a]:h.push(a)}}function cE(a){var c=Rn().memoizedState;return sB({ref:c,nextImpl:a}),function(){if((Mt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function uE(a,c){return Gf(4,2,a,c)}function dE(a,c){return Gf(4,4,a,c)}function hE(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function fE(a,c,h){h=h!=null?h.concat([a]):null,Gf(4,4,hE.bind(null,c,a),h)}function EC(){}function gE(a,c){var h=Rn();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&gC(c,p[1])?p[0]:(h.memoizedState=[a,c],a)}function pE(a,c){var h=Rn();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&gC(c,p[1]))return p[0];if(p=a(),Oa){cn(!0);try{a()}finally{cn(!1)}}return h.memoizedState=[p,c],p}function TC(a,c,h){return h===void 0||(Lo&1073741824)!==0&&(vt&261930)===0?a.memoizedState=c:(a.memoizedState=h,a=mT(),ot.lanes|=a,Dr|=a,h)}function mE(a,c,h,p){return Vi(h,c)?h:Yl.current!==null?(a=TC(a,h,p),Vi(a,c)||(Fn=!0),a):(Lo&42)===0||(Lo&1073741824)!==0&&(vt&261930)===0?(Fn=!0,a.memoizedState=h):(a=mT(),ot.lanes|=a,Dr|=a,c)}function vE(a,c,h,p,w){var b=$.p;$.p=b!==0&&8>b?b:8;var P=V.T,k={};V.T=k,AC(a,!1,c,h);try{var G=w(),J=V.S;if(J!==null&&J(k,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=JH(G,p);id(a,c,le,Ui(a))}else id(a,c,p,Ui(a))}catch(de){id(a,c,{then:function(){},status:"rejected",reason:de},Ui())}finally{$.p=b,P!==null&&k.types!==null&&(P.types=k.types),V.T=P}}function oB(){}function DC(a,c,h,p){if(a.tag!==5)throw Error(i(476));var w=CE(a).queue;vE(a,w,c,N,h===null?oB:function(){return wE(a),h(p)})}function CE(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:N},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function wE(a){var c=CE(a);c.next===null&&(c=a.alternate.memoizedState),id(a,c.next.queue,{},Ui())}function PC(){return Xn(yd)}function yE(){return Rn().memoizedState}function bE(){return Rn().memoizedState}function rB(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ui();a=br(h);var p=Sr(c,a,h);p!==null&&(Fi(p,c,h),Zu(p,c,h)),c={cache:iC()},a.payload=c;return}c=c.return}}function aB(a,c,h){var p=Ui();h={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},zf(a)?RE(c,h):(h=$v(a,c,h,p),h!==null&&(Fi(h,a,p),xE(h,c,p)))}function SE(a,c,h){var p=Ui();id(a,c,h,p)}function id(a,c,h,p){var w={lane:p,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(zf(a))RE(c,w);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var P=c.lastRenderedState,k=b(P,h);if(w.hasEagerState=!0,w.eagerState=k,Vi(k,P))return Sf(a,c,w,0),$t===null&&bf(),!1}catch{}if(h=$v(a,c,w,p),h!==null)return Fi(h,a,p),xE(h,c,p),!0}return!1}function AC(a,c,h,p){if(p={lane:2,revertLane:aw(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zf(a)){if(c)throw Error(i(479))}else c=$v(a,h,p,2),c!==null&&Fi(c,a,2)}function zf(a){var c=a.alternate;return a===ot||c!==null&&c===ot}function RE(a,c){Xl=Lf=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function xE(a,c,h){if((h&4194048)!==0){var p=c.lanes;p&=a.pendingLanes,h|=p,c.lanes=h,H(a,h)}}var sd={readContext:Xn,use:Vf,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};sd.useEffectEvent=gn;var EE={readContext:Xn,use:Vf,useCallback:function(a,c){return hi().memoizedState=[a,c===void 0?null:c],a},useContext:Xn,useEffect:lE,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,Bf(4194308,4,hE.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Bf(4194308,4,a,c)},useInsertionEffect:function(a,c){Bf(4,2,a,c)},useMemo:function(a,c){var h=hi();c=c===void 0?null:c;var p=a();if(Oa){cn(!0);try{a()}finally{cn(!1)}}return h.memoizedState=[p,c],p},useReducer:function(a,c,h){var p=hi();if(h!==void 0){var w=h(c);if(Oa){cn(!0);try{h(c)}finally{cn(!1)}}}else w=c;return p.memoizedState=p.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},p.queue=a,a=a.dispatch=aB.bind(null,ot,a),[p.memoizedState,a]},useRef:function(a){var c=hi();return a={current:a},c.memoizedState=a},useState:function(a){a=SC(a);var c=a.queue,h=SE.bind(null,ot,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:EC,useDeferredValue:function(a,c){var h=hi();return TC(h,a,c)},useTransition:function(){var a=SC(!1);return a=vE.bind(null,ot,a.queue,!0,!1),hi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var p=ot,w=hi();if(Tt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=c(),$t===null)throw Error(i(349));(vt&127)!==0||$1(p,c,h)}w.memoizedState=h;var b={value:h,getSnapshot:c};return w.queue=b,lE(q1.bind(null,p,b,a),[a]),p.flags|=2048,Zl(9,{destroy:void 0},K1.bind(null,p,b,h,c),null),h},useId:function(){var a=hi(),c=$t.identifierPrefix;if(Tt){var h=to,p=eo;h=(p&~(1<<32-Bt(p)-1)).toString(32)+h,c="_"+c+"R_"+h,h=_f++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=eB++,c="_"+c+"r_"+h.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:PC,useFormState:iE,useActionState:iE,useOptimistic:function(a){var c=hi();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=AC.bind(null,ot,!0,h),h.dispatch=c,[a,c]},useMemoCache:wC,useCacheRefresh:function(){return hi().memoizedState=rB.bind(null,ot)},useEffectEvent:function(a){var c=hi(),h={impl:a};return c.memoizedState=h,function(){if((Mt&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},FC={readContext:Xn,use:Vf,useCallback:gE,useContext:Xn,useEffect:xC,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:dE,useMemo:pE,useReducer:Hf,useRef:aE,useState:function(){return Hf(_o)},useDebugValue:EC,useDeferredValue:function(a,c){var h=Rn();return mE(h,Gt.memoizedState,a,c)},useTransition:function(){var a=Hf(_o)[0],c=Rn().memoizedState;return[typeof a=="boolean"?a:nd(a),c]},useSyncExternalStore:W1,useId:yE,useHostTransitionStatus:PC,useFormState:sE,useActionState:sE,useOptimistic:function(a,c){var h=Rn();return Q1(h,Gt,a,c)},useMemoCache:wC,useCacheRefresh:bE};FC.useEffectEvent=cE;var TE={readContext:Xn,use:Vf,useCallback:gE,useContext:Xn,useEffect:xC,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:dE,useMemo:pE,useReducer:bC,useRef:aE,useState:function(){return bC(_o)},useDebugValue:EC,useDeferredValue:function(a,c){var h=Rn();return Gt===null?TC(h,a,c):mE(h,Gt.memoizedState,a,c)},useTransition:function(){var a=bC(_o)[0],c=Rn().memoizedState;return[typeof a=="boolean"?a:nd(a),c]},useSyncExternalStore:W1,useId:yE,useHostTransitionStatus:PC,useFormState:rE,useActionState:rE,useOptimistic:function(a,c){var h=Rn();return Gt!==null?Q1(h,Gt,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:wC,useCacheRefresh:bE};TE.useEffectEvent=cE;function MC(a,c,h,p){c=a.memoizedState,h=h(p,c),h=h==null?c:g({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var kC={enqueueSetState:function(a,c,h){a=a._reactInternals;var p=Ui(),w=br(p);w.payload=c,h!=null&&(w.callback=h),c=Sr(a,w,p),c!==null&&(Fi(c,a,p),Zu(c,a,p))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var p=Ui(),w=br(p);w.tag=1,w.payload=c,h!=null&&(w.callback=h),c=Sr(a,w,p),c!==null&&(Fi(c,a,p),Zu(c,a,p))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Ui(),p=br(h);p.tag=2,c!=null&&(p.callback=c),c=Sr(a,p,h),c!==null&&(Fi(c,a,h),Zu(c,a,h))}};function DE(a,c,h,p,w,b,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,P):c.prototype&&c.prototype.isPureReactComponent?!Uu(h,p)||!Uu(w,b):!0}function PE(a,c,h,p){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==a&&kC.enqueueReplaceState(c,c.state,null)}function La(a,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(a=a.defaultProps){h===c&&(h=g({},h));for(var w in a)h[w]===void 0&&(h[w]=a[w])}return h}function AE(a){yf(a)}function FE(a){console.error(a)}function ME(a){yf(a)}function jf(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function kE(a,c,h){try{var p=a.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function IC(a,c,h){return h=br(h),h.tag=3,h.payload={element:null},h.callback=function(){jf(a,c)},h}function IE(a){return a=br(a),a.tag=3,a}function OE(a,c,h,p){var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var b=p.value;a.payload=function(){return w(b)},a.callback=function(){kE(c,h,p)}}var P=h.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){kE(c,h,p),typeof w!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var k=p.stack;this.componentDidCatch(p.value,{componentStack:k!==null?k:""})})}function lB(a,c,h,p,w){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&Ul(c,h,w,!0),h=Bi.current,h!==null){switch(h.tag){case 31:case 13:return cs===null?tg():h.alternate===null&&pn===0&&(pn=3),h.flags&=-257,h.flags|=65536,h.lanes=w,p===Ff?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),sw(a,p,w)),!1;case 22:return h.flags|=65536,p===Ff?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),sw(a,p,w)),!1}throw Error(i(435,h.tag))}return sw(a,p,w),tg(),!1}if(Tt)return c=Bi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=w,p!==Zv&&(a=Error(i(422),{cause:p}),Ku(os(a,h)))):(p!==Zv&&(c=Error(i(423),{cause:p}),Ku(os(c,h))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,p=os(p,h),w=IC(a.stateNode,p,w),cC(a,w),pn!==4&&(pn=2)),!1;var b=Error(i(520),{cause:p});if(b=os(b,h),hd===null?hd=[b]:hd.push(b),pn!==4&&(pn=2),c===null)return!0;p=os(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=w&-w,h.lanes|=a,a=IC(h.stateNode,p,a),cC(h,a),!1;case 1:if(c=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Pr===null||!Pr.has(b))))return h.flags|=65536,w&=-w,h.lanes|=w,w=IE(w),OE(w,a,h,p),cC(h,w),!1}h=h.return}while(h!==null);return!1}var OC=Error(i(461)),Fn=!1;function Qn(a,c,h,p){c.child=a===null?V1(c,null,h,p):Ia(c,a.child,h,p)}function LE(a,c,h,p,w){h=h.render;var b=c.ref;if("ref"in p){var P={};for(var k in p)k!=="ref"&&(P[k]=p[k])}else P=p;return Aa(c),p=pC(a,c,h,P,b,w),k=mC(),a!==null&&!Fn?(vC(a,c,w),No(a,c,w)):(Tt&&k&&Xv(c),c.flags|=1,Qn(a,c,p,w),c.child)}function _E(a,c,h,p,w){if(a===null){var b=h.type;return typeof b=="function"&&!Kv(b)&&b.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=b,NE(a,c,b,p,w)):(a=xf(h.type,null,p,c,c.mode,w),a.ref=c.ref,a.return=c,c.child=a)}if(b=a.child,!zC(a,w)){var P=b.memoizedProps;if(h=h.compare,h=h!==null?h:Uu,h(P,p)&&a.ref===c.ref)return No(a,c,w)}return c.flags|=1,a=Mo(b,p),a.ref=c.ref,a.return=c,c.child=a}function NE(a,c,h,p,w){if(a!==null){var b=a.memoizedProps;if(Uu(b,p)&&a.ref===c.ref)if(Fn=!1,c.pendingProps=p=b,zC(a,w))(a.flags&131072)!==0&&(Fn=!0);else return c.lanes=a.lanes,No(a,c,w)}return LC(a,c,h,p,w)}function VE(a,c,h,p){var w=p.children,b=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((c.flags&128)!==0){if(b=b!==null?b.baseLanes|h:h,a!==null){for(p=c.child=a.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~b}else p=0,c.child=null;return HE(a,c,b,h,p)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&Pf(c,b!==null?b.cachePool:null),b!==null?G1(c,b):dC(),z1(c);else return p=c.lanes=536870912,HE(a,c,b!==null?b.baseLanes|h:h,h,p)}else b!==null?(Pf(c,b.cachePool),G1(c,b),xr(),c.memoizedState=null):(a!==null&&Pf(c,null),dC(),xr());return Qn(a,c,w,h),c.child}function od(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function HE(a,c,h,p,w){var b=oC();return b=b===null?null:{parent:Pn._currentValue,pool:b},c.memoizedState={baseLanes:h,cachePool:b},a!==null&&Pf(c,null),dC(),z1(c),a!==null&&Ul(a,c,p,!0),c.childLanes=w,null}function Uf(a,c){return c=$f({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function BE(a,c,h){return Ia(c,a.child,null,h),a=Uf(c,c.pendingProps),a.flags|=2,Gi(c),c.memoizedState=null,a}function cB(a,c,h){var p=c.pendingProps,w=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(Tt){if(p.mode==="hidden")return a=Uf(c,p),c.lanes=536870912,od(null,a);if(fC(c),(a=Qt)?(a=ZT(a,ls),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:mr!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},h=R1(a),h.return=c,c.child=h,Yn=c,Qt=null)):a=null,a===null)throw Cr(c);return c.lanes=536870912,null}return Uf(c,p)}var b=a.memoizedState;if(b!==null){var P=b.dehydrated;if(fC(c),w)if(c.flags&256)c.flags&=-257,c=BE(a,c,h);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(i(558));else if(Fn||Ul(a,c,h,!1),w=(h&a.childLanes)!==0,Fn||w){if(p=$t,p!==null&&(P=W(p,h),P!==0&&P!==b.retryLane))throw b.retryLane=P,Ea(a,P),Fi(p,a,P),OC;tg(),c=BE(a,c,h)}else a=b.treeContext,Qt=us(P.nextSibling),Yn=c,Tt=!0,vr=null,ls=!1,a!==null&&T1(c,a),c=Uf(c,p),c.flags|=4096;return c}return a=Mo(a.child,{mode:p.mode,children:p.children}),a.ref=c.ref,c.child=a,a.return=c,a}function Wf(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function LC(a,c,h,p,w){return Aa(c),h=pC(a,c,h,p,void 0,w),p=mC(),a!==null&&!Fn?(vC(a,c,w),No(a,c,w)):(Tt&&p&&Xv(c),c.flags|=1,Qn(a,c,h,w),c.child)}function GE(a,c,h,p,w,b){return Aa(c),c.updateQueue=null,h=U1(c,p,h,w),j1(a),p=mC(),a!==null&&!Fn?(vC(a,c,b),No(a,c,b)):(Tt&&p&&Xv(c),c.flags|=1,Qn(a,c,h,b),c.child)}function zE(a,c,h,p,w){if(Aa(c),c.stateNode===null){var b=Bl,P=h.contextType;typeof P=="object"&&P!==null&&(b=Xn(P)),b=new h(p,b),c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=kC,c.stateNode=b,b._reactInternals=c,b=c.stateNode,b.props=p,b.state=c.memoizedState,b.refs={},aC(c),P=h.contextType,b.context=typeof P=="object"&&P!==null?Xn(P):Bl,b.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(MC(c,h,P,p),b.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(P=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),P!==b.state&&kC.enqueueReplaceState(b,b.state,null),ed(c,p,b,w),Ju(),b.state=c.memoizedState),typeof b.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(a===null){b=c.stateNode;var k=c.memoizedProps,G=La(h,k);b.props=G;var J=b.context,le=h.contextType;P=Bl,typeof le=="object"&&le!==null&&(P=Xn(le));var de=h.getDerivedStateFromProps;le=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=c.pendingProps!==k,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||J!==P)&&PE(c,b,p,P),yr=!1;var ne=c.memoizedState;b.state=ne,ed(c,p,b,w),Ju(),J=c.memoizedState,k||ne!==J||yr?(typeof de=="function"&&(MC(c,h,de,p),J=c.memoizedState),(G=yr||DE(c,h,G,p,ne,J,P))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(c.flags|=4194308)):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=J),b.props=p,b.state=J,b.context=P,p=G):(typeof b.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{b=c.stateNode,lC(a,c),P=c.memoizedProps,le=La(h,P),b.props=le,de=c.pendingProps,ne=b.context,J=h.contextType,G=Bl,typeof J=="object"&&J!==null&&(G=Xn(J)),k=h.getDerivedStateFromProps,(J=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==de||ne!==G)&&PE(c,b,p,G),yr=!1,ne=c.memoizedState,b.state=ne,ed(c,p,b,w),Ju();var se=c.memoizedState;P!==de||ne!==se||yr||a!==null&&a.dependencies!==null&&Tf(a.dependencies)?(typeof k=="function"&&(MC(c,h,k,p),se=c.memoizedState),(le=yr||DE(c,h,le,p,ne,se,G)||a!==null&&a.dependencies!==null&&Tf(a.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,se,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,se,G)),typeof b.componentDidUpdate=="function"&&(c.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=se),b.props=p,b.state=se,b.context=G,p=le):(typeof b.componentDidUpdate!="function"||P===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),p=!1)}return b=p,Wf(a,c),p=(c.flags&128)!==0,b||p?(b=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:b.render(),c.flags|=1,a!==null&&p?(c.child=Ia(c,a.child,null,w),c.child=Ia(c,null,h,w)):Qn(a,c,h,w),c.memoizedState=b.state,a=c.child):a=No(a,c,w),a}function jE(a,c,h,p){return Da(),c.flags|=256,Qn(a,c,h,p),c.child}var _C={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function NC(a){return{baseLanes:a,cachePool:k1()}}function VC(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=ji),a}function UE(a,c,h){var p=c.pendingProps,w=!1,b=(c.flags&128)!==0,P;if((P=b)||(P=a!==null&&a.memoizedState===null?!1:(Sn.current&2)!==0),P&&(w=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,a===null){if(Tt){if(w?Rr(c):xr(),(a=Qt)?(a=ZT(a,ls),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:mr!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},h=R1(a),h.return=c,c.child=h,Yn=c,Qt=null)):a=null,a===null)throw Cr(c);return yw(a)?c.lanes=32:c.lanes=536870912,null}var k=p.children;return p=p.fallback,w?(xr(),w=c.mode,k=$f({mode:"hidden",children:k},w),p=Ta(p,w,h,null),k.return=c,p.return=c,k.sibling=p,c.child=k,p=c.child,p.memoizedState=NC(h),p.childLanes=VC(a,P,h),c.memoizedState=_C,od(null,p)):(Rr(c),HC(c,k))}var G=a.memoizedState;if(G!==null&&(k=G.dehydrated,k!==null)){if(b)c.flags&256?(Rr(c),c.flags&=-257,c=BC(a,c,h)):c.memoizedState!==null?(xr(),c.child=a.child,c.flags|=128,c=null):(xr(),k=p.fallback,w=c.mode,p=$f({mode:"visible",children:p.children},w),k=Ta(k,w,h,null),k.flags|=2,p.return=c,k.return=c,p.sibling=k,c.child=p,Ia(c,a.child,null,h),p=c.child,p.memoizedState=NC(h),p.childLanes=VC(a,P,h),c.memoizedState=_C,c=od(null,p));else if(Rr(c),yw(k)){if(P=k.nextSibling&&k.nextSibling.dataset,P)var J=P.dgst;P=J,p=Error(i(419)),p.stack="",p.digest=P,Ku({value:p,source:null,stack:null}),c=BC(a,c,h)}else if(Fn||Ul(a,c,h,!1),P=(h&a.childLanes)!==0,Fn||P){if(P=$t,P!==null&&(p=W(P,h),p!==0&&p!==G.retryLane))throw G.retryLane=p,Ea(a,p),Fi(P,a,p),OC;ww(k)||tg(),c=BC(a,c,h)}else ww(k)?(c.flags|=192,c.child=a.child,c=null):(a=G.treeContext,Qt=us(k.nextSibling),Yn=c,Tt=!0,vr=null,ls=!1,a!==null&&T1(c,a),c=HC(c,p.children),c.flags|=4096);return c}return w?(xr(),k=p.fallback,w=c.mode,G=a.child,J=G.sibling,p=Mo(G,{mode:"hidden",children:p.children}),p.subtreeFlags=G.subtreeFlags&65011712,J!==null?k=Mo(J,k):(k=Ta(k,w,h,null),k.flags|=2),k.return=c,p.return=c,p.sibling=k,c.child=p,od(null,p),p=c.child,k=a.child.memoizedState,k===null?k=NC(h):(w=k.cachePool,w!==null?(G=Pn._currentValue,w=w.parent!==G?{parent:G,pool:G}:w):w=k1(),k={baseLanes:k.baseLanes|h,cachePool:w}),p.memoizedState=k,p.childLanes=VC(a,P,h),c.memoizedState=_C,od(a.child,p)):(Rr(c),h=a.child,a=h.sibling,h=Mo(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,a!==null&&(P=c.deletions,P===null?(c.deletions=[a],c.flags|=16):P.push(a)),c.child=h,c.memoizedState=null,h)}function HC(a,c){return c=$f({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function $f(a,c){return a=Hi(22,a,null,c),a.lanes=0,a}function BC(a,c,h){return Ia(c,a.child,null,h),a=HC(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function WE(a,c,h){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c),tC(a.return,c,h)}function GC(a,c,h,p,w,b){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:w,treeForkCount:b}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=h,P.tailMode=w,P.treeForkCount=b)}function $E(a,c,h){var p=c.pendingProps,w=p.revealOrder,b=p.tail;p=p.children;var P=Sn.current,k=(P&2)!==0;if(k?(P=P&1|2,c.flags|=128):P&=1,Q(Sn,P),Qn(a,c,p,h),p=Tt?$u:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&WE(a,h,c);else if(a.tag===19)WE(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(h=c.child,w=null;h!==null;)a=h.alternate,a!==null&&Of(a)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),GC(c,!1,w,h,b,p);break;case"backwards":case"unstable_legacy-backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(a=w.alternate,a!==null&&Of(a)===null){c.child=w;break}a=w.sibling,w.sibling=h,h=w,w=a}GC(c,!0,h,null,b,p);break;case"together":GC(c,!1,null,null,void 0,p);break;default:c.memoizedState=null}return c.child}function No(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Dr|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(Ul(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,h=Mo(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Mo(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function zC(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Tf(a)))}function uB(a,c,h){switch(c.tag){case 3:Ue(c,c.stateNode.containerInfo),wr(c,Pn,a.memoizedState.cache),Da();break;case 27:case 5:Ve(c);break;case 4:Ue(c,c.stateNode.containerInfo);break;case 10:wr(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,fC(c),null;break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(Rr(c),c.flags|=128,null):(h&c.child.childLanes)!==0?UE(a,c,h):(Rr(c),a=No(a,c,h),a!==null?a.sibling:null);Rr(c);break;case 19:var w=(a.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(Ul(a,c,h,!1),p=(h&c.childLanes)!==0),w){if(p)return $E(a,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Q(Sn,Sn.current),p)break;return null;case 22:return c.lanes=0,VE(a,c,h,c.pendingProps);case 24:wr(c,Pn,a.memoizedState.cache)}return No(a,c,h)}function KE(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)Fn=!0;else{if(!zC(a,h)&&(c.flags&128)===0)return Fn=!1,uB(a,c,h);Fn=(a.flags&131072)!==0}else Fn=!1,Tt&&(c.flags&1048576)!==0&&E1(c,$u,c.index);switch(c.lanes=0,c.tag){case 16:e:{var p=c.pendingProps;if(a=Ma(c.elementType),c.type=a,typeof a=="function")Kv(a)?(p=La(a,p),c.tag=1,c=zE(null,c,a,p,h)):(c.tag=0,c=LC(null,c,a,p,h));else{if(a!=null){var w=a.$$typeof;if(w===M){c.tag=11,c=LE(null,c,a,p,h);break e}else if(w===A){c.tag=14,c=_E(null,c,a,p,h);break e}}throw c=ce(a)||a,Error(i(306,c,""))}}return c;case 0:return LC(a,c,c.type,c.pendingProps,h);case 1:return p=c.type,w=La(p,c.pendingProps),zE(a,c,p,w,h);case 3:e:{if(Ue(c,c.stateNode.containerInfo),a===null)throw Error(i(387));p=c.pendingProps;var b=c.memoizedState;w=b.element,lC(a,c),ed(c,p,null,h);var P=c.memoizedState;if(p=P.cache,wr(c,Pn,p),p!==b.cache&&nC(c,[Pn],h,!0),Ju(),p=P.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){c=jE(a,c,p,h);break e}else if(p!==w){w=os(Error(i(424)),c),Ku(w),c=jE(a,c,p,h);break e}else for(a=c.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Qt=us(a.firstChild),Yn=c,Tt=!0,vr=null,ls=!0,h=V1(c,null,p,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Da(),p===w){c=No(a,c,h);break e}Qn(a,c,p,h)}c=c.child}return c;case 26:return Wf(a,c),a===null?(h=sD(c.type,null,c.pendingProps,null))?c.memoizedState=h:Tt||(h=c.type,a=c.pendingProps,p=lg(Ce.current).createElement(h),p[Se]=c,p[Ee]=a,Zn(p,h,a),Jt(p),c.stateNode=p):c.memoizedState=sD(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Ve(c),a===null&&Tt&&(p=c.stateNode=tD(c.type,c.pendingProps,Ce.current),Yn=c,ls=!0,w=Qt,kr(c.type)?(bw=w,Qt=us(p.firstChild)):Qt=w),Qn(a,c,c.pendingProps.children,h),Wf(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Tt&&((w=p=Qt)&&(p=BB(p,c.type,c.pendingProps,ls),p!==null?(c.stateNode=p,Yn=c,Qt=us(p.firstChild),ls=!1,w=!0):w=!1),w||Cr(c)),Ve(c),w=c.type,b=c.pendingProps,P=a!==null?a.memoizedProps:null,p=b.children,mw(w,b)?p=null:P!==null&&mw(w,P)&&(c.flags|=32),c.memoizedState!==null&&(w=pC(a,c,tB,null,null,h),yd._currentValue=w),Wf(a,c),Qn(a,c,p,h),c.child;case 6:return a===null&&Tt&&((a=h=Qt)&&(h=GB(h,c.pendingProps,ls),h!==null?(c.stateNode=h,Yn=c,Qt=null,a=!0):a=!1),a||Cr(c)),null;case 13:return UE(a,c,h);case 4:return Ue(c,c.stateNode.containerInfo),p=c.pendingProps,a===null?c.child=Ia(c,null,p,h):Qn(a,c,p,h),c.child;case 11:return LE(a,c,c.type,c.pendingProps,h);case 7:return Qn(a,c,c.pendingProps,h),c.child;case 8:return Qn(a,c,c.pendingProps.children,h),c.child;case 12:return Qn(a,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,wr(c,c.type,p.value),Qn(a,c,p.children,h),c.child;case 9:return w=c.type._context,p=c.pendingProps.children,Aa(c),w=Xn(w),p=p(w),c.flags|=1,Qn(a,c,p,h),c.child;case 14:return _E(a,c,c.type,c.pendingProps,h);case 15:return NE(a,c,c.type,c.pendingProps,h);case 19:return $E(a,c,h);case 31:return cB(a,c,h);case 22:return VE(a,c,h,c.pendingProps);case 24:return Aa(c),p=Xn(Pn),a===null?(w=oC(),w===null&&(w=$t,b=iC(),w.pooledCache=b,b.refCount++,b!==null&&(w.pooledCacheLanes|=h),w=b),c.memoizedState={parent:p,cache:w},aC(c),wr(c,Pn,w)):((a.lanes&h)!==0&&(lC(a,c),ed(c,null,null,h),Ju()),w=a.memoizedState,b=c.memoizedState,w.parent!==p?(w={parent:p,cache:p},c.memoizedState=w,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=w),wr(c,Pn,p)):(p=b.cache,wr(c,Pn,p),p!==w.cache&&nC(c,[Pn],h,!0))),Qn(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Vo(a){a.flags|=4}function jC(a,c,h,p,w){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(yT())a.flags|=8192;else throw ka=Ff,rC}else a.flags&=-16777217}function qE(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!cD(c))if(yT())a.flags|=8192;else throw ka=Ff,rC}function Kf(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?ii():536870912,a.lanes|=c,nc|=c)}function rd(a,c){if(!Tt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Zt(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(c)for(var w=a.child;w!==null;)h|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)h|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=p,a.childLanes=h,c}function dB(a,c,h){var p=c.pendingProps;switch(Qv(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(c),null;case 1:return Zt(c),null;case 3:return h=c.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),Oo(Pn),qe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(jl(c)?Vo(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Jv())),Zt(c),null;case 26:var w=c.type,b=c.memoizedState;return a===null?(Vo(c),b!==null?(Zt(c),qE(c,b)):(Zt(c),jC(c,w,null,p,h))):b?b!==a.memoizedState?(Vo(c),Zt(c),qE(c,b)):(Zt(c),c.flags&=-16777217):(a=a.memoizedProps,a!==p&&Vo(c),Zt(c),jC(c,w,a,p,h)),null;case 27:if(mt(c),h=Ce.current,w=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==p&&Vo(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return Zt(c),null}a=re.current,jl(c)?D1(c):(a=tD(w,p,h),c.stateNode=a,Vo(c))}return Zt(c),null;case 5:if(mt(c),w=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==p&&Vo(c);else{if(!p){if(c.stateNode===null)throw Error(i(166));return Zt(c),null}if(b=re.current,jl(c))D1(c);else{var P=lg(Ce.current);switch(b){case 1:b=P.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:b=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":b=P.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":b=P.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":b=P.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?b.multiple=!0:p.size&&(b.size=p.size);break;default:b=typeof p.is=="string"?P.createElement(w,{is:p.is}):P.createElement(w)}}b[Se]=c,b[Ee]=p;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)b.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=b;e:switch(Zn(b,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Vo(c)}}return Zt(c),jC(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,h),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==p&&Vo(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(i(166));if(a=Ce.current,jl(c)){if(a=c.stateNode,h=c.memoizedProps,p=null,w=Yn,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}a[Se]=c,a=!!(a.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||UT(a.nodeValue,h)),a||Cr(c,!0)}else a=lg(a).createTextNode(p),a[Se]=c,c.stateNode=a}return Zt(c),null;case 31:if(h=c.memoizedState,a===null||a.memoizedState!==null){if(p=jl(c),h!==null){if(a===null){if(!p)throw Error(i(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Se]=c}else Da(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),a=!1}else h=Jv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return c.flags&256?(Gi(c),c):(Gi(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Zt(c),null;case 13:if(p=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=jl(c),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(i(318));if(w=c.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[Se]=c}else Da(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zt(c),w=!1}else w=Jv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return c.flags&256?(Gi(c),c):(Gi(c),null)}return Gi(c),(c.flags&128)!==0?(c.lanes=h,c):(h=p!==null,a=a!==null&&a.memoizedState!==null,h&&(p=c.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),b=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==w&&(p.flags|=2048)),h!==a&&h&&(c.child.flags|=8192),Kf(c,c.updateQueue),Zt(c),null);case 4:return qe(),a===null&&dw(c.stateNode.containerInfo),Zt(c),null;case 10:return Oo(c.type),Zt(c),null;case 19:if(j(Sn),p=c.memoizedState,p===null)return Zt(c),null;if(w=(c.flags&128)!==0,b=p.rendering,b===null)if(w)rd(p,!1);else{if(pn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(b=Of(a),b!==null){for(c.flags|=128,rd(p,!1),a=b.updateQueue,c.updateQueue=a,Kf(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)S1(h,a),h=h.sibling;return Q(Sn,Sn.current&1|2),Tt&&ko(c,p.treeForkCount),c.child}a=a.sibling}p.tail!==null&&Ye()>Zf&&(c.flags|=128,w=!0,rd(p,!1),c.lanes=4194304)}else{if(!w)if(a=Of(b),a!==null){if(c.flags|=128,w=!0,a=a.updateQueue,c.updateQueue=a,Kf(c,a),rd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Tt)return Zt(c),null}else 2*Ye()-p.renderingStartTime>Zf&&h!==536870912&&(c.flags|=128,w=!0,rd(p,!1),c.lanes=4194304);p.isBackwards?(b.sibling=c.child,c.child=b):(a=p.last,a!==null?a.sibling=b:c.child=b,p.last=b)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Ye(),a.sibling=null,h=Sn.current,Q(Sn,w?h&1|2:h&1),Tt&&ko(c,p.treeForkCount),a):(Zt(c),null);case 22:case 23:return Gi(c),hC(),p=c.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?(h&536870912)!==0&&(c.flags&128)===0&&(Zt(c),c.subtreeFlags&6&&(c.flags|=8192)):Zt(c),h=c.updateQueue,h!==null&&Kf(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),a!==null&&j(Fa),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Oo(Pn),Zt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function hB(a,c){switch(Qv(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Oo(Pn),qe(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return mt(c),null;case 31:if(c.memoizedState!==null){if(Gi(c),c.alternate===null)throw Error(i(340));Da()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(Gi(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));Da()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return j(Sn),null;case 4:return qe(),null;case 10:return Oo(c.type),null;case 22:case 23:return Gi(c),hC(),a!==null&&j(Fa),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Oo(Pn),null;case 25:return null;default:return null}}function YE(a,c){switch(Qv(c),c.tag){case 3:Oo(Pn),qe();break;case 26:case 27:case 5:mt(c);break;case 4:qe();break;case 31:c.memoizedState!==null&&Gi(c);break;case 13:Gi(c);break;case 19:j(Sn);break;case 10:Oo(c.type);break;case 22:case 23:Gi(c),hC(),a!==null&&j(Fa);break;case 24:Oo(Pn)}}function ad(a,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var w=p.next;h=w;do{if((h.tag&a)===a){p=void 0;var b=h.create,P=h.inst;p=b(),P.destroy=p}h=h.next}while(h!==w)}}catch(k){Nt(c,c.return,k)}}function Er(a,c,h){try{var p=c.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var b=w.next;p=b;do{if((p.tag&a)===a){var P=p.inst,k=P.destroy;if(k!==void 0){P.destroy=void 0,w=c;var G=h,J=k;try{J()}catch(le){Nt(w,G,le)}}}p=p.next}while(p!==b)}}catch(le){Nt(c,c.return,le)}}function XE(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{B1(c,h)}catch(p){Nt(a,a.return,p)}}}function QE(a,c,h){h.props=La(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(p){Nt(a,c,p)}}function ld(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof h=="function"?a.refCleanup=h(p):h.current=p}}catch(w){Nt(a,c,w)}}function no(a,c){var h=a.ref,p=a.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(w){Nt(a,c,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(w){Nt(a,c,w)}else h.current=null}function ZE(a){var c=a.type,h=a.memoizedProps,p=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(w){Nt(a,a.return,w)}}function UC(a,c,h){try{var p=a.stateNode;OB(p,a.type,h,c),p[Ee]=c}catch(w){Nt(a,a.return,w)}}function JE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&kr(a.type)||a.tag===4}function WC(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||JE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&kr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function $C(a,c,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Ao));else if(p!==4&&(p===27&&kr(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for($C(a,c,h),a=a.sibling;a!==null;)$C(a,c,h),a=a.sibling}function qf(a,c,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(p!==4&&(p===27&&kr(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(qf(a,c,h),a=a.sibling;a!==null;)qf(a,c,h),a=a.sibling}function eT(a){var c=a.stateNode,h=a.memoizedProps;try{for(var p=a.type,w=c.attributes;w.length;)c.removeAttributeNode(w[0]);Zn(c,p,h),c[Se]=a,c[Ee]=h}catch(b){Nt(a,a.return,b)}}var Ho=!1,Mn=!1,KC=!1,tT=typeof WeakSet=="function"?WeakSet:Set,Un=null;function fB(a,c){if(a=a.containerInfo,gw=pg,a=f1(a),Bv(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var w=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var P=0,k=-1,G=-1,J=0,le=0,de=a,ne=null;t:for(;;){for(var se;de!==h||w!==0&&de.nodeType!==3||(k=P+w),de!==b||p!==0&&de.nodeType!==3||(G=P+p),de.nodeType===3&&(P+=de.nodeValue.length),(se=de.firstChild)!==null;)ne=de,de=se;for(;;){if(de===a)break t;if(ne===h&&++J===w&&(k=P),ne===b&&++le===p&&(G=P),(se=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=se}h=k===-1||G===-1?null:{start:k,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(pw={focusedElem:a,selectionRange:h},pg=!1,Un=c;Un!==null;)if(c=Un,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Un=a;else for(;Un!==null;){switch(c=Un,b=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)w=a[h],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,h=c,w=b.memoizedProps,b=b.memoizedState,p=h.stateNode;try{var De=La(h.type,w);a=p.getSnapshotBeforeUpdate(De,b),p.__reactInternalSnapshotBeforeUpdate=a}catch($e){Nt(h,h.return,$e)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)Cw(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cw(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Un=a;break}Un=c.return}}function nT(a,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:Go(a,h),p&4&&ad(5,h);break;case 1:if(Go(a,h),p&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(P){Nt(h,h.return,P)}else{var w=La(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(w,c,a.__reactInternalSnapshotBeforeUpdate)}catch(P){Nt(h,h.return,P)}}p&64&&XE(h),p&512&&ld(h,h.return);break;case 3:if(Go(a,h),p&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{B1(a,c)}catch(P){Nt(h,h.return,P)}}break;case 27:c===null&&p&4&&eT(h);case 26:case 5:Go(a,h),c===null&&p&4&&ZE(h),p&512&&ld(h,h.return);break;case 12:Go(a,h);break;case 31:Go(a,h),p&4&&oT(a,h);break;case 13:Go(a,h),p&4&&rT(a,h),p&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=SB.bind(null,h),zB(a,h))));break;case 22:if(p=h.memoizedState!==null||Ho,!p){c=c!==null&&c.memoizedState!==null||Mn,w=Ho;var b=Mn;Ho=p,(Mn=c)&&!b?zo(a,h,(h.subtreeFlags&8772)!==0):Go(a,h),Ho=w,Mn=b}break;case 30:break;default:Go(a,h)}}function iT(a){var c=a.alternate;c!==null&&(a.alternate=null,iT(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&hn(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var en=null,Ti=!1;function Bo(a,c,h){for(h=h.child;h!==null;)sT(a,c,h),h=h.sibling}function sT(a,c,h){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(sn,h)}catch{}switch(h.tag){case 26:Mn||no(h,c),Bo(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mn||no(h,c);var p=en,w=Ti;kr(h.type)&&(en=h.stateNode,Ti=!1),Bo(a,c,h),vd(h.stateNode),en=p,Ti=w;break;case 5:Mn||no(h,c);case 6:if(p=en,w=Ti,en=null,Bo(a,c,h),en=p,Ti=w,en!==null)if(Ti)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(h.stateNode)}catch(b){Nt(h,c,b)}else try{en.removeChild(h.stateNode)}catch(b){Nt(h,c,b)}break;case 18:en!==null&&(Ti?(a=en,XT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),uc(a)):XT(en,h.stateNode));break;case 4:p=en,w=Ti,en=h.stateNode.containerInfo,Ti=!0,Bo(a,c,h),en=p,Ti=w;break;case 0:case 11:case 14:case 15:Er(2,h,c),Mn||Er(4,h,c),Bo(a,c,h);break;case 1:Mn||(no(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&QE(h,c,p)),Bo(a,c,h);break;case 21:Bo(a,c,h);break;case 22:Mn=(p=Mn)||h.memoizedState!==null,Bo(a,c,h),Mn=p;break;default:Bo(a,c,h)}}function oT(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{uc(a)}catch(h){Nt(c,c.return,h)}}}function rT(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{uc(a)}catch(h){Nt(c,c.return,h)}}function gB(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new tT),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new tT),c;default:throw Error(i(435,a.tag))}}function Yf(a,c){var h=gB(a);c.forEach(function(p){if(!h.has(p)){h.add(p);var w=RB.bind(null,a,p);p.then(w,w)}})}function Di(a,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var w=h[p],b=a,P=c,k=P;e:for(;k!==null;){switch(k.tag){case 27:if(kr(k.type)){en=k.stateNode,Ti=!1;break e}break;case 5:en=k.stateNode,Ti=!1;break e;case 3:case 4:en=k.stateNode.containerInfo,Ti=!0;break e}k=k.return}if(en===null)throw Error(i(160));sT(b,P,w),en=null,Ti=!1,b=w.alternate,b!==null&&(b.return=null),w.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)aT(c,a),c=c.sibling}var Is=null;function aT(a,c){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Di(c,a),Pi(a),p&4&&(Er(3,a,a.return),ad(3,a),Er(5,a,a.return));break;case 1:Di(c,a),Pi(a),p&512&&(Mn||h===null||no(h,h.return)),p&64&&Ho&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var w=Is;if(Di(c,a),Pi(a),p&512&&(Mn||h===null||no(h,h.return)),p&4){var b=h!==null?h.memoizedState:null;if(p=a.memoizedState,h===null)if(p===null)if(a.stateNode===null){e:{p=a.type,h=a.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":b=w.getElementsByTagName("title")[0],(!b||b[on]||b[Se]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=w.createElement(p),w.head.insertBefore(b,w.querySelector("head > title"))),Zn(b,p,h),b[Se]=a,Jt(b),p=b;break e;case"link":var P=aD("link","href",w).get(p+(h.href||""));if(P){for(var k=0;k<P.length;k++)if(b=P[k],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){P.splice(k,1);break t}}b=w.createElement(p),Zn(b,p,h),w.head.appendChild(b);break;case"meta":if(P=aD("meta","content",w).get(p+(h.content||""))){for(k=0;k<P.length;k++)if(b=P[k],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){P.splice(k,1);break t}}b=w.createElement(p),Zn(b,p,h),w.head.appendChild(b);break;default:throw Error(i(468,p))}b[Se]=a,Jt(b),p=b}a.stateNode=p}else lD(w,a.type,a.stateNode);else a.stateNode=rD(w,p,a.memoizedProps);else b!==p?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,p===null?lD(w,a.type,a.stateNode):rD(w,p,a.memoizedProps)):p===null&&a.stateNode!==null&&UC(a,a.memoizedProps,h.memoizedProps)}break;case 27:Di(c,a),Pi(a),p&512&&(Mn||h===null||no(h,h.return)),h!==null&&p&4&&UC(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Di(c,a),Pi(a),p&512&&(Mn||h===null||no(h,h.return)),a.flags&32){w=a.stateNode;try{Il(w,"")}catch(De){Nt(a,a.return,De)}}p&4&&a.stateNode!=null&&(w=a.memoizedProps,UC(a,w,h!==null?h.memoizedProps:w)),p&1024&&(KC=!0);break;case 6:if(Di(c,a),Pi(a),p&4){if(a.stateNode===null)throw Error(i(162));p=a.memoizedProps,h=a.stateNode;try{h.nodeValue=p}catch(De){Nt(a,a.return,De)}}break;case 3:if(dg=null,w=Is,Is=cg(c.containerInfo),Di(c,a),Is=w,Pi(a),p&4&&h!==null&&h.memoizedState.isDehydrated)try{uc(c.containerInfo)}catch(De){Nt(a,a.return,De)}KC&&(KC=!1,lT(a));break;case 4:p=Is,Is=cg(a.stateNode.containerInfo),Di(c,a),Pi(a),Is=p;break;case 12:Di(c,a),Pi(a);break;case 31:Di(c,a),Pi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Yf(a,p)));break;case 13:Di(c,a),Pi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Qf=Ye()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Yf(a,p)));break;case 22:w=a.memoizedState!==null;var G=h!==null&&h.memoizedState!==null,J=Ho,le=Mn;if(Ho=J||w,Mn=le||G,Di(c,a),Mn=le,Ho=J,Pi(a),p&8192)e:for(c=a.stateNode,c._visibility=w?c._visibility&-2:c._visibility|1,w&&(h===null||G||Ho||Mn||_a(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){G=h=c;try{if(b=G.stateNode,w)P=b.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{k=G.stateNode;var de=G.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(De){Nt(G,G.return,De)}}}else if(c.tag===6){if(h===null){G=c;try{G.stateNode.nodeValue=w?"":G.memoizedProps}catch(De){Nt(G,G.return,De)}}}else if(c.tag===18){if(h===null){G=c;try{var se=G.stateNode;w?QT(se,!0):QT(G.stateNode,!1)}catch(De){Nt(G,G.return,De)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=a.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Yf(a,h))));break;case 19:Di(c,a),Pi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Yf(a,p)));break;case 30:break;case 21:break;default:Di(c,a),Pi(a)}}function Pi(a){var c=a.flags;if(c&2){try{for(var h,p=a.return;p!==null;){if(JE(p)){h=p;break}p=p.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var w=h.stateNode,b=WC(a);qf(a,b,w);break;case 5:var P=h.stateNode;h.flags&32&&(Il(P,""),h.flags&=-33);var k=WC(a);qf(a,k,P);break;case 3:case 4:var G=h.stateNode.containerInfo,J=WC(a);$C(a,J,G);break;default:throw Error(i(161))}}catch(le){Nt(a,a.return,le)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function lT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;lT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Go(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)nT(a,c.alternate,c),c=c.sibling}function _a(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Er(4,c,c.return),_a(c);break;case 1:no(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&QE(c,c.return,h),_a(c);break;case 27:vd(c.stateNode);case 26:case 5:no(c,c.return),_a(c);break;case 22:c.memoizedState===null&&_a(c);break;case 30:_a(c);break;default:_a(c)}a=a.sibling}}function zo(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,w=a,b=c,P=b.flags;switch(b.tag){case 0:case 11:case 15:zo(w,b,h),ad(4,b);break;case 1:if(zo(w,b,h),p=b,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(J){Nt(p,p.return,J)}if(p=b,w=p.updateQueue,w!==null){var k=p.stateNode;try{var G=w.shared.hiddenCallbacks;if(G!==null)for(w.shared.hiddenCallbacks=null,w=0;w<G.length;w++)H1(G[w],k)}catch(J){Nt(p,p.return,J)}}h&&P&64&&XE(b),ld(b,b.return);break;case 27:eT(b);case 26:case 5:zo(w,b,h),h&&p===null&&P&4&&ZE(b),ld(b,b.return);break;case 12:zo(w,b,h);break;case 31:zo(w,b,h),h&&P&4&&oT(w,b);break;case 13:zo(w,b,h),h&&P&4&&rT(w,b);break;case 22:b.memoizedState===null&&zo(w,b,h),ld(b,b.return);break;case 30:break;default:zo(w,b,h)}c=c.sibling}}function qC(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&qu(h))}function YC(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&qu(a))}function Os(a,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)cT(a,c,h,p),c=c.sibling}function cT(a,c,h,p){var w=c.flags;switch(c.tag){case 0:case 11:case 15:Os(a,c,h,p),w&2048&&ad(9,c);break;case 1:Os(a,c,h,p);break;case 3:Os(a,c,h,p),w&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&qu(a)));break;case 12:if(w&2048){Os(a,c,h,p),a=c.stateNode;try{var b=c.memoizedProps,P=b.id,k=b.onPostCommit;typeof k=="function"&&k(P,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Nt(c,c.return,G)}}else Os(a,c,h,p);break;case 31:Os(a,c,h,p);break;case 13:Os(a,c,h,p);break;case 23:break;case 22:b=c.stateNode,P=c.alternate,c.memoizedState!==null?b._visibility&2?Os(a,c,h,p):cd(a,c):b._visibility&2?Os(a,c,h,p):(b._visibility|=2,Jl(a,c,h,p,(c.subtreeFlags&10256)!==0||!1)),w&2048&&qC(P,c);break;case 24:Os(a,c,h,p),w&2048&&YC(c.alternate,c);break;default:Os(a,c,h,p)}}function Jl(a,c,h,p,w){for(w=w&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var b=a,P=c,k=h,G=p,J=P.flags;switch(P.tag){case 0:case 11:case 15:Jl(b,P,k,G,w),ad(8,P);break;case 23:break;case 22:var le=P.stateNode;P.memoizedState!==null?le._visibility&2?Jl(b,P,k,G,w):cd(b,P):(le._visibility|=2,Jl(b,P,k,G,w)),w&&J&2048&&qC(P.alternate,P);break;case 24:Jl(b,P,k,G,w),w&&J&2048&&YC(P.alternate,P);break;default:Jl(b,P,k,G,w)}c=c.sibling}}function cd(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,p=c,w=p.flags;switch(p.tag){case 22:cd(h,p),w&2048&&qC(p.alternate,p);break;case 24:cd(h,p),w&2048&&YC(p.alternate,p);break;default:cd(h,p)}c=c.sibling}}var ud=8192;function ec(a,c,h){if(a.subtreeFlags&ud)for(a=a.child;a!==null;)uT(a,c,h),a=a.sibling}function uT(a,c,h){switch(a.tag){case 26:ec(a,c,h),a.flags&ud&&a.memoizedState!==null&&eG(h,Is,a.memoizedState,a.memoizedProps);break;case 5:ec(a,c,h);break;case 3:case 4:var p=Is;Is=cg(a.stateNode.containerInfo),ec(a,c,h),Is=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=ud,ud=16777216,ec(a,c,h),ud=p):ec(a,c,h));break;default:ec(a,c,h)}}function dT(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function dd(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Un=p,fT(p,a)}dT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hT(a),a=a.sibling}function hT(a){switch(a.tag){case 0:case 11:case 15:dd(a),a.flags&2048&&Er(9,a,a.return);break;case 3:dd(a);break;case 12:dd(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Xf(a)):dd(a);break;default:dd(a)}}function Xf(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Un=p,fT(p,a)}dT(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Er(8,c,c.return),Xf(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Xf(c));break;default:Xf(c)}a=a.sibling}}function fT(a,c){for(;Un!==null;){var h=Un;switch(h.tag){case 0:case 11:case 15:Er(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:qu(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Un=p;else e:for(h=a;Un!==null;){p=Un;var w=p.sibling,b=p.return;if(iT(p),p===h){Un=null;break e}if(w!==null){w.return=b,Un=w;break e}Un=b}}}var pB={getCacheForType:function(a){var c=Xn(Pn),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h},cacheSignal:function(){return Xn(Pn).controller.signal}},mB=typeof WeakMap=="function"?WeakMap:Map,Mt=0,$t=null,ft=null,vt=0,_t=0,zi=null,Tr=!1,tc=!1,XC=!1,jo=0,pn=0,Dr=0,Na=0,QC=0,ji=0,nc=0,hd=null,Ai=null,ZC=!1,Qf=0,gT=0,Zf=1/0,Jf=null,Pr=null,_n=0,Ar=null,ic=null,Uo=0,JC=0,ew=null,pT=null,fd=0,tw=null;function Ui(){return(Mt&2)!==0&&vt!==0?vt&-vt:V.T!==null?aw():ve()}function mT(){if(ji===0)if((vt&536870912)===0||Tt){var a=lt;lt<<=1,(lt&3932160)===0&&(lt=262144),ji=a}else ji=536870912;return a=Bi.current,a!==null&&(a.flags|=32),ji}function Fi(a,c,h){(a===$t&&(_t===2||_t===9)||a.cancelPendingCommit!==null)&&(sc(a,0),Fr(a,vt,ji,!1)),ht(a,h),((Mt&2)===0||a!==$t)&&(a===$t&&((Mt&2)===0&&(Na|=h),pn===4&&Fr(a,vt,ji,!1)),io(a))}function vT(a,c,h){if((Mt&6)!==0)throw Error(i(327));var p=!h&&(c&127)===0&&(c&a.expiredLanes)===0||Dn(a,c),w=p?wB(a,c):iw(a,c,!0),b=p;do{if(w===0){tc&&!p&&Fr(a,c,0,!1);break}else{if(h=a.current.alternate,b&&!vB(h)){w=iw(a,c,!1),b=!1;continue}if(w===2){if(b=c,a.errorRecoveryDisabledLanes&b)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var k=a;w=hd;var G=k.current.memoizedState.isDehydrated;if(G&&(sc(k,P).flags|=256),P=iw(k,P,!1),P!==2){if(XC&&!G){k.errorRecoveryDisabledLanes|=b,Na|=b,w=4;break e}b=Ai,Ai=w,b!==null&&(Ai===null?Ai=b:Ai.push.apply(Ai,b))}w=P}if(b=!1,w!==2)continue}}if(w===1){sc(a,0),Fr(a,c,0,!0);break}e:{switch(p=a,b=w,b){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Fr(p,c,ji,!Tr);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(w=Qf+300-Ye(),10<w)){if(Fr(p,c,ji,!Tr),dn(p,0,!0)!==0)break e;Uo=c,p.timeoutHandle=qT(CT.bind(null,p,h,Ai,Jf,ZC,c,ji,Na,nc,Tr,b,"Throttled",-0,0),w);break e}CT(p,h,Ai,Jf,ZC,c,ji,Na,nc,Tr,b,null,-0,0)}}break}while(!0);io(a)}function CT(a,c,h,p,w,b,P,k,G,J,le,de,ne,se){if(a.timeoutHandle=-1,de=c.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ao},uT(c,b,de);var De=(b&62914560)===b?Qf-Ye():(b&4194048)===b?gT-Ye():0;if(De=tG(de,De),De!==null){Uo=b,a.cancelPendingCommit=De(TT.bind(null,a,c,b,h,p,w,P,k,G,le,de,null,ne,se)),Fr(a,b,P,!J);return}}TT(a,c,b,h,p,w,P,k,G)}function vB(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var w=h[p],b=w.getSnapshot;w=w.value;try{if(!Vi(b(),w))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Fr(a,c,h,p){c&=~QC,c&=~Na,a.suspendedLanes|=c,a.pingedLanes&=~c,p&&(a.warmLanes|=c),p=a.expirationTimes;for(var w=c;0<w;){var b=31-Bt(w),P=1<<b;p[b]=-1,w&=~P}h!==0&&Ri(a,h,c)}function eg(){return(Mt&6)===0?(gd(0),!1):!0}function nw(){if(ft!==null){if(_t===0)var a=ft.return;else a=ft,Io=Pa=null,CC(a),ql=null,Xu=0,a=ft;for(;a!==null;)YE(a.alternate,a),a=a.return;ft=null}}function sc(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,NB(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Uo=0,nw(),$t=a,ft=h=Mo(a.current,null),vt=c,_t=0,zi=null,Tr=!1,tc=Dn(a,c),XC=!1,nc=ji=QC=Na=Dr=pn=0,Ai=hd=null,ZC=!1,(c&8)!==0&&(c|=c&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=c;0<p;){var w=31-Bt(p),b=1<<w;c|=a[w],p&=~b}return jo=c,bf(),h}function wT(a,c){ot=null,V.H=sd,c===Kl||c===Af?(c=L1(),_t=3):c===rC?(c=L1(),_t=4):_t=c===OC?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,zi=c,ft===null&&(pn=1,jf(a,os(c,a.current)))}function yT(){var a=Bi.current;return a===null?!0:(vt&4194048)===vt?cs===null:(vt&62914560)===vt||(vt&536870912)!==0?a===cs:!1}function bT(){var a=V.H;return V.H=sd,a===null?sd:a}function ST(){var a=V.A;return V.A=pB,a}function tg(){pn=4,Tr||(vt&4194048)!==vt&&Bi.current!==null||(tc=!0),(Dr&134217727)===0&&(Na&134217727)===0||$t===null||Fr($t,vt,ji,!1)}function iw(a,c,h){var p=Mt;Mt|=2;var w=bT(),b=ST();($t!==a||vt!==c)&&(Jf=null,sc(a,c)),c=!1;var P=pn;e:do try{if(_t!==0&&ft!==null){var k=ft,G=zi;switch(_t){case 8:nw(),P=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(c=!0);var J=_t;if(_t=0,zi=null,oc(a,k,G,J),h&&tc){P=0;break e}break;default:J=_t,_t=0,zi=null,oc(a,k,G,J)}}CB(),P=pn;break}catch(le){wT(a,le)}while(!0);return c&&a.shellSuspendCounter++,Io=Pa=null,Mt=p,V.H=w,V.A=b,ft===null&&($t=null,vt=0,bf()),P}function CB(){for(;ft!==null;)RT(ft)}function wB(a,c){var h=Mt;Mt|=2;var p=bT(),w=ST();$t!==a||vt!==c?(Jf=null,Zf=Ye()+500,sc(a,c)):tc=Dn(a,c);e:do try{if(_t!==0&&ft!==null){c=ft;var b=zi;t:switch(_t){case 1:_t=0,zi=null,oc(a,c,b,1);break;case 2:case 9:if(I1(b)){_t=0,zi=null,xT(c);break}c=function(){_t!==2&&_t!==9||$t!==a||(_t=7),io(a)},b.then(c,c);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:I1(b)?(_t=0,zi=null,xT(c)):(_t=0,zi=null,oc(a,c,b,7));break;case 5:var P=null;switch(ft.tag){case 26:P=ft.memoizedState;case 5:case 27:var k=ft;if(P?cD(P):k.stateNode.complete){_t=0,zi=null;var G=k.sibling;if(G!==null)ft=G;else{var J=k.return;J!==null?(ft=J,ng(J)):ft=null}break t}}_t=0,zi=null,oc(a,c,b,5);break;case 6:_t=0,zi=null,oc(a,c,b,6);break;case 8:nw(),pn=6;break e;default:throw Error(i(462))}}yB();break}catch(le){wT(a,le)}while(!0);return Io=Pa=null,V.H=p,V.A=w,Mt=h,ft!==null?0:($t=null,vt=0,bf(),pn)}function yB(){for(;ft!==null&&!et();)RT(ft)}function RT(a){var c=KE(a.alternate,a,jo);a.memoizedProps=a.pendingProps,c===null?ng(a):ft=c}function xT(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=GE(h,c,c.pendingProps,c.type,void 0,vt);break;case 11:c=GE(h,c,c.pendingProps,c.type.render,c.ref,vt);break;case 5:CC(c);default:YE(h,c),c=ft=S1(c,jo),c=KE(h,c,jo)}a.memoizedProps=a.pendingProps,c===null?ng(a):ft=c}function oc(a,c,h,p){Io=Pa=null,CC(c),ql=null,Xu=0;var w=c.return;try{if(lB(a,w,c,h,vt)){pn=1,jf(a,os(h,a.current)),ft=null;return}}catch(b){if(w!==null)throw ft=w,b;pn=1,jf(a,os(h,a.current)),ft=null;return}c.flags&32768?(Tt||p===1?a=!0:tc||(vt&536870912)!==0?a=!1:(Tr=a=!0,(p===2||p===9||p===3||p===6)&&(p=Bi.current,p!==null&&p.tag===13&&(p.flags|=16384))),ET(c,a)):ng(c)}function ng(a){var c=a;do{if((c.flags&32768)!==0){ET(c,Tr);return}a=c.return;var h=dB(c.alternate,c,jo);if(h!==null){ft=h;return}if(c=c.sibling,c!==null){ft=c;return}ft=c=a}while(c!==null);pn===0&&(pn=5)}function ET(a,c){do{var h=hB(a.alternate,a);if(h!==null){h.flags&=32767,ft=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){ft=a;return}ft=a=h}while(a!==null);pn=6,ft=null}function TT(a,c,h,p,w,b,P,k,G){a.cancelPendingCommit=null;do ig();while(_n!==0);if((Mt&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(b=c.lanes|c.childLanes,b|=Wv,Js(a,h,b,P,k,G),a===$t&&(ft=$t=null,vt=0),ic=c,Ar=a,Uo=h,JC=b,ew=w,pT=p,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,xB(Be,function(){return MT(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null,w=$.p,$.p=2,P=Mt,Mt|=4;try{fB(a,c,h)}finally{Mt=P,$.p=w,V.T=p}}_n=1,DT(),PT(),AT()}}function DT(){if(_n===1){_n=0;var a=Ar,c=ic,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=V.T,V.T=null;var p=$.p;$.p=2;var w=Mt;Mt|=4;try{aT(c,a);var b=pw,P=f1(a.containerInfo),k=b.focusedElem,G=b.selectionRange;if(P!==k&&k&&k.ownerDocument&&h1(k.ownerDocument.documentElement,k)){if(G!==null&&Bv(k)){var J=G.start,le=G.end;if(le===void 0&&(le=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(le,k.value.length);else{var de=k.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var se=ne.getSelection(),De=k.textContent.length,$e=Math.min(G.start,De),jt=G.end===void 0?$e:Math.min(G.end,De);!se.extend&&$e>jt&&(P=jt,jt=$e,$e=P);var K=d1(k,$e),U=d1(k,jt);if(K&&U&&(se.rangeCount!==1||se.anchorNode!==K.node||se.anchorOffset!==K.offset||se.focusNode!==U.node||se.focusOffset!==U.offset)){var Z=de.createRange();Z.setStart(K.node,K.offset),se.removeAllRanges(),$e>jt?(se.addRange(Z),se.extend(U.node,U.offset)):(Z.setEnd(U.node,U.offset),se.addRange(Z))}}}}for(de=[],se=k;se=se.parentNode;)se.nodeType===1&&de.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ue=de[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}pg=!!gw,pw=gw=null}finally{Mt=w,$.p=p,V.T=h}}a.current=c,_n=2}}function PT(){if(_n===2){_n=0;var a=Ar,c=ic,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=V.T,V.T=null;var p=$.p;$.p=2;var w=Mt;Mt|=4;try{nT(a,c.alternate,c)}finally{Mt=w,$.p=p,V.T=h}}_n=3}}function AT(){if(_n===4||_n===3){_n=0,yt();var a=Ar,c=ic,h=Uo,p=pT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?_n=5:(_n=0,ic=Ar=null,FT(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(Pr=null),ge(h),c=c.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(sn,c,void 0,(c.current.flags&128)===128)}catch{}if(p!==null){c=V.T,w=$.p,$.p=2,V.T=null;try{for(var b=a.onRecoverableError,P=0;P<p.length;P++){var k=p[P];b(k.value,{componentStack:k.stack})}}finally{V.T=c,$.p=w}}(Uo&3)!==0&&ig(),io(a),w=a.pendingLanes,(h&261930)!==0&&(w&42)!==0?a===tw?fd++:(fd=0,tw=a):fd=0,gd(0)}}function FT(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,qu(c)))}function ig(){return DT(),PT(),AT(),MT()}function MT(){if(_n!==5)return!1;var a=Ar,c=JC;JC=0;var h=ge(Uo),p=V.T,w=$.p;try{$.p=32>h?32:h,V.T=null,h=ew,ew=null;var b=Ar,P=Uo;if(_n=0,ic=Ar=null,Uo=0,(Mt&6)!==0)throw Error(i(331));var k=Mt;if(Mt|=4,hT(b.current),cT(b,b.current,P,h),Mt=k,gd(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(sn,b)}catch{}return!0}finally{$.p=w,V.T=p,FT(a,c)}}function kT(a,c,h){c=os(h,c),c=IC(a.stateNode,c,2),a=Sr(a,c,2),a!==null&&(ht(a,2),io(a))}function Nt(a,c,h){if(a.tag===3)kT(a,a,h);else for(;c!==null;){if(c.tag===3){kT(c,a,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Pr===null||!Pr.has(p))){a=os(h,a),h=IE(2),p=Sr(c,h,2),p!==null&&(OE(h,p,c,a),ht(p,2),io(p));break}}c=c.return}}function sw(a,c,h){var p=a.pingCache;if(p===null){p=a.pingCache=new mB;var w=new Set;p.set(c,w)}else w=p.get(c),w===void 0&&(w=new Set,p.set(c,w));w.has(h)||(XC=!0,w.add(h),a=bB.bind(null,a,c,h),c.then(a,a))}function bB(a,c,h){var p=a.pingCache;p!==null&&p.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,$t===a&&(vt&h)===h&&(pn===4||pn===3&&(vt&62914560)===vt&&300>Ye()-Qf?(Mt&2)===0&&sc(a,0):QC|=h,nc===vt&&(nc=0)),io(a)}function IT(a,c){c===0&&(c=ii()),a=Ea(a,c),a!==null&&(ht(a,c),io(a))}function SB(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),IT(a,h)}function RB(a,c){var h=0;switch(a.tag){case 31:case 13:var p=a.stateNode,w=a.memoizedState;w!==null&&(h=w.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(c),IT(a,h)}function xB(a,c){return st(a,c)}var sg=null,rc=null,ow=!1,og=!1,rw=!1,Mr=0;function io(a){a!==rc&&a.next===null&&(rc===null?sg=rc=a:rc=rc.next=a),og=!0,ow||(ow=!0,TB())}function gd(a,c){if(!rw&&og){rw=!0;do for(var h=!1,p=sg;p!==null;){if(a!==0){var w=p.pendingLanes;if(w===0)var b=0;else{var P=p.suspendedLanes,k=p.pingedLanes;b=(1<<31-Bt(42|a)+1)-1,b&=w&~(P&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,NT(p,b))}else b=vt,b=dn(p,p===$t?b:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(b&3)===0||Dn(p,b)||(h=!0,NT(p,b));p=p.next}while(h);rw=!1}}function EB(){OT()}function OT(){og=ow=!1;var a=0;Mr!==0&&_B()&&(a=Mr);for(var c=Ye(),h=null,p=sg;p!==null;){var w=p.next,b=LT(p,c);b===0?(p.next=null,h===null?sg=w:h.next=w,w===null&&(rc=h)):(h=p,(a!==0||(b&3)!==0)&&(og=!0)),p=w}_n!==0&&_n!==5||gd(a),Mr!==0&&(Mr=0)}function LT(a,c){for(var h=a.suspendedLanes,p=a.pingedLanes,w=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var P=31-Bt(b),k=1<<P,G=w[P];G===-1?((k&h)===0||(k&p)!==0)&&(w[P]=Si(k,c)):G<=c&&(a.expiredLanes|=k),b&=~k}if(c=$t,h=vt,h=dn(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,h===0||a===c&&(_t===2||_t===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&xe(p),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Dn(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(p!==null&&xe(p),ge(h)){case 2:case 8:h=je;break;case 32:h=Be;break;case 268435456:h=qt;break;default:h=Be}return p=_T.bind(null,a),h=st(h,p),a.callbackPriority=c,a.callbackNode=h,c}return p!==null&&p!==null&&xe(p),a.callbackPriority=2,a.callbackNode=null,2}function _T(a,c){if(_n!==0&&_n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(ig()&&a.callbackNode!==h)return null;var p=vt;return p=dn(a,a===$t?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(vT(a,p,c),LT(a,Ye()),a.callbackNode!=null&&a.callbackNode===h?_T.bind(null,a):null)}function NT(a,c){if(ig())return null;vT(a,c,!0)}function TB(){VB(function(){(Mt&6)!==0?st(Ht,EB):OT()})}function aw(){if(Mr===0){var a=Wl;a===0&&(a=yn,yn<<=1,(yn&261888)===0&&(yn=256)),Mr=a}return Mr}function VT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ff(""+a)}function HT(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function DB(a,c,h,p,w){if(c==="submit"&&h&&h.stateNode===w){var b=VT((w[Ee]||null).action),P=p.submitter;P&&(c=(c=P[Ee]||null)?VT(c.formAction):P.getAttribute("formAction"),c!==null&&(b=c,P=null));var k=new vf("action","action",null,p,w);a.push({event:k,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Mr!==0){var G=P?HT(w,P):new FormData(w);DC(h,{pending:!0,data:G,method:w.method,action:b},null,G)}}else typeof b=="function"&&(k.preventDefault(),G=P?HT(w,P):new FormData(w),DC(h,{pending:!0,data:G,method:w.method,action:b},b,G))},currentTarget:w}]})}}for(var lw=0;lw<Uv.length;lw++){var cw=Uv[lw],PB=cw.toLowerCase(),AB=cw[0].toUpperCase()+cw.slice(1);ks(PB,"on"+AB)}ks(m1,"onAnimationEnd"),ks(v1,"onAnimationIteration"),ks(C1,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(WH,"onTransitionRun"),ks($H,"onTransitionStart"),ks(KH,"onTransitionCancel"),ks(w1,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pd));function BT(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var p=a[h],w=p.event;p=p.listeners;e:{var b=void 0;if(c)for(var P=p.length-1;0<=P;P--){var k=p[P],G=k.instance,J=k.currentTarget;if(k=k.listener,G!==b&&w.isPropagationStopped())break e;b=k,w.currentTarget=J;try{b(w)}catch(le){yf(le)}w.currentTarget=null,b=G}else for(P=0;P<p.length;P++){if(k=p[P],G=k.instance,J=k.currentTarget,k=k.listener,G!==b&&w.isPropagationStopped())break e;b=k,w.currentTarget=J;try{b(w)}catch(le){yf(le)}w.currentTarget=null,b=G}}}}function gt(a,c){var h=c[We];h===void 0&&(h=c[We]=new Set);var p=a+"__bubble";h.has(p)||(GT(c,a,2,!1),h.add(p))}function uw(a,c,h){var p=0;c&&(p|=4),GT(h,a,p,c)}var rg="_reactListening"+Math.random().toString(36).slice(2);function dw(a){if(!a[rg]){a[rg]=!0,As.forEach(function(h){h!=="selectionchange"&&(FB.has(h)||uw(h,!1,a),uw(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[rg]||(c[rg]=!0,uw("selectionchange",!1,c))}}function GT(a,c,h,p){switch(mD(c)){case 2:var w=sG;break;case 8:w=oG;break;default:w=Tw}h=w.bind(null,c,h,a),w=void 0,!Mv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),p?w!==void 0?a.addEventListener(c,h,{capture:!0,passive:w}):a.addEventListener(c,h,!0):w!==void 0?a.addEventListener(c,h,{passive:w}):a.addEventListener(c,h,!1)}function hw(a,c,h,p,w){var b=p;if((c&1)===0&&(c&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var k=p.stateNode.containerInfo;if(k===w)break;if(P===4)for(P=p.return;P!==null;){var G=P.tag;if((G===3||G===4)&&P.stateNode.containerInfo===w)return;P=P.return}for(;k!==null;){if(P=fn(k),P===null)return;if(G=P.tag,G===5||G===6||G===26||G===27){p=b=P;continue e}k=k.parentNode}}p=p.return}$x(function(){var J=b,le=Av(h),de=[];e:{var ne=y1.get(a);if(ne!==void 0){var se=vf,De=a;switch(a){case"keypress":if(pf(h)===0)break e;case"keydown":case"keyup":se=RH;break;case"focusin":De="focus",se=Lv;break;case"focusout":De="blur",se=Lv;break;case"beforeblur":case"afterblur":se=Lv;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=dH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=TH;break;case m1:case v1:case C1:se=gH;break;case w1:se=PH;break;case"scroll":case"scrollend":se=cH;break;case"wheel":se=FH;break;case"copy":case"cut":case"paste":se=mH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Qx;break;case"toggle":case"beforetoggle":se=kH}var $e=(c&4)!==0,jt=!$e&&(a==="scroll"||a==="scrollend"),K=$e?ne!==null?ne+"Capture":null:ne;$e=[];for(var U=J,Z;U!==null;){var ue=U;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||K===null||(ue=Nu(U,K),ue!=null&&$e.push(md(U,ue,Z))),jt)break;U=U.return}0<$e.length&&(ne=new se(ne,De,null,h,le),de.push({event:ne,listeners:$e}))}}if((c&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",ne&&h!==Pv&&(De=h.relatedTarget||h.fromElement)&&(fn(De)||De[Oe]))break e;if((se||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,se?(De=h.relatedTarget||h.toElement,se=J,De=De?fn(De):null,De!==null&&(jt=o(De),$e=De.tag,De!==jt||$e!==5&&$e!==27&&$e!==6)&&(De=null)):(se=null,De=J),se!==De)){if($e=Yx,ue="onMouseLeave",K="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&($e=Qx,ue="onPointerLeave",K="onPointerEnter",U="pointer"),jt=se==null?ne:jn(se),Z=De==null?ne:jn(De),ne=new $e(ue,U+"leave",se,h,le),ne.target=jt,ne.relatedTarget=Z,ue=null,fn(le)===J&&($e=new $e(K,U+"enter",De,h,le),$e.target=Z,$e.relatedTarget=jt,ue=$e),jt=ue,se&&De)t:{for($e=MB,K=se,U=De,Z=0,ue=K;ue;ue=$e(ue))Z++;ue=0;for(var Ge=U;Ge;Ge=$e(Ge))ue++;for(;0<Z-ue;)K=$e(K),Z--;for(;0<ue-Z;)U=$e(U),ue--;for(;Z--;){if(K===U||U!==null&&K===U.alternate){$e=K;break t}K=$e(K),U=$e(U)}$e=null}else $e=null;se!==null&&zT(de,ne,se,$e,!1),De!==null&&jt!==null&&zT(de,jt,De,$e,!0)}}e:{if(ne=J?jn(J):window,se=ne.nodeName&&ne.nodeName.toLowerCase(),se==="select"||se==="input"&&ne.type==="file")var At=o1;else if(i1(ne))if(r1)At=zH;else{At=BH;var Ie=HH}else se=ne.nodeName,!se||se.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?J&&Dv(J.elementType)&&(At=o1):At=GH;if(At&&(At=At(a,J))){s1(de,At,h,le);break e}Ie&&Ie(a,ne,J),a==="focusout"&&J&&ne.type==="number"&&J.memoizedProps.value!=null&&Tv(ne,"number",ne.value)}switch(Ie=J?jn(J):window,a){case"focusin":(i1(Ie)||Ie.contentEditable==="true")&&(Nl=Ie,Gv=J,Wu=null);break;case"focusout":Wu=Gv=Nl=null;break;case"mousedown":zv=!0;break;case"contextmenu":case"mouseup":case"dragend":zv=!1,g1(de,h,le);break;case"selectionchange":if(UH)break;case"keydown":case"keyup":g1(de,h,le)}var rt;if(Nv)e:{switch(a){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else _l?t1(a,h)&&(Ct="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Ct="onCompositionStart");Ct&&(Zx&&h.locale!=="ko"&&(_l||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&_l&&(rt=Kx()):(pr=le,kv="value"in pr?pr.value:pr.textContent,_l=!0)),Ie=ag(J,Ct),0<Ie.length&&(Ct=new Xx(Ct,a,null,h,le),de.push({event:Ct,listeners:Ie}),rt?Ct.data=rt:(rt=n1(h),rt!==null&&(Ct.data=rt)))),(rt=OH?LH(a,h):_H(a,h))&&(Ct=ag(J,"onBeforeInput"),0<Ct.length&&(Ie=new Xx("onBeforeInput","beforeinput",null,h,le),de.push({event:Ie,listeners:Ct}),Ie.data=rt)),DB(de,a,J,h,le)}BT(de,c)})}function md(a,c,h){return{instance:a,listener:c,currentTarget:h}}function ag(a,c){for(var h=c+"Capture",p=[];a!==null;){var w=a,b=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||b===null||(w=Nu(a,h),w!=null&&p.unshift(md(a,w,b)),w=Nu(a,c),w!=null&&p.push(md(a,w,b))),a.tag===3)return p;a=a.return}return[]}function MB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function zT(a,c,h,p,w){for(var b=c._reactName,P=[];h!==null&&h!==p;){var k=h,G=k.alternate,J=k.stateNode;if(k=k.tag,G!==null&&G===p)break;k!==5&&k!==26&&k!==27||J===null||(G=J,w?(J=Nu(h,b),J!=null&&P.unshift(md(h,J,G))):w||(J=Nu(h,b),J!=null&&P.push(md(h,J,G)))),h=h.return}P.length!==0&&a.push({event:c,listeners:P})}var kB=/\r\n?/g,IB=/\u0000|\uFFFD/g;function jT(a){return(typeof a=="string"?a:""+a).replace(kB,`
`).replace(IB,"")}function UT(a,c){return c=jT(c),jT(a)===c}function zt(a,c,h,p,w,b){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||Il(a,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&Il(a,""+p);break;case"className":Ms(a,"class",p);break;case"tabIndex":Ms(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ms(a,h,p);break;case"style":Ux(a,p,b);break;case"data":if(c!=="object"){Ms(a,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=ff(""+p),a.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(c!=="input"&&zt(a,c,"name",w.name,w,null),zt(a,c,"formEncType",w.formEncType,w,null),zt(a,c,"formMethod",w.formMethod,w,null),zt(a,c,"formTarget",w.formTarget,w,null)):(zt(a,c,"encType",w.encType,w,null),zt(a,c,"method",w.method,w,null),zt(a,c,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(h);break}p=ff(""+p),a.setAttribute(h,p);break;case"onClick":p!=null&&(a.onclick=Ao);break;case"onScroll":p!=null&&gt("scroll",a);break;case"onScrollEnd":p!=null&&gt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}h=ff(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""+p):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":p===!0?a.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(h,p):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(h,p):a.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(h):a.setAttribute(h,p);break;case"popover":gt("beforetoggle",a),gt("toggle",a),bn(a,"popover",p);break;case"xlinkActuate":qn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":qn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":qn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":qn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":qn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":qn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":qn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":qn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":qn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":bn(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=aH.get(h)||h,bn(a,h,p))}}function fw(a,c,h,p,w,b){switch(h){case"style":Ux(a,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(h=p.__html,h!=null){if(w.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof p=="string"?Il(a,p):(typeof p=="number"||typeof p=="bigint")&&Il(a,""+p);break;case"onScroll":p!=null&&gt("scroll",a);break;case"onScrollEnd":p!=null&&gt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ni.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(w=h.endsWith("Capture"),c=h.slice(2,w?h.length-7:void 0),b=a[Ee]||null,b=b!=null?b[h]:null,typeof b=="function"&&a.removeEventListener(c,b,w),typeof p=="function")){typeof b!="function"&&b!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,p,w);break e}h in a?a[h]=p:p===!0?a.setAttribute(h,""):bn(a,h,p)}}}function Zn(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",a),gt("load",a);var p=!1,w=!1,b;for(b in h)if(h.hasOwnProperty(b)){var P=h[b];if(P!=null)switch(b){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:zt(a,c,b,P,h,null)}}w&&zt(a,c,"srcSet",h.srcSet,h,null),p&&zt(a,c,"src",h.src,h,null);return;case"input":gt("invalid",a);var k=b=P=w=null,G=null,J=null;for(p in h)if(h.hasOwnProperty(p)){var le=h[p];if(le!=null)switch(p){case"name":w=le;break;case"type":P=le;break;case"checked":G=le;break;case"defaultChecked":J=le;break;case"value":b=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,c));break;default:zt(a,c,p,le,h,null)}}Bx(a,b,k,G,J,P,w,!1);return;case"select":gt("invalid",a),p=P=b=null;for(w in h)if(h.hasOwnProperty(w)&&(k=h[w],k!=null))switch(w){case"value":b=k;break;case"defaultValue":P=k;break;case"multiple":p=k;default:zt(a,c,w,k,h,null)}c=b,h=P,a.multiple=!!p,c!=null?kl(a,!!p,c,!1):h!=null&&kl(a,!!p,h,!0);return;case"textarea":gt("invalid",a),b=w=p=null;for(P in h)if(h.hasOwnProperty(P)&&(k=h[P],k!=null))switch(P){case"value":p=k;break;case"defaultValue":w=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:zt(a,c,P,k,h,null)}zx(a,p,w,b);return;case"option":for(G in h)h.hasOwnProperty(G)&&(p=h[G],p!=null)&&(G==="selected"?a.selected=p&&typeof p!="function"&&typeof p!="symbol":zt(a,c,G,p,h,null));return;case"dialog":gt("beforetoggle",a),gt("toggle",a),gt("cancel",a),gt("close",a);break;case"iframe":case"object":gt("load",a);break;case"video":case"audio":for(p=0;p<pd.length;p++)gt(pd[p],a);break;case"image":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"embed":case"source":case"link":gt("error",a),gt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in h)if(h.hasOwnProperty(J)&&(p=h[J],p!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:zt(a,c,J,p,h,null)}return;default:if(Dv(c)){for(le in h)h.hasOwnProperty(le)&&(p=h[le],p!==void 0&&fw(a,c,le,p,h,void 0));return}}for(k in h)h.hasOwnProperty(k)&&(p=h[k],p!=null&&zt(a,c,k,p,h,null))}function OB(a,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,b=null,P=null,k=null,G=null,J=null,le=null;for(se in h){var de=h[se];if(h.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=de;default:p.hasOwnProperty(se)||zt(a,c,se,null,p,de)}}for(var ne in p){var se=p[ne];if(de=h[ne],p.hasOwnProperty(ne)&&(se!=null||de!=null))switch(ne){case"type":b=se;break;case"name":w=se;break;case"checked":J=se;break;case"defaultChecked":le=se;break;case"value":P=se;break;case"defaultValue":k=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,c));break;default:se!==de&&zt(a,c,ne,se,p,de)}}Ev(a,P,k,G,J,le,b,w);return;case"select":se=P=k=ne=null;for(b in h)if(G=h[b],h.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":se=G;default:p.hasOwnProperty(b)||zt(a,c,b,null,p,G)}for(w in p)if(b=p[w],G=h[w],p.hasOwnProperty(w)&&(b!=null||G!=null))switch(w){case"value":ne=b;break;case"defaultValue":k=b;break;case"multiple":P=b;default:b!==G&&zt(a,c,w,b,p,G)}c=k,h=P,p=se,ne!=null?kl(a,!!h,ne,!1):!!p!=!!h&&(c!=null?kl(a,!!h,c,!0):kl(a,!!h,h?[]:"",!1));return;case"textarea":se=ne=null;for(k in h)if(w=h[k],h.hasOwnProperty(k)&&w!=null&&!p.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:zt(a,c,k,null,p,w)}for(P in p)if(w=p[P],b=h[P],p.hasOwnProperty(P)&&(w!=null||b!=null))switch(P){case"value":ne=w;break;case"defaultValue":se=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==b&&zt(a,c,P,w,p,b)}Gx(a,ne,se);return;case"option":for(var De in h)ne=h[De],h.hasOwnProperty(De)&&ne!=null&&!p.hasOwnProperty(De)&&(De==="selected"?a.selected=!1:zt(a,c,De,null,p,ne));for(G in p)ne=p[G],se=h[G],p.hasOwnProperty(G)&&ne!==se&&(ne!=null||se!=null)&&(G==="selected"?a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":zt(a,c,G,ne,p,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in h)ne=h[$e],h.hasOwnProperty($e)&&ne!=null&&!p.hasOwnProperty($e)&&zt(a,c,$e,null,p,ne);for(J in p)if(ne=p[J],se=h[J],p.hasOwnProperty(J)&&ne!==se&&(ne!=null||se!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,c));break;default:zt(a,c,J,ne,p,se)}return;default:if(Dv(c)){for(var jt in h)ne=h[jt],h.hasOwnProperty(jt)&&ne!==void 0&&!p.hasOwnProperty(jt)&&fw(a,c,jt,void 0,p,ne);for(le in p)ne=p[le],se=h[le],!p.hasOwnProperty(le)||ne===se||ne===void 0&&se===void 0||fw(a,c,le,ne,p,se);return}}for(var K in h)ne=h[K],h.hasOwnProperty(K)&&ne!=null&&!p.hasOwnProperty(K)&&zt(a,c,K,null,p,ne);for(de in p)ne=p[de],se=h[de],!p.hasOwnProperty(de)||ne===se||ne==null&&se==null||zt(a,c,de,ne,p,se)}function WT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,h=performance.getEntriesByType("resource"),p=0;p<h.length;p++){var w=h[p],b=w.transferSize,P=w.initiatorType,k=w.duration;if(b&&k&&WT(P)){for(P=0,k=w.responseEnd,p+=1;p<h.length;p++){var G=h[p],J=G.startTime;if(J>k)break;var le=G.transferSize,de=G.initiatorType;le&&WT(de)&&(G=G.responseEnd,P+=le*(G<k?1:(k-J)/(G-J)))}if(--p,c+=8*(b+P)/(w.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var gw=null,pw=null;function lg(a){return a.nodeType===9?a:a.ownerDocument}function $T(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function KT(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function mw(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var vw=null;function _B(){var a=window.event;return a&&a.type==="popstate"?a===vw?!1:(vw=a,!0):(vw=null,!1)}var qT=typeof setTimeout=="function"?setTimeout:void 0,NB=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,VB=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(a){return YT.resolve(null).then(a).catch(HB)}:qT;function HB(a){setTimeout(function(){throw a})}function kr(a){return a==="head"}function XT(a,c){var h=c,p=0;do{var w=h.nextSibling;if(a.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"||h==="/&"){if(p===0){a.removeChild(w),uc(c);return}p--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")p++;else if(h==="html")vd(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,vd(h);for(var b=h.firstChild;b;){var P=b.nextSibling,k=b.nodeName;b[on]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||h.removeChild(b),b=P}}else h==="body"&&vd(a.ownerDocument.body);h=w}while(h);uc(c)}function QT(a,c){var h=a;a=0;do{var p=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),p&&p.nodeType===8)if(h=p.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=p}while(h)}function Cw(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Cw(h),hn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function BB(a,c,h,p){for(;a.nodeType===1;){var w=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[on])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var b=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=us(a.nextSibling),a===null)break}return null}function GB(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=us(a.nextSibling),a===null))return null;return a}function ZT(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=us(a.nextSibling),a===null))return null;return a}function ww(a){return a.data==="$?"||a.data==="$~"}function yw(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function zB(a,c){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||h.readyState!=="loading")c();else{var p=function(){c(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function us(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var bw=null;function JT(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(c===0)return us(a.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}a=a.nextSibling}return null}function eD(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return a;c--}else h!=="/$"&&h!=="/&"||c++}a=a.previousSibling}return null}function tD(a,c,h){switch(c=lg(h),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function vd(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);hn(a)}var ds=new Map,nD=new Set;function cg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wo=$.d;$.d={f:jB,r:UB,D:WB,C:$B,L:KB,m:qB,X:XB,S:YB,M:QB};function jB(){var a=Wo.f(),c=eg();return a||c}function UB(a){var c=Rt(a);c!==null&&c.tag===5&&c.type==="form"?wE(c):Wo.r(a)}var ac=typeof document>"u"?null:document;function iD(a,c,h){var p=ac;if(p&&typeof c=="string"&&c){var w=is(c);w='link[rel="'+a+'"][href="'+w+'"]',typeof h=="string"&&(w+='[crossorigin="'+h+'"]'),nD.has(w)||(nD.add(w),a={rel:a,crossOrigin:h,href:c},p.querySelector(w)===null&&(c=p.createElement("link"),Zn(c,"link",a),Jt(c),p.head.appendChild(c)))}}function WB(a){Wo.D(a),iD("dns-prefetch",a,null)}function $B(a,c){Wo.C(a,c),iD("preconnect",a,c)}function KB(a,c,h){Wo.L(a,c,h);var p=ac;if(p&&a&&c){var w='link[rel="preload"][as="'+is(c)+'"]';c==="image"&&h&&h.imageSrcSet?(w+='[imagesrcset="'+is(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(w+='[imagesizes="'+is(h.imageSizes)+'"]')):w+='[href="'+is(a)+'"]';var b=w;switch(c){case"style":b=lc(a);break;case"script":b=cc(a)}ds.has(b)||(a=g({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),ds.set(b,a),p.querySelector(w)!==null||c==="style"&&p.querySelector(Cd(b))||c==="script"&&p.querySelector(wd(b))||(c=p.createElement("link"),Zn(c,"link",a),Jt(c),p.head.appendChild(c)))}}function qB(a,c){Wo.m(a,c);var h=ac;if(h&&a){var p=c&&typeof c.as=="string"?c.as:"script",w='link[rel="modulepreload"][as="'+is(p)+'"][href="'+is(a)+'"]',b=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=cc(a)}if(!ds.has(b)&&(a=g({rel:"modulepreload",href:a},c),ds.set(b,a),h.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(wd(b)))return}p=h.createElement("link"),Zn(p,"link",a),Jt(p),h.head.appendChild(p)}}}function YB(a,c,h){Wo.S(a,c,h);var p=ac;if(p&&a){var w=xi(p).hoistableStyles,b=lc(a);c=c||"default";var P=w.get(b);if(!P){var k={loading:0,preload:null};if(P=p.querySelector(Cd(b)))k.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":c},h),(h=ds.get(b))&&Sw(a,h);var G=P=p.createElement("link");Jt(G),Zn(G,"link",a),G._p=new Promise(function(J,le){G.onload=J,G.onerror=le}),G.addEventListener("load",function(){k.loading|=1}),G.addEventListener("error",function(){k.loading|=2}),k.loading|=4,ug(P,c,p)}P={type:"stylesheet",instance:P,count:1,state:k},w.set(b,P)}}}function XB(a,c){Wo.X(a,c);var h=ac;if(h&&a){var p=xi(h).hoistableScripts,w=cc(a),b=p.get(w);b||(b=h.querySelector(wd(w)),b||(a=g({src:a,async:!0},c),(c=ds.get(w))&&Rw(a,c),b=h.createElement("script"),Jt(b),Zn(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(w,b))}}function QB(a,c){Wo.M(a,c);var h=ac;if(h&&a){var p=xi(h).hoistableScripts,w=cc(a),b=p.get(w);b||(b=h.querySelector(wd(w)),b||(a=g({src:a,async:!0,type:"module"},c),(c=ds.get(w))&&Rw(a,c),b=h.createElement("script"),Jt(b),Zn(b,"link",a),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(w,b))}}function sD(a,c,h,p){var w=(w=Ce.current)?cg(w):null;if(!w)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=lc(h.href),h=xi(w).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=lc(h.href);var b=xi(w).hoistableStyles,P=b.get(a);if(P||(w=w.ownerDocument||w,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,P),(b=w.querySelector(Cd(a)))&&!b._p&&(P.instance=b,P.state.loading=5),ds.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ds.set(a,h),b||ZB(w,a,h,P.state))),c&&p===null)throw Error(i(528,""));return P}if(c&&p!==null)throw Error(i(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=cc(h),h=xi(w).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function lc(a){return'href="'+is(a)+'"'}function Cd(a){return'link[rel="stylesheet"]['+a+"]"}function oD(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function ZB(a,c,h,p){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=a.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),Zn(c,"link",h),Jt(c),a.head.appendChild(c))}function cc(a){return'[src="'+is(a)+'"]'}function wd(a){return"script[async]"+a}function rD(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=a.querySelector('style[data-href~="'+is(h.href)+'"]');if(p)return c.instance=p,Jt(p),p;var w=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Jt(p),Zn(p,"style",w),ug(p,h.precedence,a),c.instance=p;case"stylesheet":w=lc(h.href);var b=a.querySelector(Cd(w));if(b)return c.state.loading|=4,c.instance=b,Jt(b),b;p=oD(h),(w=ds.get(w))&&Sw(p,w),b=(a.ownerDocument||a).createElement("link"),Jt(b);var P=b;return P._p=new Promise(function(k,G){P.onload=k,P.onerror=G}),Zn(b,"link",p),c.state.loading|=4,ug(b,h.precedence,a),c.instance=b;case"script":return b=cc(h.src),(w=a.querySelector(wd(b)))?(c.instance=w,Jt(w),w):(p=h,(w=ds.get(b))&&(p=g({},h),Rw(p,w)),a=a.ownerDocument||a,w=a.createElement("script"),Jt(w),Zn(w,"link",p),a.head.appendChild(w),c.instance=w);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(p=c.instance,c.state.loading|=4,ug(p,h.precedence,a));return c.instance}function ug(a,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,b=w,P=0;P<p.length;P++){var k=p[P];if(k.dataset.precedence===c)b=k;else if(b!==w)break}b?b.parentNode.insertBefore(a,b.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function Sw(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function Rw(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var dg=null;function aD(a,c,h){if(dg===null){var p=new Map,w=dg=new Map;w.set(h,p)}else w=dg,p=w.get(h),p||(p=new Map,w.set(h,p));if(p.has(a))return p;for(p.set(a,null),h=h.getElementsByTagName(a),w=0;w<h.length;w++){var b=h[w];if(!(b[on]||b[Se]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var P=b.getAttribute(c)||"";P=a+P;var k=p.get(P);k?k.push(b):p.set(P,[b])}}return p}function lD(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function JB(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(a=c.disabled,typeof c.precedence=="string"&&a==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function cD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function eG(a,c,h,p){if(h.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var w=lc(p.href),b=c.querySelector(Cd(w));if(b){c=b._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=hg.bind(a),c.then(a,a)),h.state.loading|=4,h.instance=b,Jt(b);return}b=c.ownerDocument||c,p=oD(p),(w=ds.get(w))&&Sw(p,w),b=b.createElement("link"),Jt(b);var P=b;P._p=new Promise(function(k,G){P.onload=k,P.onerror=G}),Zn(b,"link",p),h.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=hg.bind(a),c.addEventListener("load",h),c.addEventListener("error",h))}}var xw=0;function tG(a,c){return a.stylesheets&&a.count===0&&gg(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var p=setTimeout(function(){if(a.stylesheets&&gg(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+c);0<a.imgBytes&&xw===0&&(xw=62500*LB());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&gg(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>xw?50:800)+c);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function hg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var fg=null;function gg(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,fg=new Map,c.forEach(nG,a),fg=null,hg.call(a))}function nG(a,c){if(!(c.state.loading&4)){var h=fg.get(a);if(h)var p=h.get(null);else{h=new Map,fg.set(a,h);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<w.length;b++){var P=w[b];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(h.set(P.dataset.precedence,P),p=P)}p&&h.set(null,p)}w=c.instance,P=w.getAttribute("data-precedence"),b=h.get(P)||p,b===p&&h.set(null,w),h.set(P,w),this.count++,p=hg.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),b?b.parentNode.insertBefore(w,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),c.state.loading|=4}}var yd={$$typeof:D,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function iG(a,c,h,p,w,b,P,k,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=b,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function uD(a,c,h,p,w,b,P,k,G,J,le,de){return a=new iG(a,c,h,P,G,J,le,de,k),c=1,b===!0&&(c|=24),b=Hi(3,null,null,c),a.current=b,b.stateNode=a,c=iC(),c.refCount++,a.pooledCache=c,c.refCount++,b.memoizedState={element:p,isDehydrated:h,cache:c},aC(b),a}function dD(a){return a?(a=Bl,a):Bl}function hD(a,c,h,p,w,b){w=dD(w),p.context===null?p.context=w:p.pendingContext=w,p=br(c),p.payload={element:h},b=b===void 0?null:b,b!==null&&(p.callback=b),h=Sr(a,p,c),h!==null&&(Fi(h,a,c),Zu(h,a,c))}function fD(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Ew(a,c){fD(a,c),(a=a.alternate)&&fD(a,c)}function gD(a){if(a.tag===13||a.tag===31){var c=Ea(a,67108864);c!==null&&Fi(c,a,67108864),Ew(a,67108864)}}function pD(a){if(a.tag===13||a.tag===31){var c=Ui();c=te(c);var h=Ea(a,c);h!==null&&Fi(h,a,c),Ew(a,c)}}var pg=!0;function sG(a,c,h,p){var w=V.T;V.T=null;var b=$.p;try{$.p=2,Tw(a,c,h,p)}finally{$.p=b,V.T=w}}function oG(a,c,h,p){var w=V.T;V.T=null;var b=$.p;try{$.p=8,Tw(a,c,h,p)}finally{$.p=b,V.T=w}}function Tw(a,c,h,p){if(pg){var w=Dw(p);if(w===null)hw(a,c,p,mg,h),vD(a,p);else if(aG(w,a,c,h,p))p.stopPropagation();else if(vD(a,p),c&4&&-1<rG.indexOf(a)){for(;w!==null;){var b=Rt(w);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var P=un(b.pendingLanes);if(P!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;P;){var G=1<<31-Bt(P);k.entanglements[1]|=G,P&=~G}io(b),(Mt&6)===0&&(Zf=Ye()+500,gd(0))}}break;case 31:case 13:k=Ea(b,2),k!==null&&Fi(k,b,2),eg(),Ew(b,2)}if(b=Dw(p),b===null&&hw(a,c,p,mg,h),b===w)break;w=b}w!==null&&p.stopPropagation()}else hw(a,c,p,null,h)}}function Dw(a){return a=Av(a),Pw(a)}var mg=null;function Pw(a){if(mg=null,a=fn(a),a!==null){var c=o(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=r(c),a!==null)return a;a=null}else if(h===31){if(a=l(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return mg=a,null}function mD(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Ht:return 2;case je:return 8;case Be:case Ze:return 32;case qt:return 268435456;default:return 32}default:return 32}}var Aw=!1,Ir=null,Or=null,Lr=null,bd=new Map,Sd=new Map,_r=[],rG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vD(a,c){switch(a){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":bd.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sd.delete(c.pointerId)}}function Rd(a,c,h,p,w,b){return a===null||a.nativeEvent!==b?(a={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:b,targetContainers:[w]},c!==null&&(c=Rt(c),c!==null&&gD(c)),a):(a.eventSystemFlags|=p,c=a.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),a)}function aG(a,c,h,p,w){switch(c){case"focusin":return Ir=Rd(Ir,a,c,h,p,w),!0;case"dragenter":return Or=Rd(Or,a,c,h,p,w),!0;case"mouseover":return Lr=Rd(Lr,a,c,h,p,w),!0;case"pointerover":var b=w.pointerId;return bd.set(b,Rd(bd.get(b)||null,a,c,h,p,w)),!0;case"gotpointercapture":return b=w.pointerId,Sd.set(b,Rd(Sd.get(b)||null,a,c,h,p,w)),!0}return!1}function CD(a){var c=fn(a.target);if(c!==null){var h=o(c);if(h!==null){if(c=h.tag,c===13){if(c=r(h),c!==null){a.blockedOn=c,Pe(a.priority,function(){pD(h)});return}}else if(c===31){if(c=l(h),c!==null){a.blockedOn=c,Pe(a.priority,function(){pD(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function vg(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Dw(a.nativeEvent);if(h===null){h=a.nativeEvent;var p=new h.constructor(h.type,h);Pv=p,h.target.dispatchEvent(p),Pv=null}else return c=Rt(h),c!==null&&gD(c),a.blockedOn=h,!1;c.shift()}return!0}function wD(a,c,h){vg(a)&&h.delete(c)}function lG(){Aw=!1,Ir!==null&&vg(Ir)&&(Ir=null),Or!==null&&vg(Or)&&(Or=null),Lr!==null&&vg(Lr)&&(Lr=null),bd.forEach(wD),Sd.forEach(wD)}function Cg(a,c){a.blockedOn===c&&(a.blockedOn=null,Aw||(Aw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lG)))}var wg=null;function yD(a){wg!==a&&(wg=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wg===a&&(wg=null);for(var c=0;c<a.length;c+=3){var h=a[c],p=a[c+1],w=a[c+2];if(typeof p!="function"){if(Pw(p||h)===null)continue;break}var b=Rt(h);b!==null&&(a.splice(c,3),c-=3,DC(b,{pending:!0,data:w,method:h.method,action:p},p,w))}}))}function uc(a){function c(G){return Cg(G,a)}Ir!==null&&Cg(Ir,a),Or!==null&&Cg(Or,a),Lr!==null&&Cg(Lr,a),bd.forEach(c),Sd.forEach(c);for(var h=0;h<_r.length;h++){var p=_r[h];p.blockedOn===a&&(p.blockedOn=null)}for(;0<_r.length&&(h=_r[0],h.blockedOn===null);)CD(h),h.blockedOn===null&&_r.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var w=h[p],b=h[p+1],P=w[Ee]||null;if(typeof b=="function")P||yD(h);else if(P){var k=null;if(b&&b.hasAttribute("formAction")){if(w=b,P=b[Ee]||null)k=P.formAction;else if(Pw(w)!==null)continue}else k=P.action;typeof k=="function"?h[p+1]=k:(h.splice(p,3),p-=3),yD(h)}}}function bD(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(P){return w=P})},focusReset:"manual",scroll:"manual"})}function c(){w!==null&&(w(),w=null),p||setTimeout(h,20)}function h(){if(!p&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),w!==null&&(w(),w=null)}}}function Fw(a){this._internalRoot=a}yg.prototype.render=Fw.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var h=c.current,p=Ui();hD(h,p,a,c,null,null)},yg.prototype.unmount=Fw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;hD(a.current,2,null,a,null,null),eg(),c[Oe]=null}};function yg(a){this._internalRoot=a}yg.prototype.unstable_scheduleHydration=function(a){if(a){var c=ve();a={blockedOn:null,target:a,priority:c};for(var h=0;h<_r.length&&c!==0&&c<_r[h].priority;h++);_r.splice(h,0,a),h===0&&CD(a)}};var SD=t.version;if(SD!=="19.2.3")throw Error(i(527,SD,"19.2.3"));$.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(c),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var cG={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{sn=bg.inject(cG),bt=bg}catch{}}return Ed.createRoot=function(a,c){if(!s(a))throw Error(i(299));var h=!1,p="",w=AE,b=FE,P=ME;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(b=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=uD(a,1,!1,null,null,h,p,null,w,b,P,bD),a[Oe]=c.current,dw(a),new Fw(c)},Ed.hydrateRoot=function(a,c,h){if(!s(a))throw Error(i(299));var p=!1,w="",b=AE,P=FE,k=ME,G=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(k=h.onRecoverableError),h.formState!==void 0&&(G=h.formState)),c=uD(a,1,!0,c,h??null,p,w,G,b,P,k,bD),c.context=dD(null),h=c.current,p=Ui(),p=te(p),w=br(p),w.callback=null,Sr(h,w,p),h=p,c.current.lanes=h,ht(c,h),io(c),a[Oe]=c.current,dw(a),new yg(c)},Ed.version="19.2.3",Ed}var kD;function wG(){if(kD)return kw.exports;kD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kw.exports=CG(),kw.exports}var yG=wG(),Nw={exports:{}},Vw={};var ID;function bG(){if(ID)return Vw;ID=1;var e=Nh().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Vw.c=function(t){return e.H.useMemoCache(t)},Vw}var OD;function SG(){return OD||(OD=1,Nw.exports=bG()),Nw.exports}var Re=SG(),C=Nh();const he=Pk(C),Mm=dG({__proto__:null,default:he},[C]);var Fk=e=>{throw TypeError(e)},RG=(e,t,n)=>t.has(e)||Fk("Cannot "+n),Hw=(e,t,n)=>(RG(e,t,"read from private field"),n?n.call(e):t.get(e)),xG=(e,t,n)=>t.has(e)?Fk("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),LD="popstate";function EG(e={}){function t(i,s){let{pathname:o,search:r,hash:l}=i.location;return rh("",{pathname:o,search:r,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:bo(s)}return DG(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TG(){return Math.random().toString(36).substring(2,10)}function _D(e,t){return{usr:e.state,key:e.key,idx:t}}function rh(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ca(t):t,state:n,key:t&&t.key||i||TG()}}function bo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ca(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function DG(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,r=s.history,l="POP",u=null,d=f();d==null&&(d=0,r.replaceState({...r.state,idx:d},""));function f(){return(r.state||{idx:null}).idx}function g(){l="POP";let R=f(),x=R==null?null:R-d;d=R,u&&u({action:l,location:S.location,delta:x})}function m(R,x){l="PUSH";let T=rh(S.location,R,x);d=f()+1;let D=_D(T,d),M=S.createHref(T);try{r.pushState(D,"",M)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(M)}o&&u&&u({action:l,location:S.location,delta:1})}function v(R,x){l="REPLACE";let T=rh(S.location,R,x);d=f();let D=_D(T,d),M=S.createHref(T);r.replaceState(D,"",M),o&&u&&u({action:l,location:S.location,delta:0})}function y(R){return Mk(R)}let S={get action(){return l},get location(){return e(s,r)},listen(R){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(LD,g),u=R,()=>{s.removeEventListener(LD,g),u=null}},createHref(R){return t(s,R)},createURL:y,encodeLocation(R){let x=y(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(R){return r.go(R)}};return S}function Mk(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:bo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var _d,ND=class{constructor(e){if(xG(this,_d,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Hw(this,_d).has(e))return Hw(this,_d).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Hw(this,_d).set(e,t)}};_d=new WeakMap;var PG=new Set(["lazy","caseSensitive","path","id","index","children"]);function AG(e){return PG.has(e)}var FG=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function MG(e){return FG.has(e)}function kG(e){return e.index===!0}function ah(e,t,n=[],i={},s=!1){return e.map((o,r)=>{let l=[...n,String(r)],u=typeof o.id=="string"?o.id:l.join("-");if(dt(o.index!==!0||!o.children,"Cannot specify children on an index route"),dt(s||!i[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),kG(o)){let d={...o,id:u};return i[u]=VD(d,t(d)),d}else{let d={...o,id:u,children:void 0};return i[u]=VD(d,t(d)),o.children&&(d.children=ah(o.children,t,l,i,s)),d}})}function VD(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Kr(e,t,n="/"){return Nd(e,t,n,!1)}function Nd(e,t,n,i){let s=typeof t=="string"?ca(t):t,o=Ss(s.pathname||"/",n);if(o==null)return null;let r=kk(e);OG(r);let l=null;for(let u=0;l==null&&u<r.length;++u){let d=WG(o);l=jG(r[u],d,i)}return l}function IG(e,t){let{route:n,pathname:i,params:s}=e;return{id:n.id,pathname:i,params:s,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function kk(e,t=[],n=[],i="",s=!1){let o=(r,l,u=s,d)=>{let f={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;dt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let g=po([i,f.relativePath]),m=n.concat(f);r.children&&r.children.length>0&&(dt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kk(r.children,t,m,g,u)),!(r.path==null&&!r.index)&&t.push({path:g,score:GG(g,r.index),routesMeta:m})};return e.forEach((r,l)=>{if(r.path===""||!r.path?.includes("?"))o(r,l);else for(let u of Ik(r.path))o(r,l,!0,u)}),t}function Ik(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let r=Ik(i.join("/")),l=[];return l.push(...r.map(u=>u===""?o:[o,u].join("/"))),s&&l.push(...r),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function OG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zG(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var LG=/^:[\w-]+$/,_G=3,NG=2,VG=1,HG=10,BG=-2,HD=e=>e==="*";function GG(e,t){let n=e.split("/"),i=n.length;return n.some(HD)&&(i+=BG),t&&(i+=NG),n.filter(s=>!HD(s)).reduce((s,o)=>s+(LG.test(o)?_G:o===""?VG:HG),i)}function zG(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function jG(e,t,n=!1){let{routesMeta:i}=e,s={},o="/",r=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,f=o==="/"?t:t.slice(o.length)||"/",g=Mp({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!g&&d&&n&&!i[i.length-1].route.index&&(g=Mp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),r.push({params:s,pathname:po([o,g.pathname]),pathnameBase:qG(po([o,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(o=po([o,g.pathnameBase]))}return r}function Mp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=UG(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],r=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:g},m)=>{if(f==="*"){let y=l[m]||"";r=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[m];return g&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:r,pattern:e}}function UG(e,t=!1,n=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function WG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function $G({basename:e,pathname:t}){return t==="/"?e:po([e,t])}var Ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QS=e=>Ok.test(e);function KG(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?ca(e):e,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=BD(n.substring(1),"/"):o=BD(n,t)):o=t,{pathname:o,search:YG(i),hash:XG(s)}}function BD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bw(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Lk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZS(e){let t=Lk(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function JS(e,t,n,i=!1){let s;typeof e=="string"?s=ca(e):(s={...e},dt(!s.pathname||!s.pathname.includes("?"),Bw("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),Bw("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),Bw("#","search","hash",s)));let o=e===""||s.pathname==="",r=o?"/":s.pathname,l;if(r==null)l=n;else{let g=t.length-1;if(!i&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}l=g>=0?t[g]:"/"}let u=KG(s,l),d=r&&r!=="/"&&r.endsWith("/"),f=(o||r===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var po=e=>e.join("/").replace(/\/\/+/g,"/"),qG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Vh=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function lh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Hh(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nk(e,t){let n=e;if(typeof n!="string"||!Ok.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(_k)try{let o=new URL(window.location.href),r=n.startsWith("//")?new URL(o.protocol+n):new URL(n),l=Ss(r.pathname,t);r.origin===o.origin&&l!=null?n=l+r.search+r.hash:s=!0}catch{On(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}var Xr=Symbol("Uninstrumented");function QG(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(o){let r=Object.keys(n);for(let l of r)o[l]&&n[l].push(o[l])}}));let i={};if(typeof t.lazy=="function"&&n.lazy.length>0){let s=Mc(n.lazy,t.lazy,()=>{});s&&(i.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(o=>{let r=s[o],l=n[`lazy.${o}`];if(typeof r=="function"&&l.length>0){let u=Mc(l,r,()=>{});u&&(i.lazy=Object.assign(i.lazy||{},{[o]:u}))}})}return["loader","action"].forEach(s=>{let o=t[s];if(typeof o=="function"&&n[s].length>0){let r=o[Xr]??o,l=Mc(n[s],r,(...u)=>GD(u[0]));l&&(s==="loader"&&r.hydrate===!0&&(l.hydrate=!0),l[Xr]=r,i[s]=l)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(i.middleware=t.middleware.map(s=>{let o=s[Xr]??s,r=Mc(n.middleware,o,(...l)=>GD(l[0]));return r?(r[Xr]=o,r):s})),i}function ZG(e,t){let n={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(s){let o=Object.keys(s);for(let r of o)s[r]&&n[r].push(s[r])}})),n.navigate.length>0){let i=e.navigate[Xr]??e.navigate,s=Mc(n.navigate,i,(...o)=>{let[r,l]=o;return{to:typeof r=="number"||typeof r=="string"?r:r?bo(r):".",...zD(e,l??{})}});s&&(s[Xr]=i,e.navigate=s)}if(n.fetch.length>0){let i=e.fetch[Xr]??e.fetch,s=Mc(n.fetch,i,(...o)=>{let[r,,l,u]=o;return{href:l??".",fetcherKey:r,...zD(e,u??{})}});s&&(s[Xr]=i,e.fetch=s)}return e}function Mc(e,t,n){return e.length===0?null:async(...i)=>{let s=await Vk(e,n(...i),()=>t(...i),e.length-1);if(s.type==="error")throw s.value;return s.value}}async function Vk(e,t,n,i){let s=e[i],o;if(s){let r,l=async()=>(r?console.error("You cannot call instrumented handlers more than once"):r=Vk(e,t,n,i-1),o=await r,dt(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await s(l,t)}catch(u){console.error("An instrumentation function threw an error:",u)}r||await l(),await r}else try{o={type:"success",value:await n()}}catch(r){o={type:"error",value:r}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function GD(e){let{request:t,context:n,params:i,unstable_pattern:s}=e;return{request:JG(t),params:{...i},unstable_pattern:s,context:e4(n)}}function zD(e,t){return{currentUrl:bo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function JG(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function e4(e){if(n4(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var t4=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n4(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===t4}var Hk=["POST","PUT","PATCH","DELETE"],i4=new Set(Hk),s4=["GET",...Hk],o4=new Set(s4),Bk=new Set([301,302,303,307,308]),r4=new Set([307,308]),Gw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Td={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},l4=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Gk="remix-router-transitions",zk=Symbol("ResetLoaderData");function c4(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";dt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],s=e.mapRouteProperties||l4,o=s;if(e.unstable_instrumentations){let H=e.unstable_instrumentations;o=W=>({...s(W),...QG(H.map(te=>te.route).filter(Boolean),W)})}let r={},l=ah(e.routes,o,void 0,r),u,d=e.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=e.dataStrategy||g4,g={...e.future},m=null,v=new Set,y=null,S=null,R=null,x=e.hydrationData!=null,T=Kr(l,e.history.location,d),D=!1,M=null,F;if(T==null&&!e.patchRoutesOnNavigation){let H=fs(404,{pathname:e.history.location.pathname}),{matches:W,route:te}=Sg(l);F=!0,T=W,M={[te.id]:H}}else if(T&&!e.hydrationData&&ii(T,l,e.history.location.pathname).active&&(T=null),T)if(T.some(H=>H.route.lazy))F=!1;else if(!T.some(H=>e0(H.route)))F=!0;else{let H=e.hydrationData?e.hydrationData.loaderData:null,W=e.hydrationData?e.hydrationData.errors:null;if(W){let te=T.findIndex(ge=>W[ge.route.id]!==void 0);F=T.slice(0,te+1).every(ge=>!hb(ge.route,H,W))}else F=T.every(te=>!hb(te.route,H,W))}else{F=!1,T=[];let H=ii(null,l,e.history.location.pathname);H.active&&H.matches&&(D=!0,T=H.matches)}let I,A={historyAction:e.history.action,location:e.history.location,matches:T,initialized:F,navigation:Gw,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||M,fetchers:new Map,blockers:new Map},O="POP",_=null,B=!1,z,q=!1,oe=new Map,ce=null,Y=!1,V=!1,$=new Set,N=new Map,X=0,ie=-1,L=new Map,j=new Set,Q=new Map,re=new Map,me=new Set,Ce=new Map,pe,Ue=null;function qe(){if(m=e.history.listen(({action:H,location:W,delta:te})=>{if(pe){pe(),pe=void 0;return}On(Ce.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=lt({currentLocation:A.location,nextLocation:W,historyAction:H});if(ge&&te!=null){let ve=new Promise(Pe=>{pe=Pe});e.history.go(te*-1),yn(ge,{state:"blocked",location:W,proceed(){yn(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ve.then(()=>e.history.go(te))},reset(){let Pe=new Map(A.blockers);Pe.set(ge,Td),Ne({blockers:Pe})}}),_?.resolve(),_=null;return}return Ot(H,W)}),n){k4(t,oe);let H=()=>I4(t,oe);t.addEventListener("pagehide",H),ce=()=>t.removeEventListener("pagehide",H)}return A.initialized||Ot("POP",A.location,{initialHydration:!0}),I}function Ve(){m&&m(),ce&&ce(),v.clear(),z&&z.abort(),A.fetchers.forEach((H,W)=>ln(W)),A.blockers.forEach((H,W)=>zn(W))}function mt(H){return v.add(H),()=>v.delete(H)}function Ne(H,W={}){H.matches&&(H.matches=H.matches.map(ve=>{let Pe=r[ve.route.id],ye=ve.route;return ye.element!==Pe.element||ye.errorElement!==Pe.errorElement||ye.hydrateFallbackElement!==Pe.hydrateFallbackElement?{...ve,route:Pe}:ve})),A={...A,...H};let te=[],ge=[];A.fetchers.forEach((ve,Pe)=>{ve.state==="idle"&&(me.has(Pe)?te.push(Pe):ge.push(Pe))}),me.forEach(ve=>{!A.fetchers.has(ve)&&!N.has(ve)&&te.push(ve)}),[...v].forEach(ve=>ve(A,{deletedFetchers:te,newErrors:H.errors??null,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),te.forEach(ve=>ln(ve)),ge.forEach(ve=>A.fetchers.delete(ve))}function at(H,W,{flushSync:te}={}){let ge=A.actionData!=null&&A.navigation.formMethod!=null&&ri(A.navigation.formMethod)&&A.navigation.state==="loading"&&H.state?._isRedirect!==!0,ve;W.actionData?Object.keys(W.actionData).length>0?ve=W.actionData:ve=null:ge?ve=A.actionData:ve=null;let Pe=W.loaderData?ZD(A.loaderData,W.loaderData,W.matches||[],W.errors):A.loaderData,ye=A.blockers;ye.size>0&&(ye=new Map(ye),ye.forEach((We,He)=>ye.set(He,Td)));let Se=Y?!1:Si(H,W.matches||A.matches),Ee=B===!0||A.navigation.formMethod!=null&&ri(A.navigation.formMethod)&&H.state?._isRedirect!==!0;u&&(l=u,u=void 0),Y||O==="POP"||(O==="PUSH"?e.history.push(H,H.state):O==="REPLACE"&&e.history.replace(H,H.state));let Oe;if(O==="POP"){let We=oe.get(A.location.pathname);We&&We.has(H.pathname)?Oe={currentLocation:A.location,nextLocation:H}:oe.has(H.pathname)&&(Oe={currentLocation:H,nextLocation:A.location})}else if(q){let We=oe.get(A.location.pathname);We?We.add(H.pathname):(We=new Set([H.pathname]),oe.set(A.location.pathname,We)),Oe={currentLocation:A.location,nextLocation:H}}Ne({...W,actionData:ve,loaderData:Pe,historyAction:O,location:H,initialized:!0,navigation:Gw,revalidation:"idle",restoreScrollPosition:Se,preventScrollReset:Ee,blockers:ye},{viewTransitionOpts:Oe,flushSync:te===!0}),O="POP",B=!1,q=!1,Y=!1,V=!1,_?.resolve(),_=null,Ue?.resolve(),Ue=null}async function Dt(H,W){if(_?.resolve(),_=null,typeof H=="number"){_||(_=nP());let St=_.promise;return e.history.go(H),St}let te=db(A.location,A.matches,d,H,W?.fromRouteId,W?.relative),{path:ge,submission:ve,error:Pe}=jD(!1,te,W),ye=A.location,Se=rh(A.location,ge,W&&W.state);Se={...Se,...e.history.encodeLocation(Se)};let Ee=W&&W.replace!=null?W.replace:void 0,Oe="PUSH";Ee===!0?Oe="REPLACE":Ee===!1||ve!=null&&ri(ve.formMethod)&&ve.formAction===A.location.pathname+A.location.search&&(Oe="REPLACE");let We=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,He=(W&&W.flushSync)===!0,Pt=lt({currentLocation:ye,nextLocation:Se,historyAction:Oe});if(Pt){yn(Pt,{state:"blocked",location:Se,proceed(){yn(Pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Dt(H,W)},reset(){let St=new Map(A.blockers);St.set(Pt,Td),Ne({blockers:St})}});return}await Ot(Oe,Se,{submission:ve,pendingError:Pe,preventScrollReset:We,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:He,callSiteDefaultShouldRevalidate:W&&W.unstable_defaultShouldRevalidate})}function It(){Ue||(Ue=nP()),je(),Ne({revalidation:"loading"});let H=Ue.promise;return A.navigation.state==="submitting"?H:A.navigation.state==="idle"?(Ot(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),H):(Ot(O||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:q===!0}),H)}async function Ot(H,W,te){z&&z.abort(),z=null,O=H,Y=(te&&te.startUninterruptedRevalidation)===!0,Dn(A.location,A.matches),B=(te&&te.preventScrollReset)===!0,q=(te&&te.enableViewTransition)===!0;let ge=u||l,ve=te&&te.overrideNavigation,Pe=te?.initialHydration&&A.matches&&A.matches.length>0&&!D?A.matches:Kr(ge,W,d),ye=(te&&te.flushSync)===!0;if(Pe&&A.initialized&&!V&&S4(A.location,W)&&!(te&&te.submission&&ri(te.submission.formMethod))){at(W,{matches:Pe},{flushSync:ye});return}let Se=ii(Pe,ge,W.pathname);if(Se.active&&Se.matches&&(Pe=Se.matches),!Pe){let{error:hn,notFoundMatches:fn,route:Rt}=Tn(W.pathname);at(W,{matches:fn,loaderData:{},errors:{[Rt.id]:hn}},{flushSync:ye});return}z=new AbortController;let Ee=Ec(e.history,W,z.signal,te&&te.submission),Oe=e.getContext?await e.getContext():new ND,We;if(te&&te.pendingError)We=[qr(Pe).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&ri(te.submission.formMethod)){let hn=await Le(Ee,W,te.submission,Pe,Oe,Se.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:ye});if(hn.shortCircuited)return;if(hn.pendingActionResult){let[fn,Rt]=hn.pendingActionResult;if($i(Rt)&&lh(Rt.error)&&Rt.error.status===404){z=null,at(W,{matches:hn.matches,loaderData:{},errors:{[fn]:Rt.error}});return}}Pe=hn.matches||Pe,We=hn.pendingActionResult,ve=zw(W,te.submission),ye=!1,Se.active=!1,Ee=Ec(e.history,Ee.url,Ee.signal)}let{shortCircuited:He,matches:Pt,loaderData:St,errors:on}=await Je(Ee,W,Pe,Oe,Se.active,ve,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,ye,We,te&&te.callSiteDefaultShouldRevalidate);He||(z=null,at(W,{matches:Pt||Pe,...JD(We),loaderData:St,errors:on}))}async function Le(H,W,te,ge,ve,Pe,ye,Se={}){je();let Ee=F4(W,te);if(Ne({navigation:Ee},{flushSync:Se.flushSync===!0}),Pe){let He=await di(ge,W.pathname,H.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){if(He.partialMatches.length===0){let{matches:St,route:on}=Sg(l);return{matches:St,pendingActionResult:[on.id,{type:"error",error:He.error}]}}let Pt=qr(He.partialMatches).route.id;return{matches:He.partialMatches,pendingActionResult:[Pt,{type:"error",error:He.error}]}}else if(He.matches)ge=He.matches;else{let{notFoundMatches:Pt,error:St,route:on}=Tn(W.pathname);return{matches:Pt,pendingActionResult:[on.id,{type:"error",error:St}]}}}let Oe,We=np(ge,W);if(!We.route.action&&!We.route.lazy)Oe={type:"error",error:fs(405,{method:H.method,pathname:W.pathname,routeId:We.route.id})};else{let He=jc(o,r,H,ge,We,ye?[]:i,ve),Pt=await it(H,He,ve,null);if(Oe=Pt[We.route.id],!Oe){for(let St of ge)if(Pt[St.route.id]){Oe=Pt[St.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Qa(Oe)){let He;return Se&&Se.replace!=null?He=Se.replace:He=YD(Oe.response.headers.get("Location"),new URL(H.url),d,e.history)===A.location.pathname+A.location.search,await Ye(H,Oe,!0,{submission:te,replace:He}),{shortCircuited:!0}}if($i(Oe)){let He=qr(ge,We.route.id);return(Se&&Se.replace)!==!0&&(O="PUSH"),{matches:ge,pendingActionResult:[He.route.id,Oe,We.route.id]}}return{matches:ge,pendingActionResult:[We.route.id,Oe]}}async function Je(H,W,te,ge,ve,Pe,ye,Se,Ee,Oe,We,He,Pt){let St=Pe||zw(W,ye),on=ye||Se||tP(St),hn=!Y&&!Oe;if(ve){if(hn){let bn=nt(He);Ne({navigation:St,...bn!==void 0?{actionData:bn}:{}},{flushSync:We})}let xt=await di(te,W.pathname,H.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){if(xt.partialMatches.length===0){let{matches:Ms,route:qn}=Sg(l);return{matches:Ms,loaderData:{},errors:{[qn.id]:xt.error}}}let bn=qr(xt.partialMatches).route.id;return{matches:xt.partialMatches,loaderData:{},errors:{[bn]:xt.error}}}else if(xt.matches)te=xt.matches;else{let{error:bn,notFoundMatches:Ms,route:qn}=Tn(W.pathname);return{matches:Ms,loaderData:{},errors:{[qn.id]:bn}}}}let fn=u||l,{dsMatches:Rt,revalidatingFetchers:jn}=UD(H,ge,o,r,e.history,A,te,on,W,Oe?[]:i,Oe===!0,V,$,me,Q,j,fn,d,e.patchRoutesOnNavigation!=null,He,Pt);if(ie=++X,!e.dataStrategy&&!Rt.some(xt=>xt.shouldLoad)&&!Rt.some(xt=>xt.route.middleware&&xt.route.middleware.length>0)&&jn.length===0){let xt=Bt();return at(W,{matches:te,loaderData:{},errors:He&&$i(He[1])?{[He[0]]:He[1].error}:null,...JD(He),...xt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:We}),{shortCircuited:!0}}if(hn){let xt={};if(!ve){xt.navigation=St;let bn=nt(He);bn!==void 0&&(xt.actionData=bn)}jn.length>0&&(xt.fetchers=st(jn)),Ne(xt,{flushSync:We})}jn.forEach(xt=>{bt(xt.key),xt.controller&&N.set(xt.key,xt.controller)});let xi=()=>jn.forEach(xt=>bt(xt.key));z&&z.signal.addEventListener("abort",xi);let{loaderResults:Jt,fetcherResults:As}=await Ht(Rt,jn,H,ge);if(H.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",xi),jn.forEach(xt=>N.delete(xt.key));let Ni=Rg(Jt);if(Ni)return await Ye(H,Ni.result,!0,{replace:Ee}),{shortCircuited:!0};if(Ni=Rg(As),Ni)return j.add(Ni.key),await Ye(H,Ni.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:Fs,errors:ns}=QD(A,te,Jt,He,jn,As);Oe&&A.errors&&(ns={...A.errors,...ns});let Po=Bt(),wa=Gn(ie),ya=Po||wa||jn.length>0;return{matches:te,loaderData:Fs,errors:ns,...ya?{fetchers:new Map(A.fetchers)}:{}}}function nt(H){if(H&&!$i(H[1]))return{[H[0]]:H[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function st(H){return H.forEach(W=>{let te=A.fetchers.get(W.key),ge=Dd(void 0,te?te.data:void 0);A.fetchers.set(W.key,ge)}),new Map(A.fetchers)}async function xe(H,W,te,ge){bt(H);let ve=(ge&&ge.flushSync)===!0,Pe=u||l,ye=db(A.location,A.matches,d,te,W,ge?.relative),Se=Kr(Pe,ye,d),Ee=ii(Se,Pe,ye);if(Ee.active&&Ee.matches&&(Se=Ee.matches),!Se){Ze(H,W,fs(404,{pathname:ye}),{flushSync:ve});return}let{path:Oe,submission:We,error:He}=jD(!0,ye,ge);if(He){Ze(H,W,He,{flushSync:ve});return}let Pt=e.getContext?await e.getContext():new ND,St=(ge&&ge.preventScrollReset)===!0;if(We&&ri(We.formMethod)){await et(H,W,Oe,Se,Pt,Ee.active,ve,St,We,ge&&ge.unstable_defaultShouldRevalidate);return}Q.set(H,{routeId:W,path:Oe}),await yt(H,W,Oe,Se,Pt,Ee.active,ve,St,We)}async function et(H,W,te,ge,ve,Pe,ye,Se,Ee,Oe){je(),Q.delete(H);let We=A.fetchers.get(H);Be(H,M4(Ee,We),{flushSync:ye});let He=new AbortController,Pt=Ec(e.history,te,He.signal,Ee);if(Pe){let Et=await di(ge,new URL(Pt.url).pathname,Pt.signal,H);if(Et.type==="aborted")return;if(Et.type==="error"){Ze(H,W,Et.error,{flushSync:ye});return}else if(Et.matches)ge=Et.matches;else{Ze(H,W,fs(404,{pathname:te}),{flushSync:ye});return}}let St=np(ge,te);if(!St.route.action&&!St.route.lazy){let Et=fs(405,{method:Ee.formMethod,pathname:te,routeId:W});Ze(H,W,Et,{flushSync:ye});return}N.set(H,He);let on=X,hn=jc(o,r,Pt,ge,St,i,ve),fn=await it(Pt,hn,ve,H),Rt=fn[St.route.id];if(!Rt){for(let Et of hn)if(fn[Et.route.id]){Rt=fn[Et.route.id];break}}if(Pt.signal.aborted){N.get(H)===He&&N.delete(H);return}if(me.has(H)){if(Qa(Rt)||$i(Rt)){Be(H,qo(void 0));return}}else{if(Qa(Rt))if(N.delete(H),ie>on){Be(H,qo(void 0));return}else return j.add(H),Be(H,Dd(Ee)),Ye(Pt,Rt,!1,{fetcherSubmission:Ee,preventScrollReset:Se});if($i(Rt)){Ze(H,W,Rt.error);return}}let jn=A.navigation.location||A.location,xi=Ec(e.history,jn,He.signal),Jt=u||l,As=A.navigation.state!=="idle"?Kr(Jt,A.navigation.location,d):A.matches;dt(As,"Didn't find any matches after fetcher action");let Ni=++X;L.set(H,Ni);let Fs=Dd(Ee,Rt.data);A.fetchers.set(H,Fs);let{dsMatches:ns,revalidatingFetchers:Po}=UD(xi,ve,o,r,e.history,A,As,Ee,jn,i,!1,V,$,me,Q,j,Jt,d,e.patchRoutesOnNavigation!=null,[St.route.id,Rt],Oe);Po.filter(Et=>Et.key!==H).forEach(Et=>{let ba=Et.key,df=A.fetchers.get(ba),_u=Dd(void 0,df?df.data:void 0);A.fetchers.set(ba,_u),bt(ba),Et.controller&&N.set(ba,Et.controller)}),Ne({fetchers:new Map(A.fetchers)});let wa=()=>Po.forEach(Et=>bt(Et.key));He.signal.addEventListener("abort",wa);let{loaderResults:ya,fetcherResults:xt}=await Ht(ns,Po,xi,ve);if(He.signal.aborted)return;if(He.signal.removeEventListener("abort",wa),L.delete(H),N.delete(H),Po.forEach(Et=>N.delete(Et.key)),A.fetchers.has(H)){let Et=qo(Rt.data);A.fetchers.set(H,Et)}let bn=Rg(ya);if(bn)return Ye(xi,bn.result,!1,{preventScrollReset:Se});if(bn=Rg(xt),bn)return j.add(bn.key),Ye(xi,bn.result,!1,{preventScrollReset:Se});let{loaderData:Ms,errors:qn}=QD(A,As,ya,void 0,Po,xt);Gn(Ni),A.navigation.state==="loading"&&Ni>ie?(dt(O,"Expected pending action"),z&&z.abort(),at(A.navigation.location,{matches:As,loaderData:Ms,errors:qn,fetchers:new Map(A.fetchers)})):(Ne({errors:qn,loaderData:ZD(A.loaderData,Ms,As,qn),fetchers:new Map(A.fetchers)}),V=!1)}async function yt(H,W,te,ge,ve,Pe,ye,Se,Ee){let Oe=A.fetchers.get(H);Be(H,Dd(Ee,Oe?Oe.data:void 0),{flushSync:ye});let We=new AbortController,He=Ec(e.history,te,We.signal);if(Pe){let Rt=await di(ge,new URL(He.url).pathname,He.signal,H);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ze(H,W,Rt.error,{flushSync:ye});return}else if(Rt.matches)ge=Rt.matches;else{Ze(H,W,fs(404,{pathname:te}),{flushSync:ye});return}}let Pt=np(ge,te);N.set(H,We);let St=X,on=jc(o,r,He,ge,Pt,i,ve),fn=(await it(He,on,ve,H))[Pt.route.id];if(N.get(H)===We&&N.delete(H),!He.signal.aborted){if(me.has(H)){Be(H,qo(void 0));return}if(Qa(fn))if(ie>St){Be(H,qo(void 0));return}else{j.add(H),await Ye(He,fn,!1,{preventScrollReset:Se});return}if($i(fn)){Ze(H,W,fn.error);return}Be(H,qo(fn.data))}}async function Ye(H,W,te,{submission:ge,fetcherSubmission:ve,preventScrollReset:Pe,replace:ye}={}){te||(_?.resolve(),_=null),W.response.headers.has("X-Remix-Revalidate")&&(V=!0);let Se=W.response.headers.get("Location");dt(Se,"Expected a Location header on the redirect Response"),Se=YD(Se,new URL(H.url),d,e.history);let Ee=rh(A.location,Se,{_isRedirect:!0});if(n){let on=!1;if(W.response.headers.has("X-Remix-Reload-Document"))on=!0;else if(QS(Se)){const hn=Mk(Se,!0);on=hn.origin!==t.location.origin||Ss(hn.pathname,d)==null}if(on){ye?t.location.replace(Se):t.location.assign(Se);return}}z=null;let Oe=ye===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:We,formAction:He,formEncType:Pt}=A.navigation;!ge&&!ve&&We&&He&&Pt&&(ge=tP(A.navigation));let St=ge||ve;if(r4.has(W.response.status)&&St&&ri(St.formMethod))await Ot(Oe,Ee,{submission:{...St,formAction:Se},preventScrollReset:Pe||B,enableViewTransition:te?q:void 0});else{let on=zw(Ee,ge);await Ot(Oe,Ee,{overrideNavigation:on,fetcherSubmission:ve,preventScrollReset:Pe||B,enableViewTransition:te?q:void 0})}}async function it(H,W,te,ge){let ve,Pe={};try{ve=await m4(f,H,W,ge,te,!1)}catch(ye){return W.filter(Se=>Se.shouldLoad).forEach(Se=>{Pe[Se.route.id]={type:"error",error:ye}}),Pe}if(H.signal.aborted)return Pe;if(!ri(H.method))for(let ye of W){if(ve[ye.route.id]?.type==="error")break;!ve.hasOwnProperty(ye.route.id)&&!A.loaderData.hasOwnProperty(ye.route.id)&&(!A.errors||!A.errors.hasOwnProperty(ye.route.id))&&ye.shouldCallHandler()&&(ve[ye.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ye.route.id}`)})}for(let[ye,Se]of Object.entries(ve))if(T4(Se)){let Ee=Se.result;Pe[ye]={type:"redirect",response:y4(Ee,H,ye,W,d)}}else Pe[ye]=await w4(Se);return Pe}async function Ht(H,W,te,ge){let ve=it(te,H,ge,null),Pe=Promise.all(W.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.request&&Ee.controller){let We=(await it(Ee.request,Ee.matches,ge,Ee.key))[Ee.match.route.id];return{[Ee.key]:We}}else return Promise.resolve({[Ee.key]:{type:"error",error:fs(404,{pathname:Ee.path})}})})),ye=await ve,Se=(await Pe).reduce((Ee,Oe)=>Object.assign(Ee,Oe),{});return{loaderResults:ye,fetcherResults:Se}}function je(){V=!0,Q.forEach((H,W)=>{N.has(W)&&$.add(W),bt(W)})}function Be(H,W,te={}){A.fetchers.set(H,W),Ne({fetchers:new Map(A.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Ze(H,W,te,ge={}){let ve=qr(A.matches,W);ln(H),Ne({errors:{[ve.route.id]:te},fetchers:new Map(A.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function qt(H){return re.set(H,(re.get(H)||0)+1),me.has(H)&&me.delete(H),A.fetchers.get(H)||a4}function Ln(H,W){bt(H,W?.reason),Be(H,qo(null))}function ln(H){let W=A.fetchers.get(H);N.has(H)&&!(W&&W.state==="loading"&&L.has(H))&&bt(H),Q.delete(H),L.delete(H),j.delete(H),me.delete(H),$.delete(H),A.fetchers.delete(H)}function sn(H){let W=(re.get(H)||0)-1;W<=0?(re.delete(H),me.add(H)):re.set(H,W),Ne({fetchers:new Map(A.fetchers)})}function bt(H,W){let te=N.get(H);te&&(te.abort(W),N.delete(H))}function cn(H){for(let W of H){let te=qt(W),ge=qo(te.data);A.fetchers.set(W,ge)}}function Bt(){let H=[],W=!1;for(let te of j){let ge=A.fetchers.get(te);dt(ge,`Expected fetcher: ${te}`),ge.state==="loading"&&(j.delete(te),H.push(te),W=!0)}return cn(H),W}function Gn(H){let W=[];for(let[te,ge]of L)if(ge<H){let ve=A.fetchers.get(te);dt(ve,`Expected fetcher: ${te}`),ve.state==="loading"&&(bt(te),L.delete(te),W.push(te))}return cn(W),W.length>0}function ui(H,W){let te=A.blockers.get(H)||Td;return Ce.get(H)!==W&&Ce.set(H,W),te}function zn(H){A.blockers.delete(H),Ce.delete(H)}function yn(H,W){let te=A.blockers.get(H)||Td;dt(te.state==="unblocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="blocked"||te.state==="blocked"&&W.state==="proceeding"||te.state==="blocked"&&W.state==="unblocked"||te.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${W.state}`);let ge=new Map(A.blockers);ge.set(H,W),Ne({blockers:ge})}function lt({currentLocation:H,nextLocation:W,historyAction:te}){if(Ce.size===0)return;Ce.size>1&&On(!1,"A router only supports one blocker at a time");let ge=Array.from(Ce.entries()),[ve,Pe]=ge[ge.length-1],ye=A.blockers.get(ve);if(!(ye&&ye.state==="proceeding")&&Pe({currentLocation:H,nextLocation:W,historyAction:te}))return ve}function Tn(H){let W=fs(404,{pathname:H}),te=u||l,{matches:ge,route:ve}=Sg(te);return{notFoundMatches:ge,route:ve,error:W}}function un(H,W,te){if(y=H,R=W,S=te||null,!x&&A.navigation===Gw){x=!0;let ge=Si(A.location,A.matches);ge!=null&&Ne({restoreScrollPosition:ge})}return()=>{y=null,R=null,S=null}}function dn(H,W){return S&&S(H,W.map(ge=>IG(ge,A.loaderData)))||H.key}function Dn(H,W){if(y&&R){let te=dn(H,W);y[te]=R()}}function Si(H,W){if(y){let te=dn(H,W),ge=y[te];if(typeof ge=="number")return ge}return null}function ii(H,W,te){if(e.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:Nd(W,te,d,!0)}}else return{active:!0,matches:Nd(W,te,d,!0)||[]};return{active:!1,matches:null}}async function di(H,W,te,ge){if(!e.patchRoutesOnNavigation)return{type:"success",matches:H};let ve=H;for(;;){let Pe=u==null,ye=u||l,Se=r;try{await e.patchRoutesOnNavigation({signal:te,path:W,matches:ve,fetcherKey:ge,patch:(We,He)=>{te.aborted||WD(We,He,ye,Se,o,!1)}})}catch(We){return{type:"error",error:We,partialMatches:ve}}finally{Pe&&!te.aborted&&(l=[...l])}if(te.aborted)return{type:"aborted"};let Ee=Kr(ye,W,d),Oe=null;if(Ee){if(Object.keys(Ee[0].params).length===0)return{type:"success",matches:Ee};if(Oe=Nd(ye,W,d,!0),!(Oe&&ve.length<Oe.length&&ht(ve,Oe.slice(0,ve.length))))return{type:"success",matches:Ee}}if(Oe||(Oe=Nd(ye,W,d,!0)),!Oe||ht(ve,Oe))return{type:"success",matches:null};ve=Oe}}function ht(H,W){return H.length===W.length&&H.every((te,ge)=>te.route.id===W[ge].route.id)}function Js(H){r={},u=ah(H,o,void 0,r)}function Ri(H,W,te=!1){let ge=u==null;WD(H,W,u||l,r,o,te),ge&&(l=[...l],Ne({}))}return I={get basename(){return d},get future(){return g},get state(){return A},get routes(){return l},get window(){return t},initialize:qe,subscribe:mt,enableScrollRestoration:un,navigate:Dt,fetch:xe,revalidate:It,createHref:H=>e.history.createHref(H),encodeLocation:H=>e.history.encodeLocation(H),getFetcher:qt,resetFetcher:Ln,deleteFetcher:sn,dispose:Ve,getBlocker:ui,deleteBlocker:zn,patchRoutes:Ri,_internalFetchControllers:N,_internalSetRoutes:Js,_internalSetStateDoNotUseOrYouWillBreakYourApp(H){Ne(H)}},e.unstable_instrumentations&&(I=ZG(I,e.unstable_instrumentations.map(H=>H.router).filter(Boolean))),I}function u4(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function db(e,t,n,i,s,o){let r,l;if(s){r=[];for(let d of t)if(r.push(d),d.route.id===s){l=d;break}}else r=t,l=t[t.length-1];let u=JS(i||".",ZS(r),Ss(e.pathname,n)||e.pathname,o==="path");if(i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l){let d=n0(u.search);if(l.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let f=new URLSearchParams(u.search),g=f.getAll("index");f.delete("index"),g.filter(v=>v).forEach(v=>f.append("index",v));let m=f.toString();u.search=m?`?${m}`:""}}return n!=="/"&&(u.pathname=$G({basename:n,pathname:u.pathname})),bo(u)}function jD(e,t,n){if(!n||!u4(n))return{path:t};if(n.formMethod&&!A4(n.formMethod))return{path:t,error:fs(405,{method:n.formMethod})};let i=()=>({path:t,error:fs(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),r=qk(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ri(o))return i();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[v,y])=>`${m}${v}=${y}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:r,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!ri(o))return i();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:r,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}dt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=gb(n.formData),u=n.formData;else if(n.body instanceof FormData)l=gb(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=XD(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=XD(l)}catch{return i()}let d={formMethod:o,formAction:r,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ri(d.formMethod))return{path:t,submission:d};let f=ca(t);return e&&f.search&&n0(f.search)&&l.append("index",""),f.search=`?${l}`,{path:bo(f),submission:d}}function UD(e,t,n,i,s,o,r,l,u,d,f,g,m,v,y,S,R,x,T,D,M){let F=D?$i(D[1])?D[1].error:D[1].data:void 0,I=s.createURL(o.location),A=s.createURL(u),O;if(f&&o.errors){let Y=Object.keys(o.errors)[0];O=r.findIndex(V=>V.route.id===Y)}else if(D&&$i(D[1])){let Y=D[0];O=r.findIndex(V=>V.route.id===Y)-1}let _=D?D[1].statusCode:void 0,B=_&&_>=400,z={currentUrl:I,currentParams:o.matches[0]?.params||{},nextUrl:A,nextParams:r[0].params,...l,actionResult:F,actionStatus:_},q=Hh(r),oe=r.map((Y,V)=>{let{route:$}=Y,N=null;if(O!=null&&V>O?N=!1:$.lazy?N=!0:e0($)?f?N=hb($,o.loaderData,o.errors):d4(o.loaderData,o.matches[V],Y)&&(N=!0):N=!1,N!==null)return fb(n,i,e,q,Y,d,t,N);let X=!1;typeof M=="boolean"?X=M:B?X=!1:(g||I.pathname+I.search===A.pathname+A.search||I.search!==A.search||h4(o.matches[V],Y))&&(X=!0);let ie={...z,defaultShouldRevalidate:X},L=Ud(Y,ie);return fb(n,i,e,q,Y,d,t,L,ie,M)}),ce=[];return y.forEach((Y,V)=>{if(f||!r.some(re=>re.route.id===Y.routeId)||v.has(V))return;let $=o.fetchers.get(V),N=$&&$.state!=="idle"&&$.data===void 0,X=Kr(R,Y.path,x);if(!X){if(T&&N)return;ce.push({key:V,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(S.has(V))return;let ie=np(X,Y.path),L=new AbortController,j=Ec(s,Y.path,L.signal),Q=null;if(m.has(V))m.delete(V),Q=jc(n,i,j,X,ie,d,t);else if(N)g&&(Q=jc(n,i,j,X,ie,d,t));else{let re;typeof M=="boolean"?re=M:B?re=!1:re=g;let me={...z,defaultShouldRevalidate:re};Ud(ie,me)&&(Q=jc(n,i,j,X,ie,d,t,me))}Q&&ce.push({key:V,routeId:Y.routeId,path:Y.path,matches:Q,match:ie,request:j,controller:L})}),{dsMatches:oe,revalidatingFetchers:ce}}function e0(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function hb(e,t,n){if(e.lazy)return!0;if(!e0(e))return!1;let i=t!=null&&e.id in t,s=n!=null&&n[e.id]!==void 0;return!i&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!s}function d4(e,t,n){let i=!t||n.route.id!==t.route.id,s=!e.hasOwnProperty(n.route.id);return i||s}function h4(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ud(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function WD(e,t,n,i,s,o){let r;if(e){let d=i[e];dt(d,`No route found to patch children into: routeId = ${e}`),d.children||(d.children=[]),r=d.children}else r=n;let l=[],u=[];if(t.forEach(d=>{let f=r.find(g=>jk(d,g));f?u.push({existingRoute:f,newRoute:d}):l.push(d)}),l.length>0){let d=ah(l,s,[e||"_","patch",String(r?.length||"0")],i);r.push(...d)}if(o&&u.length>0)for(let d=0;d<u.length;d++){let{existingRoute:f,newRoute:g}=u[d],m=f,[v]=ah([g],s,[],{},!0);Object.assign(m,{element:v.element?v.element:m.element,errorElement:v.errorElement?v.errorElement:m.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:m.hydrateFallbackElement})}}function jk(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>t.children?.some(s=>jk(n,s))):!1}var $D=new WeakMap,Uk=({key:e,route:t,manifest:n,mapRouteProperties:i})=>{let s=n[t.id];if(dt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[e];if(!o)return;let r=$D.get(s);r||(r={},$D.set(s,r));let l=r[e];if(l)return l;let u=(async()=>{let d=AG(e),g=s[e]!==void 0&&e!=="hasErrorBoundary";if(d)On(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),r[e]=Promise.resolve();else if(g)On(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let m=await o();m!=null&&(Object.assign(s,{[e]:m}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(m=>m===void 0)&&(s.lazy=void 0))})();return r[e]=u,u},KD=new WeakMap;function f4(e,t,n,i,s){let o=n[e.id];if(dt(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=KD.get(o);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let g=(async()=>{dt(typeof e.lazy=="function","No lazy route function found");let m=await e.lazy(),v={};for(let y in m){let S=m[y];if(S===void 0)continue;let R=MG(y),T=o[y]!==void 0&&y!=="hasErrorBoundary";R?On(!R,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?On(!T,`Route "${o.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):v[y]=S}Object.assign(o,v),Object.assign(o,{...i(o),lazy:void 0})})();return KD.set(o,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let r=Object.keys(e.lazy),l=[],u;for(let f of r){if(s&&s.includes(f))continue;let g=Uk({key:f,route:e,manifest:n,mapRouteProperties:i});g&&(l.push(g),f===t&&(u=g))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function qD(e){let t=e.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,o)=>{n[t[o].route.id]=s}),n}async function g4(e){return e.matches.some(t=>t.route.middleware)?Wk(e,()=>qD(e)):qD(e)}function Wk(e,t){return p4(e,t,i=>{if(P4(i))throw i;return i},x4,n);function n(i,s,o){if(o)return Promise.resolve(Object.assign(o.value,{[s]:{type:"error",result:i}}));{let{matches:r}=e,l=Math.min(Math.max(r.findIndex(d=>d.route.id===s),0),Math.max(r.findIndex(d=>d.shouldCallHandler()),0)),u=qr(r,r[l].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:i}})}}}async function p4(e,t,n,i,s){let{matches:o,request:r,params:l,context:u,unstable_pattern:d}=e,f=o.flatMap(m=>m.route.middleware?m.route.middleware.map(v=>[m.route.id,v]):[]);return await $k({request:r,params:l,context:u,unstable_pattern:d},f,t,n,i,s)}async function $k(e,t,n,i,s,o,r=0){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let u=t[r];if(!u)return await n();let[d,f]=u,g,m=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await $k(e,t,n,i,s,o,r+1)},g.value}catch(v){return g={value:await o(v,d,g)},g.value}};try{let v=await f(e,m),y=v!=null?i(v):void 0;return s(y)?y:g?y??g.value:(g={value:await m()},g.value)}catch(v){return await o(v,d,g)}}function Kk(e,t,n,i,s){let o=Uk({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),r=f4(i.route,ri(n.method)?"action":"loader",t,e,s);return{middleware:o,route:r.lazyRoutePromise,handler:r.lazyHandlerPromise}}function fb(e,t,n,i,s,o,r,l,u=null,d){let f=!1,g=Kk(e,t,n,s,o);return{...s,_lazyPromises:g,shouldLoad:l,shouldRevalidateArgs:u,shouldCallHandler(m){return f=!0,u?typeof d=="boolean"?Ud(s,{...u,defaultShouldRevalidate:d}):typeof m=="boolean"?Ud(s,{...u,defaultShouldRevalidate:m}):Ud(s,u):l},resolve(m){let{lazy:v,loader:y,middleware:S}=s.route,R=f||l||m&&!ri(n.method)&&(v||y),x=S&&S.length>0&&!y&&!v;return R&&(ri(n.method)||!x)?v4({request:n,unstable_pattern:i,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:m,scopedContext:r}):Promise.resolve({type:"data",result:void 0})}}}function jc(e,t,n,i,s,o,r,l=null){return i.map(u=>u.route.id!==s.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:Kk(e,t,n,u,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:fb(e,t,n,Hh(i),u,o,r,!0,l))}async function m4(e,t,n,i,s,o){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let r={request:t,unstable_pattern:Hh(n),params:n[0].params,context:s,matches:n},u=await e({...r,fetcherKey:i,runClientMiddleware:d=>{let f=r;return Wk(f,()=>d({...f,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return u}async function v4({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:o,scopedContext:r}){let l,u,d=ri(e.method),f=d?"action":"loader",g=m=>{let v,y=new Promise((x,T)=>v=T);u=()=>v(),e.signal.addEventListener("abort",u);let S=x=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):m({request:e,unstable_pattern:t,params:n.params,context:r},...x!==void 0?[x]:[]),R=(async()=>{try{return{type:"data",result:await(o?o(T=>S(T)):S())}}catch(x){return{type:"error",result:x}}})();return Promise.race([R,y])};try{let m=d?n.route.action:n.route.loader;if(i||s)if(m){let v,[y]=await Promise.all([g(m).catch(S=>{v=S}),i,s]);if(v!==void 0)throw v;l=y}else{await i;let v=d?n.route.action:n.route.loader;if(v)[l]=await Promise.all([g(v),s]);else if(f==="action"){let y=new URL(e.url),S=y.pathname+y.search;throw fs(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(m)l=await g(m);else{let v=new URL(e.url),y=v.pathname+v.search;throw fs(404,{pathname:y})}}catch(m){return{type:"error",result:m}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function C4(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function w4(e){let{result:t,type:n}=e;if(t0(t)){let i;try{i=await C4(t)}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new Vh(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:"data",data:i,statusCode:t.status,headers:t.headers}}return n==="error"?eP(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:R4(t),statusCode:lh(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:lh(t)?t.status:void 0}:eP(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function y4(e,t,n,i,s){let o=e.headers.get("Location");if(dt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!QS(o)){let r=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=db(new URL(t.url),r,s,o),e.headers.set("Location",o)}return e}function YD(e,t,n,i){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(QS(e)){let o=e,r=o.startsWith("//")?new URL(t.protocol+o):new URL(o);if(s.includes(r.protocol))throw new Error("Invalid redirect location");let l=Ss(r.pathname,n)!=null;if(r.origin===t.origin&&l)return r.pathname+r.search+r.hash}try{let o=i.createURL(e);if(s.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Ec(e,t,n,i){let s=e.createURL(qk(t)).toString(),o={signal:n};if(i&&ri(i.formMethod)){let{formMethod:r,formEncType:l}=i;o.method=r.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(i.json)):l==="text/plain"?o.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?o.body=gb(i.formData):o.body=i.formData}return new Request(s,o)}function gb(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function XD(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function b4(e,t,n,i=!1,s=!1){let o={},r=null,l,u=!1,d={},f=n&&$i(n[1])?n[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let m=g.route.id,v=t[m];if(dt(!Qa(v),"Cannot handle redirect results in processLoaderData"),$i(v)){let y=v.error;if(f!==void 0&&(y=f,f=void 0),r=r||{},s)r[m]=y;else{let S=qr(e,m);r[S.route.id]==null&&(r[S.route.id]=y)}i||(o[m]=zk),u||(u=!0,l=lh(v.error)?v.error.status:500),v.headers&&(d[m]=v.headers)}else o[m]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[m]=v.headers)}),f!==void 0&&n&&(r={[n[0]]:f},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:r,statusCode:l||200,loaderHeaders:d}}function QD(e,t,n,i,s,o){let{loaderData:r,errors:l}=b4(t,n,i);return s.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:f,controller:g}=u;if(g&&g.signal.aborted)return;let m=o[d];if(dt(m,"Did not find corresponding fetcher result"),$i(m)){let v=qr(e.matches,f?.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:m.error}),e.fetchers.delete(d)}else if(Qa(m))dt(!1,"Unhandled fetcher revalidation redirect");else{let v=qo(m.data);e.fetchers.set(d,v)}}),{loaderData:r,errors:l}}function ZD(e,t,n,i){let s=Object.entries(t).filter(([,o])=>o!==zk).reduce((o,[r,l])=>(o[r]=l,o),{});for(let o of n){let r=o.route.id;if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&o.route.loader&&(s[r]=e[r]),i&&i.hasOwnProperty(r))break}return s}function JD(e){return e?$i(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function qr(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Sg(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function fs(e,{pathname:t,routeId:n,method:i,type:s,message:o}={}){let r="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(r="Bad Request",i&&t&&n?l=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(r="Forbidden",l=`Route "${n}" does not match URL "${t}"`):e===404?(r="Not Found",l=`No route matches URL "${t}"`):e===405&&(r="Method Not Allowed",i&&t&&n?l=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(l=`Invalid request method "${i.toUpperCase()}"`)),new Vh(e||500,r,new Error(l),!0)}function Rg(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,s]=t[n];if(Qa(s))return{key:i,result:s}}}function qk(e){let t=typeof e=="string"?ca(e):e;return bo({...t,hash:""})}function S4(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function R4(e){return new Vh(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function x4(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&E4(n))}function E4(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function T4(e){return t0(e.result)&&Bk.has(e.result.status)}function $i(e){return e.type==="error"}function Qa(e){return(e&&e.type)==="redirect"}function eP(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function t0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function D4(e){return Bk.has(e)}function P4(e){return t0(e)&&D4(e.status)&&e.headers.has("Location")}function A4(e){return o4.has(e.toUpperCase())}function ri(e){return i4.has(e.toUpperCase())}function n0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function np(e,t){let n=typeof t=="string"?ca(t).search:t.search;if(e[e.length-1].route.index&&n0(n||""))return e[e.length-1];let i=Lk(e);return i[i.length-1]}function tP(e){let{formMethod:t,formAction:n,formEncType:i,text:s,formData:o,json:r}=e;if(!(!t||!n||!i)){if(s!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:t,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(r!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:r,text:void 0}}}function zw(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function F4(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Dd(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function M4(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function qo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function k4(e,t){try{let n=e.sessionStorage.getItem(Gk);if(n){let i=JSON.parse(n);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&t.set(s,new Set(o||[]))}}catch{}}function I4(e,t){if(t.size>0){let n={};for(let[i,s]of t)n[i]=[...s];try{e.sessionStorage.setItem(Gk,JSON.stringify(n))}catch(i){On(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function nP(){let e,t,n=new Promise((i,s)=>{e=async o=>{i(o);try{await n}catch{}},t=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var xl=C.createContext(null);xl.displayName="DataRouter";var Bh=C.createContext(null);Bh.displayName="DataRouterState";var Yk=C.createContext(!1);function O4(){return C.useContext(Yk)}var i0=C.createContext({isTransitioning:!1});i0.displayName="ViewTransition";var Xk=C.createContext(new Map);Xk.displayName="Fetchers";var L4=C.createContext(null);L4.displayName="Await";var Rs=C.createContext(null);Rs.displayName="Navigation";var km=C.createContext(null);km.displayName="Location";var Xs=C.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var s0=C.createContext(null);s0.displayName="RouteError";var Qk="REACT_ROUTER_ERROR",_4="REDIRECT",N4="ROUTE_ERROR_RESPONSE";function V4(e){if(e.startsWith(`${Qk}:${_4}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function H4(e){if(e.startsWith(`${Qk}:${N4}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Vh(t.status,t.statusText,t.data)}catch{}}function B4(e,{relative:t}={}){dt(Gh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Rs),{hash:s,pathname:o,search:r}=zh(e,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:po([n,o])),i.createHref({pathname:l,search:r,hash:s})}function Gh(){return C.useContext(km)!=null}function El(){return dt(Gh(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(km).location}var Zk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jk(e){C.useContext(Rs).static||C.useLayoutEffect(e)}function Im(){let{isDataRoute:e}=C.useContext(Xs);return e?t6():G4()}function G4(){dt(Gh(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(xl),{basename:t,navigator:n}=C.useContext(Rs),{matches:i}=C.useContext(Xs),{pathname:s}=El(),o=JSON.stringify(ZS(i)),r=C.useRef(!1);return Jk(()=>{r.current=!0}),C.useCallback((u,d={})=>{if(On(r.current,Zk),!r.current)return;if(typeof u=="number"){n.go(u);return}let f=JS(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:po([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}var z4=C.createContext(null);function j4(e){let t=C.useContext(Xs).outlet;return C.useMemo(()=>t&&C.createElement(z4.Provider,{value:e},t),[t,e])}function U4(){let{matches:e}=C.useContext(Xs),t=e[e.length-1];return t?t.params:{}}function zh(e,{relative:t}={}){let{matches:n}=C.useContext(Xs),{pathname:i}=El(),s=JSON.stringify(ZS(n));return C.useMemo(()=>JS(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function W4(e,t,n,i,s){dt(Gh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=C.useContext(Rs),{matches:r}=C.useContext(Xs),l=r[r.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let T=g&&g.path||"";n2(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=El(),v;v=m;let y=v.pathname||"/",S=y;if(f!=="/"){let T=f.replace(/^\//,"").split("/");S="/"+y.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=Kr(e,{pathname:S});return On(g||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),On(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),X4(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:po([f,o.encodeLocation?o.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:po([f,o.encodeLocation?o.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),r,n,i,s)}function $4(){let e=t2(),t=lh(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",e),r=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:o},"ErrorBoundary")," or"," ",C.createElement("code",{style:o},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),n?C.createElement("pre",{style:s},n):null,r)}var K4=C.createElement($4,null),e2=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=H4(e.digest);n&&(e=n)}let t=e!==void 0?C.createElement(Xs.Provider,{value:this.props.routeContext},C.createElement(s0.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?C.createElement(q4,{error:e},t):t}};e2.contextType=Yk;var jw=new WeakMap;function q4({children:e,error:t}){let{basename:n}=C.useContext(Rs);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=V4(t.digest);if(i){let s=jw.get(t);if(s)throw s;let o=Nk(i.location,n);if(_k&&!jw.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw jw.set(t,r),r}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function Y4({routeContext:e,match:t,children:n}){let i=C.useContext(xl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(Xs.Provider,{value:e},n)}function X4(e,t=[],n=null,i=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,r=n?.errors;if(r!=null){let f=o.findIndex(g=>g.route.id&&r?.[g.route.id]!==void 0);dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let g=o[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:m,errors:v}=n,y=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let d=n&&i?(f,g)=>{i(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Hh(n.matches),errorInfo:g})}:void 0;return o.reduceRight((f,g,m)=>{let v,y=!1,S=null,R=null;n&&(v=r&&g.route.id?r[g.route.id]:void 0,S=g.route.errorElement||K4,l&&(u<0&&m===0?(n2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,R=null):u===m&&(y=!0,R=g.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),T=()=>{let D;return v?D=S:y?D=R:g.route.Component?D=C.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=f,C.createElement(Y4,{match:g,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:D})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?C.createElement(e2,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:d}):T()},null)}function o0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q4(e){let t=C.useContext(xl);return dt(t,o0(e)),t}function Z4(e){let t=C.useContext(Bh);return dt(t,o0(e)),t}function J4(e){let t=C.useContext(Xs);return dt(t,o0(e)),t}function r0(e){let t=J4(e),n=t.matches[t.matches.length-1];return dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function e6(){return r0("useRouteId")}function t2(){let e=C.useContext(s0),t=Z4("useRouteError"),n=r0("useRouteError");return e!==void 0?e:t.errors?.[n]}function t6(){let{router:e}=Q4("useNavigate"),t=r0("useNavigate"),n=C.useRef(!1);return Jk(()=>{n.current=!0}),C.useCallback(async(s,o={})=>{On(n.current,Zk),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var iP={};function n2(e,t,n){!t&&!iP[e]&&(iP[e]=!0,On(!1,n))}var sP={};function oP(e,t){!e&&!sP[t]&&(sP[t]=!0,console.warn(t))}var n6="useOptimistic",rP=Mm[n6],i6=()=>{};function s6(e){return rP?rP(e):[e,i6]}function o6(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&On(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&On(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&On(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var r6=["HydrateFallback","hydrateFallbackElement"],a6=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function l6({router:e,flushSync:t,onError:n,unstable_useTransitions:i}){i=O4()||i;let[o,r]=C.useState(e.state),[l,u]=s6(o),[d,f]=C.useState(),[g,m]=C.useState({isTransitioning:!1}),[v,y]=C.useState(),[S,R]=C.useState(),[x,T]=C.useState(),D=C.useRef(new Map),M=C.useCallback((O,{deletedFetchers:_,newErrors:B,flushSync:z,viewTransitionOpts:q})=>{B&&n&&Object.values(B).forEach(ce=>n(ce,{location:O.location,params:O.matches[0]?.params??{},unstable_pattern:Hh(O.matches)})),O.fetchers.forEach((ce,Y)=>{ce.data!==void 0&&D.current.set(Y,ce.data)}),_.forEach(ce=>D.current.delete(ce)),oP(z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(oP(q==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!q||!oe){t&&z?t(()=>r(O)):i===!1?r(O):C.startTransition(()=>{i===!0&&u(ce=>aP(ce,O)),r(O)});return}if(t&&z){t(()=>{S&&(v?.resolve(),S.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let ce=e.window.document.startViewTransition(()=>{t(()=>r(O))});ce.finished.finally(()=>{t(()=>{y(void 0),R(void 0),f(void 0),m({isTransitioning:!1})})}),t(()=>R(ce));return}S?(v?.resolve(),S.skipTransition(),T({state:O,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(f(O),m({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[e.window,t,S,v,i,u,n]);C.useLayoutEffect(()=>e.subscribe(M),[e,M]),C.useEffect(()=>{g.isTransitioning&&!g.flushSync&&y(new a6)},[g]),C.useEffect(()=>{if(v&&d&&e.window){let O=d,_=v.promise,B=e.window.document.startViewTransition(async()=>{i===!1?r(O):C.startTransition(()=>{i===!0&&u(z=>aP(z,O)),r(O)}),await _});B.finished.finally(()=>{y(void 0),R(void 0),f(void 0),m({isTransitioning:!1})}),R(B)}},[d,v,e.window,i,u]),C.useEffect(()=>{v&&d&&l.location.key===d.location.key&&v.resolve()},[v,S,l.location,d]),C.useEffect(()=>{!g.isTransitioning&&x&&(f(x.state),m({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),T(void 0))},[g.isTransitioning,x]);let F=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:O=>e.navigate(O),push:(O,_,B)=>e.navigate(O,{state:_,preventScrollReset:B?.preventScrollReset}),replace:(O,_,B)=>e.navigate(O,{replace:!0,state:_,preventScrollReset:B?.preventScrollReset})}),[e]),I=e.basename||"/",A=C.useMemo(()=>({router:e,navigator:F,static:!1,basename:I,onError:n}),[e,F,I,n]);return C.createElement(C.Fragment,null,C.createElement(xl.Provider,{value:A},C.createElement(Bh.Provider,{value:l},C.createElement(Xk.Provider,{value:D.current},C.createElement(i0.Provider,{value:g},C.createElement(h6,{basename:I,location:l.location,navigationType:l.historyAction,navigator:F,unstable_useTransitions:i},C.createElement(c6,{routes:e.routes,future:e.future,state:l,onError:n})))))),null)}function aP(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var c6=C.memo(u6);function u6({routes:e,future:t,state:n,onError:i}){return W4(e,void 0,n,i,t)}function d6(e){return j4(e.context)}function h6({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:r}){dt(!Gh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:o,unstable_useTransitions:r,future:{}}),[l,s,o,r]);typeof n=="string"&&(n=ca(n));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:v="default"}=n,y=C.useMemo(()=>{let S=Ss(d,l);return S==null?null:{location:{pathname:S,search:f,hash:g,state:m,key:v},navigationType:i}},[l,d,f,g,m,v,i]);return On(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(Rs.Provider,{value:u},C.createElement(km.Provider,{children:t,value:y}))}var ip="get",sp="application/x-www-form-urlencoded";function Om(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function f6(e){return Om(e)&&e.tagName.toLowerCase()==="button"}function g6(e){return Om(e)&&e.tagName.toLowerCase()==="form"}function p6(e){return Om(e)&&e.tagName.toLowerCase()==="input"}function m6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v6(e,t){return e.button===0&&(!t||t==="_self")&&!m6(e)}var xg=null;function C6(){if(xg===null)try{new FormData(document.createElement("form"),0),xg=!1}catch{xg=!0}return xg}var w6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uw(e){return e!=null&&!w6.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sp}"`),null):e}function y6(e,t){let n,i,s,o,r;if(g6(e)){let l=e.getAttribute("action");i=l?Ss(l,t):null,n=e.getAttribute("method")||ip,s=Uw(e.getAttribute("enctype"))||sp,o=new FormData(e)}else if(f6(e)||p6(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(i=u?Ss(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||ip,s=Uw(e.getAttribute("formenctype"))||Uw(l.getAttribute("enctype"))||sp,o=new FormData(l,e),!C6()){let{name:d,type:f,value:g}=e;if(f==="image"){let m=d?`${d}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else d&&o.append(d,g)}}else{if(Om(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ip,i=null,s=sp,r=e}return o&&s==="text/plain"&&(r=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b6(e,t,n,i){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:t&&Ss(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function S6(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function x6(e,t,n){let i=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let r=await S6(o,n);return r.links?r.links():[]}return[]}));return P6(i.flat(1).filter(R6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lP(e,t,n,i,s,o){let r=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return o==="assets"?t.filter((u,d)=>r(u,d)||l(u,d)):o==="data"?t.filter((u,d)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(r(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function E6(e,t,{includeHydrateFallback:n}={}){return T6(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function T6(e){return[...new Set(e)]}function D6(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function P6(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let o=JSON.stringify(D6(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function i2(){let e=C.useContext(xl);return a0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function A6(){let e=C.useContext(Bh);return a0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var l0=C.createContext(void 0);l0.displayName="FrameworkContext";function s2(){let e=C.useContext(l0);return a0(e,"You must render this element inside a <HydratedRouter> element"),e}function F6(e,t){let n=C.useContext(l0),[i,s]=C.useState(!1),[o,r]=C.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,m=C.useRef(null);C.useEffect(()=>{if(e==="render"&&r(!0),e==="viewport"){let S=x=>{x.forEach(T=>{r(T.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[e]),C.useEffect(()=>{if(i){let S=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{s(!0)},y=()=>{s(!1),r(!1)};return n?e!=="intent"?[o,m,{}]:[o,m,{onFocus:Pd(l,v),onBlur:Pd(u,y),onMouseEnter:Pd(d,v),onMouseLeave:Pd(f,y),onTouchStart:Pd(g,v)}]:[!1,m,{}]}function Pd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function M6({page:e,...t}){let{router:n}=i2(),i=C.useMemo(()=>Kr(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?C.createElement(I6,{page:e,matches:i,...t}):null}function k6(e){let{manifest:t,routeModules:n}=s2(),[i,s]=C.useState([]);return C.useEffect(()=>{let o=!1;return x6(e,t,n).then(r=>{o||s(r)}),()=>{o=!0}},[e,t,n]),i}function I6({page:e,matches:t,...n}){let i=El(),{future:s,manifest:o,routeModules:r}=s2(),{basename:l}=i2(),{loaderData:u,matches:d}=A6(),f=C.useMemo(()=>lP(e,t,d,o,i,"data"),[e,t,d,o,i]),g=C.useMemo(()=>lP(e,t,d,o,i,"assets"),[e,t,d,o,i]),m=C.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(t.forEach(T=>{let D=o.routes[T.route.id];!D||!D.hasLoader||(!f.some(M=>M.route.id===T.route.id)&&T.route.id in u&&r[T.route.id]?.shouldRevalidate||D.hasClientLoader?R=!0:S.add(T.route.id))}),S.size===0)return[];let x=b6(e,l,s.unstable_trailingSlashAwareDataRequests,"data");return R&&S.size>0&&x.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[l,s.unstable_trailingSlashAwareDataRequests,u,i,o,f,t,e,r]),v=C.useMemo(()=>E6(g,o),[g,o]),y=k6(g);return C.createElement(C.Fragment,null,m.map(S=>C.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>C.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:R})=>C.createElement("link",{key:S,nonce:n.nonce,...R,crossOrigin:R.crossOrigin??n.crossOrigin})))}function O6(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var L6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L6&&(window.__reactRouterVersion="7.13.0")}catch{}function _6(e,t){return c4({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:EG({window:t?.window}),hydrationData:t?.hydrationData||N6(),routes:e,mapRouteProperties:o6,hydrationRouteProperties:r6,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function N6(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:V6(e.errors)}),e}function V6(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,s]of t)if(s&&s.__type==="RouteErrorResponse")n[i]=new Vh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let r=new o(s.message);r.stack="",n[i]=r}catch{}}if(n[i]==null){let o=new Error(s.message);o.stack="",n[i]=o}}else n[i]=s;return n}var o2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=C.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:r,state:l,target:u,to:d,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m,...v},y){let{basename:S,unstable_useTransitions:R}=C.useContext(Rs),x=typeof d=="string"&&o2.test(d),T=Nk(d,S);d=T.to;let D=B4(d,{relative:s}),[M,F,I]=F6(i,v),A=z6(d,{replace:r,state:l,target:u,preventScrollReset:f,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:m,unstable_useTransitions:R});function O(B){t&&t(B),B.defaultPrevented||A(B)}let _=C.createElement("a",{...v,...I,href:T.absoluteURL||D,onClick:T.isExternal||o?t:O,ref:O6(y,F),target:u,"data-discover":!x&&n==="render"?"true":void 0});return M&&!x?C.createElement(C.Fragment,null,_,C.createElement(M6,{page:D})):_});mo.displayName="Link";var H6=C.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:r,viewTransition:l,children:u,...d},f){let g=zh(r,{relative:d.relative}),m=El(),v=C.useContext(Bh),{navigator:y,basename:S}=C.useContext(Rs),R=v!=null&&K6(g)&&l===!0,x=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,T=m.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),D=D?D.toLowerCase():null,x=x.toLowerCase()),D&&S&&(D=Ss(D,S)||D);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let F=T===x||!s&&T.startsWith(x)&&T.charAt(M)==="/",I=D!=null&&(D===x||!s&&D.startsWith(x)&&D.charAt(x.length)==="/"),A={isActive:F,isPending:I,isTransitioning:R},O=F?t:void 0,_;typeof i=="function"?_=i(A):_=[i,F?"active":null,I?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(A):o;return C.createElement(mo,{...d,"aria-current":O,className:_,ref:f,style:B,to:r,viewTransition:l},typeof u=="function"?u(A):u)});H6.displayName="NavLink";var B6=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:o,method:r=ip,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m,...v},y)=>{let{unstable_useTransitions:S}=C.useContext(Rs),R=W6(),x=$6(l,{relative:d}),T=r.toLowerCase()==="get"?"get":"post",D=typeof l=="string"&&o2.test(l),M=F=>{if(u&&u(F),F.defaultPrevented)return;F.preventDefault();let I=F.nativeEvent.submitter,A=I?.getAttribute("formmethod")||r,O=()=>R(I||F.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:o,relative:d,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m});S&&n!==!1?C.startTransition(()=>O()):O()};return C.createElement("form",{ref:y,method:T,action:x,onSubmit:i?u:M,...v,"data-discover":!D&&e==="render"?"true":void 0})});B6.displayName="Form";function G6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r2(e){let t=C.useContext(xl);return dt(t,G6(e)),t}function z6(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:r,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let d=Im(),f=El(),g=zh(e,{relative:o});return C.useCallback(m=>{if(v6(m,t)){m.preventDefault();let v=n!==void 0?n:bo(f)===bo(g),y=()=>d(e,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:r,unstable_defaultShouldRevalidate:l});u?C.startTransition(()=>y()):y()}},[f,d,g,n,i,t,e,s,o,r,l,u])}var j6=0,U6=()=>`__${String(++j6)}__`;function W6(){let{router:e}=r2("useSubmit"),{basename:t}=C.useContext(Rs),n=e6(),i=e.fetch,s=e.navigate;return C.useCallback(async(o,r={})=>{let{action:l,method:u,encType:d,formData:f,body:g}=y6(o,t);if(r.navigate===!1){let m=r.fetcherKey||U6();await i(m,n,r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await s(r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,s,t,n])}function $6(e,{relative:t}={}){let{basename:n}=C.useContext(Rs),i=C.useContext(Xs);dt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...zh(e||".",{relative:t})},r=El();if(e==null){o.search=r.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let f=l.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:po([n,o.pathname])),bo(o)}function K6(e,{relative:t}={}){let n=C.useContext(i0);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=r2("useViewTransitionState"),s=zh(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ss(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=Ss(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Mp(s.pathname,r)!=null||Mp(s.pathname,o)!=null}const q6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),cP=e=>{const t=Y6(e);return t.charAt(0).toUpperCase()+t.slice(1)},a2=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),X6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Q6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Z6=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:r,...l},u)=>C.createElement("svg",{ref:u,...Q6,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:a2("lucide",s),...!o&&!X6(l)&&{"aria-hidden":"true"},...l},[...r.map(([d,f])=>C.createElement(d,f)),...Array.isArray(o)?o:[o]]));const Cn=(e,t)=>{const n=C.forwardRef(({className:i,...s},o)=>C.createElement(Z6,{ref:o,iconNode:t,className:a2(`lucide-${q6(cP(e))}`,`lucide-${e}`,i),...s}));return n.displayName=cP(e),n};const J6=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],c0=Cn("arrow-up-right",J6);const ez=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],l2=Cn("building-2",ez);const tz=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Ww=Cn("check-check",tz);const nz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iz=Cn("check",nz);const sz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],c2=Cn("chevron-down",sz);const oz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rz=Cn("chevron-right",oz);const az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],u0=Cn("circle-check",az);const lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cz=Cn("circle",lz);const uz=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],dz=Cn("code",uz);const hz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fz=Cn("database",hz);const gz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],u2=Cn("eye-off",gz);const pz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d2=Cn("eye",pz);const mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vz=Cn("globe",mz);const Cz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],h2=Cn("house",Cz);const wz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yz=Cn("loader-circle",wz);const bz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sz=Cn("log-out",bz);const Rz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xz=Cn("menu",Rz);const Ez=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Tz=Cn("moon",Ez);const Dz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Pz=Cn("sun",Dz);const Az=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fz=Cn("triangle-alert",Az);const Mz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f2=Cn("user",Mz);const kz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iz=Cn("x",kz),Oz="/visor-leetcode/assets/okey-frieren-BGIdK6cR.png";function uP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ua(...e){return t=>{let n=!1;const i=e.map(s=>{const o=uP(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():uP(e[s],null)}}}}function Kt(...e){return C.useCallback(ua(...e),e)}var Lz=Symbol.for("react.lazy"),kp=Mm[" use ".trim().toString()];function _z(e){return typeof e=="object"&&e!==null&&"then"in e}function g2(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Lz&&"_payload"in e&&_z(e._payload)}function Lm(e){const t=Vz(e),n=C.forwardRef((i,s)=>{let{children:o,...r}=i;g2(o)&&typeof kp=="function"&&(o=kp(o._payload));const l=C.Children.toArray(o),u=l.find(Bz);if(u){const d=u.props.children,f=l.map(g=>g===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...r,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Nz=Lm("Slot");function Vz(e){const t=C.forwardRef((n,i)=>{let{children:s,...o}=n;if(g2(s)&&typeof kp=="function"&&(s=kp(s._payload)),C.isValidElement(s)){const r=zz(s),l=Gz(o,s.props);return s.type!==C.Fragment&&(l.ref=i?ua(i,r):r),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hz=Symbol("radix.slottable");function Bz(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hz}function Gz(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...l)=>{const u=o(...l);return s(...l),u}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function zz(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function p2(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=p2(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function m2(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=p2(e))&&(i&&(i+=" "),i+=t);return i}const dP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hP=m2,yu=(e,t)=>n=>{var i;if(t?.variants==null)return hP(e,n?.class,n?.className);const{variants:s,defaultVariants:o}=t,r=Object.keys(s).map(d=>{const f=n?.[d],g=o?.[d];if(f===null)return null;const m=dP(f)||dP(g);return s[d][m]}),l=n&&Object.entries(n).reduce((d,f)=>{let[g,m]=f;return m===void 0||(d[g]=m),d},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:g,className:m,...v}=f;return Object.entries(v).every(y=>{let[S,R]=y;return Array.isArray(R)?R.includes({...o,...l}[S]):{...o,...l}[S]===R})?[...d,g,m]:d},[]);return hP(e,r,u,n?.class,n?.className)},jz=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},Uz=(e,t)=>({classGroupId:e,validator:t}),v2=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Ip="-",fP=[],Wz="arbitrary..",$z=e=>{const t=qz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:r=>{if(r.startsWith("[")&&r.endsWith("]"))return Kz(r);const l=r.split(Ip),u=l[0]===""&&l.length>1?1:0;return C2(l,u,t)},getConflictingClassGroupIds:(r,l)=>{if(l){const u=i[r],d=n[r];return u?d?jz(d,u):u:d||fP}return n[r]||fP}}},C2=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const d=C2(e,t+1,o);if(d)return d}const r=n.validators;if(r===null)return;const l=t===0?e.join(Ip):e.slice(t).join(Ip),u=r.length;for(let d=0;d<u;d++){const f=r[d];if(f.validator(l))return f.classGroupId}},Kz=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?Wz+i:void 0})(),qz=e=>{const{theme:t,classGroups:n}=e;return Yz(n,t)},Yz=(e,t)=>{const n=v2();for(const i in e){const s=e[i];d0(s,n,i,t)}return n},d0=(e,t,n,i)=>{const s=e.length;for(let o=0;o<s;o++){const r=e[o];Xz(r,t,n,i)}},Xz=(e,t,n,i)=>{if(typeof e=="string"){Qz(e,t,n);return}if(typeof e=="function"){Zz(e,t,n,i);return}Jz(e,t,n,i)},Qz=(e,t,n)=>{const i=e===""?t:w2(t,e);i.classGroupId=n},Zz=(e,t,n,i)=>{if(e8(e)){d0(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(Uz(n,e))},Jz=(e,t,n,i)=>{const s=Object.entries(e),o=s.length;for(let r=0;r<o;r++){const[l,u]=s[r];d0(u,w2(t,l),n,i)}},w2=(e,t)=>{let n=e;const i=t.split(Ip),s=i.length;for(let o=0;o<s;o++){const r=i[o];let l=n.nextPart.get(r);l||(l=v2(),n.nextPart.set(r,l)),n=l}return n},e8=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,t8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const s=(o,r)=>{n[o]=r,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(o){let r=n[o];if(r!==void 0)return r;if((r=i[o])!==void 0)return s(o,r),r},set(o,r){o in n?n[o]=r:s(o,r)}}},pb="!",gP=":",n8=[],pP=(e,t,n,i,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),i8=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=s=>{const o=[];let r=0,l=0,u=0,d;const f=s.length;for(let S=0;S<f;S++){const R=s[S];if(r===0&&l===0){if(R===gP){o.push(s.slice(u,S)),u=S+1;continue}if(R==="/"){d=S;continue}}R==="["?r++:R==="]"?r--:R==="("?l++:R===")"&&l--}const g=o.length===0?s:s.slice(u);let m=g,v=!1;g.endsWith(pb)?(m=g.slice(0,-1),v=!0):g.startsWith(pb)&&(m=g.slice(1),v=!0);const y=d&&d>u?d-u:void 0;return pP(o,v,m,y)};if(t){const s=t+gP,o=i;i=r=>r.startsWith(s)?o(r.slice(s.length)):pP(n8,!1,r,void 0,!0)}if(n){const s=i;i=o=>n({className:o,parseClassName:s})}return i},s8=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let s=[];for(let o=0;o<n.length;o++){const r=n[o],l=r[0]==="[",u=t.has(r);l||u?(s.length>0&&(s.sort(),i.push(...s),s=[]),i.push(r)):s.push(r)}return s.length>0&&(s.sort(),i.push(...s)),i}},o8=e=>({cache:t8(e.cacheSize),parseClassName:i8(e),sortModifiers:s8(e),...$z(e)}),r8=/\s+/,a8=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,r=[],l=e.trim().split(r8);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:g,modifiers:m,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:S}=n(f);if(g){u=f+(u.length>0?" "+u:u);continue}let R=!!S,x=i(R?y.substring(0,S):y);if(!x){if(!R){u=f+(u.length>0?" "+u:u);continue}if(x=i(y),!x){u=f+(u.length>0?" "+u:u);continue}R=!1}const T=m.length===0?"":m.length===1?m[0]:o(m).join(":"),D=v?T+pb:T,M=D+x;if(r.indexOf(M)>-1)continue;r.push(M);const F=s(x,R);for(let I=0;I<F.length;++I){const A=F[I];r.push(D+A)}u=f+(u.length>0?" "+u:u)}return u},l8=(...e)=>{let t=0,n,i,s="";for(;t<e.length;)(n=e[t++])&&(i=y2(n))&&(s&&(s+=" "),s+=i);return s},y2=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=y2(e[i]))&&(n&&(n+=" "),n+=t);return n},c8=(e,...t)=>{let n,i,s,o;const r=u=>{const d=t.reduce((f,g)=>g(f),e());return n=o8(d),i=n.cache.get,s=n.cache.set,o=l,l(u)},l=u=>{const d=i(u);if(d)return d;const f=a8(u,n);return s(u,f),f};return o=r,(...u)=>o(l8(...u))},u8=[],Nn=e=>{const t=n=>n[e]||u8;return t.isThemeGetter=!0,t},b2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,S2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,d8=/^\d+\/\d+$/,h8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,f8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,g8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,p8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dc=e=>d8.test(e),ct=e=>!!e&&!Number.isNaN(Number(e)),Vr=e=>!!e&&Number.isInteger(Number(e)),$w=e=>e.endsWith("%")&&ct(e.slice(0,-1)),$o=e=>h8.test(e),v8=()=>!0,C8=e=>f8.test(e)&&!g8.test(e),R2=()=>!1,w8=e=>p8.test(e),y8=e=>m8.test(e),b8=e=>!Ae(e)&&!Fe(e),S8=e=>bu(e,T2,R2),Ae=e=>b2.test(e),Va=e=>bu(e,D2,C8),Kw=e=>bu(e,D8,ct),mP=e=>bu(e,x2,R2),R8=e=>bu(e,E2,y8),Eg=e=>bu(e,P2,w8),Fe=e=>S2.test(e),Ad=e=>Su(e,D2),x8=e=>Su(e,P8),vP=e=>Su(e,x2),E8=e=>Su(e,T2),T8=e=>Su(e,E2),Tg=e=>Su(e,P2,!0),bu=(e,t,n)=>{const i=b2.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},Su=(e,t,n=!1)=>{const i=S2.exec(e);return i?i[1]?t(i[1]):n:!1},x2=e=>e==="position"||e==="percentage",E2=e=>e==="image"||e==="url",T2=e=>e==="length"||e==="size"||e==="bg-size",D2=e=>e==="length",D8=e=>e==="number",P8=e=>e==="family-name",P2=e=>e==="shadow",A8=()=>{const e=Nn("color"),t=Nn("font"),n=Nn("text"),i=Nn("font-weight"),s=Nn("tracking"),o=Nn("leading"),r=Nn("breakpoint"),l=Nn("container"),u=Nn("spacing"),d=Nn("radius"),f=Nn("shadow"),g=Nn("inset-shadow"),m=Nn("text-shadow"),v=Nn("drop-shadow"),y=Nn("blur"),S=Nn("perspective"),R=Nn("aspect"),x=Nn("ease"),T=Nn("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...M(),Fe,Ae],I=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],O=()=>[Fe,Ae,u],_=()=>[dc,"full","auto",...O()],B=()=>[Vr,"none","subgrid",Fe,Ae],z=()=>["auto",{span:["full",Vr,Fe,Ae]},Vr,Fe,Ae],q=()=>[Vr,"auto",Fe,Ae],oe=()=>["auto","min","max","fr",Fe,Ae],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...O()],$=()=>[dc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],N=()=>[e,Fe,Ae],X=()=>[...M(),vP,mP,{position:[Fe,Ae]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",E8,S8,{size:[Fe,Ae]}],j=()=>[$w,Ad,Va],Q=()=>["","none","full",d,Fe,Ae],re=()=>["",ct,Ad,Va],me=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[ct,$w,vP,mP],Ue=()=>["","none",y,Fe,Ae],qe=()=>["none",ct,Fe,Ae],Ve=()=>["none",ct,Fe,Ae],mt=()=>[ct,Fe,Ae],Ne=()=>[dc,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$o],breakpoint:[$o],color:[v8],container:[$o],"drop-shadow":[$o],ease:["in","out","in-out"],font:[b8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$o],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$o],shadow:[$o],spacing:["px",ct],text:[$o],"text-shadow":[$o],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dc,Ae,Fe,R]}],container:["container"],columns:[{columns:[ct,Ae,Fe,l]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Vr,"auto",Fe,Ae]}],basis:[{basis:[dc,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ct,dc,"auto","initial","none",Ae]}],grow:[{grow:["",ct,Fe,Ae]}],shrink:[{shrink:["",ct,Fe,Ae]}],order:[{order:[Vr,"first","last","none",Fe,Ae]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:$()}],w:[{w:[l,"screen",...$()]}],"min-w":[{"min-w":[l,"screen","none",...$()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[r]},...$()]}],h:[{h:["screen","lh",...$()]}],"min-h":[{"min-h":["screen","lh","none",...$()]}],"max-h":[{"max-h":["screen","lh",...$()]}],"font-size":[{text:["base",n,Ad,Va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Fe,Kw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$w,Ae]}],"font-family":[{font:[x8,Ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Fe,Ae]}],"line-clamp":[{"line-clamp":[ct,"none",Fe,Kw]}],leading:[{leading:[o,...O()]}],"list-image":[{"list-image":["none",Fe,Ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[ct,"from-font","auto",Fe,Va]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[ct,"auto",Fe,Ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vr,Fe,Ae],radial:["",Fe,Ae],conic:[Vr,Fe,Ae]},T8,R8]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ct,Fe,Ae]}],"outline-w":[{outline:["",ct,Ad,Va]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",f,Tg,Eg]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",g,Tg,Eg]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[ct,Va]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",m,Tg,Eg]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[ct,Fe,Ae]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[Fe,Ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Ae]}],filter:[{filter:["","none",Fe,Ae]}],blur:[{blur:Ue()}],brightness:[{brightness:[ct,Fe,Ae]}],contrast:[{contrast:[ct,Fe,Ae]}],"drop-shadow":[{"drop-shadow":["","none",v,Tg,Eg]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",ct,Fe,Ae]}],"hue-rotate":[{"hue-rotate":[ct,Fe,Ae]}],invert:[{invert:["",ct,Fe,Ae]}],saturate:[{saturate:[ct,Fe,Ae]}],sepia:[{sepia:["",ct,Fe,Ae]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Ae]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[ct,Fe,Ae]}],"backdrop-contrast":[{"backdrop-contrast":[ct,Fe,Ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ct,Fe,Ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ct,Fe,Ae]}],"backdrop-invert":[{"backdrop-invert":["",ct,Fe,Ae]}],"backdrop-opacity":[{"backdrop-opacity":[ct,Fe,Ae]}],"backdrop-saturate":[{"backdrop-saturate":[ct,Fe,Ae]}],"backdrop-sepia":[{"backdrop-sepia":["",ct,Fe,Ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ct,"initial",Fe,Ae]}],ease:[{ease:["linear","initial",x,Fe,Ae]}],delay:[{delay:[ct,Fe,Ae]}],animate:[{animate:["none",T,Fe,Ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Fe,Ae]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:mt()}],"skew-x":[{"skew-x":mt()}],"skew-y":[{"skew-y":mt()}],transform:[{transform:[Fe,Ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Ae]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[ct,Ad,Va,Kw]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},F8=c8(A8);function ut(...e){return F8(m2(e))}const M8=yu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),vs=C.forwardRef((e,t)=>{const n=Re.c(15);let i,s,o,r,l;n[0]!==e?({className:i,variant:l,size:o,asChild:r,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r,n[5]=l):(i=n[1],s=n[2],o=n[3],r=n[4],l=n[5]);const d=(r===void 0?!1:r)?Nz:"button";let f;n[6]!==i||n[7]!==o||n[8]!==l?(f=ut(M8({variant:l,size:o,className:i})),n[6]=i,n[7]=o,n[8]=l,n[9]=f):f=n[9];let g;return n[10]!==d||n[11]!==s||n[12]!==t||n[13]!==f?(g=E.jsx(d,{className:f,ref:t,...s}),n[10]=d,n[11]=s,n[12]=t,n[13]=f,n[14]=g):g=n[14],g});vs.displayName="Button";function h0(e){const t=Re.c(8);let n,i;t[0]!==e?({className:n,...i}=e,t[0]=e,t[1]=n,t[2]=i):(n=t[1],i=t[2]);let s;t[3]!==n?(s=ut("size-4 animate-spin",n),t[3]=n,t[4]=s):s=t[4];let o;return t[5]!==i||t[6]!==s?(o=E.jsx(yz,{role:"status","aria-label":"Loading",className:s,...i}),t[5]=i,t[6]=s,t[7]=o):o=t[7],o}var co=function(){return co=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},co.apply(this,arguments)};function Ru(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function k8(e,t,n,i){function s(o){return o instanceof n?o:new n(function(r){r(o)})}return new(n||(n=Promise))(function(o,r){function l(f){try{d(i.next(f))}catch(g){r(g)}}function u(f){try{d(i.throw(f))}catch(g){r(g)}}function d(f){f.done?o(f.value):s(f.value).then(l,u)}d((i=i.apply(e,t||[])).next())})}function I8(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,o;i<s;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}const O8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class f0 extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class L8 extends f0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class CP extends f0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wP extends f0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mb||(mb={}));class _8{constructor(t,{headers:n={},customFetch:i,region:s=mb.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=O8(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return k8(this,arguments,void 0,function*(n,i={}){var s;let o,r;try{const{headers:l,method:u,body:d,signal:f,timeout:g}=i;let m={},{region:v}=i;v||(v=this.region);const y=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(m["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(m["Content-Type"]="application/json",S=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?S=JSON.stringify(d):S=d;let R=f;g&&(r=new AbortController,o=setTimeout(()=>r.abort(),g),f?(R=r.signal,f.addEventListener("abort",()=>r.abort())):R=r.signal);const x=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:R}).catch(F=>{throw new L8(F)}),T=x.headers.get("x-relay-error");if(T&&T==="true")throw new CP(x);if(!x.ok)throw new wP(x);let D=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),M;return D==="application/json"?M=yield x.json():D==="application/octet-stream"||D==="application/pdf"?M=yield x.blob():D==="text/event-stream"?M=x:D==="multipart/form-data"?M=yield x.formData():M=yield x.text(),{data:M,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof wP||l instanceof CP?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var N8=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},V8=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let r=null,l=null,u=null,d=o.status,f=o.statusText;if(o.ok){var g,m;if(n.method!=="HEAD"){var v;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const S=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),R=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&R&&R.length>1&&(u=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(r={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,d=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var y;const S=await o.text();try{r=JSON.parse(S),Array.isArray(r)&&o.status===404&&(l=[],r=null,d=200,f="OK")}catch{o.status===404&&S===""?(d=204,f="No Content"):r={message:S}}if(r&&n.isMaybeSingle&&(!(r==null||(y=r.details)===null||y===void 0)&&y.includes("0 rows"))&&(r=null,d=200,f="OK"),r&&n.shouldThrowOnError)throw new N8(r)}return{error:r,data:l,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(s=s.catch(o=>{var r;let l="",u="",d="";const f=o?.cause;if(f){var g,m,v,y;const x=(g=f?.message)!==null&&g!==void 0?g:"",T=(m=f?.code)!==null&&m!==void 0?m:"";l=`${(v=o?.name)!==null&&v!==void 0?v:"FetchError"}: ${o?.message}`,l+=`

Caused by: ${(y=f?.name)!==null&&y!==void 0?y:"Error"}: ${x}`,T&&(l+=` (${T})`),f?.stack&&(l+=`
${f.stack}`)}else{var S;l=(S=o?.stack)!==null&&S!==void 0?S:""}const R=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(d="",u="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(f?.name==="HeadersOverflowError"||f?.code==="UND_ERR_HEADERS_OVERFLOW")&&(d="",u="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(u+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(r=o?.name)!==null&&r!==void 0?r:"FetchError"}: ${o?.message}`,details:l,hint:u,code:d},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},H8=class extends V8{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",r=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${r?`${r},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var r;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(r=this.headers.get("Accept"))!==null&&r!==void 0?r:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const yP=new RegExp("[,()]");var Tc=class extends H8{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&yP.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&yP.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},B8=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},s=n?"HEAD":"GET";let o=!1;const r=(e??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",r),i&&u.append("Prefer",`count=${i}`),new Tc({method:s,url:l,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const s="POST",{url:o,headers:r}=this.cloneRequestState();if(t&&r.append("Prefer",`count=${t}`),n||r.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);o.searchParams.set("columns",u.join(","))}}return new Tc({method:s,url:o,headers:r,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var o;const r="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),i&&u.append("Prefer",`count=${i}`),s||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(d.length>0){const f=[...new Set(d)].map(g=>`"${g}"`);l.searchParams.set("columns",f.join(","))}}return new Tc({method:r,url:l,headers:u,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Tc({method:i,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Tc({method:n,url:i,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function G8(e,t){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ch(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z8(e){var t=G8(e,"string");return ch(t)=="symbol"?t:t+""}function j8(e,t,n){return(t=z8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(i){j8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var U8=class A2{constructor(t,{headers:n={},schema:i,fetch:s,timeout:o,urlLengthLimit:r=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=r;const l=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(u,d)=>{const f=new AbortController,g=setTimeout(()=>f.abort(),o),m=d?.signal;if(m){if(m.aborted)return clearTimeout(g),l(u,d);const v=()=>{clearTimeout(g),f.abort()};return m.addEventListener("abort",v,{once:!0}),l(u,Dg(Dg({},d),{},{signal:f.signal})).finally(()=>{clearTimeout(g),m.removeEventListener("abort",v)})}return l(u,Dg(Dg({},d),{},{signal:f.signal})).finally(()=>clearTimeout(g))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new B8(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new A2(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:s=!1,count:o}={}){var r;let l;const u=new URL(`${this.url}/rpc/${t}`);let d;const f=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(f)),g=i&&Object.values(n).some(f);g?(l="POST",d=n):i||s?(l=i?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{u.searchParams.append(v,y)})):(l="POST",d=n);const m=new Headers(this.headers);return g?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new Tc({method:l,url:u,headers:m,schema:this.schemaName,body:d,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};class W8{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const s=i.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $8="2.97.0",K8=`realtime-js/${$8}`,q8="1.0.0",F2="2.0.0",SP=F2,vb=1e4,Y8=1e3,X8=100;var Wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wr||(Wr={}));var Vn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vn||(Vn={}));var Hs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hs||(Hs={}));var Cb;(function(e){e.websocket="websocket"})(Cb||(Cb={}));var Ka;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ka||(Ka={}));class Q8{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,i;const s=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},r=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,r)}_encodeUserBroadcastPush(t,n,i){var s,o;const r=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",u=(o=t.join_ref)!==null&&o!==void 0?o:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(r.length>255)throw new Error(`topic length ${r.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+r.length+d.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(v),S=0;y.setUint8(S++,this.KINDS.userBroadcastPush),y.setUint8(S++,u.length),y.setUint8(S++,l.length),y.setUint8(S++,r.length),y.setUint8(S++,d.length),y.setUint8(S++,g.length),y.setUint8(S++,n),Array.from(u,x=>y.setUint8(S++,x.charCodeAt(0))),Array.from(l,x=>y.setUint8(S++,x.charCodeAt(0))),Array.from(r,x=>y.setUint8(S++,x.charCodeAt(0))),Array.from(d,x=>y.setUint8(S++,x.charCodeAt(0))),Array.from(g,x=>y.setUint8(S++,x.charCodeAt(0)));var R=new Uint8Array(v.byteLength+i.byteLength);return R.set(new Uint8Array(v),0),R.set(new Uint8Array(i),v.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,o,r,l,u]=i;return n({join_ref:s,ref:o,topic:r,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,s)}_decodeUserBroadcast(t,n,i){const s=n.getUint8(1),o=n.getUint8(2),r=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=i.decode(t.slice(u,u+s));u=u+s;const f=i.decode(t.slice(u,u+o));u=u+o;const g=i.decode(t.slice(u,u+r));u=u+r;const m=t.slice(u,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(i.decode(m)):m,y={type:this.BROADCAST_EVENT,event:f,payload:v};return r>0&&(y.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}class M2{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const RP=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((o,r)=>(o[r]=Z8(r,e,t,s),o),{}):{}},Z8=(e,t,n,i)=>{const s=t.find(l=>l.name===e),o=s?.type,r=n[e];return o&&!i.includes(o)?k2(o,r):wb(r)},k2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return n7(t,n)}switch(e){case Yt.bool:return J8(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return e7(t);case Yt.json:case Yt.jsonb:return t7(t);case Yt.timestamp:return i7(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return wb(t);default:return wb(t)}},wb=e=>e,J8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},e7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},t7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},n7=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const r=e.slice(1,n);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(l=>k2(t,l))}return e},i7=e=>typeof e=="string"?e.replace(" ","T"):e,I2=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class qw{constructor(t,n,i={},s=vb){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xP||(xP={}));class Wd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:o,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wd.syncState(this.state,s,o,r),this.pendingDiffs.forEach(u=>{this.state=Wd.syncDiff(this.state,u,o,r)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},s=>{const{onJoin:o,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wd.syncDiff(this.state,s,o,r),l())}),this.onJoin((s,o,r)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:r})}),this.onLeave((s,o,r)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const o=this.cloneDeep(t),r=this.transformState(n),l={},u={};return this.map(o,(d,f)=>{r[d]||(u[d]=f)}),this.map(r,(d,f)=>{const g=o[d];if(g){const m=f.map(R=>R.presence_ref),v=g.map(R=>R.presence_ref),y=f.filter(R=>v.indexOf(R.presence_ref)<0),S=g.filter(R=>m.indexOf(R.presence_ref)<0);y.length>0&&(l[d]=y),S.length>0&&(u[d]=S)}else l[d]=f}),this.syncDiff(o,{joins:l,leaves:u},i,s)}static syncDiff(t,n,i,s){const{joins:o,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(o,(l,u)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),f.length>0){const g=t[l].map(v=>v.presence_ref),m=f.filter(v=>g.indexOf(v.presence_ref)<0);t[l].unshift(...m)}i(l,f,u)}),this.map(r,(l,u)=>{let d=t[l];if(!d)return;const f=u.map(g=>g.presence_ref);d=d.filter(g=>f.indexOf(g.presence_ref)<0),t[l]=d,s(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var EP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(EP||(EP={}));var $d;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($d||($d={}));var Xo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xo||(Xo={}));class kc{constructor(t,n={config:{}},i){var s,o;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new qw(this,Hs.join,this.params,this.timeout),this.rejoinTimer=new M2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hs.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Wd(this),this.broadcastEndpointURL=I2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Vn.closed){const{config:{broadcast:r,presence:l,private:u}}=this.params,d=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[$d.PRESENCE]&&this.bindings[$d.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(Xo.CHANNEL_ERROR,v)),this._onClose(()=>t?.(Xo.CLOSED)),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t?.(Xo.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(y=S?.length)!==null&&y!==void 0?y:0,x=[];for(let T=0;T<R;T++){const D=S[T],{filter:{event:M,schema:F,table:I,filter:A}}=D,O=v&&v[T];if(O&&O.event===M&&kc.isFilterValueEqual(O.schema,F)&&kc.isFilterValueEqual(O.table,I)&&kc.isFilterValueEqual(O.filter,A))x.push(Object.assign(Object.assign({},D),{id:O.id}));else{this.unsubscribe(),this.state=Vn.errored,t?.(Xo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Xo.SUBSCRIBED);return}}).receive("error",v=>{this.state=Vn.errored,t?.(Xo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Vn.joined&&t===$d.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const r={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:r}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hs.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new qw(this,Hs.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const s=new AbortController,o=setTimeout(()=>s.abort(),i),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),r}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new qw(this,t,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>X8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,o;const r=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:f}=Hs;if(i&&[l,u,d,f].indexOf(r)>=0&&i!==this._joinRef())return;let m=this._onMessage(r,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,S,R;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((R=(S=v.filter)===null||S===void 0?void 0:S.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===r}).map(v=>v.callback(m,i)):(o=this.bindings[r])===null||o===void 0||o.filter(v=>{var y,S,R,x,T,D;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in v){const M=v.id,F=(y=v.filter)===null||y===void 0?void 0:y.event;return M&&((S=n.ids)===null||S===void 0?void 0:S.includes(M))&&(F==="*"||F?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=(T=(x=v?.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===r}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:S,table:R,commit_timestamp:x,type:T,errors:D}=y;m=Object.assign(Object.assign({},{schema:S,table:R,commit_timestamp:x,eventType:T,new:{},old:{},errors:D}),this._getPayloadRecords(y))}v.callback(m,i)})}_isClosed(){return this.state===Vn.closed}_isJoined(){return this.state===Vn.joined}_isJoining(){return this.state===Vn.joining}_isLeaving(){return this.state===Vn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&kc.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hs.close,{},t)}_onError(t){this._on(Hs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=RP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=RP(t.columns,t.old_record)),n}}const Yw=()=>{},Pg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},s7=[1e3,2e3,5e3,1e4],o7=1e4,r7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a7{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vb,this.transport=null,this.heartbeatIntervalMs=Pg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yw,this.ref=0,this.reconnectTimer=null,this.vsn=SP,this.logger=Yw,this.conn=null,this.sendBuffer=[],this.serializer=new Q8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Cb.websocket}`,this.httpEndpoint=I2(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=W8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Wr.connecting:return Ka.Connecting;case Wr.open:return Ka.Open;case Wr.closing:return Ka.Closing;default:return Ka.Closed}}isConnected(){return this.connectionState()===Ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===i);if(s)return s;{const o=new kc(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:i,payload:s,ref:o}=t,r=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${i} (${o})`,s),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Y8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:s,payload:o,ref:r}=n,l=r?`(${r})`:"",u=o.status||"";this.log("receive",`${u} ${i} ${s} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(s,o,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Wr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wr.open||this.conn.readyState===Wr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([r7],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:K8};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Hs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new M2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,s,o,r,l,u,d,f,g,m,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:vb,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Pg.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(r=t?.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:Yw,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:SP,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(y=>s7[y-1]||o7),this.vsn){case q8:this.encode=(f=t?.encode)!==null&&f!==void 0?f:((y,S)=>S(JSON.stringify(y))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((y,S)=>S(JSON.parse(y)));break;case F2:this.encode=(m=t?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var uh=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function l7(e,t,n){const i=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&i.searchParams.set(s,o);return i.toString()}async function c7(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function u7(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:s,body:o,headers:r}){const l=l7(e.baseUrl,i,s),u=await c7(e.auth),d=await t(l,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...u,...r},body:o?JSON.stringify(o):void 0}),f=await d.text(),g=(d.headers.get("content-type")||"").includes("application/json"),m=g&&f?JSON.parse(f):f;if(!d.ok){const v=g?m:void 0,y=v?.error;throw new uh(y?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:y?.type,icebergCode:y?.code,details:v})}return{status:d.status,headers:d.headers,data:m}}}}function Ag(e){return e.join("")}var d7=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ag(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ag(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ag(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ag(e.namespace)}`}),!0}catch(t){if(t instanceof uh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof uh&&n.status===409)return;throw n}}};function hc(e){return e.join("")}var h7=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof uh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof uh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},f7=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=u7({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new d7(this.client,t),this.tableOps=new h7(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},_m=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function Nm(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Fg=class extends _m{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},O2=class extends _m{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const g7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yb=e=>{if(Array.isArray(e))return e.map(n=>yb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=yb(i)}),t},m7=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function v7(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(dh(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C7(e){var t=v7(e,"string");return dh(t)=="symbol"?t:t+""}function w7(e,t,n){return(t=C7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(i){w7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const DP=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},y7=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(r=>{const l=r?.statusCode||r?.code||o+"";t(new Fg(DP(r),o,l,i))}).catch(()=>{if(i==="vectors"){const r=o+"";t(new Fg(s.statusText||`HTTP ${o} error`,o,r,i))}else{const r=o+"";t(new Fg(s.statusText||`HTTP ${o} error`,o,r,i))}});else{const r=o+"";t(new Fg(s.statusText||`HTTP ${o} error`,o,r,i))}}else t(new O2(DP(e),e,i))},b7=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?Ke(Ke({},s),n):(p7(i)?(s.headers=Ke({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),Ke(Ke({},s),n))};async function Fd(e,t,n,i,s,o,r){return new Promise((l,u)=>{e(n,b7(t,i,s,o)).then(d=>{if(!d.ok)throw d;if(i?.noResolveJson)return d;if(r==="vectors"){const f=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!f||!f.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>y7(d,u,i,r))})}function L2(e="storage"){return{get:async(t,n,i,s)=>Fd(t,"GET",n,i,s,void 0,e),post:async(t,n,i,s,o)=>Fd(t,"POST",n,s,o,i,e),put:async(t,n,i,s,o)=>Fd(t,"PUT",n,s,o,i,e),head:async(t,n,i,s)=>Fd(t,"HEAD",n,Ke(Ke({},i),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,i,s,o)=>Fd(t,"DELETE",n,s,o,i,e)}}const S7=L2("storage"),{get:hh,post:Vs,put:bb,head:R7,remove:g0}=S7,qi=L2("vectors");var xu=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=g7(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Ke(Ke({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Nm(n))return{data:null,error:n};throw n}}},x7=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nm(t))return{data:null,error:t};throw t}}};let _2;_2=Symbol.toStringTag;var E7=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_2]="BlobDownloadBuilder",this.promise=null}asStream(){return new x7(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nm(t))return{data:null,error:t};throw t}}};const T7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var D7=class extends xu{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var s=this;return s.handleOperation(async()=>{let o;const r=Ke(Ke({},PP),i);let l=Ke(Ke({},s.headers),e==="POST"&&{"x-upsert":String(r.upsert)});const u=r.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),u&&o.append("metadata",s.encodeMetadata(u)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",r.cacheControl),u&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(u))):(o=n,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,u&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!r.duplex&&(r.duplex="half")),i?.headers&&(l=Ke(Ke({},l),i.headers));const d=s._removeEmptyFolders(t),f=s._getFinalPath(d),g=await(e=="PUT"?bb:Vs)(s.fetch,`${s.url}/object/${f}`,o,Ke({headers:l},r?.duplex?{duplex:r.duplex}:{}));return{path:d,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var s=this;const o=s._removeEmptyFolders(e),r=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${r}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let u;const d=Ke({upsert:PP.upsert},i),f=Ke(Ke({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{path:o,fullPath:(await bb(s.fetch,l.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const s=Ke({},n.headers);t?.upsert&&(s["x-upsert"]="true");const o=await Vs(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:s}),r=new URL(n.url+o.url),l=r.searchParams.get("token");if(!l)throw new _m("No token returned by API");return{signedUrl:r.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await Vs(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await Vs(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let s=i._getFinalPath(e),o=await Vs(i.fetch,`${i.url}/object/sign/${s}`,Ke({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const r=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${r}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const s=await Vs(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(r=>Ke(Ke({},r),{},{signedUrl:r.signedURL?encodeURI(`${i.url}${r.signedURL}${o}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),o=s?`?${s}`:"",r=this._getFinalPath(e),l=()=>hh(this.fetch,`${this.url}/${i}/${r}${o}`,{headers:this.headers,noResolveJson:!0},n);return new E7(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>yb(await hh(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await R7(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Nm(i)&&i instanceof O2){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof t?.transform<"u"?"render/image":"object",r=this.transformOptsToQueryString(t?.transform||{});r!==""&&i.push(r);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await g0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const s=Ke(Ke(Ke({},T7),t),{},{prefix:e||""});return await Vs(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=Ke({},e);return await Vs(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const P7="2.97.0",jh={"X-Client-Info":`storage-js/${P7}`};var A7=class extends xu{constructor(e,t={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),r=Ke(Ke({},jh),t);super(o,r,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await hh(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await hh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Vs(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await bb(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Vs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await g0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},F7=class extends xu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Ke(Ke({},jh),t);super(i,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Vs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await hh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await g0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!m7(e))throw new _m("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new f7({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const r=s[o];return typeof r!="function"?r:async(...l)=>{try{return{data:await r.apply(s,l),error:null}}catch(u){if(i)throw u;return{data:null,error:u}}}}})}},M7=class extends xu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Ke(Ke({},jh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await qi.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await qi.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},k7=class extends xu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Ke(Ke({},jh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},I7=class extends xu{constructor(e,t={},n){const i=e.replace(/\/$/,""),s=Ke(Ke({},jh),{},{"Content-Type":"application/json"},t);super(i,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qi.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},O7=class extends I7{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new L7(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},L7=class extends M7{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new _7(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},_7=class extends k7{constructor(e,t,n,i,s){super(e,t,s),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ke(Ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},N7=class extends A7{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new D7(this.url,this.headers,e,this.fetch)}get vectors(){return new O7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new F7(this.url+"/iceberg",this.headers,this.fetch)}};const N2="2.97.0",Dc=30*1e3,Sb=3,Xw=Sb*Dc,V7="http://localhost:9999",H7="supabase.auth.token",B7={"X-Client-Info":`gotrue-js/${N2}`},Rb="X-Supabase-Api-Version",V2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z7=600*1e3;class fh extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function _e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class j7 extends fh{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function U7(e){return _e(e)&&e.name==="AuthApiError"}class qa extends fh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ur extends fh{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class Wi extends ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qw(e){return _e(e)&&e.name==="AuthSessionMissingError"}class fc extends ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mg extends ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class kg extends ur{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function W7(e){return _e(e)&&e.name==="AuthImplicitGrantRedirectError"}class AP extends ur{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $7 extends ur{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xb extends ur{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Zw(e){return _e(e)&&e.name==="AuthRetryableFetchError"}class FP extends ur{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Eb extends ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),MP=` 	
\r=`.split(""),K7=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<MP.length;t+=1)e[MP[t].charCodeAt(0)]=-2;for(let t=0;t<Op.length;t+=1)e[Op[t].charCodeAt(0)]=t;return e})();function kP(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Op[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Op[i]),t.queuedBits-=6}}function H2(e,t,n){const i=K7[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function IP(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=r=>{X7(r,i,n)};for(let r=0;r<e.length;r+=1)H2(e.charCodeAt(r),s,o);return t.join("")}function q7(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Y7(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}q7(i,t)}}function X7(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Uc(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)H2(e.charCodeAt(s),n,i);return new Uint8Array(t)}function Q7(e){const t=[];return Y7(e,n=>t.push(n)),new Uint8Array(t)}function Za(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>kP(s,n,i)),kP(null,n,i),t.join("")}function Z7(e){return Math.round(Date.now()/1e3)+e}function J7(){return Symbol("auth-callback")}const ei=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},B2=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function ej(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const G2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ba=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jn=async(e,t)=>{await e.removeItem(t)};class Vm{constructor(){this.promise=new Vm.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Vm.promiseConstructor=Promise;function Ig(e){const t=e.split(".");if(t.length!==3)throw new Eb("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!G7.test(t[i]))throw new Eb("JWT not in base64url format");return{header:JSON.parse(IP(t[0])),payload:JSON.parse(IP(t[1])),signature:Uc(t[2]),raw:{header:t[0],payload:t[1]}}}async function nj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ij(e,t){return new Promise((i,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await e(o);if(!t(o,null,r)){i(r);return}}catch(r){if(!t(o,r)){s(r);return}}})()})}function sj(e){return("0"+e.toString(16)).substr(-2)}function oj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,sj).join("")}async function rj(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function aj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gc(e,t,n=!1){const i=oj();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Pc(e,`${t}-code-verifier`,s);const o=await aj(i);return[o,i===o?"plain":"s256"]}const lj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cj(e){const t=e.headers.get(Rb);if(!t||!t.match(lj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pc(e){if(!hj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fj(e,t){return new Proxy(e,{get:(n,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,s)}})}function OP(e){return JSON.parse(JSON.stringify(e))}const Ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gj=[502,503,504];async function LP(e){var t;if(!tj(e))throw new xb(Ua(e),0);if(gj.includes(e.status))throw new xb(Ua(e),e.status);let n;try{n=await e.json()}catch(o){throw new qa(Ua(o),o)}let i;const s=cj(e);if(s&&s.getTime()>=V2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new FP(Ua(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Wi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new FP(Ua(n),e.status,n.weak_password.reasons);throw new j7(Ua(n),e.status||500,i)}const pj=(e,t,n,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function Qe(e,t,n,i){var s;const o=Object.assign({},i?.headers);o[Rb]||(o[Rb]=V2["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const r=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(r.redirect_to=i.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",u=await mj(e,t,n+l,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function mj(e,t,n,i,s,o){const r=pj(t,i,s,o);let l;try{l=await e(n,Object.assign({},r))}catch(u){throw console.error(u),new xb(Ua(u),0)}if(l.ok||await LP(l),i?.noResolveJson)return l;try{return await l.json()}catch(u){await LP(u)}}function _s(e){var t;let n=null;wj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Z7(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function _P(e){const t=_s(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vj(e){return{data:e,error:null}}function Cj(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o}=e,r=Ru(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:o},u=Object.assign({},r);return{data:{properties:l,user:u},error:null}}function NP(e){return e}function wj(e){return e.access_token&&e.refresh_token&&e.expires_in}const ey=["global","local","others"];class yj{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=G2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ey[0]){if(ey.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ey.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Ru(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Cj,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,o,r,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:NP});if(f.error)throw f.error;const g=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const S=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(y.split(";")[1].split("=")[1]);d[`${R}Page`]=S}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(_e(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){pc(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yr})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){pc(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){pc(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yr})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){pc(t.userId);try{const{data:n,error:i}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(t){pc(t.userId),pc(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,s,o,r,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:NP});if(f.error)throw f.error;const g=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const S=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(y.split(";")[1].split("=")[1]);d[`${R}Page`]=S}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(_e(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Qe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Qe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function VP(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const mc={debug:!!(globalThis&&B2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HP extends z2{}async function bj(e,t,n){mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),mc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw mc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mc.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw s?.name==="AbortError"?new HP(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function Sj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function j2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Rj(e){return parseInt(e,16)}function xj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function Ej(e){var t;const{chainId:n,domain:i,expirationTime:s,issuedAt:o=new Date,nonce:r,notBefore:l,requestId:u,resources:d,scheme:f,uri:g,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=j2(e.address),y=f?`${f}://${i}`:i,S=e.statement?`${e.statement}
`:"",R=`${y} wants you to sign in with your Ethereum account:
${v}

${S}`;let x=`URI: ${g}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${o.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let T=`
Resources:`;for(const D of d){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);T+=`
- ${D}`}x+=T}return`${R}
${x}`}class kn extends Error{constructor({message:t,code:n,cause:i,name:s}){var o;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=s??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Lp extends kn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Tj({error:e,options:t}){var n,i,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new kn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new kn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new kn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new kn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(U2(r)){if(o.rp.id!==r)return new kn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new kn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Dj({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(U2(i)){if(n.rpId!==i)return new kn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Pj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Aj=new Pj;function Fj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,s=Ru(e,["challenge","user","excludeCredentials"]),o=Uc(t).buffer,r=Object.assign(Object.assign({},n),{id:Uc(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:r});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:Uc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function Mj(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Ru(e,["challenge","allowCredentials"]),s=Uc(t).buffer,o=Object.assign(Object.assign({},i),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];o.allowCredentials[r]=Object.assign(Object.assign({},l),{id:Uc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function kj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Za(new Uint8Array(e.response.attestationObject)),clientDataJSON:Za(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ij(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Za(new Uint8Array(s.authenticatorData)),clientDataJSON:Za(new Uint8Array(s.clientDataJSON)),signature:Za(new Uint8Array(s.signature)),userHandle:s.userHandle?Za(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function BP(){var e,t;return!!(ei()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Oj(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lp("Browser returned unexpected credential type",t)}:{data:null,error:new Lp("Empty credential response",t)}}catch(t){return{data:null,error:Tj({error:t,options:e})}}}async function Lj(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lp("Browser returned unexpected credential type",t)}:{data:null,error:new Lp("Empty credential response",t)}}catch(t){return{data:null,error:Dj({error:t,options:e})}}}const _j={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Nj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _p(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const o in s){const r=s[o];if(r!==void 0)if(Array.isArray(r))i[o]=r;else if(n(r))i[o]=r;else if(t(r)){const l=i[o];t(l)?i[o]=_p(l,r):i[o]=_p(r)}else i[o]=r}return i}function Vj(e,t){return _p(_j,e,t||{})}function Hj(e,t){return _p(Nj,e,t||{})}class Bj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:s},o){var r;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=s??Aj.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const g=i;if(g)f.name=`${f.id}:${g}`;else{const v=(await this.client.getUser()).data.user,y=((r=v?.user_metadata)===null||r===void 0?void 0:r.name)||v?.email||v?.id||"User";f.name=`${f.id}:${y}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=Vj(l.webauthn.credential_options.publicKey,o?.create),{data:g,error:m}=await Oj({publicKey:f,signal:d});return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const f=Hj(l.webauthn.credential_options.publicKey,o?.request),{data:g,error:m}=await Lj(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(l){return _e(l)?{data:null,error:l}:{data:null,error:new qa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new fh("rpId is required for WebAuthn authentication")};try{if(!BP())return{data:null,error:new qa("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:s},{request:o});if(!r)return{data:null,error:l};const{webauthn:u}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(r){return _e(r)?{data:null,error:r}:{data:null,error:new qa("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new fh("rpId is required for WebAuthn registration")};try{if(!BP())return{data:null,error:new qa("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var g;return(g=f.data)===null||g===void 0?void 0:g.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:s},{create:o});return u?this._verify({factorId:r.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(r){return _e(r)?{data:null,error:r}:{data:null,error:new qa("Unexpected error in register",r)}}}}Sj();const Gj={url:V7,storageKey:H7,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B7,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function GP(e,t,n){return await n()}const vc={};class gh{get jwks(){var t,n;return(n=(t=vc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=vc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Gj),t);if(this.storageKey=o.storageKey,this.instanceID=(n=gh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ei()){const r=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(r),this.logDebugMessages&&console.trace(r)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new yj({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=G2(o.fetch),this.lock=o.lock||GP,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ei()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=bj:this.lock=GP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Bj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:B2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VP(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=VP(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r);try{await this._notifyAllSubscribers(r.data.event,r.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}o.skipAutoInitialize||this.initialize().catch(r=>{this._debug("#initialize()","error",r)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${N2}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(ei()&&(n=ej(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),ei()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),W7(o)){const u=(t=o.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:r,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?this._returnResult({error:n}):this._returnResult({error:new qa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const o=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:_s}),{data:r,error:l}=o;if(l||!r)return this._returnResult({data:{user:null,session:null},error:l});const u=r.session,d=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,i,s;try{let o;if("email"in t){const{email:f,password:g,options:m}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await gc(this.storage,this.storageKey)),o=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:f,password:g,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:y},xform:_s})}else if("phone"in t){const{phone:f,password:g,options:m}=t;o=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:g,data:(i=m?.data)!==null&&i!==void 0?i:{},channel:(s=m?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:_s})}else throw new Mg("You must provide either an email or phone number and a password");const{data:r,error:l}=o;if(l||!r)return await Jn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=r.session,d=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:r,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:_P})}else if("phone"in t){const{phone:o,password:r,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:_P})}else throw new Mg("You must provide either an email or phone number and a password");const{data:i,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const o=new fc;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,s,o,r,l,u,d,f,g,m;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:S,wallet:R,statement:x,options:T}=t;let D;if(ei())if(typeof R=="object")D=R;else{const _=window;if("ethereum"in _&&typeof _.ethereum=="object"&&"request"in _.ethereum&&typeof _.ethereum.request=="function")D=_.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=R}const M=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),F=await D.request({method:"eth_requestAccounts"}).then(_=>_).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=j2(F[0]);let A=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!A){const _=await D.request({method:"eth_chainId"});A=Rj(_)}const O={domain:M.host,address:I,statement:x,uri:M.href,version:"1",chainId:A,nonce:(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(r=(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=Ej(O),y=await D.request({method:"personal_sign",params:[xj(v),I]})}try{const{data:S,error:R}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_s});if(R)throw R;if(!S||!S.session||!S.user){const x=new fc;return this._returnResult({data:{user:null,session:null},error:x})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(_e(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,i,s,o,r,l,u,d,f,g,m,v;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:R,wallet:x,statement:T,options:D}=t;let M;if(ei())if(typeof x=="object")M=x;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))M=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=x}const F=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const I=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),T?{statement:T}:null));let A;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")A=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)A=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)y=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),S=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${F.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(i=D?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=D?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((r=D?.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((g=(f=D?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||g===void 0)&&g.length?["Resources",...D.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const I=await M.signMessage(new TextEncoder().encode(y),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:R,error:x}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Za(S)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_s});if(x)throw x;if(!R||!R.session||!R.user){const T=new fc;return this._returnResult({data:{user:null,session:null},error:T})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:x})}catch(R){if(_e(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await Ba(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new $7;const{data:o,error:r}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:_s});if(await Jn(this.storage,`${this.storageKey}-code-verifier`),r)throw r;if(!o||!o.session||!o.user){const l=new fc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:r})}catch(o){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:o,nonce:r}=t,l=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:_s}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new fc;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,s,o,r;try{if("email"in t){const{email:l,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await gc(this.storage,this.storageKey));const{error:g}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u?.data)!==null&&s!==void 0?s:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(r=u?.channel)!==null&&r!==void 0?r:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new Mg("You must provide either an email or phone number.")}catch(l){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,i;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:r,error:l}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:_s});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const u=r.session,d=r.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,i,s,o,r;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await gc(this.storage,this.storageKey));const d=await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:vj});return!((o=d.data)===null||o===void 0)&&o.url&&ei()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Wi;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(_e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:o}=t,{error:r}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:r})}else if("phone"in t){const{phone:i,type:s,options:o}=t,{data:r,error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:l})}throw new Mg("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Xw:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const r=await Ba(this.userStorage,this.storageKey+"-user");r?.user?t.user=r.user:t.user=Jw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=fj(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yr}):await this._useSession(async n=>{var i,s,o;const{data:r,error:l}=n;if(l)throw l;return!(!((i=r.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wi}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Yr})})}catch(n){if(_e(n))return Qw(n)&&(await this._removeSession(),await Jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:o}=i;if(o)throw o;if(!s.session)throw new Wi;const r=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await gc(this.storage,this.storageKey));const{data:d,error:f}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:r.access_token,xform:Yr});if(f)throw f;return r.user=d.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),this._returnResult({data:{user:r.user},error:null})})}catch(i){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wi;const n=Date.now()/1e3;let i=n,s=!0,o=null;const{payload:r}=Ig(t.access_token);if(r.exp&&(i=r.exp,s=i<=n),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(_e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(i=r.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Wi;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(_e(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ei())throw new kg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new kg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new AP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AP("No code detected.");const{data:T,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:r,expires_in:l,expires_at:u,token_type:d}=t;if(!o||!l||!r||!d)throw new kg("No session defined in URL");const f=Math.round(Date.now()/1e3),g=parseInt(l);let m=f+g;u&&(m=parseInt(u));const v=m-f;v*1e3<=Dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const y=m-g;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,f);const{data:S,error:R}=await this._getUser(o);if(R)throw R;const x={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:m,refresh_token:r,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(i){if(_e(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ba(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o&&!Qw(o))return this._returnResult({error:o});const r=(i=s.session)===null||i===void 0?void 0:i.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(U7(l)&&(l.status===404||l.status===401||l.status===403)||Qw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=J7(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:o},error:r}=n;if(r)throw r;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await gc(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:s}=await this._useSession(async o=>{var r,l,u,d,f;const{data:g,error:m}=o;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return ei()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(_e(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:r,provider:l,token:u,access_token:d,nonce:f}=t,g=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_s}),{data:m,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new fc}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(s){if(await Jn(this.storage,`${this.storageKey}-code-verifier`),_e(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:r}=n;if(r)throw r;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await ij(async s=>(s>0&&await nj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_s})),(s,o)=>{const r=200*Math.pow(2,s);return o&&Zw(o)&&Date.now()+r-i<Dc})}catch(i){if(this._debug(n,"error",i),_e(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),ei()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Ba(this.storage,this.storageKey);if(s&&this.userStorage){let r=await Ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:s.user},await Pc(this.userStorage,this.storageKey+"-user",r)),s.user=(t=r?.user)!==null&&t!==void 0?t:Jw()}else if(s&&!s.user&&!s.user){const r=await Ba(this.storage,this.storageKey+"-user");r&&r?.user?(s.user=r.user,await Jn(this.storage,this.storageKey+"-user"),await Pc(this.storage,this.storageKey,s)):s.user=Jw()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Xw;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${Xw}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:r}=await this._callRefreshToken(s.refresh_token);r&&(console.error(r),Zw(r)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(s.access_token);!l&&r?.user?(s.user=r.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(i,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vm;const{data:o,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!o.session)throw new Wi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),_e(o)){const r={data:null,error:o};return Zw(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){o.push(u)}});if(await Promise.all(r),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Pc(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=OP(s);await Pc(this.storage,this.storageKey,o)}else{const s=OP(n);await Pc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Jn(this.storage,this.storageKey),await Jn(this.storage,this.storageKey+"-code-verifier"),await Jn(this.storage,this.storageKey+"-user"),this.userStorage&&await Jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ei()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/Dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dc}ms, refresh threshold is ${Sb} ticks`),s<=Sb&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,r]=await gc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});s.push(l.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:o,error:r}=n;if(r)return this._returnResult({data:null,error:r});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u?.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kj(t.webauthn.credential_response):Ij(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const r=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Fj(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Mj(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,s,o;if(t)try{const{payload:v}=Ig(t);let y=null;v.aal&&(y=v.aal);let S=y;const{data:{user:R},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((i=(n=R?.factors)===null||n===void 0?void 0:n.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(S="aal2");const D=v.amr||[];return{data:{currentLevel:y,nextLevel:S,currentAuthenticationMethods:D},error:null}}catch(v){if(_e(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:r},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ig(r.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((o=(s=r.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(f="aal2");const m=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?await Qe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Wi})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Wi});const r=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&ei()&&!n?.skipBrowserRedirect&&window.location.assign(r.data.redirect_url),r})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:s},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Wi});const r=await Qe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&ei()&&!n?.skipBrowserRedirect&&window.location.assign(r.data.redirect_url),r})}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await Qe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Wi})})}catch(t){if(_e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;return s?this._returnResult({data:null,error:s}):i?(await Qe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wi})})}catch(n){if(_e(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(l=>l.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+z7>s)return i;const{data:o,error:r}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,i=o.keys.find(l=>l.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});i=v.session.access_token}const{header:s,payload:o,signature:r,raw:{header:l,payload:u}}=Ig(i);n?.allowExpired||uj(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:o,header:s,signature:r},error:null}}const f=dj(s.alg),g=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,g,r,Q7(`${l}.${u}`)))throw new Eb("Invalid JWT signature");return{data:{claims:o,header:s,signature:r},error:null}}catch(i){if(_e(i))return this._returnResult({data:null,error:i});throw i}}}gh.nextInstanceID={};const zj=gh,jj="2.97.0";let Vd="";typeof Deno<"u"?Vd="deno":typeof document<"u"?Vd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vd="react-native":Vd="node";const Uj={"X-Client-Info":`supabase-js-${Vd}/${jj}`},Wj={headers:Uj},$j={schema:"public"},Kj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qj={};function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function Yj(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ph(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xj(e){var t=Yj(e,"string");return ph(t)=="symbol"?t:t+""}function Qj(e,t,n){return(t=Xj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(n),!0).forEach(function(i){Qj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const Zj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jj=()=>Headers,e9=(e,t,n)=>{const i=Zj(n),s=Jj();return async(o,r)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new s(r?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(o,mn(mn({},r),{},{headers:d}))}};function t9(e){return e.endsWith("/")?e:e+"/"}function n9(e,t){var n,i;const{db:s,auth:o,realtime:r,global:l}=e,{db:u,auth:d,realtime:f,global:g}=t,m={db:mn(mn({},u),s),auth:mn(mn({},d),o),realtime:mn(mn({},f),r),storage:{},global:mn(mn(mn({},g),l),{},{headers:mn(mn({},(n=g?.headers)!==null&&n!==void 0?n:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function i9(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t9(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var s9=class extends zj{constructor(e){super(e)}},o9=class{constructor(e,t,n){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const o=i9(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const r=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:$j,realtime:qj,auth:mn(mn({},Kj),{},{storageKey:r}),global:Wj},u=n9(n??{},l);if(this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=e9(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(mn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new U8(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new N7(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new _8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:r,lock:l,debug:u,throwOnError:d},f,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s9({url:this.authUrl.href,headers:mn(mn({},m),f),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:s,flowType:r,lock:l,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new a7(this.realtimeUrl.href,mn(mn({},e),{},{params:mn(mn({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const r9=(e,t,n)=>new o9(e,t,n);function a9(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}a9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const l9="https://otnygskksrekalrjtwqj.supabase.co",c9="sb_publishable_u2_Zj4oEiuJmzRKL9n4CAg_eIsJaTvO",kt=r9(l9,c9),W2=C.createContext({});function u9(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const $2=typeof window<"u",d9=$2?C.useLayoutEffect:C.useEffect,p0=C.createContext(null);function m0(e,t){e.indexOf(t)===-1&&e.push(t)}function Np(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const So=(e,t,n)=>n>t?t:n<e?e:n;let v0=()=>{};const sr={},K2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function q2(e){return typeof e=="object"&&e!==null}const Y2=e=>/^0[^.\s]+$/u.test(e);function X2(e){let t;return()=>(t===void 0&&(t=e()),t)}const ys=e=>e,h9=(e,t)=>n=>t(e(n)),Uh=(...e)=>e.reduce(h9),mh=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class C0{constructor(){this.subscriptions=[]}add(t){return m0(this.subscriptions,t),()=>Np(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let o=0;o<s;o++){const r=this.subscriptions[o];r&&r(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const js=e=>e*1e3,Cs=e=>e/1e3;function Q2(e,t){return t?e*(1e3/t):0}const Z2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,f9=1e-7,g9=12;function p9(e,t,n,i,s){let o,r,l=0;do r=t+(n-t)/2,o=Z2(r,i,s)-e,o>0?n=r:t=r;while(Math.abs(o)>f9&&++l<g9);return r}function Wh(e,t,n,i){if(e===t&&n===i)return ys;const s=o=>p9(o,0,1,e,n);return o=>o===0||o===1?o:Z2(s(o),t,i)}const J2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eI=e=>t=>1-e(1-t),tI=Wh(.33,1.53,.69,.99),w0=eI(tI),nI=J2(w0),iI=e=>(e*=2)<1?.5*w0(e):.5*(2-Math.pow(2,-10*(e-1))),y0=e=>1-Math.sin(Math.acos(e)),sI=eI(y0),oI=J2(y0),m9=Wh(.42,0,1,1),v9=Wh(0,0,.58,1),rI=Wh(.42,0,.58,1),C9=e=>Array.isArray(e)&&typeof e[0]!="number",aI=e=>Array.isArray(e)&&typeof e[0]=="number",w9={linear:ys,easeIn:m9,easeInOut:rI,easeOut:v9,circIn:y0,circInOut:oI,circOut:sI,backIn:w0,backInOut:nI,backOut:tI,anticipate:iI},y9=e=>typeof e=="string",jP=e=>{if(aI(e)){v0(e.length===4);const[t,n,i,s]=e;return Wh(t,n,i,s)}else if(y9(e))return w9[e];return e},Og=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b9(e,t){let n=new Set,i=new Set,s=!1,o=!1;const r=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){r.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,g=!1,m=!1)=>{const y=m&&s?n:i;return g&&r.add(f),y.has(f)||y.add(f),f},cancel:f=>{i.delete(f),r.delete(f)},process:f=>{if(l=f,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(u),n.clear(),s=!1,o&&(o=!1,d.process(f))}};return d}const S9=40;function lI(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=Og.reduce((D,M)=>(D[M]=b9(o),D),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:g,preRender:m,render:v,postRender:y}=r,S=()=>{const D=sr.useManualTiming?s.timestamp:performance.now();n=!1,sr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(D-s.timestamp,S9),1)),s.timestamp=D,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),f.process(s),g.process(s),m.process(s),v.process(s),y.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(S))},R=()=>{n=!0,i=!0,s.isProcessing||e(S)};return{schedule:Og.reduce((D,M)=>{const F=r[M];return D[M]=(I,A=!1,O=!1)=>(n||R(),F.schedule(I,A,O)),D},{}),cancel:D=>{for(let M=0;M<Og.length;M++)r[Og[M]].cancel(D)},state:s,steps:r}}const{schedule:Xt,cancel:ta,state:ti,steps:ty}=lI(typeof requestAnimationFrame<"u"?requestAnimationFrame:ys,!0);let op;function R9(){op=void 0}const fi={now:()=>(op===void 0&&fi.set(ti.isProcessing||sr.useManualTiming?ti.timestamp:performance.now()),op),set:e=>{op=e,queueMicrotask(R9)}},cI=e=>t=>typeof t=="string"&&t.startsWith(e),uI=cI("--"),x9=cI("var(--"),b0=e=>x9(e)?E9.test(e.split("/*")[0].trim()):!1,E9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function UP(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Eu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vh={...Eu,transform:e=>So(0,1,e)},Lg={...Eu,default:1},Kd=e=>Math.round(e*1e5)/1e5,S0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T9(e){return e==null}const D9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R0=(e,t)=>n=>!!(typeof n=="string"&&D9.test(n)&&n.startsWith(e)||t&&!T9(n)&&Object.prototype.hasOwnProperty.call(n,t)),dI=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,o,r,l]=i.match(S0);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},P9=e=>So(0,255,e),ny={...Eu,transform:e=>Math.round(P9(e))},Ja={test:R0("rgb","red"),parse:dI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+ny.transform(e)+", "+ny.transform(t)+", "+ny.transform(n)+", "+Kd(vh.transform(i))+")"};function A9(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Tb={test:R0("#"),parse:A9,transform:Ja.transform},$h=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),jr=$h("deg"),vo=$h("%"),Me=$h("px"),F9=$h("vh"),M9=$h("vw"),WP={...vo,parse:e=>vo.parse(e)/100,transform:e=>vo.transform(e*100)},Ic={test:R0("hsl","hue"),parse:dI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+vo.transform(Kd(t))+", "+vo.transform(Kd(n))+", "+Kd(vh.transform(i))+")"},In={test:e=>Ja.test(e)||Tb.test(e)||Ic.test(e),parse:e=>Ja.test(e)?Ja.parse(e):Ic.test(e)?Ic.parse(e):Tb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ja.transform(e):Ic.transform(e),getAnimatableNone:e=>{const t=In.parse(e);return t.alpha=0,In.transform(t)}},k9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function I9(e){return isNaN(e)&&typeof e=="string"&&(e.match(S0)?.length||0)+(e.match(k9)?.length||0)>0}const hI="number",fI="color",O9="var",L9="var(",$P="${}",_9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ch(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(_9,u=>(In.test(u)?(i.color.push(o),s.push(fI),n.push(In.parse(u))):u.startsWith(L9)?(i.var.push(o),s.push(O9),n.push(u)):(i.number.push(o),s.push(hI),n.push(parseFloat(u))),++o,$P)).split($P);return{values:n,split:l,indexes:i,types:s}}function gI(e){return Ch(e).values}function pI(e){const{split:t,types:n}=Ch(e),i=t.length;return s=>{let o="";for(let r=0;r<i;r++)if(o+=t[r],s[r]!==void 0){const l=n[r];l===hI?o+=Kd(s[r]):l===fI?o+=In.transform(s[r]):o+=s[r]}return o}}const N9=e=>typeof e=="number"?0:In.test(e)?In.getAnimatableNone(e):e;function V9(e){const t=gI(e);return pI(e)(t.map(N9))}const Us={test:I9,parse:gI,createTransformer:pI,getAnimatableNone:V9};function iy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function H9({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,o=0,r=0;if(!t)s=o=r=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;s=iy(u,l,e+1/3),o=iy(u,l,e),r=iy(u,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:i}}function Vp(e,t){return n=>n>0?t:e}const rn=(e,t,n)=>e+(t-e)*n,sy=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},B9=[Tb,Ja,Ic],G9=e=>B9.find(t=>t.test(e));function KP(e){const t=G9(e);if(!t)return!1;let n=t.parse(e);return t===Ic&&(n=H9(n)),n}const qP=(e,t)=>{const n=KP(e),i=KP(t);if(!n||!i)return Vp(e,t);const s={...n};return o=>(s.red=sy(n.red,i.red,o),s.green=sy(n.green,i.green,o),s.blue=sy(n.blue,i.blue,o),s.alpha=rn(n.alpha,i.alpha,o),Ja.transform(s))},Db=new Set(["none","hidden"]);function z9(e,t){return Db.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function j9(e,t){return n=>rn(e,t,n)}function x0(e){return typeof e=="number"?j9:typeof e=="string"?b0(e)?Vp:In.test(e)?qP:$9:Array.isArray(e)?mI:typeof e=="object"?In.test(e)?qP:U9:Vp}function mI(e,t){const n=[...e],i=n.length,s=e.map((o,r)=>x0(o)(o,t[r]));return o=>{for(let r=0;r<i;r++)n[r]=s[r](o);return n}}function U9(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=x0(e[s])(e[s],t[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function W9(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],r=e.indexes[o][i[o]],l=e.values[r]??0;n[s]=l,i[o]++}return n}const $9=(e,t)=>{const n=Us.createTransformer(t),i=Ch(e),s=Ch(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Db.has(e)&&!s.values.length||Db.has(t)&&!i.values.length?z9(e,t):Uh(mI(W9(i,s),s.values),n):Vp(e,t)};function vI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?rn(e,t,n):x0(e)(e,t)}const K9=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Xt.update(t,n),stop:()=>ta(t),now:()=>ti.isProcessing?ti.timestamp:fi.now()}},CI=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)i+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Hp=2e4;function E0(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Hp;)t+=n,i=e.next(t);return t>=Hp?1/0:t}function q9(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(E0(i),Hp);return{type:"keyframes",ease:o=>i.next(s*o).value/t,duration:Cs(s)}}const Y9=5;function wI(e,t,n){const i=Math.max(t-Y9,0);return Q2(n-e(i),t-i)}const vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oy=.001;function X9({duration:e=vn.duration,bounce:t=vn.bounce,velocity:n=vn.velocity,mass:i=vn.mass}){let s,o,r=1-t;r=So(vn.minDamping,vn.maxDamping,r),e=So(vn.minDuration,vn.maxDuration,Cs(e)),r<1?(s=d=>{const f=d*r,g=f*e,m=f-n,v=Pb(d,r),y=Math.exp(-g);return oy-m/v*y},o=d=>{const g=d*r*e,m=g*n+n,v=Math.pow(r,2)*Math.pow(d,2)*e,y=Math.exp(-g),S=Pb(Math.pow(d,2),r);return(-s(d)+oy>0?-1:1)*((m-v)*y)/S}):(s=d=>{const f=Math.exp(-d*e),g=(d-n)*e+1;return-oy+f*g},o=d=>{const f=Math.exp(-d*e),g=(n-d)*(e*e);return f*g});const l=5/e,u=Z9(s,o,l);if(e=js(e),isNaN(u))return{stiffness:vn.stiffness,damping:vn.damping,duration:e};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:r*2*Math.sqrt(i*d),duration:e}}}const Q9=12;function Z9(e,t,n){let i=n;for(let s=1;s<Q9;s++)i=i-e(i)/t(i);return i}function Pb(e,t){return e*Math.sqrt(1-t*t)}const J9=["duration","bounce"],eU=["stiffness","damping","mass"];function YP(e,t){return t.some(n=>e[n]!==void 0)}function tU(e){let t={velocity:vn.velocity,stiffness:vn.stiffness,damping:vn.damping,mass:vn.mass,isResolvedFromDuration:!1,...e};if(!YP(e,eU)&&YP(e,J9))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*So(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:vn.mass,stiffness:s,damping:o}}else{const n=X9({...e,velocity:0});t={...t,...n,mass:vn.mass},t.isResolvedFromDuration=!0}return t}function Bp(e=vn.visualDuration,t=vn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:f,duration:g,velocity:m,isResolvedFromDuration:v}=tU({...n,velocity:-Cs(n.velocity||0)}),y=m||0,S=d/(2*Math.sqrt(u*f)),R=r-o,x=Cs(Math.sqrt(u/f)),T=Math.abs(R)<5;i||(i=T?vn.restSpeed.granular:vn.restSpeed.default),s||(s=T?vn.restDelta.granular:vn.restDelta.default);let D;if(S<1){const F=Pb(x,S);D=I=>{const A=Math.exp(-S*x*I);return r-A*((y+S*x*R)/F*Math.sin(F*I)+R*Math.cos(F*I))}}else if(S===1)D=F=>r-Math.exp(-x*F)*(R+(y+x*R)*F);else{const F=x*Math.sqrt(S*S-1);D=I=>{const A=Math.exp(-S*x*I),O=Math.min(F*I,300);return r-A*((y+S*x*R)*Math.sinh(O)+F*R*Math.cosh(O))/F}}const M={calculatedDuration:v&&g||null,next:F=>{const I=D(F);if(v)l.done=F>=g;else{let A=F===0?y:0;S<1&&(A=F===0?js(y):wI(D,F,I));const O=Math.abs(A)<=i,_=Math.abs(r-I)<=s;l.done=O&&_}return l.value=l.done?r:I,l},toString:()=>{const F=Math.min(E0(M),Hp),I=CI(A=>M.next(F*A).value,F,30);return F+"ms "+I},toTransition:()=>{}};return M}Bp.applyToOptions=e=>{const t=q9(e,100,Bp);return e.ease=t.ease,e.duration=js(t.duration),e.type="keyframes",e};function Ab({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:r,min:l,max:u,restDelta:d=.5,restSpeed:f}){const g=e[0],m={done:!1,value:g},v=O=>l!==void 0&&O<l||u!==void 0&&O>u,y=O=>l===void 0?u:u===void 0||Math.abs(l-O)<Math.abs(u-O)?l:u;let S=n*t;const R=g+S,x=r===void 0?R:r(R);x!==R&&(S=x-g);const T=O=>-S*Math.exp(-O/i),D=O=>x+T(O),M=O=>{const _=T(O),B=D(O);m.done=Math.abs(_)<=d,m.value=m.done?x:B};let F,I;const A=O=>{v(m.value)&&(F=O,I=Bp({keyframes:[m.value,y(m.value)],velocity:wI(D,O,m.value),damping:s,stiffness:o,restDelta:d,restSpeed:f}))};return A(0),{calculatedDuration:null,next:O=>{let _=!1;return!I&&F===void 0&&(_=!0,M(O),A(O)),F!==void 0&&O>=F?I.next(O-F):(!_&&M(O),m)}}}function nU(e,t,n){const i=[],s=n||sr.mix||vI,o=e.length-1;for(let r=0;r<o;r++){let l=s(e[r],e[r+1]);if(t){const u=Array.isArray(t)?t[r]||ys:t;l=Uh(u,l)}i.push(l)}return i}function iU(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const o=e.length;if(v0(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=nU(t,i,s),u=l.length,d=f=>{if(r&&f<e[0])return t[0];let g=0;if(u>1)for(;g<e.length-2&&!(f<e[g+1]);g++);const m=mh(e[g],e[g+1],f);return l[g](m)};return n?f=>d(So(e[0],e[o-1],f)):d}function sU(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=mh(0,t,i);e.push(rn(n,1,s))}}function oU(e){const t=[0];return sU(t,e.length-1),t}function rU(e,t){return e.map(n=>n*t)}function aU(e,t){return e.map(()=>t||rI).splice(0,e.length-1)}function qd({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=C9(i)?i.map(jP):jP(i),o={done:!1,value:t[0]},r=rU(n&&n.length===t.length?n:oU(t),e),l=iU(r,t,{ease:Array.isArray(s)?s:aU(t,s)});return{calculatedDuration:e,next:u=>(o.value=l(u),o.done=u>=e,o)}}const lU=e=>e!==null;function T0(e,{repeat:t,repeatType:n="loop"},i,s=1){const o=e.filter(lU),l=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const cU={decay:Ab,inertia:Ab,tween:qd,keyframes:qd,spring:Bp};function yI(e){typeof e.type=="string"&&(e.type=cU[e.type])}class D0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const uU=e=>e/100;class P0 extends D0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==fi.now()&&this.tick(fi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;yI(t);const{type:n=qd,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:r=0}=t;let{keyframes:l}=t;const u=n||qd;u!==qd&&typeof l[0]!="number"&&(this.mixKeyframes=Uh(uU,vI(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-r})),d.calculatedDuration===null&&(d.calculatedDuration=E0(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:r,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:f,repeat:g,repeatType:m,repeatDelay:v,type:y,onUpdate:S,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,M=i;if(g){const O=Math.min(this.currentTime,s)/l;let _=Math.floor(O),B=O%1;!B&&O>=1&&(B=1),B===1&&_--,_=Math.min(_,g+1),_%2&&(m==="reverse"?(B=1-B,v&&(B-=v/l)):m==="mirror"&&(M=r)),D=So(0,1,B)*l}const F=T?{done:!1,value:f[0]}:M.next(D);o&&(F.value=o(F.value));let{done:I}=F;!T&&u!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return A&&y!==Ab&&(F.value=T0(f,this.options,R,this.speed)),S&&S(F.value),A&&this.finish(),F}then(t,n){return this.finished.then(t,n)}get duration(){return Cs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Cs(t)}get time(){return Cs(this.currentTime)}set time(t){t=js(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fi.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Cs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=K9,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function dU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const el=e=>e*180/Math.PI,Fb=e=>{const t=el(Math.atan2(e[1],e[0]));return Mb(t)},hU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fb,rotateZ:Fb,skewX:e=>el(Math.atan(e[1])),skewY:e=>el(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mb=e=>(e=e%360,e<0&&(e+=360),e),XP=Fb,QP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ZP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QP,scaleY:ZP,scale:e=>(QP(e)+ZP(e))/2,rotateX:e=>Mb(el(Math.atan2(e[6],e[5]))),rotateY:e=>Mb(el(Math.atan2(-e[2],e[0]))),rotateZ:XP,rotate:XP,skewX:e=>el(Math.atan(e[4])),skewY:e=>el(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function kb(e){return e.includes("scale")?1:0}function Ib(e,t){if(!e||e==="none")return kb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=fU,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=hU,s=l}if(!s)return kb(t);const o=i[t],r=s[1].split(",").map(pU);return typeof o=="function"?o(r):r[o]}const gU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ib(n,t)};function pU(e){return parseFloat(e.trim())}const Tu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Du=new Set(Tu),JP=e=>e===Eu||e===Me,mU=new Set(["x","y","z"]),vU=Tu.filter(e=>!mU.has(e));function CU(e){const t=[];return vU.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Qr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ib(t,"x"),y:(e,{transform:t})=>Ib(t,"y")};Qr.translateX=Qr.x;Qr.translateY=Qr.y;const il=new Set;let Ob=!1,Lb=!1,_b=!1;function bI(){if(Lb){const e=Array.from(il).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=CU(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,r])=>{i.getValue(o)?.set(r)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Lb=!1,Ob=!1,il.forEach(e=>e.complete(_b)),il.clear()}function SI(){il.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lb=!0)})}function wU(){_b=!0,SI(),bI(),_b=!1}class A0{constructor(t,n,i,s,o,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(il.add(this),Ob||(Ob=!0,Xt.read(SI),Xt.resolveKeyframes(bI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const o=s?.get(),r=t[t.length-1];if(o!==void 0)t[0]=o;else if(i&&n){const l=i.readValue(n,r);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=r),s&&o===void 0&&s.set(t[0])}dU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),il.delete(this)}cancel(){this.state==="scheduled"&&(il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yU=e=>e.startsWith("--");function bU(e,t,n){yU(t)?e.style.setProperty(t,n):e.style[t]=n}const SU={};function RI(e,t){const n=X2(e);return()=>SU[t]??n()}const RU=RI(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),xI=RI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hd=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,eA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hd([0,.65,.55,1]),circOut:Hd([.55,0,1,.45]),backIn:Hd([.31,.01,.66,-.59]),backOut:Hd([.33,1.53,.69,.99])};function EI(e,t){if(e)return typeof e=="function"?xI()?CI(e,t):"ease-out":aI(e)?Hd(e):Array.isArray(e)?e.map(n=>EI(n,t)||eA.easeOut):eA[e]}function xU(e,t,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:r="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[t]:n};u&&(f.offset=u);const g=EI(l,s);Array.isArray(g)&&(f.easing=g);const m={delay:i,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(f,m)}function TI(e){return typeof e=="function"&&"applyToOptions"in e}function EU({type:e,...t}){return TI(e)&&xI()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class DI extends D0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:r=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!o,this.allowFlatten=r,this.options=t,v0(typeof t.type!="string");const d=EU(t);this.animation=xU(n,i,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=T0(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):bU(n,i,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Cs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Cs(t)}get time(){return Cs(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=js(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&RU()?(this.animation.timeline=t,ys):n(this)}}const PI={anticipate:iI,backInOut:nI,circInOut:oI};function TU(e){return e in PI}function DU(e){typeof e.ease=="string"&&TU(e.ease)&&(e.ease=PI[e.ease])}const ry=10;class PU extends DI{constructor(t){DU(t),yI(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new P0({...r,autoplay:!1}),u=Math.max(ry,fi.now()-this.startTime),d=So(0,ry,u-ry);n.setWithVelocity(l.sample(Math.max(0,u-d)).value,l.sample(u).value,d),l.stop()}}const tA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Us.test(e)||e==="0")&&!e.startsWith("url("));function AU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function FU(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=tA(s,t),l=tA(o,t);return!r||!l?!1:AU(e)||(n==="spring"||TI(n))&&i}function Nb(e){e.duration=0,e.type="keyframes"}const MU=new Set(["opacity","clipPath","filter","transform"]),kU=X2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IU(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:o,type:r}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return kU()&&n&&MU.has(n)&&(n!=="transform"||!d)&&!u&&!i&&s!=="mirror"&&o!==0&&r!=="inertia"}const OU=40;class LU extends D0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:r="loop",keyframes:l,name:u,motionValue:d,element:f,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=fi.now();const m={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:r,name:u,motionValue:d,element:f,...g},v=f?.KeyframeResolver||A0;this.keyframeResolver=new v(l,(y,S,R)=>this.onKeyframesResolved(y,S,m,!R),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:o,type:r,velocity:l,delay:u,isHandoff:d,onUpdate:f}=i;this.resolvedAt=fi.now(),FU(t,o,r,l)||((sr.instantAnimations||!u)&&f?.(T0(t,i,n)),t[0]=t[t.length-1],Nb(i),i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>OU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},v=!d&&IU(m),y=m.motionValue?.owner?.current,S=v?new PU({...m,element:y}):new P0(m);S.finished.then(()=>{this.notifyFinished()}).catch(ys),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function AI(e,t,n,i=0,s=1){const o=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),r=e.size,l=(r-1)*i;return typeof n=="function"?n(o,r):s===1?o*i:l-o*i}const _U=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NU(e){const t=_U.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function FI(e,t,n=1){const[i,s]=NU(e);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const r=o.trim();return K2(r)?parseFloat(r):r}return b0(s)?FI(s,t,n+1):s}const VU={type:"spring",stiffness:500,damping:25,restSpeed:10},HU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),BU={type:"keyframes",duration:.8},GU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zU=(e,{keyframes:t})=>t.length>2?BU:Du.has(e)?e.startsWith("scale")?HU(t[1]):VU:GU,jU=e=>e!==null;function UU(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(jU),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}function MI(e,t){if(e?.inherit&&t){const{inherit:n,...i}=e;return{...t,...i}}return e}function F0(e,t){const n=e?.[t]??e?.default??e;return n!==e?MI(n,e):n}function WU({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:r,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const M0=(e,t,n,i={},s,o)=>r=>{const l=F0(i,e)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-js(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};WU(l)||Object.assign(f,zU(e,f)),f.duration&&(f.duration=js(f.duration)),f.repeatDelay&&(f.repeatDelay=js(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Nb(f),f.delay===0&&(g=!0)),(sr.instantAnimations||sr.skipAnimations||s?.shouldSkipAnimations)&&(g=!0,Nb(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,g&&!o&&t.get()!==void 0){const m=UU(f.keyframes,l);if(m!==void 0){Xt.update(()=>{f.onUpdate(m),f.onComplete()});return}}return l.isSync?new P0(f):new LU(f)};function nA(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function k0(e,t,n,i){if(typeof t=="function"){const[s,o]=nA(i);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=nA(i);t=t(n!==void 0?n:e.custom,s,o)}return t}function Wc(e,t,n){const i=e.getProps();return k0(i,t,n!==void 0?n:i.custom,e)}const kI=new Set(["width","height","top","left","right","bottom",...Tu]),iA=30,$U=e=>!isNaN(parseFloat(e));class KU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=fi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=fi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$U(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new C0);const i=this.events[t].add(n);return t==="change"?()=>{i(),Xt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>iA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iA);return Q2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ru(e,t){return new KU(e,t)}const Vb=e=>Array.isArray(e);function qU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ru(n))}function YU(e){return Vb(e)?e[e.length-1]||0:e}function XU(e,t){const n=Wc(e,t);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const r in o){const l=YU(o[r]);qU(e,r,l)}}const li=e=>!!(e&&e.getVelocity);function QU(e){return!!(li(e)&&e.add)}function Hb(e,t){const n=e.getValue("willChange");if(QU(n))return n.add(t);if(!n&&sr.WillChange){const i=new sr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function I0(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const ZU="framerAppearId",II="data-"+I0(ZU);function OI(e){return e.props[II]}function JU({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function LI(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o,transitionEnd:r,...l}=t;const u=e.getDefaultTransition();o=o?MI(o,u):u;const d=o?.reduceMotion;i&&(o=i);const f=[],g=s&&e.animationState&&e.animationState.getState()[s];for(const m in l){const v=e.getValue(m,e.latestValues[m]??null),y=l[m];if(y===void 0||g&&JU(g,m))continue;const S={delay:n,...F0(o||{},m)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===R&&!S.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const M=OI(e);if(M){const F=window.MotionHandoffAnimation(M,m,Xt);F!==null&&(S.startTime=F,x=!0)}}Hb(e,m);const T=d??e.shouldReduceMotion;v.start(M0(m,v,y,T&&kI.has(m)?{type:!1}:S,e,x));const D=v.animation;D&&f.push(D)}if(r){const m=()=>Xt.update(()=>{r&&XU(e,r)});f.length?Promise.all(f).then(m):m()}return f}function Bb(e,t,n={}){const i=Wc(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(LI(e,i,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=s;return eW(e,t,u,d,f,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,r]:[r,o];return u().then(()=>d())}else return Promise.all([o(),r(n.delay)])}function eW(e,t,n=0,i=0,s=0,o=1,r){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(Bb(u,t,{...r,delay:n+(typeof i=="function"?0:i)+AI(e.variantChildren,u,i,s,o)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function tW(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(o=>Bb(e,o,n));i=Promise.all(s)}else if(typeof t=="string")i=Bb(e,t,n);else{const s=typeof t=="function"?Wc(e,t,n.custom):t;i=Promise.all(LI(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const nW={test:e=>e==="auto",parse:e=>e},_I=e=>t=>t.test(e),NI=[Eu,Me,vo,jr,M9,F9,nW],sA=e=>NI.find(_I(e));function iW(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Y2(e):!0}const sW=new Set(["brightness","contrast","saturate","opacity"]);function oW(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(S0)||[];if(!i)return e;const s=n.replace(i,"");let o=sW.has(t)?1:0;return i!==n&&(o*=100),t+"("+o+s+")"}const rW=/\b([a-z-]*)\(.*?\)/gu,Gb={...Us,getAnimatableNone:e=>{const t=e.match(rW);return t?t.map(oW).join(" "):e}},zb={...Us,getAnimatableNone:e=>{const t=Us.parse(e);return Us.createTransformer(e)(t.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},oA={...Eu,transform:Math.round},aW={rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:Lg,scaleX:Lg,scaleY:Lg,scaleZ:Lg,skew:jr,skewX:jr,skewY:jr,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:vh,originX:WP,originY:WP,originZ:Me},O0={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,inset:Me,insetBlock:Me,insetBlockStart:Me,insetBlockEnd:Me,insetInline:Me,insetInlineStart:Me,insetInlineEnd:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,paddingBlock:Me,paddingBlockStart:Me,paddingBlockEnd:Me,paddingInline:Me,paddingInlineStart:Me,paddingInlineEnd:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,marginBlock:Me,marginBlockStart:Me,marginBlockEnd:Me,marginInline:Me,marginInlineStart:Me,marginInlineEnd:Me,fontSize:Me,backgroundPositionX:Me,backgroundPositionY:Me,...aW,zIndex:oA,fillOpacity:vh,strokeOpacity:vh,numOctaves:oA},lW={...O0,color:In,backgroundColor:In,outlineColor:In,fill:In,stroke:In,borderColor:In,borderTopColor:In,borderRightColor:In,borderBottomColor:In,borderLeftColor:In,filter:Gb,WebkitFilter:Gb,mask:zb,WebkitMask:zb},VI=e=>lW[e],cW=new Set([Gb,zb]);function HI(e,t){let n=VI(e);return cW.has(n)||(n=Us),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const uW=new Set(["auto","none","0"]);function dW(e,t,n){let i=0,s;for(;i<e.length&&!s;){const o=e[i];typeof o=="string"&&!uW.has(o)&&Ch(o).values.length&&(s=e[i]),i++}if(s&&n)for(const o of t)e[o]=HI(n,s)}class hW extends A0{constructor(t,n,i,s,o){super(t,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let g=t[f];if(typeof g=="string"&&(g=g.trim(),b0(g))){const m=FI(g,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!kI.has(i)||t.length!==2)return;const[s,o]=t,r=sA(s),l=sA(o),u=UP(s),d=UP(o);if(u!==d&&Qr[i]){this.needsMeasurement=!0;return}if(r!==l)if(JP(r)&&JP(l))for(let f=0;f<t.length;f++){const g=t[f];typeof g=="string"&&(t[f]=parseFloat(g))}else Qr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||iW(t[s]))&&i.push(s);i.length&&dW(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,r=i[o];i[o]=Qr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const fW=new Set(["opacity","clipPath","filter","transform"]);function BI(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=n?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(i=>i!=null)}const GI=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function gW(e){return q2(e)&&"offsetHeight"in e}const{schedule:L0}=lI(queueMicrotask,!1),Ns={x:!1,y:!1};function zI(){return Ns.x||Ns.y}function pW(e){return e==="x"||e==="y"?Ns[e]?null:(Ns[e]=!0,()=>{Ns[e]=!1}):Ns.x||Ns.y?null:(Ns.x=Ns.y=!0,()=>{Ns.x=Ns.y=!1})}function jI(e,t){const n=BI(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function mW(e){return!(e.pointerType==="touch"||zI())}function vW(e,t,n={}){const[i,s,o]=jI(e,n);return i.forEach(r=>{let l=!1,u=!1,d;const f=()=>{r.removeEventListener("pointerleave",y)},g=R=>{d&&(d(R),d=void 0),f()},m=R=>{l=!1,window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",m),u&&(u=!1,g(R))},v=()=>{l=!0,window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",m,s)},y=R=>{if(R.pointerType!=="touch"){if(l){u=!0;return}g(R)}},S=R=>{if(!mW(R))return;u=!1;const x=t(r,R);typeof x=="function"&&(d=x,r.addEventListener("pointerleave",y,s))};r.addEventListener("pointerenter",S,s),r.addEventListener("pointerdown",v,s)}),o}const UI=(e,t)=>t?e===t?!0:UI(e,t.parentElement):!1,_0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wW(e){return CW.has(e.tagName)||e.isContentEditable===!0}const yW=new Set(["INPUT","SELECT","TEXTAREA"]);function bW(e){return yW.has(e.tagName)||e.isContentEditable===!0}const rp=new WeakSet;function rA(e){return t=>{t.key==="Enter"&&e(t)}}function ay(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const SW=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=rA(()=>{if(rp.has(n))return;ay(n,"down");const s=rA(()=>{ay(n,"up")}),o=()=>ay(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function aA(e){return _0(e)&&!zI()}const lA=new WeakSet;function RW(e,t,n={}){const[i,s,o]=jI(e,n),r=l=>{const u=l.currentTarget;if(!aA(l)||lA.has(l))return;rp.add(u),n.stopPropagation&&lA.add(l);const d=t(u,l),f=(v,y)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",m),rp.has(u)&&rp.delete(u),aA(v)&&typeof d=="function"&&d(v,{success:y})},g=v=>{f(v,u===window||u===document||n.useGlobalTarget||UI(u,v.target))},m=v=>{f(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",m,s)};return i.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",r,s),gW(l)&&(l.addEventListener("focus",d=>SW(d,s)),!wW(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function N0(e){return q2(e)&&"ownerSVGElement"in e}const ap=new WeakMap;let lp;const WI=(e,t,n)=>(i,s)=>s&&s[0]?s[0][e+"Size"]:N0(i)&&"getBBox"in i?i.getBBox()[t]:i[n],xW=WI("inline","width","offsetWidth"),EW=WI("block","height","offsetHeight");function TW({target:e,borderBoxSize:t}){ap.get(e)?.forEach(n=>{n(e,{get width(){return xW(e,t)},get height(){return EW(e,t)}})})}function DW(e){e.forEach(TW)}function PW(){typeof ResizeObserver>"u"||(lp=new ResizeObserver(DW))}function AW(e,t){lp||PW();const n=BI(e);return n.forEach(i=>{let s=ap.get(i);s||(s=new Set,ap.set(i,s)),s.add(t),lp?.observe(i)}),()=>{n.forEach(i=>{const s=ap.get(i);s?.delete(t),s?.size||lp?.unobserve(i)})}}const cp=new Set;let Oc;function FW(){Oc=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};cp.forEach(t=>t(e))},window.addEventListener("resize",Oc)}function MW(e){return cp.add(e),Oc||FW(),()=>{cp.delete(e),!cp.size&&typeof Oc=="function"&&(window.removeEventListener("resize",Oc),Oc=void 0)}}function cA(e,t){return typeof e=="function"?MW(e):AW(e,t)}function kW(e){return N0(e)&&e.tagName==="svg"}const IW=[...NI,In,Us],OW=e=>IW.find(_I(e)),uA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:uA(),y:uA()}),dA=()=>({min:0,max:0}),Hn=()=>({x:dA(),y:dA()}),LW=new WeakMap;function Hm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function wh(e){return typeof e=="string"||Array.isArray(e)}const V0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],H0=["initial",...V0];function Bm(e){return Hm(e.animate)||H0.some(t=>wh(e[t]))}function $I(e){return!!(Bm(e)||e.variants)}function _W(e,t,n){for(const i in t){const s=t[i],o=n[i];if(li(s))e.addValue(i,s);else if(li(o))e.addValue(i,ru(s,{owner:e}));else if(o!==s)if(e.hasValue(i)){const r=e.getValue(i);r.liveStyle===!0?r.jump(s):r.hasAnimated||r.set(s)}else{const r=e.getStaticValue(i);e.addValue(i,ru(r!==void 0?r:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const jb={current:null},KI={current:!1},NW=typeof window<"u";function VW(){if(KI.current=!0,!!NW)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jb.current=e.matches;e.addEventListener("change",t),t()}else jb.current=!1}const hA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gp={};function qI(e){Gp=e}function HW(){return Gp}class BW{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,skipAnimations:o,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=A0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=fi.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Xt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=o,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=Bm(n),this.isVariantNode=$I(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const y=m[v];d[v]!==void 0&&li(y)&&y.set(d[v])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,LW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(KI.current||VW(),this.shouldReduceMotion=jb.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&fW.has(t)&&this.current instanceof HTMLElement){const{factory:r,keyframes:l,times:u,ease:d,duration:f}=n.accelerate,g=new DI({element:this.current,name:t,keyframes:l,times:u,ease:d,duration:js(f)}),m=r(g);this.valueSubscriptions.set(t,()=>{m(),g.cancel()});return}const i=Du.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&Xt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gp){const n=Gp[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<hA.length;i++){const s=hA[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,r=t[o];r&&(this.propEventSubscriptions[s]=this.on(s,r))}this.prevMotionValues=_W(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ru(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(K2(i)||Y2(i))?i=parseFloat(i):!OW(i)&&Us.test(n)&&(i=HI(t,n)),this.setBaseTarget(t,li(i)?i.get():i)),li(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=k0(this.props,n,this.presenceContext?.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!li(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new C0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){L0.render(this.render)}}class YI extends BW{constructor(){super(...arguments),this.KeyframeResolver=hW}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const i=t.style;return i?i[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;li(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class da{constructor(t){this.isMounted=!1,this.node=t}update(){}}function XI({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function GW({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zW(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ly(e){return e===void 0||e===1}function Ub({scale:e,scaleX:t,scaleY:n}){return!ly(e)||!ly(t)||!ly(n)}function Wa(e){return Ub(e)||QI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function QI(e){return fA(e.x)||fA(e.y)}function fA(e){return e&&e!=="0%"}function zp(e,t,n){const i=e-n,s=t*i;return n+s}function gA(e,t,n,i,s){return s!==void 0&&(e=zp(e,s,i)),zp(e,n,i)+t}function Wb(e,t=0,n=1,i,s){e.min=gA(e.min,t,n,i,s),e.max=gA(e.max,t,n,i,s)}function ZI(e,{x:t,y:n}){Wb(e.x,t.translate,t.scale,t.originPoint),Wb(e.y,n.translate,n.scale,n.originPoint)}const pA=.999999999999,mA=1.0000000000001;function jW(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,r;for(let l=0;l<s;l++){o=n[l],r=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nc(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,ZI(e,r)),i&&Wa(o.latestValues)&&Nc(e,o.latestValues))}t.x<mA&&t.x>pA&&(t.x=1),t.y<mA&&t.y>pA&&(t.y=1)}function _c(e,t){e.min=e.min+t,e.max=e.max+t}function vA(e,t,n,i,s=.5){const o=rn(e.min,e.max,s);Wb(e,t,n,o,i)}function Nc(e,t){vA(e.x,t.x,t.scaleX,t.scale,t.originX),vA(e.y,t.y,t.scaleY,t.scale,t.originY)}function JI(e,t){return XI(zW(e.getBoundingClientRect(),t))}function UW(e,t,n){const i=JI(e,n),{scroll:s}=t;return s&&(_c(i.x,s.offset.x),_c(i.y,s.offset.y)),i}const WW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$W=Tu.length;function KW(e,t,n){let i="",s=!0;for(let o=0;o<$W;o++){const r=Tu[o],l=e[r];if(l===void 0)continue;let u=!0;if(typeof l=="number")u=l===(r.startsWith("scale")?1:0);else{const d=parseFloat(l);u=r.startsWith("scale")?d===1:d===0}if(!u||n){const d=GI(l,O0[r]);if(!u){s=!1;const f=WW[r]||r;i+=`${f}(${d}) `}n&&(t[r]=d)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function B0(e,t,n){const{style:i,vars:s,transformOrigin:o}=e;let r=!1,l=!1;for(const u in t){const d=t[u];if(Du.has(u)){r=!0;continue}else if(uI(u)){s[u]=d;continue}else{const f=GI(d,O0[u]);u.startsWith("origin")?(l=!0,o[u]=f):i[u]=f}}if(t.transform||(r||n?i.transform=KW(t,e.transform,n):i.transform&&(i.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=o;i.transformOrigin=`${u} ${d} ${f}`}}function eO(e,{style:t,vars:n},i,s){const o=e.style;let r;for(r in t)o[r]=t[r];s?.applyProjectionStyles(o,i);for(r in n)o.setProperty(r,n[r])}function CA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Md={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const n=CA(e,t.target.x),i=CA(e,t.target.y);return`${n}% ${i}%`}},qW={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Us.parse(e);if(s.length>5)return i;const o=Us.createTransformer(e),r=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;s[0+r]/=l,s[1+r]/=u;const d=rn(l,u,.5);return typeof s[2+r]=="number"&&(s[2+r]/=d),typeof s[3+r]=="number"&&(s[3+r]/=d),o(s)}},$b={borderRadius:{...Md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Md,borderTopRightRadius:Md,borderBottomLeftRadius:Md,borderBottomRightRadius:Md,boxShadow:qW};function tO(e,{layout:t,layoutId:n}){return Du.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$b[e]||e==="opacity")}function G0(e,t,n){const i=e.style,s=t?.style,o={};if(!i)return o;for(const r in i)(li(i[r])||s&&li(s[r])||tO(r,e)||n?.getValue(r)?.liveStyle!==void 0)&&(o[r]=i[r]);return o}function YW(e){return window.getComputedStyle(e)}class XW extends YI{constructor(){super(...arguments),this.type="html",this.renderInstance=eO}readValueFromInstance(t,n){if(Du.has(n))return this.projection?.isProjecting?kb(n):gU(t,n);{const i=YW(t),s=(uI(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JI(t,n)}build(t,n,i){B0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return G0(t,n,i)}}const QW={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZW={offset:"strokeDashoffset",array:"strokeDasharray"};function JW(e,t,n=1,i=0,s=!0){e.pathLength=1;const o=s?QW:ZW;e[o.offset]=`${-i}`,e[o.array]=`${t} ${n}`}const e$=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function nO(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:r=0,...l},u,d,f){if(B0(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:m}=e;g.transform&&(m.transform=g.transform,delete g.transform),(m.transform||g.transformOrigin)&&(m.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),m.transform&&(m.transformBox=f?.transformBox??"fill-box",delete g.transformBox);for(const v of e$)g[v]!==void 0&&(m[v]=g[v],delete g[v]);t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),s!==void 0&&JW(g,s,o,r,!1)}const iO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),sO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function t$(e,t,n,i){eO(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(iO.has(s)?s:I0(s),t.attrs[s])}function oO(e,t,n){const i=G0(e,t,n);for(const s in e)if(li(e[s])||li(t[s])){const o=Tu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=e[s]}return i}class n$ extends YI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Du.has(n)){const i=VI(n);return i&&i.default||0}return n=iO.has(n)?n:I0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return oO(t,n,i)}build(t,n,i){nO(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){t$(t,n,i,s)}mount(t){this.isSVGTag=sO(t.tagName),super.mount(t)}}const i$=H0.length;function rO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?rO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<i$;n++){const i=H0[n],s=e.props[i];(wh(s)||s===!1)&&(t[i]=s)}return t}function aO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const s$=[...V0].reverse(),o$=V0.length;function r$(e){return t=>Promise.all(t.map(({animation:n,options:i})=>tW(e,n,i)))}function a$(e){let t=r$(e),n=wA(),i=!0;const s=u=>(d,f)=>{const g=Wc(e,f,u==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:m,transitionEnd:v,...y}=g;d={...d,...y,...v}}return d};function o(u){t=u(e)}function r(u){const{props:d}=e,f=rO(e.parent)||{},g=[],m=new Set;let v={},y=1/0;for(let R=0;R<o$;R++){const x=s$[R],T=n[x],D=d[x]!==void 0?d[x]:f[x],M=wh(D),F=x===u?T.isActive:null;F===!1&&(y=R);let I=D===f[x]&&D!==d[x]&&M;if(I&&i&&e.manuallyAnimateOnMount&&(I=!1),T.protectedKeys={...v},!T.isActive&&F===null||!D&&!T.prevProp||Hm(D)||typeof D=="boolean")continue;if(x==="exit"&&T.isActive&&F!==!0){T.prevResolvedValues&&(v={...v,...T.prevResolvedValues});continue}const A=l$(T.prevProp,D);let O=A||x===u&&T.isActive&&!I&&M||R>y&&M,_=!1;const B=Array.isArray(D)?D:[D];let z=B.reduce(s(x),{});F===!1&&(z={});const{prevResolvedValues:q={}}=T,oe={...q,...z},ce=$=>{O=!0,m.has($)&&(_=!0,m.delete($)),T.needsAnimating[$]=!0;const N=e.getValue($);N&&(N.liveStyle=!1)};for(const $ in oe){const N=z[$],X=q[$];if(v.hasOwnProperty($))continue;let ie=!1;Vb(N)&&Vb(X)?ie=!aO(N,X):ie=N!==X,ie?N!=null?ce($):m.add($):N!==void 0&&m.has($)?ce($):T.protectedKeys[$]=!0}T.prevProp=D,T.prevResolvedValues=z,T.isActive&&(v={...v,...z}),i&&e.blockInitialAnimation&&(O=!1);const Y=I&&A;O&&(!Y||_)&&g.push(...B.map($=>{const N={type:x};if(typeof $=="string"&&i&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:X}=e,ie=Wc(X,$);if(X.enteringChildren&&ie){const{delayChildren:L}=ie.transition||{};N.delay=AI(X.enteringChildren,e,L)}}return{animation:$,options:N}}))}if(m.size){const R={};if(typeof d.initial!="boolean"){const x=Wc(e,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(R.transition=x.transition)}m.forEach(x=>{const T=e.getBaseTarget(x),D=e.getValue(x);D&&(D.liveStyle=!0),R[x]=T??null}),g.push({animation:R})}let S=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(S=!1),i=!1,S?t(g):Promise.resolve()}function l(u,d){if(n[u].isActive===d)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(u,d)),n[u].isActive=d;const f=r(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:r,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=wA()}}}function l$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aO(t,e):!1}function Ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wA(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}function yA(e,t){e.min=t.min,e.max=t.max}function Ls(e,t){yA(e.x,t.x),yA(e.y,t.y)}function bA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const lO=1e-4,c$=1-lO,u$=1+lO,cO=.01,d$=0-cO,h$=0+cO;function gi(e){return e.max-e.min}function f$(e,t,n){return Math.abs(e-t)<=n}function SA(e,t,n,i=.5){e.origin=i,e.originPoint=rn(t.min,t.max,e.origin),e.scale=gi(n)/gi(t),e.translate=rn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=c$&&e.scale<=u$||isNaN(e.scale))&&(e.scale=1),(e.translate>=d$&&e.translate<=h$||isNaN(e.translate))&&(e.translate=0)}function Yd(e,t,n,i){SA(e.x,t.x,n.x,i?i.originX:void 0),SA(e.y,t.y,n.y,i?i.originY:void 0)}function RA(e,t,n){e.min=n.min+t.min,e.max=e.min+gi(t)}function g$(e,t,n){RA(e.x,t.x,n.x),RA(e.y,t.y,n.y)}function xA(e,t,n){e.min=t.min-n.min,e.max=e.min+gi(t)}function jp(e,t,n){xA(e.x,t.x,n.x),xA(e.y,t.y,n.y)}function EA(e,t,n,i,s){return e-=t,e=zp(e,1/n,i),s!==void 0&&(e=zp(e,1/s,i)),e}function p$(e,t=0,n=1,i=.5,s,o=e,r=e){if(vo.test(t)&&(t=parseFloat(t),t=rn(r.min,r.max,t/100)-r.min),typeof t!="number")return;let l=rn(o.min,o.max,i);e===o&&(l-=t),e.min=EA(e.min,t,n,l,s),e.max=EA(e.max,t,n,l,s)}function TA(e,t,[n,i,s],o,r){p$(e,t[n],t[i],t[s],t.scale,o,r)}const m$=["x","scaleX","originX"],v$=["y","scaleY","originY"];function DA(e,t,n,i){TA(e.x,t,m$,n?n.x:void 0,i?i.x:void 0),TA(e.y,t,v$,n?n.y:void 0,i?i.y:void 0)}function PA(e){return e.translate===0&&e.scale===1}function uO(e){return PA(e.x)&&PA(e.y)}function AA(e,t){return e.min===t.min&&e.max===t.max}function C$(e,t){return AA(e.x,t.x)&&AA(e.y,t.y)}function FA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dO(e,t){return FA(e.x,t.x)&&FA(e.y,t.y)}function MA(e){return gi(e.x)/gi(e.y)}function kA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ro(e){return[e("x"),e("y")]}function w$(e,t,n){let i="";const s=e.x.translate/t.x,o=e.y.translate/t.y,r=n?.z||0;if((s||o||r)&&(i=`translate3d(${s}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:m,skewX:v,skewY:y}=n;d&&(i=`perspective(${d}px) ${i}`),f&&(i+=`rotate(${f}deg) `),g&&(i+=`rotateX(${g}deg) `),m&&(i+=`rotateY(${m}deg) `),v&&(i+=`skewX(${v}deg) `),y&&(i+=`skewY(${y}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(i+=`scale(${l}, ${u})`),i||"none"}const hO=["TopLeft","TopRight","BottomLeft","BottomRight"],y$=hO.length,IA=e=>typeof e=="string"?parseFloat(e):e,OA=e=>typeof e=="number"||Me.test(e);function b$(e,t,n,i,s,o){s?(e.opacity=rn(0,n.opacity??1,S$(i)),e.opacityExit=rn(t.opacity??1,0,R$(i))):o&&(e.opacity=rn(t.opacity??1,n.opacity??1,i));for(let r=0;r<y$;r++){const l=`border${hO[r]}Radius`;let u=LA(t,l),d=LA(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||OA(u)===OA(d)?(e[l]=Math.max(rn(IA(u),IA(d),i),0),(vo.test(d)||vo.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=rn(t.rotate||0,n.rotate||0,i))}function LA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const S$=fO(0,.5,sI),R$=fO(.5,.95,ys);function fO(e,t,n){return i=>i<e?0:i>t?1:n(mh(e,t,i))}function x$(e,t,n){const i=li(e)?e:ru(e);return i.start(M0("",i,t,n)),i.animation}function yh(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const E$=(e,t)=>e.depth-t.depth;class T${constructor(){this.children=[],this.isDirty=!1}add(t){m0(this.children,t),this.isDirty=!0}remove(t){Np(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(E$),this.isDirty=!1,this.children.forEach(t)}}function D$(e,t){const n=fi.now(),i=({timestamp:s})=>{const o=s-n;o>=t&&(ta(i),e(o-t))};return Xt.setup(i,!0),()=>ta(i)}function up(e){return li(e)?e.get():e}class P${constructor(){this.members=[]}add(t){m0(this.members,t);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===t||i===this.lead||i===this.prevLead)continue;const s=i.instance;s&&s.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Np(this.members,i)}t.scheduleRender()}remove(t){if(Np(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s],r=o.instance;if(o.isPresent!==!1&&(!r||r.isConnected!==!1)){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const s=i.options.layoutDependency,o=t.options.layoutDependency;if(!(s!==void 0&&o!==void 0&&s===o)){const u=i.instance;u&&u.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:l}=t.options;l===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const dp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},cy=["","X","Y","Z"],A$=1e3;let F$=0;function uy(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function gO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=OI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Xt,!(s||o))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&gO(i)}function pO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(r={},l=t?.()){this.id=F$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(I$),this.nodes.forEach(N$),this.nodes.forEach(V$),this.nodes.forEach(O$)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new T$)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new C0),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const u=this.eventHandlers.get(r);u&&u.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=N0(r)&&!kW(r),this.instance=r;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f,g=0;const m=()=>this.root.updateBlockedByResize=!1;Xt.read(()=>{g=window.innerWidth}),e(r,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,f&&f(),f=D$(m,250),dp.hasAnimatedSinceResize&&(dp.hasAnimatedSinceResize=!1,this.nodes.forEach(VA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||j$,{onLayoutAnimationStart:S,onLayoutAnimationComplete:R}=d.getProps(),x=!this.targetLayout||!dO(this.targetLayout,v),T=!g&&m;if(this.options.layoutRoot||this.resumeFrom||T||g&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...F0(y,"layout"),onPlay:S,onComplete:R};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(f,T)}else g||VA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(H$),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_A);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_$),this.nodes.forEach(M$),this.nodes.forEach(k$)):this.nodes.forEach(NA),this.clearAllSnapshots();const l=fi.now();ti.delta=So(0,1e3/60,l-ti.timestamp),ti.timestamp=l,ti.isProcessing=!0,ty.update.process(ti),ty.preRender.process(ti),ty.render.process(ti),ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,L0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(L$),this.sharedNodes.forEach(B$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gi(this.snapshot.measuredBox.x)&&!gi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!uO(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;r&&this.instance&&(l||Wa(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return r&&(u=this.removeTransform(u)),U$(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return Hn();const l=r.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(W$))){const{scroll:d}=this.root;d&&(_c(l.x,d.offset.x),_c(l.y,d.offset.y))}return l}removeElementScroll(r){const l=Hn();if(Ls(l,r),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Ls(l,r),_c(l.x,f.offset.x),_c(l.y,f.offset.y))}return l}applyTransform(r,l=!1){const u=Hn();Ls(u,r);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Nc(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Wa(f.latestValues)&&Nc(u,f.latestValues)}return Wa(this.latestValues)&&Nc(u,this.latestValues),u}removeTransform(r){const l=Hn();Ls(l,r);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Wa(d.latestValues))continue;Ub(d.latestValues)&&d.updateSnapshot();const f=Hn(),g=d.measurePageBox();Ls(f,g),DA(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Wa(this.latestValues)&&DA(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(r||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!this.layout||!(f||g))return;this.resolvedRelativeTargetAt=ti.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),ZI(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ub(this.parent.latestValues)||QI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(r,l,u){this.relativeParent=r,this.linkedParentVersion=r.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),jp(this.relativeTargetOrigin,l,u),Ls(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const r=this.getLead(),l=!!this.resumingFrom||this!==r;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ti.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ls(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;jW(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=Hn());const{target:v}=r;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bA(this.prevProjectionDelta.x,this.projectionDelta.x),bA(this.prevProjectionDelta.y,this.projectionDelta.y)),Yd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!kA(this.projectionDelta.x,this.prevProjectionDelta.x)||!kA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.visualElement?.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lc(),this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc()}setAnimationOrigin(r,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},g=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Hn(),v=u?u.source:void 0,y=this.layout?this.layout.source:void 0,S=v!==y,R=this.getStack(),x=!R||R.members.length<=1,T=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(z$));this.animationProgress=0;let D;this.mixTargetDelta=M=>{const F=M/1e3;HA(g.x,r.x,F),HA(g.y,r.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G$(this.relativeTarget,this.relativeTargetOrigin,m,F),D&&C$(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Hn()),Ls(D,this.relativeTarget)),S&&(this.animationValues=f,b$(f,d,this.latestValues,F,T,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xt.update(()=>{dp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ru(0)),this.motionValue.jump(0,!1),this.currentAnimation=x$(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),r.onUpdate&&r.onUpdate(l)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=r;if(!(!l||!u||!d)){if(this!==r&&this.layout&&d&&mO(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Hn();const g=gi(this.layout.layoutBox.x);u.x.min=r.target.x.min,u.x.max=u.x.min+g;const m=gi(this.layout.layoutBox.y);u.y.min=r.target.y.min,u.y.max=u.y.min+m}Ls(l,u),Nc(l,f),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new P$),this.sharedNodes.get(r).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){const{layoutId:r}=this.options;return r?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:r}=this.options;return r?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:u}=r;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&uy("z",r,d,this.animationValues);for(let f=0;f<cy.length;f++)uy(`rotate${cy[f]}`,r,d,this.animationValues),uy(`skew${cy[f]}`,r,d,this.animationValues);r.render();for(const f in d)r.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);r.scheduleRender()}applyProjectionStyles(r,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=up(l?.pointerEvents)||"",r.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=up(l?.pointerEvents)||""),this.hasProjected&&!Wa(this.latestValues)&&(r.transform=u?u({},""):"none",this.hasProjected=!1);return}r.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=w$(this.projectionDeltaWithTransform,this.treeScale,f);u&&(g=u(f,g)),r.transform=g;const{x:m,y:v}=this.projectionDelta;r.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?r.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:r.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in $b){if(f[y]===void 0)continue;const{correct:S,applyTo:R,isCSSVariable:x}=$b[y],T=g==="none"?f[y]:S(f[y],d);if(R){const D=R.length;for(let M=0;M<D;M++)r[R[M]]=T}else x?this.options.visualElement.renderState.vars[y]=T:r[y]=T}this.options.layoutId&&(r.pointerEvents=d===this?up(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>r.currentAnimation?.stop()),this.root.nodes.forEach(_A),this.root.sharedNodes.clear()}}}function M$(e){e.updateLayout()}function k$(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?ro(f=>{const g=o?t.measuredBox[f]:t.layoutBox[f],m=gi(g);g.min=n[f].min,g.max=g.min+m}):mO(s,t.layoutBox,n)&&ro(f=>{const g=o?t.measuredBox[f]:t.layoutBox[f],m=gi(n[f]);g.max=g.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const r=Lc();Yd(r,n,t.layoutBox);const l=Lc();o?Yd(l,e.applyTransform(i,!0),t.measuredBox):Yd(l,n,t.layoutBox);const u=!uO(r);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:m}=f;if(g&&m){const v=Hn();jp(v,t.layoutBox,g.layoutBox);const y=Hn();jp(y,n,m.layoutBox),dO(v,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:r,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function I$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function L$(e){e.clearSnapshot()}function _A(e){e.clearMeasurements()}function NA(e){e.isLayoutDirty=!1}function _$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N$(e){e.resolveTargetDelta()}function V$(e){e.calcProjection()}function H$(e){e.resetSkewAndRotation()}function B$(e){e.removeLeadSnapshot()}function HA(e,t,n){e.translate=rn(t.translate,0,n),e.scale=rn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function BA(e,t,n,i){e.min=rn(t.min,n.min,i),e.max=rn(t.max,n.max,i)}function G$(e,t,n,i){BA(e.x,t.x,n.x,i),BA(e.y,t.y,n.y,i)}function z$(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const j$={duration:.45,ease:[.4,0,.1,1]},GA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),zA=GA("applewebkit/")&&!GA("chrome/")?Math.round:ys;function jA(e){e.min=zA(e.min),e.max=zA(e.max)}function U$(e){jA(e.x),jA(e.y)}function mO(e,t,n){return e==="position"||e==="preserve-aspect"&&!f$(MA(t),MA(n),.2)}function W$(e){return e!==e.root&&e.scroll?.wasRoot}const $$=pO({attachResizeListener:(e,t)=>yh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),dy={current:void 0},vO=pO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!dy.current){const e=new $$({});e.mount(window),e.setOptions({layoutScroll:!0}),dy.current=e}return dy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CO=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function K$(e=!0){const t=C.useContext(p0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,o=C.useId();C.useEffect(()=>{if(e)return s(o)},[e]);const r=C.useCallback(()=>e&&i&&i(o),[o,i,e]);return!n&&i?[!1,r]:[!0]}const wO=C.createContext({strict:!1}),UA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let WA=!1;function q$(){if(WA)return;const e={};for(const t in UA)e[t]={isEnabled:n=>UA[t].some(i=>!!n[i])};qI(e),WA=!0}function yO(){return q$(),HW()}function Y$(e){const t=yO();for(const n in e)t[n]={...t[n],...e[n]};qI(t)}const X$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Up(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||X$.has(e)}let bO=e=>!Up(e);function Q$(e){typeof e=="function"&&(bO=t=>t.startsWith("on")?!Up(t):e(t))}try{Q$(require("@emotion/is-prop-valid").default)}catch{}function Z$(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(bO(s)||n===!0&&Up(s)||!t&&!Up(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Gm=C.createContext({});function J$(e,t){if(Bm(e)){const{initial:n,animate:i}=e;return{initial:n===!1||wh(n)?n:void 0,animate:wh(i)?i:void 0}}return e.inherit!==!1?t:{}}function eK(e){const{initial:t,animate:n}=J$(e,C.useContext(Gm));return C.useMemo(()=>({initial:t,animate:n}),[$A(t),$A(n)])}function $A(e){return Array.isArray(e)?e.join(" "):e}const z0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SO(e,t,n){for(const i in t)!li(t[i])&&!tO(i,n)&&(e[i]=t[i])}function tK({transformTemplate:e},t){return C.useMemo(()=>{const n=z0();return B0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function nK(e,t){const n=e.style||{},i={};return SO(i,n,e),Object.assign(i,tK(e,t)),i}function iK(e,t){const n={},i=nK(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const RO=()=>({...z0(),attrs:{}});function sK(e,t,n,i){const s=C.useMemo(()=>{const o=RO();return nO(o,t,sO(i),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};SO(o,e.style,e),s.style={...o,...s.style}}return s}const oK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function j0(e){return typeof e!="string"||e.includes("-")?!1:!!(oK.indexOf(e)>-1||/[A-Z]/u.test(e))}function rK(e,t,n,{latestValues:i},s,o=!1,r){const u=(r??j0(e)?sK:iK)(t,i,s,e),d=Z$(t,typeof e=="string",o),f=e!==C.Fragment?{...d,...u,ref:n}:{},{children:g}=t,m=C.useMemo(()=>li(g)?g.get():g,[g]);return C.createElement(e,{...f,children:m})}function aK({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:lK(n,i,s,e),renderState:t()}}function lK(e,t,n,i){const s={},o=i(e,{});for(const m in o)s[m]=up(o[m]);let{initial:r,animate:l}=e;const u=Bm(e),d=$I(e);t&&d&&!u&&e.inherit!==!1&&(r===void 0&&(r=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||r===!1;const g=f?l:r;if(g&&typeof g!="boolean"&&!Hm(g)){const m=Array.isArray(g)?g:[g];for(let v=0;v<m.length;v++){const y=k0(e,m[v]);if(y){const{transitionEnd:S,transition:R,...x}=y;for(const T in x){let D=x[T];if(Array.isArray(D)){const M=f?D.length-1:0;D=D[M]}D!==null&&(s[T]=D)}for(const T in S)s[T]=S[T]}}}return s}const xO=e=>(t,n)=>{const i=C.useContext(Gm),s=C.useContext(p0),o=()=>aK(e,t,i,s);return n?o():u9(o)},cK=xO({scrapeMotionValuesFromProps:G0,createRenderState:z0}),uK=xO({scrapeMotionValuesFromProps:oO,createRenderState:RO}),dK=Symbol.for("motionComponentSymbol");function hK(e,t,n){const i=C.useRef(n);C.useInsertionEffect(()=>{i.current=n});const s=C.useRef(null);return C.useCallback(o=>{o&&e.onMount?.(o),t&&(o?t.mount(o):t.unmount());const r=i.current;if(typeof r=="function")if(o){const l=r(o);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):r(o);else r&&(r.current=o)},[t])}const EO=C.createContext({});function Ac(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fK(e,t,n,i,s,o){const{visualElement:r}=C.useContext(Gm),l=C.useContext(wO),u=C.useContext(p0),d=C.useContext(CO),f=d.reducedMotion,g=d.skipAnimations,m=C.useRef(null),v=C.useRef(!1);i=i||l.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:r,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,skipAnimations:g,isSVG:o}),v.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));const y=m.current,S=C.useContext(EO);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&gK(m.current,n,s,S);const R=C.useRef(!1);C.useInsertionEffect(()=>{y&&R.current&&y.update(n,u)});const x=n[II],T=C.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return d9(()=>{v.current=!0,y&&(R.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),C.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),T.current=!1),y.enteringChildren=void 0)}),y}function gK(e,t,n,i){const{layoutId:s,layout:o,drag:r,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:TO(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!r||l&&Ac(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:d})}function TO(e){if(e)return e.options.allowProjection!==!1?e.projection:TO(e.parent)}function hy(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&Y$(i);const o=n?n==="svg":j0(e),r=o?uK:cK;function l(d,f){let g;const m={...C.useContext(CO),...d,layoutId:pK(d)},{isStatic:v}=m,y=eK(d),S=r(d,v);if(!v&&$2){mK();const R=vK(m);g=R.MeasureLayout,y.visualElement=fK(e,S,m,s,R.ProjectionNode,o)}return E.jsxs(Gm.Provider,{value:y,children:[g&&y.visualElement?E.jsx(g,{visualElement:y.visualElement,...m}):null,rK(e,d,hK(S,y.visualElement,f),S,v,t,o)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=C.forwardRef(l);return u[dK]=e,u}function pK({layoutId:e}){const t=C.useContext(W2).id;return t&&e!==void 0?t+"-"+e:e}function mK(e,t){C.useContext(wO).strict}function vK(e){const t=yO(),{drag:n,layout:i}=t;if(!n&&!i)return{};const s={...n,...i};return{MeasureLayout:n?.isEnabled(e)||i?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function CK(e,t){if(typeof Proxy>"u")return hy;const n=new Map,i=(o,r)=>hy(o,r,e,t),s=(o,r)=>i(o,r);return new Proxy(s,{get:(o,r)=>r==="create"?i:(n.has(r)||n.set(r,hy(r,void 0,e,t)),n.get(r))})}const wK=(e,t)=>t.isSVG??j0(e)?new n$(t):new XW(t,{allowProjection:e!==C.Fragment});class yK extends da{constructor(t){super(t),t.animationState||(t.animationState=a$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bK=0;class SK extends da{constructor(){super(...arguments),this.id=bK++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const RK={animation:{Feature:yK},exit:{Feature:SK}};function Kh(e){return{point:{x:e.pageX,y:e.pageY}}}const xK=e=>t=>_0(t)&&e(t,Kh(t));function Xd(e,t,n,i){return yh(e,t,xK(n),i)}const DO=({current:e})=>e?e.ownerDocument.defaultView:null,KA=(e,t)=>Math.abs(e-t);function EK(e,t){const n=KA(e.x,t.x),i=KA(e.y,t.y);return Math.sqrt(n**2+i**2)}const qA=new Set(["auto","scroll"]);class PO{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:r=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=gy(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,S=EK(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!S)return;const{point:R}=v,{timestamp:x}=ti;this.history.push({...R,timestamp:x});const{onStart:T,onMove:D}=this.handlers;y||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=fy(y,this.transformPagePoint),Xt.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=gy(v.type==="pointercancel"?this.lastMoveEventInfo:fy(y,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,T),R&&R(v,T)},!_0(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=r,this.contextWindow=s||window;const u=Kh(t),d=fy(u,this.transformPagePoint),{point:f}=d,{timestamp:g}=ti;this.history=[{...f,timestamp:g}];const{onSessionStart:m}=n;m&&m(t,gy(d,this.history)),this.removeListeners=Uh(Xd(this.contextWindow,"pointermove",this.handlePointerMove),Xd(this.contextWindow,"pointerup",this.handlePointerUp),Xd(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(qA.has(i.overflowX)||qA.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,s),Xt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ta(this.updatePoint)}}function fy(e,t){return t?{point:t(e.point)}:e}function YA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gy({point:e},t){return{point:e,delta:YA(e,AO(t)),offset:YA(e,TK(t)),velocity:DK(t,.1)}}function TK(e){return e[0]}function AO(e){return e[e.length-1]}function DK(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=AO(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>js(t)));)n--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&s.timestamp-i.timestamp>js(t)*2&&(i=e[1]);const o=Cs(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const r={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function PK(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?rn(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?rn(n,e,i.max):Math.min(e,n)),e}function XA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function AK(e,{top:t,left:n,bottom:i,right:s}){return{x:XA(e.x,n,s),y:XA(e.y,t,i)}}function QA(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function FK(e,t){return{x:QA(e.x,t.x),y:QA(e.y,t.y)}}function MK(e,t){let n=.5;const i=gi(e),s=gi(t);return s>i?n=mh(t.min,t.max-i,e.min):i>s&&(n=mh(e.min,e.max-s,t.min)),So(0,1,n)}function kK(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Kb=.35;function IK(e=Kb){return e===!1?e=0:e===!0&&(e=Kb),{x:ZA(e,"left","right"),y:ZA(e,"top","bottom")}}function ZA(e,t,n){return{min:JA(e,t),max:JA(e,n)}}function JA(e,t){return typeof e=="number"?e:e[t]||0}const OK=new WeakMap;class LK{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{n&&this.snapToCursor(Kh(g).point),this.stopAnimation()},r=(g,m)=>{const{drag:v,dragPropagation:y,onDragStart:S}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pW(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ro(x=>{let T=this.getAxisMotionValue(x).get()||0;if(vo.test(T)){const{projection:D}=this.visualElement;if(D&&D.layout){const M=D.layout.layoutBox[x];M&&(T=gi(M)*(parseFloat(T)/100))}}this.originPoint[x]=T}),S&&Xt.update(()=>S(g,m),!1,!0),Hb(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(g,m)=>{this.latestPointerEvent=g,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:S,onDrag:R}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:x}=m;if(y&&this.currentDirection===null){this.currentDirection=NK(x),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),R&&Xt.update(()=>R(g,m),!1,!0)},u=(g,m)=>{this.latestPointerEvent=g,this.latestPanInfo=m,this.stop(g,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:g}=this.getProps();(g||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new PO(t,{onSessionStart:o,onStart:r,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:DO(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:r}=s;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&Xt.postRender(()=>l(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!_g(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(r=PK(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Ac(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=AK(i.layoutBox,t):this.constraints=!1,this.elastic=IK(n),s!==this.constraints&&!Ac(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&ro(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kK(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ac(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=UW(i,s.root,this.visualElement.getTransformPagePoint());let r=FK(s.layout.layoutBox,o);if(n){const l=n(GW(r));this.hasMutatedConstraints=!!l,l&&(r=XI(l))}return r}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=ro(f=>{if(!_g(f,n,this.currentDirection))return;let g=u&&u[f]||{};r&&(g={min:0,max:0});const m=s?200:1e6,v=s?40:1e7,y={type:"inertia",velocity:i?t[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(f,y)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Hb(this.visualElement,t),i.start(M0(t,i,0,n,this.visualElement,!1))}stopAnimation(){ro(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ro(n=>{const{drag:i}=this.getProps();if(!_g(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:r,max:l}=s.layout.layoutBox[n],u=o.get()||0;o.set(t[n]-rn(r,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ac(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ro(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const u=l.get();s[r]=MK({min:u,max:u},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),ro(r=>{if(!_g(r,t,null))return;const l=this.getAxisMotionValue(r),{min:u,max:d}=this.constraints[r];l.set(rn(u,d,s[r]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;OK.set(this.visualElement,this);const t=this.visualElement.current,n=Xd(t,"pointerdown",d=>{const{drag:f,dragListener:g=!0}=this.getProps(),m=d.target,v=m!==t&&bW(m);f&&g&&!v&&this.start(d)});let i;const s=()=>{const{dragConstraints:d}=this.getProps();Ac(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),i||(i=_K(t,d.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,r=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Xt.read(s);const l=yh(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ro(g=>{const m=this.getAxisMotionValue(g);m&&(this.originPoint[g]+=d[g].translate,m.set(m.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),r(),u&&u(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:r=Kb,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:r,dragMomentum:l}}}function eF(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function _K(e,t,n){const i=cA(e,eF(n)),s=cA(t,eF(n));return()=>{i(),s()}}function _g(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function NK(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class VK extends da{constructor(t){super(t),this.removeGroupControls=ys,this.removeListeners=ys,this.controls=new LK(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ys}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const py=e=>(t,n)=>{e&&Xt.update(()=>e(t,n),!1,!0)};class HK extends da{constructor(){super(...arguments),this.removePointerDownListener=ys}onPointerDown(t){this.session=new PO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:py(t),onStart:py(n),onMove:py(i),onEnd:(o,r)=>{delete this.session,s&&Xt.postRender(()=>s(o,r))}}}mount(){this.removePointerDownListener=Xd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let my=!1;class BK extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),my&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),dp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:r}=i;return r&&(r.isPresent=o,t.layoutDependency!==n&&r.setOptions({...r.options,layoutDependency:n}),my=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||Xt.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),L0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;my=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function FO(e){const[t,n]=K$(),i=C.useContext(W2);return E.jsx(BK,{...e,layoutGroup:i,switchLayoutGroup:C.useContext(EO),isPresent:t,safeToRemove:n})}const GK={pan:{Feature:HK},drag:{Feature:VK,ProjectionNode:vO,MeasureLayout:FO}};function tF(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Xt.postRender(()=>o(t,Kh(t)))}class zK extends da{mount(){const{current:t}=this.node;t&&(this.unmount=vW(t,(n,i)=>(tF(this.node,i,"Start"),s=>tF(this.node,s,"End"))))}unmount(){}}class jK extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uh(yh(this.node.current,"focus",()=>this.onFocus()),yh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nF(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Xt.postRender(()=>o(t,Kh(t)))}class UK extends da{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=RW(t,(s,o)=>(nF(this.node,o,"Start"),(r,{success:l})=>nF(this.node,r,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const qb=new WeakMap,vy=new WeakMap,WK=e=>{const t=qb.get(e.target);t&&t(e)},$K=e=>{e.forEach(WK)};function KK({root:e,...t}){const n=e||document;vy.has(n)||vy.set(n,{});const i=vy.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver($K,{root:e,...t})),i[s]}function qK(e,t,n){const i=KK(t);return qb.set(e,n),i.observe(e),()=>{qb.delete(e),i.unobserve(e)}}const YK={some:0,all:1};class XK extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:YK[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),m=d?f:g;m&&m(u)};return qK(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(QK(t,n))&&this.startObserver()}unmount(){}}function QK({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ZK={inView:{Feature:XK},tap:{Feature:UK},focus:{Feature:jK},hover:{Feature:zK}},JK={layout:{ProjectionNode:vO,MeasureLayout:FO}},eq={...RK,...ZK,...GK,...JK},tq=CK(eq,wK),Zi='<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>',Ji='</title><path d="',es='"/></svg>',nq={get svg(){return Zi+"Apple"+Ji+this.path+es},path:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"},iq={get svg(){return Zi+"Cloudflare"+Ji+this.path+es},path:"M16.5088 16.8447c.1475-.5068.0908-.9707-.1553-1.3154-.2246-.3164-.6045-.499-1.0615-.5205l-8.6592-.1123a.1559.1559 0 0 1-.1333-.0713c-.0283-.042-.0351-.0986-.021-.1553.0278-.084.1123-.1484.2036-.1562l8.7359-.1123c1.0351-.0489 2.1601-.8868 2.5537-1.9136l.499-1.3013c.0215-.0561.0293-.1128.0147-.168-.5625-2.5463-2.835-4.4453-5.5499-4.4453-2.5039 0-4.6284 1.6177-5.3876 3.8614-.4927-.3658-1.1187-.5625-1.794-.499-1.2026.119-2.1665 1.083-2.2861 2.2856-.0283.31-.0069.6128.0635.894C1.5683 13.171 0 14.7754 0 16.752c0 .1748.0142.3515.0352.5273.0141.083.0844.1475.1689.1475h15.9814c.0909 0 .1758-.0645.2032-.1553l.12-.4268zm2.7568-5.5634c-.0771 0-.1611 0-.2383.0112-.0566 0-.1054.0415-.127.0976l-.3378 1.1744c-.1475.5068-.0918.9707.1543 1.3164.2256.3164.6055.498 1.0625.5195l1.8437.1133c.0557 0 .1055.0263.1329.0703.0283.043.0351.1074.0214.1562-.0283.084-.1132.1485-.204.1553l-1.921.1123c-1.041.0488-2.1582.8867-2.5527 1.914l-.1406.3585c-.0283.0713.0215.1416.0986.1416h6.5977c.0771 0 .1474-.0489.169-.126.1122-.4082.1757-.837.1757-1.2803 0-2.6025-2.125-4.727-4.7344-4.727"},sq={get svg(){return Zi+"Coinbase"+Ji+this.path+es},path:"M4.844 11.053c-.872 0-1.553.662-1.553 1.548s.664 1.542 1.553 1.542c.889 0 1.564-.667 1.564-1.547 0-.875-.664-1.543-1.564-1.543zm.006 2.452c-.497 0-.86-.386-.86-.904 0-.523.357-.909.854-.909.502 0 .866.392.866.91 0 .517-.364.903-.86.903zm1.749-1.778h.433v2.36h.693V11.11H6.599zm-5.052-.035c.364 0 .653.224.762.558h.734c-.133-.713-.722-1.197-1.49-1.197-.872 0-1.553.662-1.553 1.548 0 .887.664 1.543 1.553 1.543.75 0 1.351-.484 1.484-1.203h-.728a.78.78 0 01-.756.564c-.502 0-.855-.386-.855-.904 0-.523.347-.909.85-.909zm18.215.622l-.508-.075c-.242-.035-.415-.115-.415-.305 0-.207.225-.31.53-.31.336 0 .55.143.595.379h.67c-.075-.599-.537-.95-1.247-.95-.733 0-1.218.375-1.218.904 0 .506.317.8.958.892l.508.075c.249.034.387.132.387.316 0 .236-.242.334-.577.334-.41 0-.641-.167-.676-.42h-.681c.064.581.52.99 1.35.99.757 0 1.26-.346 1.26-.938 0-.53-.364-.806-.936-.892zM7.378 9.885a.429.429 0 00-.444.437c0 .254.19.438.444.438a.429.429 0 00.445-.438.429.429 0 00-.445-.437zm10.167 2.245c0-.645-.392-1.076-1.224-1.076-.785 0-1.224.397-1.31 1.007h.687c.035-.236.22-.432.612-.432.352 0 .525.155.525.345 0 .248-.317.311-.71.351-.531.058-1.19.242-1.19.933 0 .535.4.88 1.034.88.497 0 .809-.207.965-.535.023.293.242.483.548.483h.404v-.616h-.34v-1.34zm-.68.748c0 .397-.347.69-.769.69-.26 0-.48-.11-.48-.34 0-.293.353-.373.676-.408.312-.028.485-.097.572-.23zm-3.679-1.825c-.386 0-.71.162-.94.432V9.856h-.693v4.23h.68v-.391c.232.282.56.449.953.449.832 0 1.461-.656 1.461-1.543 0-.886-.64-1.548-1.46-1.548zm-.103 2.452c-.497 0-.86-.386-.86-.904 0-.517.369-.909.865-.909.503 0 .855.386.855.91 0 .517-.364.903-.86.903zm-3.187-2.452c-.45 0-.745.184-.919.443v-.385H8.29v2.975h.693v-1.617c0-.455.289-.777.716-.777.398 0 .647.282.647.69v1.704h.692v-1.755c0-.748-.386-1.278-1.142-1.278zM24 12.503c0-.851-.624-1.45-1.46-1.45-.89 0-1.542.668-1.542 1.548 0 .927.698 1.543 1.553 1.543.722 0 1.287-.426 1.432-1.03h-.722c-.104.264-.358.414-.699.414-.445 0-.78-.276-.854-.76H24v-.264zm-2.252-.23c.11-.414.422-.615.78-.615.392 0 .693.224.762.615Z"},oq={get svg(){return Zi+"DoorDash"+Ji+this.path+es},path:"M23.071 8.409a6.09 6.09 0 00-5.396-3.228H.584A.589.589 0 00.17 6.184L3.894 9.93a1.752 1.752 0 001.242.516h12.049a1.554 1.554 0 11.031 3.108H8.91a.589.589 0 00-.415 1.003l3.725 3.747a1.75 1.75 0 001.242.516h3.757c4.887 0 8.584-5.225 5.852-10.413"},rq={get svg(){return Zi+"Dropbox"+Ji+this.path+es},path:"M6 1.807L0 5.629l6 3.822 6.001-3.822L6 1.807zM18 1.807l-6 3.822 6 3.822 6-3.822-6-3.822zM0 13.274l6 3.822 6.001-3.822L6 9.452l-6 3.822zM18 9.452l-6 3.822 6 3.822 6-3.822-6-3.822zM6 18.371l6.001 3.822 6-3.822-6-3.822L6 18.371z"},aq={get svg(){return Zi+"Expedia"+Ji+this.path+es},path:"M19.067 0H4.933A4.94 4.94 0 0 0 0 4.933v14.134A4.932 4.932 0 0 0 4.933 24h14.134A4.932 4.932 0 0 0 24 19.067V4.933C24.01 2.213 21.797 0 19.067 0ZM7.336 19.341c0 .19-.148.337-.337.337h-2.33a.333.333 0 0 1-.337-.337v-2.33c0-.189.148-.336.337-.336H7c.19 0 .337.147.337.337zm12.121-1.486-2.308 2.298c-.169.168-.422.053-.422-.2V9.57l-6.44 6.44a.533.533 0 0 1-.421.17H8.169a.32.32 0 0 1-.338-.338v-1.697c0-.2.053-.316.169-.422l6.44-6.44H4.058c-.253 0-.369-.253-.2-.421l2.297-2.309c.137-.137.285-.232.517-.232H18.15c.854 0 1.539.686 1.539 1.54v11.478c-.01.231-.095.368-.232.516z"},lq={get svg(){return Zi+"GitHub"+Ji+this.path+es},path:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},cq={get svg(){return Zi+"Meta"+Ji+this.path+es},path:"M6.915 4.03c-1.968 0-3.683 1.28-4.871 3.113C.704 9.208 0 11.883 0 14.449c0 .706.07 1.369.21 1.973a6.624 6.624 0 0 0 .265.86 5.297 5.297 0 0 0 .371.761c.696 1.159 1.818 1.927 3.593 1.927 1.497 0 2.633-.671 3.965-2.444.76-1.012 1.144-1.626 2.663-4.32l.756-1.339.186-.325c.061.1.121.196.183.3l2.152 3.595c.724 1.21 1.665 2.556 2.47 3.314 1.046.987 1.992 1.22 3.06 1.22 1.075 0 1.876-.355 2.455-.843a3.743 3.743 0 0 0 .81-.973c.542-.939.861-2.127.861-3.745 0-2.72-.681-5.357-2.084-7.45-1.282-1.912-2.957-2.93-4.716-2.93-1.047 0-2.088.467-3.053 1.308-.652.57-1.257 1.29-1.82 2.05-.69-.875-1.335-1.547-1.958-2.056-1.182-.966-2.315-1.303-3.454-1.303zm10.16 2.053c1.147 0 2.188.758 2.992 1.999 1.132 1.748 1.647 4.195 1.647 6.4 0 1.548-.368 2.9-1.839 2.9-.58 0-1.027-.23-1.664-1.004-.496-.601-1.343-1.878-2.832-4.358l-.617-1.028a44.908 44.908 0 0 0-1.255-1.98c.07-.109.141-.224.211-.327 1.12-1.667 2.118-2.602 3.358-2.602zm-10.201.553c1.265 0 2.058.791 2.675 1.446.307.327.737.871 1.234 1.579l-1.02 1.566c-.757 1.163-1.882 3.017-2.837 4.338-1.191 1.649-1.81 1.817-2.486 1.817-.524 0-1.038-.237-1.383-.794-.263-.426-.464-1.13-.464-2.046 0-2.221.63-4.535 1.66-6.088.454-.687.964-1.226 1.533-1.533a2.264 2.264 0 0 1 1.088-.285z"},uq={get svg(){return Zi+"Netflix"+Ji+this.path+es},path:"m5.398 0 8.348 23.602c2.346.059 4.856.398 4.856.398L10.113 0H5.398zm8.489 0v9.172l4.715 13.33V0h-4.715zM5.398 1.5V24c1.873-.225 2.81-.312 4.715-.398V14.83L5.398 1.5z"},dq={get svg(){return Zi+"Roblox"+Ji+this.path+es},path:"M18.926 23.998 0 18.892 5.075.002 24 5.108ZM15.348 10.09l-5.282-1.453-1.414 5.273 5.282 1.453z"},hq={get svg(){return Zi+"Uber"+Ji+this.path+es},path:"M0 7.97v4.958c0 1.867 1.302 3.101 3 3.101.826 0 1.562-.316 2.094-.87v.736H6.27V7.97H5.082v4.888c0 1.257-.85 2.106-1.947 2.106-1.11 0-1.946-.827-1.946-2.106V7.971H0zm7.44 0v7.925h1.13v-.725c.521.532 1.257.86 2.06.86a3.006 3.006 0 0 0 3.034-3.01 3.01 3.01 0 0 0-3.033-3.024 2.86 2.86 0 0 0-2.049.861V7.971H7.439zm9.869 2.038c-1.687 0-2.965 1.37-2.965 3 0 1.72 1.334 3.01 3.066 3.01 1.053 0 1.913-.463 2.49-1.233l-.826-.611c-.43.577-.996.847-1.664.847-.973 0-1.753-.7-1.912-1.64h4.697v-.373c0-1.72-1.222-3-2.886-3zm6.295.068c-.634 0-1.098.294-1.381.758v-.713h-1.131v5.774h1.142V12.61c0-.894.544-1.47 1.291-1.47H24v-1.065h-.396zm-6.319.928c.85 0 1.564.588 1.756 1.47H15.52c.203-.882.916-1.47 1.765-1.47zm-6.732.012c1.086 0 1.98.883 1.98 2.004a1.993 1.993 0 0 1-1.98 2.001A1.989 1.989 0 0 1 8.56 13.02a1.99 1.99 0 0 1 1.992-2.004z"},fq={get svg(){return Zi+"VMware"+Ji+this.path+es},path:"M.5 10.1a.505.505 0 00-.197.048.497.497 0 00-.25.68l1.138 2.475c.179.38.38.592.721.592.342 0 .542-.22.72-.592l1.003-2.186a.144.144 0 01.144-.092.16.16 0 01.157.16v2.118a.535.535 0 101.066 0v-1.73a.531.531 0 01.566-.552.52.52 0 01.541.551v1.73a.531.531 0 00.53.593.539.539 0 00.535-.592v-1.73a.531.531 0 01.564-.552.52.52 0 01.543.551v1.73a.531.531 0 00.528.593.535.535 0 00.535-.592v-1.969a1.234 1.234 0 00-1.283-1.23 1.647 1.647 0 00-1.14.486 1.26 1.26 0 00-1.095-.483 1.807 1.807 0 00-1.074.483 1.287 1.287 0 00-.961-.483 1.177 1.177 0 00-1.158.786l-.729 1.716-.933-2.203.011-.004A.505.505 0 00.5 10.1zm18.43.06a.27.27 0 00-.266.274h.002v3.142a.27.27 0 10.535 0v-1.222c0-1.037.571-1.56 1.27-1.643a.266.266 0 00.238-.274.258.258 0 00-.266-.269 1.465 1.465 0 00-1.242.88v-.614a.266.266 0 00-.271-.274zm-6.735.008a.273.273 0 00-.25.217l-.912 2.627-.902-2.62a.28.28 0 00-.274-.22.266.266 0 00-.27.258.493.493 0 00.034.144l1.09 3.037.02-.007a.319.319 0 00.298.242.3.3 0 00.293-.242l.903-2.583.896 2.583a.3.3 0 00.293.242h.018a.319.319 0 00.293-.242l1.097-3.038a.512.512 0 00.033-.144.258.258 0 00-.265-.25.262.262 0 00-.258.209l-.918 2.63-.904-2.626a.285.285 0 00-.278-.217h-.025a.273.273 0 00-.012 0zm10.168.008a1.75 1.75 0 00-1.691 1.851 1.765 1.765 0 001.76 1.858l-.008.013a1.784 1.784 0 001.33-.539.228.228 0 00.082-.17.228.228 0 00-.379-.168 1.435 1.435 0 01-1.018.415 1.237 1.237 0 01-1.24-1.207h2.555a.247.247 0 00.246-.247c0-.945-.593-1.806-1.637-1.806zm-5.744.002a1.571 1.571 0 00-.158.006 2.384 2.384 0 00-1.078.205.22.22 0 00-.143.222.24.24 0 00.235.229.266.266 0 00.095-.024 1.822 1.822 0 01.834-.162c.691 0 1.07.334 1.07.979v.125a3.796 3.796 0 00-1.103-.15c-.892 0-1.52.4-1.52 1.16l-.003-.004c0 .736.671 1.117 1.34 1.117a1.575 1.575 0 001.298-.62v.343a.247.247 0 00.254.25.254.254 0 00.258-.262v-1.983a1.416 1.416 0 00-.379-1.046 1.571 1.571 0 00-1-.385zm5.719.43c.714 0 1.085.565 1.139 1.214h-2.278a1.222 1.222 0 011.139-1.215zm-5.885 1.382a3.75 3.75 0 011.057.153V12.49c0 .57-.539.973-1.2.973-.485 0-.904-.261-.904-.713 0-.467.375-.76 1.047-.76Z"},gq={get svg(){return Zi+"Zomato"+Ji+this.path+es},path:"M19.615 9.45l-1.258.473-.167.71-.446.021-.115.978h.408l-.211 1.51c-.131.939.036 1.381.865 1.381.488 0 .91-.175 1.135-.297l.145-.9c-.167.083-.436.19-.618.19-.247 0-.276-.13-.225-.488l.189-1.396h.843c.03-.206.131-.877.16-1h-.865zm-3.779 1.002c-.115.002-.236.01-.361.026a3.592 3.592 0 0 0-1.347.432l.26.789c.269-.15.615-.28.978-.326.538-.066.757.1.79.375.014.109.004.199-.005.289l-.014.056a3.46 3.46 0 0 0-1.097-.036c-.518.063-.943.273-1.204.6a1.324 1.324 0 0 0-.225 1.034c.127.583.553.84 1.199.76.45-.055.812-.27 1.076-.63a2.665 2.665 0 0 1-.03.304 1.74 1.74 0 0 1-.072.29l1.244.001a3.657 3.657 0 0 1-.001-.365c.036-.459.118-1.143.247-2.051a2.397 2.397 0 0 0-.002-.59c-.08-.644-.628-.969-1.436-.958zm6.536.063c-1.194 0-2.107 1.067-2.107 2.342 0 .959.552 1.693 1.628 1.693 1.2 0 2.107-1.067 2.107-2.35 0-.95-.538-1.685-1.628-1.685zm-11.777.041c-.538 0-1.12.465-1.52 1.236.102-.504.08-1.076.051-1.198a8.964 8.964 0 0 1-1.287.122 6.9 6.9 0 0 1-.073 1.243l-.167 1.145c-.066.45-.138.969-.211 1.297h1.353c.007-.199.058-.511.094-.786l.116-.786c.095-.511.502-1.114.815-1.114.182 0 .175.176.124.504l-.131.885c-.066.45-.138.969-.211 1.297h1.367c.008-.199.051-.512.088-.786l.116-.786c.094-.512.502-1.114.814-1.114.182 0 .175.168.146.396l-.327 2.29H13l.438-2.609c.095-.649.044-1.236-.676-1.236-.523 0-1.09.443-1.49 1.182.087-.61.036-1.182-.677-1.182zm-4.88.008c-1.177 0-2.08 1.053-2.08 2.312 0 .946.546 1.67 1.608 1.67 1.185 0 2.08-1.052 2.08-2.319 0-.938-.531-1.663-1.607-1.663zm-5.126.091c-.05.39-.102.778-.175 1.13.328-.008.619-.016 1.411-.016l-1.81 1.96-.015.703c.444-.03.997-.039 1.63-.039.566 0 1.134.008 1.497.039.065-.458.13-.763.21-1.137-.275.015-.755.023-1.512.023l1.81-1.969.023-.694c-.437.023-.83.03-1.52.03-.749 0-.975-.007-1.549-.03zm4.988.927c.255 0 .408.228.408.701 0 .687-.276 1.251-.626 1.251-.261 0-.414-.236-.414-.702 0-.694.283-1.25.632-1.25zm16.629 0c.254 0 .407.228.407.701 0 .687-.276 1.251-.625 1.251-.262 0-.415-.236-.415-.702 0-.694.284-1.25.633-1.25zM15.51 12.64c.206-.003.403.024.55.058l-.013.118c-.075.44-.39.881-.848.938-.31.037-.578-.148-.608-.39a.538.538 0 0 1 .114-.41c.117-.159.336-.268.599-.3.069-.009.138-.013.206-.014Z"},iF=[E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-42",dangerouslySetInnerHTML:{__html:gq.svg}},"zomato"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-14",dangerouslySetInnerHTML:{__html:nq.svg}},"apple"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-20",dangerouslySetInnerHTML:{__html:hq.svg}},"uber"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-42",dangerouslySetInnerHTML:{__html:sq.svg}},"coinbase"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-14",dangerouslySetInnerHTML:{__html:lq.svg}},"github"),E.jsx("span",{className:"[&>img]:w-46 [&>img]:opacity-50 [&>img]:grayscale [&>img]:dark:invert",children:E.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Microsoft_logo_%282012%29.svg/3840px-Microsoft_logo_%282012%29.svg.png",alt:"Microsoft"})},"microsoft"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-36",dangerouslySetInnerHTML:{__html:fq.svg}},"vmware"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-11",dangerouslySetInnerHTML:{__html:uq.svg}},"netflix"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-14",dangerouslySetInnerHTML:{__html:oq.svg}},"doordash"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-12",dangerouslySetInnerHTML:{__html:rq.svg}},"dropbox"),E.jsx("span",{className:"[&>img]:w-38 [&>img]:opacity-50 [&>img]:grayscale [&>img]:dark:invert",children:E.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/3840px-Google_2015_logo.svg.png",alt:"Google"})},"google"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-12",dangerouslySetInnerHTML:{__html:aq.svg}},"expedia"),E.jsx("span",{className:"[&>img]:w-34 [&>img]:opacity-30 [&>img]:grayscale [&>img]:dark:invert",children:E.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/3840px-Amazon_logo.svg.png",alt:"Amazon"})},"amazon"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-18",dangerouslySetInnerHTML:{__html:iq.svg}},"cloudflare"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-14",dangerouslySetInnerHTML:{__html:dq.svg}},"roblox"),E.jsx("span",{className:"text-muted-foreground [&>svg]:fill-muted-foreground/50 [&>svg]:w-16",dangerouslySetInnerHTML:{__html:cq.svg}},"meta")];function pq(){const e=Re.c(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[...iF,...iF],e[0]=t):t=e[0];const n=t;let i,s;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=E.jsx("div",{className:"from-background pointer-events-none absolute inset-y-0 left-0 z-10 w-24 bg-gradient-to-r to-transparent"}),s=E.jsx("div",{className:"from-background pointer-events-none absolute inset-y-0 right-0 z-10 w-24 bg-gradient-to-l to-transparent"}),e[1]=i,e[2]=s):(i=e[1],s=e[2]);let o;return e[3]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsxs("div",{className:"relative w-full overflow-hidden pt-3",children:[i,s,E.jsx(tq.div,{className:"flex items-center gap-8 sm:gap-16",style:{width:"max-content"},animate:{x:["0%","-50%"]},transition:{duration:70,ease:"linear",repeat:1/0},children:n.map(mq)})]}),e[3]=o):o=e[3],o}function mq(e,t){return E.jsx("div",{className:"flex shrink-0 items-center",children:e},t)}const sF="home_stats_cache",vq=1e3*60*15;let Ng=null;function Cq(){const e=Re.c(23),[t,n]=C.useState(null),[i,s]=C.useState(!0),[o,r]=C.useState(!1);let l,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{(async function(){if(Ng){n(Ng),s(!1);return}const O=localStorage.getItem(sF);if(O){const q=JSON.parse(O);if(Date.now()-q.timestamp<vq){Ng=q.data,n(q.data),s(!1);return}}const[_,B]=await Promise.all([kt.from("companies").select("*",{count:"exact",head:!0}),kt.from("problems").select("*",{count:"exact",head:!0})]),z={companies:_.count??0,problems:B.count??0};Ng=z,localStorage.setItem(sF,JSON.stringify({data:z,timestamp:Date.now()})),n(z),s(!1)})()},u=[],e[0]=l,e[1]=u):(l=e[0],u=e[1]),C.useEffect(l,u);let d,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{kt.auth.getSession().then(A=>{const{data:O}=A;r(!!O.session)});const{data:I}=kt.auth.onAuthStateChange((A,O)=>{r(!!O)});return()=>I.subscription.unsubscribe()},f=[],e[2]=d,e[3]=f):(d=e[2],f=e[3]),C.useEffect(d,f);let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=E.jsx("span",{children:"Company-Wise"}),e[4]=g):g=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=E.jsx("div",{className:"flex w-full flex-col items-center gap-4 px-6 py-16",children:E.jsxs("div",{className:"font-geist text-primary relative flex flex-col items-start text-3xl font-semibold sm:text-4xl md:text-5xl dark:drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)]",children:[g,E.jsxs("span",{children:[E.jsxs("span",{className:"",children:[E.jsxs("span",{className:"bg-linear-to-b from-[#ffa116] via-[#ff9345] to-[#ff3d00] bg-clip-text text-transparent dark:drop-shadow-[0_4px_25px_rgba(255,100,0,0.6)]",children:["Leetcode"," "]}),E.jsx("img",{src:Oz,alt:"Okey Frieren",className:"absolute right-0 bottom-8 -z-10 w-12 rotate-12 rounded-md sm:right-0 sm:bottom-9 sm:w-14 md:right-5 md:bottom-10 md:w-16 dark:brightness-[1] dark:drop-shadow-[0_4px_40px_rgba(255,255,255,0.3)]"})]}),E.jsx("span",{className:"dark:drop-shadow-[0_4px_12px_rgba(0,0,0,1)]",children:"Problems"})]})]})}),e[5]=m):m=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=E.jsx(mo,{to:"https://github.com/snehasishroy/leetcode-companywise-interview-questions",target:"_blank",children:E.jsxs(vs,{size:"lg",className:"bg-muted/50 mt-4 cursor-pointer text-lg font-normal shadow-none",variant:"outline",children:[E.jsx(fz,{}),"Database"]})}),e[6]=v):v=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=E.jsxs("div",{className:"mx-auto flex w-fit items-center gap-4 font-mono",children:[v,E.jsx(mo,{to:"https://github.com/hitarth-gg/visor-leetcode",target:"_blank",children:E.jsxs(vs,{size:"lg",className:"bg-muted/50 mt-4 cursor-pointer text-lg font-normal shadow-none",variant:"outline",children:[E.jsx(vz,{}),"Website"]})})]}),e[7]=y):y=e[7];const S=o?"/all-problems":"/sign-in?next=/all-problems";let R;e[8]!==o?(R=o?E.jsxs(vs,{size:"lg",className:"font-space-grotesk mt-4 w-full cursor-pointer text-lg shadow-none",variant:"default",children:["Start Solving ",E.jsx(dz,{strokeWidth:3})]}):E.jsxs(vs,{size:"lg",className:"font-space-grotesk mt-4 w-full cursor-pointer text-lg shadow-none",variant:"default",children:[E.jsx(f2,{strokeWidth:3}),"Sign in to save progress"]}),e[8]=o,e[9]=R):R=e[9];let x;e[10]!==S||e[11]!==R?(x=E.jsxs("div",{className:"font-geist flex w-fit flex-col items-center px-6 py-8",children:[y,E.jsx(mo,{to:S,className:"w-full",children:R})]}),e[10]=S,e[11]=R,e[12]=x):x=e[12];let T;e[13]!==i||e[14]!==t?.companies||e[15]!==t?.problems?(T=E.jsx("div",{className:"flex w-full flex-1 flex-col",children:E.jsx("div",{className:"w-full py-8",children:E.jsx("div",{className:"mx-auto flex max-w-4xl justify-center gap-16 text-center",children:i?E.jsx("div",{className:"text-muted-foreground text-sm",children:E.jsx(h0,{})}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-row items-center gap-2",children:[E.jsx("div",{className:"text-xl font-medium tracking-tight tabular-nums",children:t?.companies.toLocaleString()}),E.jsx("div",{className:"text-muted-foreground text-sm",children:"Companies"})]}),E.jsxs("div",{className:"flex flex-row items-center gap-2",children:[E.jsx("div",{className:"text-xl font-semibold tabular-nums",children:t?.problems.toLocaleString()}),E.jsx("div",{className:"text-muted-foreground text-sm",children:"Problems"})]})]})})})}),e[13]=i,e[14]=t?.companies,e[15]=t?.problems,e[16]=T):T=e[16];let D;e[17]!==x||e[18]!==T?(D=E.jsxs("div",{className:"my-auto",children:[x,T]}),e[17]=x,e[18]=T,e[19]=D):D=e[19];let M;e[20]===Symbol.for("react.memo_cache_sentinel")?(M=E.jsx("div",{className:"mt-auto w-full",children:E.jsx(pq,{})}),e[20]=M):M=e[20];let F;return e[21]!==D?(F=E.jsxs("main",{className:"flex h-[calc(100vh-var(--header-height,4rem))] flex-col items-center justify-between",children:[m,D,M]}),e[21]=D,e[22]=F):F=e[22],F}const wq="/visor-leetcode/assets/huh-DKuZB1VN.gif";function Ko(){const e=Re.c(11),t=t2(),{status:n,statusText:i,data:s}=t;console.log(t),console.log("error:",s);let o,r,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsx("img",{src:wq,alt:"huh",className:"mb-2 h-16 rounded-md object-cover"}),r=E.jsx(Fz,{className:"text-foreground"}),l=E.jsx("span",{children:"Something went wrong!"}),e[0]=o,e[1]=r,e[2]=l):(o=e[0],r=e[1],l=e[2]);let u;e[3]!==n||e[4]!==i?(u=n&&i&&E.jsxs("div",{className:"text-muted-foreground mt-2 text-sm",children:[n," ",i]}),e[3]=n,e[4]=i,e[5]=u):u=e[5];let d;e[6]!==s?(d=s&&E.jsx("div",{className:"text-muted-foreground text-sm",children:s}),e[6]=s,e[7]=d):d=e[7];let f;return e[8]!==u||e[9]!==d?(f=E.jsx("div",{className:"absolute inset-0 flex items-center justify-center dark:bg-neutral-950",children:E.jsx("div",{className:"bg-card ring-foreground/10 text-card-foreground m-4 rounded-md px-8 py-4 ring-1",children:E.jsxs("div",{className:"font-geist flex flex-col items-center gap-2 text-center",children:[o,r,l,u,d]})})}),e[8]=u,e[9]=d,e[10]=f):f=e[10],f}function ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function dr(e,t=[]){let n=[];function i(o,r){const l=C.createContext(r),u=n.length;n=[...n,r];const d=g=>{const{scope:m,children:v,...y}=g,S=m?.[e]?.[u]||l,R=C.useMemo(()=>y,Object.values(y));return E.jsx(S.Provider,{value:R,children:v})};d.displayName=o+"Provider";function f(g,m){const v=m?.[e]?.[u]||l,y=C.useContext(v);if(y)return y;if(r!==void 0)return r;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[d,f]}const s=()=>{const o=n.map(r=>C.createContext(r));return function(l){const u=l?.[e]||o;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[i,yq(s,...t)]}function yq(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const r=i.reduce((l,{useScope:u,scopeName:d})=>{const g=u(o)[`__scope${d}`];return{...l,...g}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var qh=Ak();const U0=Pk(qh);function bq(e){const t=Sq(e),n=C.forwardRef((i,s)=>{const{children:o,...r}=i,l=C.Children.toArray(o),u=l.find(xq);if(u){const d=u.props.children,f=l.map(g=>g===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...r,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function Sq(e){const t=C.forwardRef((n,i)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const r=Tq(s),l=Eq(o,s.props);return s.type!==C.Fragment&&(l.ref=i?ua(i,r):r),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rq=Symbol("radix.slottable");function xq(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rq}function Eq(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...l)=>{const u=o(...l);return s(...l),u}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Tq(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=Dq.reduce((e,t)=>{const n=bq(`Primitive.${t}`),i=C.forwardRef((s,o)=>{const{asChild:r,...l}=s,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Wp(e,t){e&&qh.flushSync(()=>e.dispatchEvent(t))}function tn(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...n)=>t.current?.(...n),[])}function Pq(e,t=globalThis?.document){const n=tn(e);C.useEffect(()=>{const i=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var Aq="DismissableLayer",Yb="dismissableLayer.update",Fq="dismissableLayer.pointerDownOutside",Mq="dismissableLayer.focusOutside",oF,MO=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zm=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:r,onDismiss:l,...u}=e,d=C.useContext(MO),[f,g]=C.useState(null),m=f?.ownerDocument??globalThis?.document,[,v]=C.useState({}),y=Kt(t,A=>g(A)),S=Array.from(d.layers),[R]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=S.indexOf(R),T=f?S.indexOf(f):-1,D=d.layersWithOutsidePointerEventsDisabled.size>0,M=T>=x,F=Oq(A=>{const O=A.target,_=[...d.branches].some(B=>B.contains(O));!M||_||(s?.(A),r?.(A),A.defaultPrevented||l?.())},m),I=Lq(A=>{const O=A.target;[...d.branches].some(B=>B.contains(O))||(o?.(A),r?.(A),A.defaultPrevented||l?.())},m);return Pq(A=>{T===d.layers.size-1&&(i?.(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},m),C.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(oF=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),rF(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=oF)}},[f,m,n,d]),C.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),rF())},[f,d]),C.useEffect(()=>{const A=()=>v({});return document.addEventListener(Yb,A),()=>document.removeEventListener(Yb,A)},[]),E.jsx(wt.div,{...u,ref:y,style:{pointerEvents:D?M?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,I.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,F.onPointerDownCapture)})});zm.displayName=Aq;var kq="DismissableLayerBranch",Iq=C.forwardRef((e,t)=>{const n=C.useContext(MO),i=C.useRef(null),s=Kt(t,i);return C.useEffect(()=>{const o=i.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),E.jsx(wt.div,{...e,ref:s})});Iq.displayName=kq;function Oq(e,t=globalThis?.document){const n=tn(e),i=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const o=l=>{if(l.target&&!i.current){let u=function(){kO(Fq,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}else t.removeEventListener("click",s.current);i.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function Lq(e,t=globalThis?.document){const n=tn(e),i=C.useRef(!1);return C.useEffect(()=>{const s=o=>{o.target&&!i.current&&kO(Mq,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function rF(){const e=new CustomEvent(Yb);document.dispatchEvent(e)}function kO(e,t,n,{discrete:i}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?Wp(s,o):s.dispatchEvent(o)}var vi=globalThis?.document?C.useLayoutEffect:()=>{},_q=Mm[" useId ".trim().toString()]||(()=>{}),Nq=0;function au(e){const[t,n]=C.useState(_q());return vi(()=>{n(i=>i??String(Nq++))},[e]),e||(t?`radix-${t}`:"")}const Vq=["top","right","bottom","left"],na=Math.min,Ki=Math.max,$p=Math.round,Vg=Math.floor,Co=e=>({x:e,y:e}),Hq={left:"right",right:"left",bottom:"top",top:"bottom"},Bq={start:"end",end:"start"};function Xb(e,t,n){return Ki(e,na(t,n))}function or(e,t){return typeof e=="function"?e(t):e}function rr(e){return e.split("-")[0]}function Pu(e){return e.split("-")[1]}function W0(e){return e==="x"?"y":"x"}function $0(e){return e==="y"?"height":"width"}const Gq=new Set(["top","bottom"]);function ho(e){return Gq.has(rr(e))?"y":"x"}function K0(e){return W0(ho(e))}function zq(e,t,n){n===void 0&&(n=!1);const i=Pu(e),s=K0(e),o=$0(s);let r=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(r=Kp(r)),[r,Kp(r)]}function jq(e){const t=Kp(e);return[Qb(e),t,Qb(t)]}function Qb(e){return e.replace(/start|end/g,t=>Bq[t])}const aF=["left","right"],lF=["right","left"],Uq=["top","bottom"],Wq=["bottom","top"];function $q(e,t,n){switch(e){case"top":case"bottom":return n?t?lF:aF:t?aF:lF;case"left":case"right":return t?Uq:Wq;default:return[]}}function Kq(e,t,n,i){const s=Pu(e);let o=$q(rr(e),n==="start",i);return s&&(o=o.map(r=>r+"-"+s),t&&(o=o.concat(o.map(Qb)))),o}function Kp(e){return e.replace(/left|right|bottom|top/g,t=>Hq[t])}function qq(e){return{top:0,right:0,bottom:0,left:0,...e}}function IO(e){return typeof e!="number"?qq(e):{top:e,right:e,bottom:e,left:e}}function qp(e){const{x:t,y:n,width:i,height:s}=e;return{width:i,height:s,top:n,left:t,right:t+i,bottom:n+s,x:t,y:n}}function cF(e,t,n){let{reference:i,floating:s}=e;const o=ho(t),r=K0(t),l=$0(r),u=rr(t),d=o==="y",f=i.x+i.width/2-s.width/2,g=i.y+i.height/2-s.height/2,m=i[l]/2-s[l]/2;let v;switch(u){case"top":v={x:f,y:i.y-s.height};break;case"bottom":v={x:f,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:g};break;case"left":v={x:i.x-s.width,y:g};break;default:v={x:i.x,y:i.y}}switch(Pu(t)){case"start":v[r]-=m*(n&&d?-1:1);break;case"end":v[r]+=m*(n&&d?-1:1);break}return v}async function Yq(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:o,rects:r,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:m=!1,padding:v=0}=or(t,e),y=IO(v),R=l[m?g==="floating"?"reference":"floating":g],x=qp(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(R)))==null||n?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),T=g==="floating"?{x:i,y:s,width:r.floating.width,height:r.floating.height}:r.reference,D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),M=await(o.isElement==null?void 0:o.isElement(D))?await(o.getScale==null?void 0:o.getScale(D))||{x:1,y:1}:{x:1,y:1},F=qp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:D,strategy:u}):T);return{top:(x.top-F.top+y.top)/M.y,bottom:(F.bottom-x.bottom+y.bottom)/M.y,left:(x.left-F.left+y.left)/M.x,right:(F.right-x.right+y.right)/M.x}}const Xq=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:r}=n,l=o.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(t));let d=await r.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:g}=cF(d,i,u),m=i,v={},y=0;for(let R=0;R<l.length;R++){var S;const{name:x,fn:T}=l[R],{x:D,y:M,data:F,reset:I}=await T({x:f,y:g,initialPlacement:i,placement:m,strategy:s,middlewareData:v,rects:d,platform:{...r,detectOverflow:(S=r.detectOverflow)!=null?S:Yq},elements:{reference:e,floating:t}});f=D??f,g=M??g,v={...v,[x]:{...v[x],...F}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(m=I.placement),I.rects&&(d=I.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:f,y:g}=cF(d,m,u)),R=-1)}return{x:f,y:g,placement:m,strategy:s,middlewareData:v}},Qq=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:o,platform:r,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=or(e,t)||{};if(d==null)return{};const g=IO(f),m={x:n,y:i},v=K0(s),y=$0(v),S=await r.getDimensions(d),R=v==="y",x=R?"top":"left",T=R?"bottom":"right",D=R?"clientHeight":"clientWidth",M=o.reference[y]+o.reference[v]-m[v]-o.floating[y],F=m[v]-o.reference[v],I=await(r.getOffsetParent==null?void 0:r.getOffsetParent(d));let A=I?I[D]:0;(!A||!await(r.isElement==null?void 0:r.isElement(I)))&&(A=l.floating[D]||o.floating[y]);const O=M/2-F/2,_=A/2-S[y]/2-1,B=na(g[x],_),z=na(g[T],_),q=B,oe=A-S[y]-z,ce=A/2-S[y]/2+O,Y=Xb(q,ce,oe),V=!u.arrow&&Pu(s)!=null&&ce!==Y&&o.reference[y]/2-(ce<q?B:z)-S[y]/2<0,$=V?ce<q?ce-q:ce-oe:0;return{[v]:m[v]+$,data:{[v]:Y,centerOffset:ce-Y-$,...V&&{alignmentOffset:$}},reset:V}}}),Zq=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:o,rects:r,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:S=!0,...R}=or(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=rr(s),T=ho(l),D=rr(l)===l,M=await(u.isRTL==null?void 0:u.isRTL(d.floating)),F=m||(D||!S?[Kp(l)]:jq(l)),I=y!=="none";!m&&I&&F.push(...Kq(l,S,y,M));const A=[l,...F],O=await u.detectOverflow(t,R),_=[];let B=((i=o.flip)==null?void 0:i.overflows)||[];if(f&&_.push(O[x]),g){const ce=zq(s,r,M);_.push(O[ce[0]],O[ce[1]])}if(B=[...B,{placement:s,overflows:_}],!_.every(ce=>ce<=0)){var z,q;const ce=(((z=o.flip)==null?void 0:z.index)||0)+1,Y=A[ce];if(Y&&(!(g==="alignment"?T!==ho(Y):!1)||B.every(N=>ho(N.placement)===T?N.overflows[0]>0:!0)))return{data:{index:ce,overflows:B},reset:{placement:Y}};let V=(q=B.filter($=>$.overflows[0]<=0).sort(($,N)=>$.overflows[1]-N.overflows[1])[0])==null?void 0:q.placement;if(!V)switch(v){case"bestFit":{var oe;const $=(oe=B.filter(N=>{if(I){const X=ho(N.placement);return X===T||X==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(X=>X>0).reduce((X,ie)=>X+ie,0)]).sort((N,X)=>N[1]-X[1])[0])==null?void 0:oe[0];$&&(V=$);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function uF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function dF(e){return Vq.some(t=>e[t]>=0)}const Jq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:s="referenceHidden",...o}=or(e,t);switch(s){case"referenceHidden":{const r=await i.detectOverflow(t,{...o,elementContext:"reference"}),l=uF(r,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:dF(l)}}}case"escaped":{const r=await i.detectOverflow(t,{...o,altBoundary:!0}),l=uF(r,n.floating);return{data:{escapedOffsets:l,escaped:dF(l)}}}default:return{}}}}},OO=new Set(["left","top"]);async function eY(e,t){const{placement:n,platform:i,elements:s}=e,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),r=rr(n),l=Pu(n),u=ho(n)==="y",d=OO.has(r)?-1:1,f=o&&u?-1:1,g=or(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:y}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),u?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const tY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:o,placement:r,middlewareData:l}=t,u=await eY(t,e);return r===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:r}}}}},nY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s,platform:o}=t,{mainAxis:r=!0,crossAxis:l=!1,limiter:u={fn:x=>{let{x:T,y:D}=x;return{x:T,y:D}}},...d}=or(e,t),f={x:n,y:i},g=await o.detectOverflow(t,d),m=ho(rr(s)),v=W0(m);let y=f[v],S=f[m];if(r){const x=v==="y"?"top":"left",T=v==="y"?"bottom":"right",D=y+g[x],M=y-g[T];y=Xb(D,y,M)}if(l){const x=m==="y"?"top":"left",T=m==="y"?"bottom":"right",D=S+g[x],M=S-g[T];S=Xb(D,S,M)}const R=u.fn({...t,[v]:y,[m]:S});return{...R,data:{x:R.x-n,y:R.y-i,enabled:{[v]:r,[m]:l}}}}}},iY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:o,middlewareData:r}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=or(e,t),f={x:n,y:i},g=ho(s),m=W0(g);let v=f[m],y=f[g];const S=or(l,t),R=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(u){const D=m==="y"?"height":"width",M=o.reference[m]-o.floating[D]+R.mainAxis,F=o.reference[m]+o.reference[D]-R.mainAxis;v<M?v=M:v>F&&(v=F)}if(d){var x,T;const D=m==="y"?"width":"height",M=OO.has(rr(s)),F=o.reference[g]-o.floating[D]+(M&&((x=r.offset)==null?void 0:x[g])||0)+(M?0:R.crossAxis),I=o.reference[g]+o.reference[D]+(M?0:((T=r.offset)==null?void 0:T[g])||0)-(M?R.crossAxis:0);y<F?y=F:y>I&&(y=I)}return{[m]:v,[g]:y}}}},sY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:s,rects:o,platform:r,elements:l}=t,{apply:u=()=>{},...d}=or(e,t),f=await r.detectOverflow(t,d),g=rr(s),m=Pu(s),v=ho(s)==="y",{width:y,height:S}=o.floating;let R,x;g==="top"||g==="bottom"?(R=g,x=m===(await(r.isRTL==null?void 0:r.isRTL(l.floating))?"start":"end")?"left":"right"):(x=g,R=m==="end"?"top":"bottom");const T=S-f.top-f.bottom,D=y-f.left-f.right,M=na(S-f[R],T),F=na(y-f[x],D),I=!t.middlewareData.shift;let A=M,O=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=D),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(A=T),I&&!m){const B=Ki(f.left,0),z=Ki(f.right,0),q=Ki(f.top,0),oe=Ki(f.bottom,0);v?O=y-2*(B!==0||z!==0?B+z:Ki(f.left,f.right)):A=S-2*(q!==0||oe!==0?q+oe:Ki(f.top,f.bottom))}await u({...t,availableWidth:O,availableHeight:A});const _=await r.getDimensions(l.floating);return y!==_.width||S!==_.height?{reset:{rects:!0}}:{}}}};function jm(){return typeof window<"u"}function Au(e){return LO(e)?(e.nodeName||"").toLowerCase():"#document"}function Xi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function To(e){var t;return(t=(LO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LO(e){return jm()?e instanceof Node||e instanceof Xi(e).Node:!1}function $s(e){return jm()?e instanceof Element||e instanceof Xi(e).Element:!1}function Ro(e){return jm()?e instanceof HTMLElement||e instanceof Xi(e).HTMLElement:!1}function hF(e){return!jm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xi(e).ShadowRoot}const oY=new Set(["inline","contents"]);function Yh(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Ks(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!oY.has(s)}const rY=new Set(["table","td","th"]);function aY(e){return rY.has(Au(e))}const lY=[":popover-open",":modal"];function Um(e){return lY.some(t=>{try{return e.matches(t)}catch{return!1}})}const cY=["transform","translate","scale","rotate","perspective"],uY=["transform","translate","scale","rotate","perspective","filter"],dY=["paint","layout","strict","content"];function q0(e){const t=Y0(),n=$s(e)?Ks(e):e;return cY.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||uY.some(i=>(n.willChange||"").includes(i))||dY.some(i=>(n.contain||"").includes(i))}function hY(e){let t=ia(e);for(;Ro(t)&&!lu(t);){if(q0(t))return t;if(Um(t))return null;t=ia(t)}return null}function Y0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fY=new Set(["html","body","#document"]);function lu(e){return fY.has(Au(e))}function Ks(e){return Xi(e).getComputedStyle(e)}function Wm(e){return $s(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(Au(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hF(e)&&e.host||To(e);return hF(t)?t.host:t}function _O(e){const t=ia(e);return lu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ro(t)&&Yh(t)?t:_O(t)}function bh(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=_O(e),o=s===((i=e.ownerDocument)==null?void 0:i.body),r=Xi(s);if(o){const l=Zb(r);return t.concat(r,r.visualViewport||[],Yh(s)?s:[],l&&n?bh(l):[])}return t.concat(s,bh(s,[],n))}function Zb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NO(e){const t=Ks(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Ro(e),o=s?e.offsetWidth:n,r=s?e.offsetHeight:i,l=$p(n)!==o||$p(i)!==r;return l&&(n=o,i=r),{width:n,height:i,$:l}}function X0(e){return $s(e)?e:e.contextElement}function $c(e){const t=X0(e);if(!Ro(t))return Co(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:o}=NO(t);let r=(o?$p(n.width):n.width)/i,l=(o?$p(n.height):n.height)/s;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const gY=Co(0);function VO(e){const t=Xi(e);return!Y0()||!t.visualViewport?gY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pY(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xi(e)?!1:t}function dl(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=X0(e);let r=Co(1);t&&(i?$s(i)&&(r=$c(i)):r=$c(e));const l=pY(o,n,i)?VO(o):Co(0);let u=(s.left+l.x)/r.x,d=(s.top+l.y)/r.y,f=s.width/r.x,g=s.height/r.y;if(o){const m=Xi(o),v=i&&$s(i)?Xi(i):i;let y=m,S=Zb(y);for(;S&&i&&v!==y;){const R=$c(S),x=S.getBoundingClientRect(),T=Ks(S),D=x.left+(S.clientLeft+parseFloat(T.paddingLeft))*R.x,M=x.top+(S.clientTop+parseFloat(T.paddingTop))*R.y;u*=R.x,d*=R.y,f*=R.x,g*=R.y,u+=D,d+=M,y=Xi(S),S=Zb(y)}}return qp({width:f,height:g,x:u,y:d})}function $m(e,t){const n=Wm(e).scrollLeft;return t?t.left+n:dl(To(e)).left+n}function HO(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-$m(e,n),s=n.top+t.scrollTop;return{x:i,y:s}}function mY(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const o=s==="fixed",r=To(i),l=t?Um(t.floating):!1;if(i===r||l&&o)return n;let u={scrollLeft:0,scrollTop:0},d=Co(1);const f=Co(0),g=Ro(i);if((g||!g&&!o)&&((Au(i)!=="body"||Yh(r))&&(u=Wm(i)),Ro(i))){const v=dl(i);d=$c(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}const m=r&&!g&&!o?HO(r,u):Co(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}}function vY(e){return Array.from(e.getClientRects())}function CY(e){const t=To(e),n=Wm(e),i=e.ownerDocument.body,s=Ki(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),o=Ki(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+$m(e);const l=-n.scrollTop;return Ks(i).direction==="rtl"&&(r+=Ki(t.clientWidth,i.clientWidth)-s),{width:s,height:o,x:r,y:l}}const fF=25;function wY(e,t){const n=Xi(e),i=To(e),s=n.visualViewport;let o=i.clientWidth,r=i.clientHeight,l=0,u=0;if(s){o=s.width,r=s.height;const f=Y0();(!f||f&&t==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}const d=$m(i);if(d<=0){const f=i.ownerDocument,g=f.body,m=getComputedStyle(g),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(i.clientWidth-g.clientWidth-v);y<=fF&&(o-=y)}else d<=fF&&(o+=d);return{width:o,height:r,x:l,y:u}}const yY=new Set(["absolute","fixed"]);function bY(e,t){const n=dl(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ro(e)?$c(e):Co(1),r=e.clientWidth*o.x,l=e.clientHeight*o.y,u=s*o.x,d=i*o.y;return{width:r,height:l,x:u,y:d}}function gF(e,t,n){let i;if(t==="viewport")i=wY(e,n);else if(t==="document")i=CY(To(e));else if($s(t))i=bY(t,n);else{const s=VO(e);i={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return qp(i)}function BO(e,t){const n=ia(e);return n===t||!$s(n)||lu(n)?!1:Ks(n).position==="fixed"||BO(n,t)}function SY(e,t){const n=t.get(e);if(n)return n;let i=bh(e,[],!1).filter(l=>$s(l)&&Au(l)!=="body"),s=null;const o=Ks(e).position==="fixed";let r=o?ia(e):e;for(;$s(r)&&!lu(r);){const l=Ks(r),u=q0(r);!u&&l.position==="fixed"&&(s=null),(o?!u&&!s:!u&&l.position==="static"&&!!s&&yY.has(s.position)||Yh(r)&&!u&&BO(e,r))?i=i.filter(f=>f!==r):s=l,r=ia(r)}return t.set(e,i),i}function RY(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const r=[...n==="clippingAncestors"?Um(t)?[]:SY(t,this._c):[].concat(n),i],l=r[0],u=r.reduce((d,f)=>{const g=gF(t,f,s);return d.top=Ki(g.top,d.top),d.right=na(g.right,d.right),d.bottom=na(g.bottom,d.bottom),d.left=Ki(g.left,d.left),d},gF(t,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function xY(e){const{width:t,height:n}=NO(e);return{width:t,height:n}}function EY(e,t,n){const i=Ro(t),s=To(t),o=n==="fixed",r=dl(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const u=Co(0);function d(){u.x=$m(s)}if(i||!i&&!o)if((Au(t)!=="body"||Yh(s))&&(l=Wm(t)),i){const v=dl(t,!0,o,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else s&&d();o&&!i&&s&&d();const f=s&&!i&&!o?HO(s,l):Co(0),g=r.left+l.scrollLeft-u.x-f.x,m=r.top+l.scrollTop-u.y-f.y;return{x:g,y:m,width:r.width,height:r.height}}function Cy(e){return Ks(e).position==="static"}function pF(e,t){if(!Ro(e)||Ks(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return To(e)===n&&(n=n.ownerDocument.body),n}function GO(e,t){const n=Xi(e);if(Um(e))return n;if(!Ro(e)){let s=ia(e);for(;s&&!lu(s);){if($s(s)&&!Cy(s))return s;s=ia(s)}return n}let i=pF(e,t);for(;i&&aY(i)&&Cy(i);)i=pF(i,t);return i&&lu(i)&&Cy(i)&&!q0(i)?n:i||hY(e)||n}const TY=async function(e){const t=this.getOffsetParent||GO,n=this.getDimensions,i=await n(e.floating);return{reference:EY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function DY(e){return Ks(e).direction==="rtl"}const PY={convertOffsetParentRelativeRectToViewportRelativeRect:mY,getDocumentElement:To,getClippingRect:RY,getOffsetParent:GO,getElementRects:TY,getClientRects:vY,getDimensions:xY,getScale:$c,isElement:$s,isRTL:DY};function zO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function AY(e,t){let n=null,i;const s=To(e);function o(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function r(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const d=e.getBoundingClientRect(),{left:f,top:g,width:m,height:v}=d;if(l||t(),!m||!v)return;const y=Vg(g),S=Vg(s.clientWidth-(f+m)),R=Vg(s.clientHeight-(g+v)),x=Vg(f),D={rootMargin:-y+"px "+-S+"px "+-R+"px "+-x+"px",threshold:Ki(0,na(1,u))||1};let M=!0;function F(I){const A=I[0].intersectionRatio;if(A!==u){if(!M)return r();A?r(!1,A):i=setTimeout(()=>{r(!1,1e-7)},1e3)}A===1&&!zO(d,e.getBoundingClientRect())&&r(),M=!1}try{n=new IntersectionObserver(F,{...D,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,D)}n.observe(e)}return r(!0),o}function FY(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=X0(e),f=s||o?[...d?bh(d):[],...bh(t)]:[];f.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const g=d&&l?AY(d,n):null;let m=-1,v=null;r&&(v=new ResizeObserver(x=>{let[T]=x;T&&T.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var D;(D=v)==null||D.observe(t)})),n()}),d&&!u&&v.observe(d),v.observe(t));let y,S=u?dl(e):null;u&&R();function R(){const x=dl(e);S&&!zO(S,x)&&n(),S=x,y=requestAnimationFrame(R)}return n(),()=>{var x;f.forEach(T=>{s&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),g?.(),(x=v)==null||x.disconnect(),v=null,u&&cancelAnimationFrame(y)}}const MY=tY,kY=nY,IY=Zq,OY=sY,LY=Jq,mF=Qq,_Y=iY,NY=(e,t,n)=>{const i=new Map,s={platform:PY,...n},o={...s.platform,_c:i};return Xq(e,t,{...s,platform:o})};var VY=typeof document<"u",HY=function(){},hp=VY?C.useLayoutEffect:HY;function Yp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Yp(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!Yp(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function jO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function vF(e,t){const n=jO(e);return Math.round(t*n)/n}function wy(e){const t=C.useRef(e);return hp(()=>{t.current=e}),t}function BY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:r}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,g]=C.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=C.useState(i);Yp(m,i)||v(i);const[y,S]=C.useState(null),[R,x]=C.useState(null),T=C.useCallback(N=>{N!==I.current&&(I.current=N,S(N))},[]),D=C.useCallback(N=>{N!==A.current&&(A.current=N,x(N))},[]),M=o||y,F=r||R,I=C.useRef(null),A=C.useRef(null),O=C.useRef(f),_=u!=null,B=wy(u),z=wy(s),q=wy(d),oe=C.useCallback(()=>{if(!I.current||!A.current)return;const N={placement:t,strategy:n,middleware:m};z.current&&(N.platform=z.current),NY(I.current,A.current,N).then(X=>{const ie={...X,isPositioned:q.current!==!1};ce.current&&!Yp(O.current,ie)&&(O.current=ie,qh.flushSync(()=>{g(ie)}))})},[m,t,n,z,q]);hp(()=>{d===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(N=>({...N,isPositioned:!1})))},[d]);const ce=C.useRef(!1);hp(()=>(ce.current=!0,()=>{ce.current=!1}),[]),hp(()=>{if(M&&(I.current=M),F&&(A.current=F),M&&F){if(B.current)return B.current(M,F,oe);oe()}},[M,F,oe,B,_]);const Y=C.useMemo(()=>({reference:I,floating:A,setReference:T,setFloating:D}),[T,D]),V=C.useMemo(()=>({reference:M,floating:F}),[M,F]),$=C.useMemo(()=>{const N={position:n,left:0,top:0};if(!V.floating)return N;const X=vF(V.floating,f.x),ie=vF(V.floating,f.y);return l?{...N,transform:"translate("+X+"px, "+ie+"px)",...jO(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:ie}},[n,l,V.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:oe,refs:Y,elements:V,floatingStyles:$}),[f,oe,Y,V,$])}const GY=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?mF({element:i.current,padding:s}).fn(n):{}:i?mF({element:i,padding:s}).fn(n):{}}}},zY=(e,t)=>({...MY(e),options:[e,t]}),jY=(e,t)=>({...kY(e),options:[e,t]}),UY=(e,t)=>({..._Y(e),options:[e,t]}),WY=(e,t)=>({...IY(e),options:[e,t]}),$Y=(e,t)=>({...OY(e),options:[e,t]}),KY=(e,t)=>({...LY(e),options:[e,t]}),qY=(e,t)=>({...GY(e),options:[e,t]});var YY="Arrow",UO=C.forwardRef((e,t)=>{const{children:n,width:i=10,height:s=5,...o}=e;return E.jsx(wt.svg,{...o,ref:t,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});UO.displayName=YY;var XY=UO;function QY(e){const[t,n]=C.useState(void 0);return vi(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let r,l;if("borderBoxSize"in o){const u=o.borderBoxSize,d=Array.isArray(u)?u[0]:u;r=d.inlineSize,l=d.blockSize}else r=e.offsetWidth,l=e.offsetHeight;n({width:r,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var Q0="Popper",[WO,Km]=dr(Q0),[ZY,$O]=WO(Q0),KO=e=>{const{__scopePopper:t,children:n}=e,[i,s]=C.useState(null);return E.jsx(ZY,{scope:t,anchor:i,onAnchorChange:s,children:n})};KO.displayName=Q0;var qO="PopperAnchor",YO=C.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,o=$O(qO,n),r=C.useRef(null),l=Kt(t,r),u=C.useRef(null);return C.useEffect(()=>{const d=u.current;u.current=i?.current||r.current,d!==u.current&&o.onAnchorChange(u.current)}),i?null:E.jsx(wt.div,{...s,ref:l})});YO.displayName=qO;var Z0="PopperContent",[JY,eX]=WO(Z0),XO=C.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:s=0,align:o="center",alignOffset:r=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:y,...S}=e,R=$O(Z0,n),[x,T]=C.useState(null),D=Kt(t,pe=>T(pe)),[M,F]=C.useState(null),I=QY(M),A=I?.width??0,O=I?.height??0,_=i+(o!=="center"?"-"+o:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(d)?d:[d],q=z.length>0,oe={padding:B,boundary:z.filter(nX),altBoundary:q},{refs:ce,floatingStyles:Y,placement:V,isPositioned:$,middlewareData:N}=BY({strategy:"fixed",placement:_,whileElementsMounted:(...pe)=>FY(...pe,{animationFrame:v==="always"}),elements:{reference:R.anchor},middleware:[zY({mainAxis:s+O,alignmentAxis:r}),u&&jY({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?UY():void 0,...oe}),u&&WY({...oe}),$Y({...oe,apply:({elements:pe,rects:Ue,availableWidth:qe,availableHeight:Ve})=>{const{width:mt,height:Ne}=Ue.reference,at=pe.floating.style;at.setProperty("--radix-popper-available-width",`${qe}px`),at.setProperty("--radix-popper-available-height",`${Ve}px`),at.setProperty("--radix-popper-anchor-width",`${mt}px`),at.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),M&&qY({element:M,padding:l}),iX({arrowWidth:A,arrowHeight:O}),m&&KY({strategy:"referenceHidden",...oe})]}),[X,ie]=JO(V),L=tn(y);vi(()=>{$&&L?.()},[$,L]);const j=N.arrow?.x,Q=N.arrow?.y,re=N.arrow?.centerOffset!==0,[me,Ce]=C.useState();return vi(()=>{x&&Ce(window.getComputedStyle(x).zIndex)},[x]),E.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:$?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:E.jsx(JY,{scope:n,placedSide:X,onArrowChange:F,arrowX:j,arrowY:Q,shouldHideArrow:re,children:E.jsx(wt.div,{"data-side":X,"data-align":ie,...S,ref:D,style:{...S.style,animation:$?void 0:"none"}})})})});XO.displayName=Z0;var QO="PopperArrow",tX={top:"bottom",right:"left",bottom:"top",left:"right"},ZO=C.forwardRef(function(t,n){const{__scopePopper:i,...s}=t,o=eX(QO,i),r=tX[o.placedSide];return E.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:E.jsx(XY,{...s,ref:n,style:{...s.style,display:"block"}})})});ZO.displayName=QO;function nX(e){return e!==null}var iX=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:s}=t,r=s.arrow?.centerOffset!==0,l=r?0:e.arrowWidth,u=r?0:e.arrowHeight,[d,f]=JO(n),g={start:"0%",center:"50%",end:"100%"}[f],m=(s.arrow?.x??0)+l/2,v=(s.arrow?.y??0)+u/2;let y="",S="";return d==="bottom"?(y=r?g:`${m}px`,S=`${-u}px`):d==="top"?(y=r?g:`${m}px`,S=`${i.floating.height+u}px`):d==="right"?(y=`${-u}px`,S=r?g:`${v}px`):d==="left"&&(y=`${i.floating.width+u}px`,S=r?g:`${v}px`),{data:{x:y,y:S}}}});function JO(e){const[t,n="center"]=e.split("-");return[t,n]}var eL=KO,tL=YO,nL=XO,iL=ZO,sX="Portal",J0=C.forwardRef((e,t)=>{const{container:n,...i}=e,[s,o]=C.useState(!1);vi(()=>o(!0),[]);const r=n||s&&globalThis?.document?.body;return r?U0.createPortal(E.jsx(wt.div,{...i,ref:t}),r):null});J0.displayName=sX;function oX(e,t){return C.useReducer((n,i)=>t[n][i]??n,e)}var wi=e=>{const{present:t,children:n}=e,i=rX(t),s=typeof n=="function"?n({present:i.isPresent}):C.Children.only(n),o=Kt(i.ref,aX(s));return typeof n=="function"||i.isPresent?C.cloneElement(s,{ref:o}):null};wi.displayName="Presence";function rX(e){const[t,n]=C.useState(),i=C.useRef(null),s=C.useRef(e),o=C.useRef("none"),r=e?"mounted":"unmounted",[l,u]=oX(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const d=Hg(i.current);o.current=l==="mounted"?d:"none"},[l]),vi(()=>{const d=i.current,f=s.current;if(f!==e){const m=o.current,v=Hg(d);e?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),vi(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,g=v=>{const S=Hg(i.current).includes(CSS.escape(v.animationName));if(v.target===t&&S&&(u("ANIMATION_END"),!s.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},m=v=>{v.target===t&&(o.current=Hg(i.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Hg(e){return e?.animationName||"none"}function aX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lX=Symbol("radix.slottable");function cX(e){const t=({children:n})=>E.jsx(E.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=lX,t}var uX=Mm[" useInsertionEffect ".trim().toString()]||vi;function ha({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[s,o,r]=dX({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:s;{const f=C.useRef(e!==void 0);C.useEffect(()=>{const g=f.current;g!==l&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=C.useCallback(f=>{if(l){const g=hX(f)?f(e):f;g!==e&&r.current?.(g)}else o(f)},[l,e,o,r]);return[u,d]}function dX({defaultProp:e,onChange:t}){const[n,i]=C.useState(e),s=C.useRef(n),o=C.useRef(t);return uX(()=>{o.current=t},[t]),C.useEffect(()=>{s.current!==n&&(o.current?.(n),s.current=n)},[n,s]),[n,i,o]}function hX(e){return typeof e=="function"}var fX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gX="VisuallyHidden",sL=C.forwardRef((e,t)=>E.jsx(wt.span,{...e,ref:t,style:{...fX,...e.style}}));sL.displayName=gX;var oL=sL,[qm]=dr("Tooltip",[Km]),Ym=Km(),rL="TooltipProvider",pX=700,Jb="tooltip.open",[mX,eR]=qm(rL),aL=e=>{const{__scopeTooltip:t,delayDuration:n=pX,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:o}=e,r=C.useRef(!0),l=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),E.jsx(mX,{scope:t,isOpenDelayedRef:r,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),r.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>r.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:o})};aL.displayName=rL;var Sh="Tooltip",[vX,Xh]=qm(Sh),lL=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:s,onOpenChange:o,disableHoverableContent:r,delayDuration:l}=e,u=eR(Sh,e.__scopeTooltip),d=Ym(t),[f,g]=C.useState(null),m=au(),v=C.useRef(0),y=r??u.disableHoverableContent,S=l??u.delayDuration,R=C.useRef(!1),[x,T]=ha({prop:i,defaultProp:s??!1,onChange:A=>{A?(u.onOpen(),document.dispatchEvent(new CustomEvent(Jb))):u.onClose(),o?.(A)},caller:Sh}),D=C.useMemo(()=>x?R.current?"delayed-open":"instant-open":"closed",[x]),M=C.useCallback(()=>{window.clearTimeout(v.current),v.current=0,R.current=!1,T(!0)},[T]),F=C.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),I=C.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{R.current=!0,T(!0),v.current=0},S)},[S,T]);return C.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),E.jsx(eL,{...d,children:E.jsx(vX,{scope:t,contentId:m,open:x,stateAttribute:D,trigger:f,onTriggerChange:g,onTriggerEnter:C.useCallback(()=>{u.isOpenDelayedRef.current?I():M()},[u.isOpenDelayedRef,I,M]),onTriggerLeave:C.useCallback(()=>{y?F():(window.clearTimeout(v.current),v.current=0)},[F,y]),onOpen:M,onClose:F,disableHoverableContent:y,children:n})})};lL.displayName=Sh;var eS="TooltipTrigger",cL=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Xh(eS,n),o=eR(eS,n),r=Ym(n),l=C.useRef(null),u=Kt(t,l,s.onTriggerChange),d=C.useRef(!1),f=C.useRef(!1),g=C.useCallback(()=>d.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),E.jsx(tL,{asChild:!0,...r,children:E.jsx(wt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:u,onPointerMove:ke(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ke(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:ke(e.onBlur,s.onClose),onClick:ke(e.onClick,s.onClose)})})});cL.displayName=eS;var tR="TooltipPortal",[CX,wX]=qm(tR,{forceMount:void 0}),uL=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:s}=e,o=Xh(tR,t);return E.jsx(CX,{scope:t,forceMount:n,children:E.jsx(wi,{present:n||o.open,children:E.jsx(J0,{asChild:!0,container:s,children:i})})})};uL.displayName=tR;var cu="TooltipContent",dL=C.forwardRef((e,t)=>{const n=wX(cu,e.__scopeTooltip),{forceMount:i=n.forceMount,side:s="top",...o}=e,r=Xh(cu,e.__scopeTooltip);return E.jsx(wi,{present:i||r.open,children:r.disableHoverableContent?E.jsx(hL,{side:s,...o,ref:t}):E.jsx(yX,{side:s,...o,ref:t})})}),yX=C.forwardRef((e,t)=>{const n=Xh(cu,e.__scopeTooltip),i=eR(cu,e.__scopeTooltip),s=C.useRef(null),o=Kt(t,s),[r,l]=C.useState(null),{trigger:u,onClose:d}=n,f=s.current,{onPointerInTransitChange:g}=i,m=C.useCallback(()=>{l(null),g(!1)},[g]),v=C.useCallback((y,S)=>{const R=y.currentTarget,x={x:y.clientX,y:y.clientY},T=EX(x,R.getBoundingClientRect()),D=TX(x,T),M=DX(S.getBoundingClientRect()),F=AX([...D,...M]);l(F),g(!0)},[g]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(u&&f){const y=R=>v(R,f),S=R=>v(R,u);return u.addEventListener("pointerleave",y),f.addEventListener("pointerleave",S),()=>{u.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",S)}}},[u,f,v,m]),C.useEffect(()=>{if(r){const y=S=>{const R=S.target,x={x:S.clientX,y:S.clientY},T=u?.contains(R)||f?.contains(R),D=!PX(x,r);T?m():D&&(m(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,f,r,d,m]),E.jsx(hL,{...e,ref:o})}),[bX,SX]=qm(Sh,{isInside:!1}),RX=cX("TooltipContent"),hL=C.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:r,...l}=e,u=Xh(cu,n),d=Ym(n),{onClose:f}=u;return C.useEffect(()=>(document.addEventListener(Jb,f),()=>document.removeEventListener(Jb,f)),[f]),C.useEffect(()=>{if(u.trigger){const g=m=>{m.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,f]),E.jsx(zm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:E.jsxs(nL,{"data-state":u.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(RX,{children:i}),E.jsx(bX,{scope:n,isInside:!0,children:E.jsx(oL,{id:u.contentId,role:"tooltip",children:s||i})})]})})});dL.displayName=cu;var fL="TooltipArrow",xX=C.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,s=Ym(n);return SX(fL,n).isInside?null:E.jsx(iL,{...s,...i,ref:t})});xX.displayName=fL;function EX(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,i,s,o)){case o:return"left";case s:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function TX(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function DX(e){const{top:t,right:n,bottom:i,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:i},{x:s,y:i}]}function PX(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,r=t.length-1;o<t.length;r=o++){const l=t[o],u=t[r],d=l.x,f=l.y,g=u.x,m=u.y;f>i!=m>i&&n<(g-d)*(i-f)/(m-f)+d&&(s=!s)}return s}function AX(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),FX(t)}function FX(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const s=e[i];for(;t.length>=2;){const o=t[t.length-1],r=t[t.length-2];if((o.x-r.x)*(s.y-r.y)>=(o.y-r.y)*(s.x-r.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const s=e[i];for(;n.length>=2;){const o=n[n.length-1],r=n[n.length-2];if((o.x-r.x)*(s.y-r.y)>=(o.y-r.y)*(s.x-r.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var MX=lL,kX=cL,IX=uL,gL=dL,OX=C.createContext(void 0);function Qh(e){const t=C.useContext(OX);return e||t||"ltr"}function CF(e){const t=LX(e),n=C.forwardRef((i,s)=>{const{children:o,...r}=i,l=C.Children.toArray(o),u=l.find(NX);if(u){const d=u.props.children,f=l.map(g=>g===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...r,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function LX(e){const t=C.forwardRef((n,i)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const r=HX(s),l=VX(o,s.props);return s.type!==C.Fragment&&(l.ref=i?ua(i,r):r),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _X=Symbol("radix.slottable");function NX(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_X}function VX(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...l)=>{const u=o(...l);return s(...l),u}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function HX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Xm(e){const t=e+"CollectionProvider",[n,i]=dr(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),r=S=>{const{scope:R,children:x}=S,T=he.useRef(null),D=he.useRef(new Map).current;return E.jsx(s,{scope:R,itemMap:D,collectionRef:T,children:x})};r.displayName=t;const l=e+"CollectionSlot",u=CF(l),d=he.forwardRef((S,R)=>{const{scope:x,children:T}=S,D=o(l,x),M=Kt(R,D.collectionRef);return E.jsx(u,{ref:M,children:T})});d.displayName=l;const f=e+"CollectionItemSlot",g="data-radix-collection-item",m=CF(f),v=he.forwardRef((S,R)=>{const{scope:x,children:T,...D}=S,M=he.useRef(null),F=Kt(R,M),I=o(f,x);return he.useEffect(()=>(I.itemMap.set(M,{ref:M,...D}),()=>{I.itemMap.delete(M)})),E.jsx(m,{[g]:"",ref:F,children:T})});v.displayName=f;function y(S){const R=o(e+"CollectionConsumer",S);return he.useCallback(()=>{const T=R.collectionRef.current;if(!T)return[];const D=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(R.itemMap.values()).sort((I,A)=>D.indexOf(I.ref.current)-D.indexOf(A.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:r,Slot:d,ItemSlot:v},y,i]}function BX(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tl="NavigationMenu",[nR,pL,GX]=Xm(Tl),[tS,zX,jX]=Xm(Tl),[iR]=dr(Tl,[GX,jX]),[UX,xs]=iR(Tl),[WX,$X]=iR(Tl),mL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,onValueChange:s,defaultValue:o,delayDuration:r=200,skipDelayDuration:l=300,orientation:u="horizontal",dir:d,...f}=e,[g,m]=C.useState(null),v=Kt(t,_=>m(_)),y=Qh(d),S=C.useRef(0),R=C.useRef(0),x=C.useRef(0),[T,D]=C.useState(!0),[M,F]=ha({prop:i,onChange:_=>{const B=_!=="",z=l>0;B?(window.clearTimeout(x.current),z&&D(!1)):(window.clearTimeout(x.current),x.current=window.setTimeout(()=>D(!0),l)),s?.(_)},defaultProp:o??"",caller:Tl}),I=C.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>F(""),150)},[F]),A=C.useCallback(_=>{window.clearTimeout(R.current),F(_)},[F]),O=C.useCallback(_=>{M===_?window.clearTimeout(R.current):S.current=window.setTimeout(()=>{window.clearTimeout(R.current),F(_)},r)},[M,F,r]);return C.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(R.current),window.clearTimeout(x.current)},[]),E.jsx(vL,{scope:n,isRootMenu:!0,value:M,dir:y,orientation:u,rootNavigationMenu:g,onTriggerEnter:_=>{window.clearTimeout(S.current),T?O(_):A(_)},onTriggerLeave:()=>{window.clearTimeout(S.current),I()},onContentEnter:()=>window.clearTimeout(R.current),onContentLeave:I,onItemSelect:_=>{F(B=>B===_?"":_)},onItemDismiss:()=>F(""),children:E.jsx(wt.nav,{"aria-label":"Main","data-orientation":u,dir:y,...f,ref:v})})});mL.displayName=Tl;var nS="NavigationMenuSub",KX=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,onValueChange:s,defaultValue:o,orientation:r="horizontal",...l}=e,u=xs(nS,n),[d,f]=ha({prop:i,onChange:s,defaultProp:o??"",caller:nS});return E.jsx(vL,{scope:n,isRootMenu:!1,value:d,dir:u.dir,orientation:r,rootNavigationMenu:u.rootNavigationMenu,onTriggerEnter:g=>f(g),onItemSelect:g=>f(g),onItemDismiss:()=>f(""),children:E.jsx(wt.div,{"data-orientation":r,...l,ref:t})})});KX.displayName=nS;var vL=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:i,dir:s,orientation:o,children:r,value:l,onItemSelect:u,onItemDismiss:d,onTriggerEnter:f,onTriggerLeave:g,onContentEnter:m,onContentLeave:v}=e,[y,S]=C.useState(null),[R,x]=C.useState(new Map),[T,D]=C.useState(null);return E.jsx(UX,{scope:t,isRootMenu:n,rootNavigationMenu:i,value:l,previousValue:BX(l),baseId:au(),dir:s,orientation:o,viewport:y,onViewportChange:S,indicatorTrack:T,onIndicatorTrackChange:D,onTriggerEnter:tn(f),onTriggerLeave:tn(g),onContentEnter:tn(m),onContentLeave:tn(v),onItemSelect:tn(u),onItemDismiss:tn(d),onViewportContentChange:C.useCallback((M,F)=>{x(I=>(I.set(M,F),new Map(I)))},[]),onViewportContentRemove:C.useCallback(M=>{x(F=>F.has(M)?(F.delete(M),new Map(F)):F)},[]),children:E.jsx(nR.Provider,{scope:t,children:E.jsx(WX,{scope:t,items:R,children:r})})})},CL="NavigationMenuList",wL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,s=xs(CL,n),o=E.jsx(wt.ul,{"data-orientation":s.orientation,...i,ref:t});return E.jsx(wt.div,{style:{position:"relative"},ref:s.onIndicatorTrackChange,children:E.jsx(nR.Slot,{scope:n,children:s.isRootMenu?E.jsx(AL,{asChild:!0,children:o}):o})})});wL.displayName=CL;var yL="NavigationMenuItem",[qX,bL]=iR(yL),SL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,...s}=e,o=au(),r=i||o||"LEGACY_REACT_AUTO_VALUE",l=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=C.useRef(()=>{}),g=C.useRef(!1),m=C.useCallback((y="start")=>{if(l.current){f.current();const S=sS(l.current);S.length&&rR(y==="start"?S:S.reverse())}},[]),v=C.useCallback(()=>{if(l.current){const y=sS(l.current);y.length&&(f.current=tQ(y))}},[]);return E.jsx(qX,{scope:n,value:r,triggerRef:u,contentRef:l,focusProxyRef:d,wasEscapeCloseRef:g,onEntryKeyDown:m,onFocusProxyEnter:m,onRootContentClose:v,onContentFocusOutside:v,children:E.jsx(wt.li,{...s,ref:t})})});SL.displayName=yL;var iS="NavigationMenuTrigger",RL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:i,...s}=e,o=xs(iS,e.__scopeNavigationMenu),r=bL(iS,e.__scopeNavigationMenu),l=C.useRef(null),u=Kt(l,r.triggerRef,t),d=ML(o.baseId,r.value),f=kL(o.baseId,r.value),g=C.useRef(!1),m=C.useRef(!1),v=r.value===o.value;return E.jsxs(E.Fragment,{children:[E.jsx(nR.ItemSlot,{scope:n,value:r.value,children:E.jsx(FL,{asChild:!0,children:E.jsx(wt.button,{id:d,disabled:i,"data-disabled":i?"":void 0,"data-state":aR(v),"aria-expanded":v,"aria-controls":f,...s,ref:u,onPointerEnter:ke(e.onPointerEnter,()=>{m.current=!1,r.wasEscapeCloseRef.current=!1}),onPointerMove:ke(e.onPointerMove,Xp(()=>{i||m.current||r.wasEscapeCloseRef.current||g.current||(o.onTriggerEnter(r.value),g.current=!0)})),onPointerLeave:ke(e.onPointerLeave,Xp(()=>{i||(o.onTriggerLeave(),g.current=!1)})),onClick:ke(e.onClick,()=>{o.onItemSelect(r.value),m.current=v}),onKeyDown:ke(e.onKeyDown,y=>{const R={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];v&&y.key===R&&(r.onEntryKeyDown(),y.preventDefault())})})})}),v&&E.jsxs(E.Fragment,{children:[E.jsx(oL,{"aria-hidden":!0,tabIndex:0,ref:r.focusProxyRef,onFocus:y=>{const S=r.contentRef.current,R=y.relatedTarget,x=R===l.current,T=S?.contains(R);(x||!T)&&r.onFocusProxyEnter(x?"start":"end")}}),o.viewport&&E.jsx("span",{"aria-owns":f})]})]})});RL.displayName=iS;var YX="NavigationMenuLink",wF="navigationMenu.linkSelect",xL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,active:i,onSelect:s,...o}=e;return E.jsx(FL,{asChild:!0,children:E.jsx(wt.a,{"data-active":i?"":void 0,"aria-current":i?"page":void 0,...o,ref:t,onClick:ke(e.onClick,r=>{const l=r.target,u=new CustomEvent(wF,{bubbles:!0,cancelable:!0});if(l.addEventListener(wF,d=>s?.(d),{once:!0}),Wp(l,u),!u.defaultPrevented&&!r.metaKey){const d=new CustomEvent(fp,{bubbles:!0,cancelable:!0});Wp(l,d)}},{checkForDefaultPrevented:!1})})})});xL.displayName=YX;var sR="NavigationMenuIndicator",EL=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=xs(sR,e.__scopeNavigationMenu),o=!!s.value;return s.indicatorTrack?U0.createPortal(E.jsx(wi,{present:n||o,children:E.jsx(XX,{...i,ref:t})}),s.indicatorTrack):null});EL.displayName=sR;var XX=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,s=xs(sR,n),o=pL(n),[r,l]=C.useState(null),[u,d]=C.useState(null),f=s.orientation==="horizontal",g=!!s.value;C.useEffect(()=>{const y=o().find(S=>S.value===s.value)?.ref.current;y&&l(y)},[o,s.value]);const m=()=>{r&&d({size:f?r.offsetWidth:r.offsetHeight,offset:f?r.offsetLeft:r.offsetTop})};return oS(r,m),oS(s.indicatorTrack,m),u?E.jsx(wt.div,{"aria-hidden":!0,"data-state":g?"visible":"hidden","data-orientation":s.orientation,...i,ref:t,style:{position:"absolute",...f?{left:0,width:u.size+"px",transform:`translateX(${u.offset}px)`}:{top:0,height:u.size+"px",transform:`translateY(${u.offset}px)`},...i.style}}):null}),uu="NavigationMenuContent",TL=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=xs(uu,e.__scopeNavigationMenu),o=bL(uu,e.__scopeNavigationMenu),r=Kt(o.contentRef,t),l=o.value===s.value,u={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...i};return s.viewport?E.jsx(QX,{forceMount:n,...u,ref:r}):E.jsx(wi,{present:n||l,children:E.jsx(DL,{"data-state":aR(l),...u,ref:r,onPointerEnter:ke(e.onPointerEnter,s.onContentEnter),onPointerLeave:ke(e.onPointerLeave,Xp(s.onContentLeave)),style:{pointerEvents:!l&&s.isRootMenu?"none":void 0,...u.style}})})});TL.displayName=uu;var QX=C.forwardRef((e,t)=>{const n=xs(uu,e.__scopeNavigationMenu),{onViewportContentChange:i,onViewportContentRemove:s}=n;return vi(()=>{i(e.value,{ref:t,...e})},[e,t,i]),vi(()=>()=>s(e.value),[e.value,s]),null}),fp="navigationMenu.rootContentDismiss",DL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,triggerRef:s,focusProxyRef:o,wasEscapeCloseRef:r,onRootContentClose:l,onContentFocusOutside:u,...d}=e,f=xs(uu,n),g=C.useRef(null),m=Kt(g,t),v=ML(f.baseId,i),y=kL(f.baseId,i),S=pL(n),R=C.useRef(null),{onItemDismiss:x}=f;C.useEffect(()=>{const D=g.current;if(f.isRootMenu&&D){const M=()=>{x(),l(),D.contains(document.activeElement)&&s.current?.focus()};return D.addEventListener(fp,M),()=>D.removeEventListener(fp,M)}},[f.isRootMenu,e.value,s,x,l]);const T=C.useMemo(()=>{const M=S().map(B=>B.value);f.dir==="rtl"&&M.reverse();const F=M.indexOf(f.value),I=M.indexOf(f.previousValue),A=i===f.value,O=I===M.indexOf(i);if(!A&&!O)return R.current;const _=(()=>{if(F!==I){if(A&&I!==-1)return F>I?"from-end":"from-start";if(O&&F!==-1)return F>I?"to-start":"to-end"}return null})();return R.current=_,_},[f.previousValue,f.value,f.dir,S,i]);return E.jsx(AL,{asChild:!0,children:E.jsx(zm,{id:y,"aria-labelledby":v,"data-motion":T,"data-orientation":f.orientation,...d,ref:m,disableOutsidePointerEvents:!1,onDismiss:()=>{const D=new Event(fp,{bubbles:!0,cancelable:!0});g.current?.dispatchEvent(D)},onFocusOutside:ke(e.onFocusOutside,D=>{u();const M=D.target;f.rootNavigationMenu?.contains(M)&&D.preventDefault()}),onPointerDownOutside:ke(e.onPointerDownOutside,D=>{const M=D.target,F=S().some(A=>A.ref.current?.contains(M)),I=f.isRootMenu&&f.viewport?.contains(M);(F||I||!f.isRootMenu)&&D.preventDefault()}),onKeyDown:ke(e.onKeyDown,D=>{const M=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!M){const I=sS(D.currentTarget),A=document.activeElement,O=I.findIndex(z=>z===A),B=D.shiftKey?I.slice(0,O).reverse():I.slice(O+1,I.length);rR(B)?D.preventDefault():o.current?.focus()}}),onEscapeKeyDown:ke(e.onEscapeKeyDown,D=>{r.current=!0})})})}),oR="NavigationMenuViewport",PL=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=!!xs(oR,e.__scopeNavigationMenu).value;return E.jsx(wi,{present:n||o,children:E.jsx(ZX,{...i,ref:t})})});PL.displayName=oR;var ZX=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,children:i,...s}=e,o=xs(oR,n),r=Kt(t,o.onViewportChange),l=$X(uu,e.__scopeNavigationMenu),[u,d]=C.useState(null),[f,g]=C.useState(null),m=u?u?.width+"px":void 0,v=u?u?.height+"px":void 0,y=!!o.value,S=y?o.value:o.previousValue;return oS(f,()=>{f&&d({width:f.offsetWidth,height:f.offsetHeight})}),E.jsx(wt.div,{"data-state":aR(y),"data-orientation":o.orientation,...s,ref:r,style:{pointerEvents:!y&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":m,"--radix-navigation-menu-viewport-height":v,...s.style},onPointerEnter:ke(e.onPointerEnter,o.onContentEnter),onPointerLeave:ke(e.onPointerLeave,Xp(o.onContentLeave)),children:Array.from(l.items).map(([x,{ref:T,forceMount:D,...M}])=>{const F=S===x;return E.jsx(wi,{present:D||F,children:E.jsx(DL,{...M,ref:ua(T,I=>{F&&I&&g(I)})})},x)})})}),JX="FocusGroup",AL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,s=xs(JX,n);return E.jsx(tS.Provider,{scope:n,children:E.jsx(tS.Slot,{scope:n,children:E.jsx(wt.div,{dir:s.dir,...i,ref:t})})})}),yF=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],eQ="FocusGroupItem",FL=C.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,s=zX(n),o=xs(eQ,n);return E.jsx(tS.ItemSlot,{scope:n,children:E.jsx(wt.button,{...i,ref:t,onKeyDown:ke(e.onKeyDown,r=>{if(["Home","End",...yF].includes(r.key)){let u=s().map(g=>g.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(r.key)&&u.reverse(),yF.includes(r.key)){const g=u.indexOf(r.currentTarget);u=u.slice(g+1)}setTimeout(()=>rR(u)),r.preventDefault()}})})})});function sS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rR(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function tQ(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function oS(e,t){const n=tn(t);vi(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}function aR(e){return e?"open":"closed"}function ML(e,t){return`${e}-trigger-${t}`}function kL(e,t){return`${e}-content-${t}`}function Xp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var IL=mL,OL=wL,nQ=SL,LL=RL,iQ=xL,_L=EL,NL=TL,VL=PL;const HL=C.forwardRef((e,t)=>{const n=Re.c(12);let i,s,o;n[0]!==e?({className:s,children:i,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);let r;n[4]!==s?(r=ut("relative z-10 flex max-w-max flex-1 items-center justify-center",s),n[4]=s,n[5]=r):r=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=E.jsx(zL,{}),n[6]=l):l=n[6];let u;return n[7]!==i||n[8]!==o||n[9]!==t||n[10]!==r?(u=E.jsxs(IL,{ref:t,className:r,...o,children:[i,l]}),n[7]=i,n[8]=o,n[9]=t,n[10]=r,n[11]=u):u=n[11],u});HL.displayName=IL.displayName;const BL=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("group flex flex-1 list-none items-center justify-center space-x-1",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(OL,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});BL.displayName=OL.displayName;const sQ=nQ,GL=yu("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),oQ=C.forwardRef((e,t)=>{const n=Re.c(12);let i,s,o;n[0]!==e?({className:s,children:i,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);let r;n[4]!==s?(r=ut(GL(),"group",s),n[4]=s,n[5]=r):r=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=E.jsx(c2,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"}),n[6]=l):l=n[6];let u;return n[7]!==i||n[8]!==o||n[9]!==t||n[10]!==r?(u=E.jsxs(LL,{ref:t,className:r,...o,children:[i," ",l]}),n[7]=i,n[8]=o,n[9]=t,n[10]=r,n[11]=u):u=n[11],u});oQ.displayName=LL.displayName;const rQ=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full md:absolute md:w-auto",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(NL,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});rQ.displayName=NL.displayName;const aQ=iQ,zL=C.forwardRef((e,t)=>{const n=Re.c(10);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]===Symbol.for("react.memo_cache_sentinel")?(o=ut("absolute top-full left-0 flex justify-center"),n[3]=o):o=n[3];let r;n[4]!==i?(r=ut("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",i),n[4]=i,n[5]=r):r=n[5];let l;return n[6]!==s||n[7]!==t||n[8]!==r?(l=E.jsx("div",{className:o,children:E.jsx(VL,{className:r,ref:t,...s})}),n[6]=s,n[7]=t,n[8]=r,n[9]=l):l=n[9],l});zL.displayName=VL.displayName;const lQ=C.forwardRef((e,t)=>{const n=Re.c(10);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden",i),n[3]=i,n[4]=o):o=n[4];let r;n[5]===Symbol.for("react.memo_cache_sentinel")?(r=E.jsx("div",{className:"bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md"}),n[5]=r):r=n[5];let l;return n[6]!==s||n[7]!==t||n[8]!==o?(l=E.jsx(_L,{ref:t,className:o,...s,children:r}),n[6]=s,n[7]=t,n[8]=o,n[9]=l):l=n[9],l});lQ.displayName=_L.displayName;const jL=C.createContext({theme:"dark",setTheme:()=>{}});function Qm(){const e=C.useContext(jL);if(e===void 0)throw new Error("useAppContext must be used within a AppContextProvider");return e}const cQ=MX,uQ=kX,UL=C.forwardRef((e,t)=>{const n=Re.c(11);let i,s,o;n[0]!==e?({className:i,sideOffset:o,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);const r=o===void 0?4:o;let l;n[4]!==i?(l=ut("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 origin-[--radix-tooltip-content-transform-origin] overflow-hidden rounded-md px-3 py-1.5 text-xs",i),n[4]=i,n[5]=l):l=n[5];let u;return n[6]!==s||n[7]!==t||n[8]!==r||n[9]!==l?(u=E.jsx(IX,{children:E.jsx(gL,{ref:t,sideOffset:r,className:l,...s})}),n[6]=s,n[7]=t,n[8]=r,n[9]=l,n[10]=u):u=n[10],u});UL.displayName=gL.displayName;var dQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hQ=dQ.reduce((e,t)=>{const n=Lm(`Primitive.${t}`),i=C.forwardRef((s,o)=>{const{asChild:r,...l}=s,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),fQ="Label",WL=C.forwardRef((e,t)=>E.jsx(hQ.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WL.displayName=fQ;var $L=WL;const gQ=yu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pQ=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut(gQ(),i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx($L,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});pQ.displayName=$L.displayName;var mQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vQ=mQ.reduce((e,t)=>{const n=Lm(`Primitive.${t}`),i=C.forwardRef((s,o)=>{const{asChild:r,...l}=s,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),CQ="Separator",bF="horizontal",wQ=["horizontal","vertical"],KL=C.forwardRef((e,t)=>{const{decorative:n,orientation:i=bF,...s}=e,o=yQ(i)?i:bF,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return E.jsx(vQ.div,{"data-orientation":o,...l,...s,ref:t})});KL.displayName=CQ;function yQ(e){return wQ.includes(e)}var qL=KL;const hl=C.forwardRef((e,t)=>{const n=Re.c(14);let i,s,o,r;n[0]!==e?({className:i,orientation:o,decorative:r,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r):(i=n[1],s=n[2],o=n[3],r=n[4]);const l=o===void 0?"horizontal":o,u=r===void 0?!0:r,d=l==="horizontal"?"h-[1px] w-full":"h-full w-[1px]";let f;n[5]!==i||n[6]!==d?(f=ut("bg-border shrink-0",d,i),n[5]=i,n[6]=d,n[7]=f):f=n[7];let g;return n[8]!==u||n[9]!==l||n[10]!==s||n[11]!==t||n[12]!==f?(g=E.jsx(qL,{ref:t,decorative:u,orientation:l,className:f,...s}),n[8]=u,n[9]=l,n[10]=s,n[11]=t,n[12]=f,n[13]=g):g=n[13],g});hl.displayName=qL.displayName;const bQ=yu("group/field data-[invalid=true]:text-destructive flex w-full gap-3",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start"],responsive:["@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function SQ(e){const t=Re.c(11);let n,i,s;t[0]!==e?({className:n,orientation:s,...i}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=s):(n=t[1],i=t[2],s=t[3]);const o=s===void 0?"vertical":s;let r;t[4]!==n||t[5]!==o?(r=ut(bQ({orientation:o}),n),t[4]=n,t[5]=o,t[6]=r):r=t[6];let l;return t[7]!==o||t[8]!==i||t[9]!==r?(l=E.jsx("div",{role:"group","data-slot":"field","data-orientation":o,className:r,...i}),t[7]=o,t[8]=i,t[9]=r,t[10]=l):l=t[10],l}const lR=C.forwardRef((e,t)=>{const n=Re.c(11);let i,s,o;n[0]!==e?({className:i,type:o,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);let r;n[4]!==i?(r=ut("border-input file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),n[4]=i,n[5]=r):r=n[5];let l;return n[6]!==s||n[7]!==t||n[8]!==r||n[9]!==o?(l=E.jsx("input",{type:o,className:r,ref:t,...s}),n[6]=s,n[7]=t,n[8]=r,n[9]=o,n[10]=l):l=n[10],l});lR.displayName="Input";function RQ(){const e=Re.c(27),t=Im(),[n,i]=C.useState("");let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[0]=s):s=e[0];const[o,r]=C.useState(s),[l,u]=C.useState(!1),[d,f]=C.useState(!1),g=C.useRef(null),m=C.useRef(null);let v,y;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{const B=function(q){g.current&&!g.current.contains(q.target)&&f(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},y=[],e[1]=v,e[2]=y):(v=e[1],y=e[2]),C.useEffect(v,y);let S,R;e[3]!==n?(S=()=>{if(n.trim())return m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{u(!0);const{data:B,error:z}=await kt.from("companies").select(`
          id,
          name,
          company_problems(count)
        `).ilike("name",`%${n.trim()}%`).order("name").limit(8);if(u(!1),z||!B)return;const q=B.map(xQ);r(q),f(!0)},400),()=>{m.current&&clearTimeout(m.current)}},R=[n],e[3]=n,e[4]=S,e[5]=R):(S=e[4],R=e[5]),C.useEffect(S,R);let x;e[6]!==t?(x=function(z){f(!1),i(""),t(`/company/${z.id}`)},e[6]=t,e[7]=x):x=e[7];const T=x;let D;e[8]===Symbol.for("react.memo_cache_sentinel")?(D=B=>{const z=B.target.value;i(z),z.trim()||(r([]),f(!1))},e[8]=D):D=e[8];let M;e[9]!==o.length?(M=()=>o.length>0&&f(!0),e[9]=o.length,e[10]=M):M=e[10];let F;e[11]!==n||e[12]!==M?(F=E.jsx(SQ,{children:E.jsx(lR,{placeholder:"Search a company...",className:"bg-input/30 h-8 w-full rounded-sm shadow-none",value:n,onChange:D,onFocus:M})}),e[11]=n,e[12]=M,e[13]=F):F=e[13];let I;e[14]!==l?(I=l&&E.jsx(h0,{className:"absolute top-2 right-2"}),e[14]=l,e[15]=I):I=e[15];let A;e[16]!==F||e[17]!==I?(A=E.jsxs("div",{className:"relative",children:[F,I]}),e[16]=F,e[17]=I,e[18]=A):A=e[18];let O;e[19]!==T||e[20]!==l||e[21]!==d||e[22]!==o?(O=d&&E.jsx("div",{className:"bg-background border-border absolute top-full z-50 mt-1 w-full overflow-hidden rounded-md border shadow-md",children:l?E.jsx("div",{className:"text-muted-foreground px-3 py-2 text-sm",children:"Searching"}):o.length===0?E.jsx("div",{className:"text-muted-foreground px-3 py-2 text-sm",children:"No companies found"}):E.jsx("ul",{children:o.map(B=>E.jsx("li",{children:E.jsxs("button",{className:"hover:bg-muted/50 flex w-full cursor-pointer items-center justify-between gap-2 px-3 py-2 text-left transition-colors",onClick:()=>T(B),children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(l2,{className:"text-muted-foreground h-4 w-4 shrink-0"}),E.jsx("span",{className:"text-primary text-sm",children:B.name})]}),E.jsxs("span",{className:"text-muted-foreground shrink-0 text-xs",children:[B.problem_count," ",B.problem_count===1?"problem":"problems"]})]})},B.id))})}),e[19]=T,e[20]=l,e[21]=d,e[22]=o,e[23]=O):O=e[23];let _;return e[24]!==A||e[25]!==O?(_=E.jsxs("div",{className:"relative w-full max-w-full sm:w-96",ref:g,children:[A,O]}),e[24]=A,e[25]=O,e[26]=_):_=e[26],_}function xQ(e){return{id:e.id,name:e.name,problem_count:e.company_problems[0]?.count??0}}function EQ(){const e=Re.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=E.jsx("div",{children:E.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[E.jsx("title",{children:"GitHub"}),E.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})}),e[0]=t):t=e[0],t}var yy=0;function TQ(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SF()),document.body.insertAdjacentElement("beforeend",e[1]??SF()),yy++,()=>{yy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yy--}},[])}function SF(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var by="focusScope.autoFocusOnMount",Sy="focusScope.autoFocusOnUnmount",RF={bubbles:!1,cancelable:!0},DQ="FocusScope",YL=C.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...r}=e,[l,u]=C.useState(null),d=tn(s),f=tn(o),g=C.useRef(null),m=Kt(t,S=>u(S)),v=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(i){let S=function(D){if(v.paused||!l)return;const M=D.target;l.contains(M)?g.current=M:Ur(g.current,{select:!0})},R=function(D){if(v.paused||!l)return;const M=D.relatedTarget;M!==null&&(l.contains(M)||Ur(g.current,{select:!0}))},x=function(D){if(document.activeElement===document.body)for(const F of D)F.removedNodes.length>0&&Ur(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",R);const T=new MutationObserver(x);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",R),T.disconnect()}}},[i,l,v.paused]),C.useEffect(()=>{if(l){EF.add(v);const S=document.activeElement;if(!l.contains(S)){const x=new CustomEvent(by,RF);l.addEventListener(by,d),l.dispatchEvent(x),x.defaultPrevented||(PQ(IQ(XL(l)),{select:!0}),document.activeElement===S&&Ur(l))}return()=>{l.removeEventListener(by,d),setTimeout(()=>{const x=new CustomEvent(Sy,RF);l.addEventListener(Sy,f),l.dispatchEvent(x),x.defaultPrevented||Ur(S??document.body,{select:!0}),l.removeEventListener(Sy,f),EF.remove(v)},0)}}},[l,d,f,v]);const y=C.useCallback(S=>{if(!n&&!i||v.paused)return;const R=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,x=document.activeElement;if(R&&x){const T=S.currentTarget,[D,M]=AQ(T);D&&M?!S.shiftKey&&x===M?(S.preventDefault(),n&&Ur(D,{select:!0})):S.shiftKey&&x===D&&(S.preventDefault(),n&&Ur(M,{select:!0})):x===T&&S.preventDefault()}},[n,i,v.paused]);return E.jsx(wt.div,{tabIndex:-1,...r,ref:m,onKeyDown:y})});YL.displayName=DQ;function PQ(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Ur(i,{select:t}),document.activeElement!==n)return}function AQ(e){const t=XL(e),n=xF(t,e),i=xF(t.reverse(),e);return[n,i]}function XL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xF(e,t){for(const n of e)if(!FQ(n,{upTo:t}))return n}function FQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function MQ(e){return e instanceof HTMLInputElement&&"select"in e}function Ur(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&MQ(e)&&t&&e.select()}}var EF=kQ();function kQ(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=TF(e,t),e.unshift(t)},remove(t){e=TF(e,t),e[0]?.resume()}}}function TF(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function IQ(e){return e.filter(t=>t.tagName!=="A")}var Ry="rovingFocusGroup.onEntryFocus",OQ={bubbles:!1,cancelable:!0},Zh="RovingFocusGroup",[rS,QL,LQ]=Xm(Zh),[_Q,Zm]=dr(Zh,[LQ]),[NQ,VQ]=_Q(Zh),ZL=C.forwardRef((e,t)=>E.jsx(rS.Provider,{scope:e.__scopeRovingFocusGroup,children:E.jsx(rS.Slot,{scope:e.__scopeRovingFocusGroup,children:E.jsx(HQ,{...e,ref:t})})}));ZL.displayName=Zh;var HQ=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:s=!1,dir:o,currentTabStopId:r,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...g}=e,m=C.useRef(null),v=Kt(t,m),y=Qh(o),[S,R]=ha({prop:r,defaultProp:l??null,onChange:u,caller:Zh}),[x,T]=C.useState(!1),D=tn(d),M=QL(n),F=C.useRef(!1),[I,A]=C.useState(0);return C.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(Ry,D),()=>O.removeEventListener(Ry,D)},[D]),E.jsx(NQ,{scope:n,orientation:i,dir:y,loop:s,currentTabStopId:S,onItemFocus:C.useCallback(O=>R(O),[R]),onItemShiftTab:C.useCallback(()=>T(!0),[]),onFocusableItemAdd:C.useCallback(()=>A(O=>O+1),[]),onFocusableItemRemove:C.useCallback(()=>A(O=>O-1),[]),children:E.jsx(wt.div,{tabIndex:x||I===0?-1:0,"data-orientation":i,...g,ref:v,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{F.current=!0}),onFocus:ke(e.onFocus,O=>{const _=!F.current;if(O.target===O.currentTarget&&_&&!x){const B=new CustomEvent(Ry,OQ);if(O.currentTarget.dispatchEvent(B),!B.defaultPrevented){const z=M().filter(V=>V.focusable),q=z.find(V=>V.active),oe=z.find(V=>V.id===S),Y=[q,oe,...z].filter(Boolean).map(V=>V.ref.current);t_(Y,f)}}F.current=!1}),onBlur:ke(e.onBlur,()=>T(!1))})})}),JL="RovingFocusGroupItem",e_=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:s=!1,tabStopId:o,children:r,...l}=e,u=au(),d=o||u,f=VQ(JL,n),g=f.currentTabStopId===d,m=QL(n),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:S}=f;return C.useEffect(()=>{if(i)return v(),()=>y()},[i,v,y]),E.jsx(rS.ItemSlot,{scope:n,id:d,focusable:i,active:s,children:E.jsx(wt.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:ke(e.onMouseDown,R=>{i?f.onItemFocus(d):R.preventDefault()}),onFocus:ke(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:ke(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){f.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const x=zQ(R,f.orientation,f.dir);if(x!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let D=m().filter(M=>M.focusable).map(M=>M.ref.current);if(x==="last")D.reverse();else if(x==="prev"||x==="next"){x==="prev"&&D.reverse();const M=D.indexOf(R.currentTarget);D=f.loop?jQ(D,M+1):D.slice(M+1)}setTimeout(()=>t_(D))}}),children:typeof r=="function"?r({isCurrentTabStop:g,hasTabStop:S!=null}):r})})});e_.displayName=JL;var BQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zQ(e,t,n){const i=GQ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return BQ[i]}function t_(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function jQ(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var n_=ZL,i_=e_;function UQ(e){const t=WQ(e),n=C.forwardRef((i,s)=>{const{children:o,...r}=i,l=C.Children.toArray(o),u=l.find(KQ);if(u){const d=u.props.children,f=l.map(g=>g===u?C.Children.count(d)>1?C.Children.only(null):C.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...r,ref:s,children:C.isValidElement(d)?C.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function WQ(e){const t=C.forwardRef((n,i)=>{const{children:s,...o}=n;if(C.isValidElement(s)){const r=YQ(s),l=qQ(o,s.props);return s.type!==C.Fragment&&(l.ref=i?ua(i,r):r),C.cloneElement(s,l)}return C.Children.count(s)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Q=Symbol("radix.slottable");function KQ(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Q}function qQ(e,t){const n={...t};for(const i in t){const s=e[i],o=t[i];/^on[A-Z]/.test(i)?s&&o?n[i]=(...l)=>{const u=o(...l);return s(...l),u}:s&&(n[i]=s):i==="style"?n[i]={...s,...o}:i==="className"&&(n[i]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function YQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var XQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Cc=new WeakMap,Bg=new WeakMap,Gg={},xy=0,s_=function(e){return e&&(e.host||s_(e.parentNode))},QQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=s_(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},ZQ=function(e,t,n,i){var s=QQ(t,Array.isArray(e)?e:[e]);Gg[n]||(Gg[n]=new WeakMap);var o=Gg[n],r=[],l=new Set,u=new Set(s),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};s.forEach(d);var f=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(m){if(l.has(m))f(m);else try{var v=m.getAttribute(i),y=v!==null&&v!=="false",S=(Cc.get(m)||0)+1,R=(o.get(m)||0)+1;Cc.set(m,S),o.set(m,R),r.push(m),S===1&&y&&Bg.set(m,!0),R===1&&m.setAttribute(n,"true"),y||m.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return f(t),l.clear(),xy++,function(){r.forEach(function(g){var m=Cc.get(g)-1,v=o.get(g)-1;Cc.set(g,m),o.set(g,v),m||(Bg.has(g)||g.removeAttribute(i),Bg.delete(g)),v||g.removeAttribute(n)}),xy--,xy||(Cc=new WeakMap,Cc=new WeakMap,Bg=new WeakMap,Gg={})}},JQ=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),s=XQ(e);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),ZQ(i,s,n,"aria-hidden")):function(){return null}},gp="right-scroll-bar-position",pp="width-before-scroll-bar",eZ="with-scroll-bars-hidden",tZ="--removed-body-scroll-bar-size";function Ey(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nZ(e,t){var n=C.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var s=n.value;s!==i&&(n.value=i,n.callback(i,s))}}}})[0];return n.callback=t,n.facade}var iZ=typeof window<"u"?C.useLayoutEffect:C.useEffect,DF=new WeakMap;function sZ(e,t){var n=nZ(null,function(i){return e.forEach(function(s){return Ey(s,i)})});return iZ(function(){var i=DF.get(n);if(i){var s=new Set(i),o=new Set(e),r=n.current;s.forEach(function(l){o.has(l)||Ey(l,null)}),o.forEach(function(l){s.has(l)||Ey(l,r)})}DF.set(n,e)},[e]),n}function oZ(e){return e}function rZ(e,t){t===void 0&&(t=oZ);var n=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var r=t(o,i);return n.push(r),function(){n=n.filter(function(l){return l!==r})}},assignSyncMedium:function(o){for(i=!0;n.length;){var r=n;n=[],r.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){i=!0;var r=[];if(n.length){var l=n;n=[],l.forEach(o),r=n}var u=function(){var f=r;r=[],f.forEach(o)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){r.push(f),d()},filter:function(f){return r=r.filter(f),n}}}};return s}function aZ(e){e===void 0&&(e={});var t=rZ(null);return t.options=co({async:!0,ssr:!1},e),t}var o_=function(e){var t=e.sideCar,n=Ru(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,co({},n))};o_.isSideCarExport=!0;function lZ(e,t){return e.useMedium(t),o_}var r_=aZ(),Ty=function(){},Jm=C.forwardRef(function(e,t){var n=C.useRef(null),i=C.useState({onScrollCapture:Ty,onWheelCapture:Ty,onTouchMoveCapture:Ty}),s=i[0],o=i[1],r=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,g=e.shards,m=e.sideCar,v=e.noRelative,y=e.noIsolation,S=e.inert,R=e.allowPinchZoom,x=e.as,T=x===void 0?"div":x,D=e.gapMode,M=Ru(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=m,I=sZ([n,t]),A=co(co({},M),s);return C.createElement(C.Fragment,null,f&&C.createElement(F,{sideCar:r_,removeScrollBar:d,shards:g,noRelative:v,noIsolation:y,inert:S,setCallbacks:o,allowPinchZoom:!!R,lockRef:n,gapMode:D}),r?C.cloneElement(C.Children.only(l),co(co({},A),{ref:I})):C.createElement(T,co({},A,{className:u,ref:I}),l))});Jm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jm.classNames={fullWidth:pp,zeroRight:gp};var cZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cZ();return t&&e.setAttribute("nonce",t),e}function dZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fZ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uZ())&&(dZ(t,n),hZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gZ=function(){var e=fZ();return function(t,n){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},a_=function(){var e=gZ(),t=function(n){var i=n.styles,s=n.dynamic;return e(i,s),null};return t},pZ={left:0,top:0,right:0,gap:0},Dy=function(e){return parseInt(e||"",10)||0},mZ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Dy(n),Dy(i),Dy(s)]},vZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pZ;var t=mZ(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},CZ=a_(),Kc="data-scroll-locked",wZ=function(e,t,n,i){var s=e.left,o=e.top,r=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(eZ,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Kc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gp,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(pp,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(gp," .").concat(gp,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(pp," .").concat(pp,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Kc,`] {
    `).concat(tZ,": ").concat(l,`px;
  }
`)},PF=function(){var e=parseInt(document.body.getAttribute(Kc)||"0",10);return isFinite(e)?e:0},yZ=function(){C.useEffect(function(){return document.body.setAttribute(Kc,(PF()+1).toString()),function(){var e=PF()-1;e<=0?document.body.removeAttribute(Kc):document.body.setAttribute(Kc,e.toString())}},[])},bZ=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,s=i===void 0?"margin":i;yZ();var o=C.useMemo(function(){return vZ(s)},[s]);return C.createElement(CZ,{styles:wZ(o,!t,s,n?"":"!important")})},aS=!1;if(typeof window<"u")try{var zg=Object.defineProperty({},"passive",{get:function(){return aS=!0,!0}});window.addEventListener("test",zg,zg),window.removeEventListener("test",zg,zg)}catch{aS=!1}var wc=aS?{passive:!1}:!1,SZ=function(e){return e.tagName==="TEXTAREA"},l_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!SZ(e)&&n[t]==="visible")},RZ=function(e){return l_(e,"overflowY")},xZ=function(e){return l_(e,"overflowX")},AF=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=c_(e,i);if(s){var o=u_(e,i),r=o[1],l=o[2];if(r>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},EZ=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},TZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},c_=function(e,t){return e==="v"?RZ(t):xZ(t)},u_=function(e,t){return e==="v"?EZ(t):TZ(t)},DZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},PZ=function(e,t,n,i,s){var o=DZ(e,window.getComputedStyle(t).direction),r=o*i,l=n.target,u=t.contains(l),d=!1,f=r>0,g=0,m=0;do{if(!l)break;var v=u_(e,l),y=v[0],S=v[1],R=v[2],x=S-R-o*y;(y||x)&&c_(e,l)&&(g+=x,m+=y);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(g)<1||!f&&Math.abs(m)<1)&&(d=!0),d},jg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FF=function(e){return[e.deltaX,e.deltaY]},MF=function(e){return e&&"current"in e?e.current:e},AZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MZ=0,yc=[];function kZ(e){var t=C.useRef([]),n=C.useRef([0,0]),i=C.useRef(),s=C.useState(MZ++)[0],o=C.useState(a_)[0],r=C.useRef(e);C.useEffect(function(){r.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var S=I8([e.lockRef.current],(e.shards||[]).map(MF),!0).filter(Boolean);return S.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(S,R){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!r.current.allowPinchZoom;var x=jg(S),T=n.current,D="deltaX"in S?S.deltaX:T[0]-x[0],M="deltaY"in S?S.deltaY:T[1]-x[1],F,I=S.target,A=Math.abs(D)>Math.abs(M)?"h":"v";if("touches"in S&&A==="h"&&I.type==="range")return!1;var O=window.getSelection(),_=O&&O.anchorNode,B=_?_===I||_.contains(I):!1;if(B)return!1;var z=AF(A,I);if(!z)return!0;if(z?F=A:(F=A==="v"?"h":"v",z=AF(A,I)),!z)return!1;if(!i.current&&"changedTouches"in S&&(D||M)&&(i.current=F),!F)return!0;var q=i.current||F;return PZ(q,R,S,q==="h"?D:M)},[]),u=C.useCallback(function(S){var R=S;if(!(!yc.length||yc[yc.length-1]!==o)){var x="deltaY"in R?FF(R):jg(R),T=t.current.filter(function(F){return F.name===R.type&&(F.target===R.target||R.target===F.shadowParent)&&AZ(F.delta,x)})[0];if(T&&T.should){R.cancelable&&R.preventDefault();return}if(!T){var D=(r.current.shards||[]).map(MF).filter(Boolean).filter(function(F){return F.contains(R.target)}),M=D.length>0?l(R,D[0]):!r.current.noIsolation;M&&R.cancelable&&R.preventDefault()}}},[]),d=C.useCallback(function(S,R,x,T){var D={name:S,delta:R,target:x,should:T,shadowParent:IZ(x)};t.current.push(D),setTimeout(function(){t.current=t.current.filter(function(M){return M!==D})},1)},[]),f=C.useCallback(function(S){n.current=jg(S),i.current=void 0},[]),g=C.useCallback(function(S){d(S.type,FF(S),S.target,l(S,e.lockRef.current))},[]),m=C.useCallback(function(S){d(S.type,jg(S),S.target,l(S,e.lockRef.current))},[]);C.useEffect(function(){return yc.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",u,wc),document.addEventListener("touchmove",u,wc),document.addEventListener("touchstart",f,wc),function(){yc=yc.filter(function(S){return S!==o}),document.removeEventListener("wheel",u,wc),document.removeEventListener("touchmove",u,wc),document.removeEventListener("touchstart",f,wc)}},[]);var v=e.removeScrollBar,y=e.inert;return C.createElement(C.Fragment,null,y?C.createElement(o,{styles:FZ(s)}):null,v?C.createElement(bZ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function IZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const OZ=lZ(r_,kZ);var d_=C.forwardRef(function(e,t){return C.createElement(Jm,co({},e,{ref:t,sideCar:OZ}))});d_.classNames=Jm.classNames;var lS=["Enter"," "],LZ=["ArrowDown","PageUp","Home"],h_=["ArrowUp","PageDown","End"],_Z=[...LZ,...h_],NZ={ltr:[...lS,"ArrowRight"],rtl:[...lS,"ArrowLeft"]},VZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jh="Menu",[Rh,HZ,BZ]=Xm(Jh),[Dl,f_]=dr(Jh,[BZ,Km,Zm]),ev=Km(),g_=Zm(),[GZ,Pl]=Dl(Jh),[zZ,ef]=Dl(Jh),p_=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:s,onOpenChange:o,modal:r=!0}=e,l=ev(t),[u,d]=C.useState(null),f=C.useRef(!1),g=tn(o),m=Qh(s);return C.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),E.jsx(eL,{...l,children:E.jsx(GZ,{scope:t,open:n,onOpenChange:g,content:u,onContentChange:d,children:E.jsx(zZ,{scope:t,onClose:C.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:f,dir:m,modal:r,children:i})})})};p_.displayName=Jh;var jZ="MenuAnchor",cR=C.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=ev(n);return E.jsx(tL,{...s,...i,ref:t})});cR.displayName=jZ;var uR="MenuPortal",[UZ,m_]=Dl(uR,{forceMount:void 0}),v_=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:s}=e,o=Pl(uR,t);return E.jsx(UZ,{scope:t,forceMount:n,children:E.jsx(wi,{present:n||o.open,children:E.jsx(J0,{asChild:!0,container:s,children:i})})})};v_.displayName=uR;var bs="MenuContent",[WZ,dR]=Dl(bs),C_=C.forwardRef((e,t)=>{const n=m_(bs,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Pl(bs,e.__scopeMenu),r=ef(bs,e.__scopeMenu);return E.jsx(Rh.Provider,{scope:e.__scopeMenu,children:E.jsx(wi,{present:i||o.open,children:E.jsx(Rh.Slot,{scope:e.__scopeMenu,children:r.modal?E.jsx($Z,{...s,ref:t}):E.jsx(KZ,{...s,ref:t})})})})}),$Z=C.forwardRef((e,t)=>{const n=Pl(bs,e.__scopeMenu),i=C.useRef(null),s=Kt(t,i);return C.useEffect(()=>{const o=i.current;if(o)return JQ(o)},[]),E.jsx(hR,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),KZ=C.forwardRef((e,t)=>{const n=Pl(bs,e.__scopeMenu);return E.jsx(hR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),qZ=UQ("MenuContent.ScrollLock"),hR=C.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:v,disableOutsideScroll:y,...S}=e,R=Pl(bs,n),x=ef(bs,n),T=ev(n),D=g_(n),M=HZ(n),[F,I]=C.useState(null),A=C.useRef(null),O=Kt(t,A,R.onContentChange),_=C.useRef(0),B=C.useRef(""),z=C.useRef(0),q=C.useRef(null),oe=C.useRef("right"),ce=C.useRef(0),Y=y?d_:C.Fragment,V=y?{as:qZ,allowPinchZoom:!0}:void 0,$=X=>{const ie=B.current+X,L=M().filter(pe=>!pe.disabled),j=document.activeElement,Q=L.find(pe=>pe.ref.current===j)?.textValue,re=L.map(pe=>pe.textValue),me=rJ(re,ie,Q),Ce=L.find(pe=>pe.textValue===me)?.ref.current;(function pe(Ue){B.current=Ue,window.clearTimeout(_.current),Ue!==""&&(_.current=window.setTimeout(()=>pe(""),1e3))})(ie),Ce&&setTimeout(()=>Ce.focus())};C.useEffect(()=>()=>window.clearTimeout(_.current),[]),TQ();const N=C.useCallback(X=>oe.current===q.current?.side&&lJ(X,q.current?.area),[]);return E.jsx(WZ,{scope:n,searchRef:B,onItemEnter:C.useCallback(X=>{N(X)&&X.preventDefault()},[N]),onItemLeave:C.useCallback(X=>{N(X)||(A.current?.focus(),I(null))},[N]),onTriggerLeave:C.useCallback(X=>{N(X)&&X.preventDefault()},[N]),pointerGraceTimerRef:z,onPointerGraceIntentChange:C.useCallback(X=>{q.current=X},[]),children:E.jsx(Y,{...V,children:E.jsx(YL,{asChild:!0,trapped:s,onMountAutoFocus:ke(o,X=>{X.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:r,children:E.jsx(zm,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:g,onInteractOutside:m,onDismiss:v,children:E.jsx(n_,{asChild:!0,...D,dir:x.dir,orientation:"vertical",loop:i,currentTabStopId:F,onCurrentTabStopIdChange:I,onEntryFocus:ke(u,X=>{x.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(nL,{role:"menu","aria-orientation":"vertical","data-state":O_(R.open),"data-radix-menu-content":"",dir:x.dir,...T,...S,ref:O,style:{outline:"none",...S.style},onKeyDown:ke(S.onKeyDown,X=>{const L=X.target.closest("[data-radix-menu-content]")===X.currentTarget,j=X.ctrlKey||X.altKey||X.metaKey,Q=X.key.length===1;L&&(X.key==="Tab"&&X.preventDefault(),!j&&Q&&$(X.key));const re=A.current;if(X.target!==re||!_Z.includes(X.key))return;X.preventDefault();const Ce=M().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);h_.includes(X.key)&&Ce.reverse(),sJ(Ce)}),onBlur:ke(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(_.current),B.current="")}),onPointerMove:ke(e.onPointerMove,xh(X=>{const ie=X.target,L=ce.current!==X.clientX;if(X.currentTarget.contains(ie)&&L){const j=X.clientX>ce.current?"right":"left";oe.current=j,ce.current=X.clientX}}))})})})})})})});C_.displayName=bs;var YZ="MenuGroup",fR=C.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return E.jsx(wt.div,{role:"group",...i,ref:t})});fR.displayName=YZ;var XZ="MenuLabel",w_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return E.jsx(wt.div,{...i,ref:t})});w_.displayName=XZ;var Qp="MenuItem",kF="menu.itemSelect",tv=C.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...s}=e,o=C.useRef(null),r=ef(Qp,e.__scopeMenu),l=dR(Qp,e.__scopeMenu),u=Kt(t,o),d=C.useRef(!1),f=()=>{const g=o.current;if(!n&&g){const m=new CustomEvent(kF,{bubbles:!0,cancelable:!0});g.addEventListener(kF,v=>i?.(v),{once:!0}),Wp(g,m),m.defaultPrevented?d.current=!1:r.onClose()}};return E.jsx(y_,{...s,ref:u,disabled:n,onClick:ke(e.onClick,f),onPointerDown:g=>{e.onPointerDown?.(g),d.current=!0},onPointerUp:ke(e.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:ke(e.onKeyDown,g=>{const m=l.searchRef.current!=="";n||m&&g.key===" "||lS.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});tv.displayName=Qp;var y_=C.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:s,...o}=e,r=dR(Qp,n),l=g_(n),u=C.useRef(null),d=Kt(t,u),[f,g]=C.useState(!1),[m,v]=C.useState("");return C.useEffect(()=>{const y=u.current;y&&v((y.textContent??"").trim())},[o.children]),E.jsx(Rh.ItemSlot,{scope:n,disabled:i,textValue:s??m,children:E.jsx(i_,{asChild:!0,...l,focusable:!i,children:E.jsx(wt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...o,ref:d,onPointerMove:ke(e.onPointerMove,xh(y=>{i?r.onItemLeave(y):(r.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,xh(y=>r.onItemLeave(y))),onFocus:ke(e.onFocus,()=>g(!0)),onBlur:ke(e.onBlur,()=>g(!1))})})})}),QZ="MenuCheckboxItem",b_=C.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...s}=e;return E.jsx(T_,{scope:e.__scopeMenu,checked:n,children:E.jsx(tv,{role:"menuitemcheckbox","aria-checked":Zp(n)?"mixed":n,...s,ref:t,"data-state":pR(n),onSelect:ke(s.onSelect,()=>i?.(Zp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});b_.displayName=QZ;var S_="MenuRadioGroup",[ZZ,JZ]=Dl(S_,{value:void 0,onValueChange:()=>{}}),R_=C.forwardRef((e,t)=>{const{value:n,onValueChange:i,...s}=e,o=tn(i);return E.jsx(ZZ,{scope:e.__scopeMenu,value:n,onValueChange:o,children:E.jsx(fR,{...s,ref:t})})});R_.displayName=S_;var x_="MenuRadioItem",E_=C.forwardRef((e,t)=>{const{value:n,...i}=e,s=JZ(x_,e.__scopeMenu),o=n===s.value;return E.jsx(T_,{scope:e.__scopeMenu,checked:o,children:E.jsx(tv,{role:"menuitemradio","aria-checked":o,...i,ref:t,"data-state":pR(o),onSelect:ke(i.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});E_.displayName=x_;var gR="MenuItemIndicator",[T_,eJ]=Dl(gR,{checked:!1}),D_=C.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...s}=e,o=eJ(gR,n);return E.jsx(wi,{present:i||Zp(o.checked)||o.checked===!0,children:E.jsx(wt.span,{...s,ref:t,"data-state":pR(o.checked)})})});D_.displayName=gR;var tJ="MenuSeparator",P_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return E.jsx(wt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});P_.displayName=tJ;var nJ="MenuArrow",A_=C.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,s=ev(n);return E.jsx(iL,{...s,...i,ref:t})});A_.displayName=nJ;var iJ="MenuSub",[Kbe,F_]=Dl(iJ),Bd="MenuSubTrigger",M_=C.forwardRef((e,t)=>{const n=Pl(Bd,e.__scopeMenu),i=ef(Bd,e.__scopeMenu),s=F_(Bd,e.__scopeMenu),o=dR(Bd,e.__scopeMenu),r=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=o,d={__scopeMenu:e.__scopeMenu},f=C.useCallback(()=>{r.current&&window.clearTimeout(r.current),r.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),E.jsx(cR,{asChild:!0,...d,children:E.jsx(y_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":O_(n.open),...e,ref:ua(t,s.onTriggerChange),onClick:g=>{e.onClick?.(g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,xh(g=>{o.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!r.current&&(o.onPointerGraceIntentChange(null),r.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ke(e.onPointerLeave,xh(g=>{f();const m=n.content?.getBoundingClientRect();if(m){const v=n.content?.dataset.side,y=v==="right",S=y?-5:5,R=m[y?"left":"right"],x=m[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:R,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:R,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,g=>{const m=o.searchRef.current!=="";e.disabled||m&&g.key===" "||NZ[i.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});M_.displayName=Bd;var k_="MenuSubContent",I_=C.forwardRef((e,t)=>{const n=m_(bs,e.__scopeMenu),{forceMount:i=n.forceMount,...s}=e,o=Pl(bs,e.__scopeMenu),r=ef(bs,e.__scopeMenu),l=F_(k_,e.__scopeMenu),u=C.useRef(null),d=Kt(t,u);return E.jsx(Rh.Provider,{scope:e.__scopeMenu,children:E.jsx(wi,{present:i||o.open,children:E.jsx(Rh.Slot,{scope:e.__scopeMenu,children:E.jsx(hR,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:r.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{r.isUsingKeyboardRef.current&&u.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ke(e.onFocusOutside,f=>{f.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,f=>{r.onClose(),f.preventDefault()}),onKeyDown:ke(e.onKeyDown,f=>{const g=f.currentTarget.contains(f.target),m=VZ[r.dir].includes(f.key);g&&m&&(o.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});I_.displayName=k_;function O_(e){return e?"open":"closed"}function Zp(e){return e==="indeterminate"}function pR(e){return Zp(e)?"indeterminate":e?"checked":"unchecked"}function sJ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function oJ(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function rJ(e,t,n){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let r=oJ(e,Math.max(o,0));s.length===1&&(r=r.filter(d=>d!==n));const u=r.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function aJ(e,t){const{x:n,y:i}=e;let s=!1;for(let o=0,r=t.length-1;o<t.length;r=o++){const l=t[o],u=t[r],d=l.x,f=l.y,g=u.x,m=u.y;f>i!=m>i&&n<(g-d)*(i-f)/(m-f)+d&&(s=!s)}return s}function lJ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return aJ(n,t)}function xh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cJ=p_,uJ=cR,dJ=v_,hJ=C_,fJ=fR,gJ=w_,pJ=tv,mJ=b_,vJ=R_,CJ=E_,wJ=D_,yJ=P_,bJ=A_,SJ=M_,RJ=I_,nv="DropdownMenu",[xJ]=dr(nv,[f_]),yi=f_(),[EJ,L_]=xJ(nv),__=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:s,defaultOpen:o,onOpenChange:r,modal:l=!0}=e,u=yi(t),d=C.useRef(null),[f,g]=ha({prop:s,defaultProp:o??!1,onChange:r,caller:nv});return E.jsx(EJ,{scope:t,triggerId:au(),triggerRef:d,contentId:au(),open:f,onOpenChange:g,onOpenToggle:C.useCallback(()=>g(m=>!m),[g]),modal:l,children:E.jsx(cJ,{...u,open:f,onOpenChange:g,dir:i,modal:l,children:n})})};__.displayName=nv;var N_="DropdownMenuTrigger",V_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...s}=e,o=L_(N_,n),r=yi(n);return E.jsx(uJ,{asChild:!0,...r,children:E.jsx(wt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:ua(t,o.triggerRef),onPointerDown:ke(e.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ke(e.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});V_.displayName=N_;var TJ="DropdownMenuPortal",H_=e=>{const{__scopeDropdownMenu:t,...n}=e,i=yi(t);return E.jsx(dJ,{...i,...n})};H_.displayName=TJ;var B_="DropdownMenuContent",G_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=L_(B_,n),o=yi(n),r=C.useRef(!1);return E.jsx(hJ,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...i,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{r.current||s.triggerRef.current?.focus(),r.current=!1,l.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!s.modal||f)&&(r.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G_.displayName=B_;var DJ="DropdownMenuGroup",z_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(fJ,{...s,...i,ref:t})});z_.displayName=DJ;var PJ="DropdownMenuLabel",j_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(gJ,{...s,...i,ref:t})});j_.displayName=PJ;var AJ="DropdownMenuItem",U_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(pJ,{...s,...i,ref:t})});U_.displayName=AJ;var FJ="DropdownMenuCheckboxItem",W_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(mJ,{...s,...i,ref:t})});W_.displayName=FJ;var MJ="DropdownMenuRadioGroup",kJ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(vJ,{...s,...i,ref:t})});kJ.displayName=MJ;var IJ="DropdownMenuRadioItem",$_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(CJ,{...s,...i,ref:t})});$_.displayName=IJ;var OJ="DropdownMenuItemIndicator",K_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(wJ,{...s,...i,ref:t})});K_.displayName=OJ;var LJ="DropdownMenuSeparator",q_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(yJ,{...s,...i,ref:t})});q_.displayName=LJ;var _J="DropdownMenuArrow",NJ=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(bJ,{...s,...i,ref:t})});NJ.displayName=_J;var VJ="DropdownMenuSubTrigger",Y_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(SJ,{...s,...i,ref:t})});Y_.displayName=VJ;var HJ="DropdownMenuSubContent",X_=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,s=yi(n);return E.jsx(RJ,{...s,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});X_.displayName=HJ;var BJ=__,GJ=V_,zJ=H_,Q_=G_,jJ=z_,Z_=j_,J_=U_,eN=W_,tN=$_,nN=K_,iN=q_,sN=Y_,oN=X_;const rN=BJ,aN=GJ,IF=jJ,UJ=C.forwardRef((e,t)=>{const n=Re.c(14);let i,s,o,r;n[0]!==e?({className:s,inset:o,children:i,...r}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r):(i=n[1],s=n[2],o=n[3],r=n[4]);const l=o&&"pl-8";let u;n[5]!==s||n[6]!==l?(u=ut("focus:bg-accent data-[state=open]:bg-accent flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none select-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l,s),n[5]=s,n[6]=l,n[7]=u):u=n[7];let d;n[8]===Symbol.for("react.memo_cache_sentinel")?(d=E.jsx(rz,{className:"ml-auto"}),n[8]=d):d=n[8];let f;return n[9]!==i||n[10]!==r||n[11]!==t||n[12]!==u?(f=E.jsxs(sN,{ref:t,className:u,...r,children:[i,d]}),n[9]=i,n[10]=r,n[11]=t,n[12]=u,n[13]=f):f=n[13],f});UJ.displayName=sN.displayName;const WJ=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-[--radix-dropdown-menu-content-transform-origin] overflow-hidden rounded-md border p-1 shadow-lg",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(oN,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});WJ.displayName=oN.displayName;const mR=C.forwardRef((e,t)=>{const n=Re.c(11);let i,s,o;n[0]!==e?({className:i,sideOffset:o,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);const r=o===void 0?4:o;let l;n[4]!==i?(l=ut("bg-popover text-popover-foreground z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",i),n[4]=i,n[5]=l):l=n[5];let u;return n[6]!==s||n[7]!==t||n[8]!==r||n[9]!==l?(u=E.jsx(zJ,{children:E.jsx(Q_,{ref:t,sideOffset:r,className:l,...s})}),n[6]=s,n[7]=t,n[8]=r,n[9]=l,n[10]=u):u=n[10],u});mR.displayName=Q_.displayName;const cS=C.forwardRef((e,t)=>{const n=Re.c(11);let i,s,o;n[0]!==e?({className:i,inset:s,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);const r=s&&"pl-8";let l;n[4]!==i||n[5]!==r?(l=ut("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm transition-colors outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r,i),n[4]=i,n[5]=r,n[6]=l):l=n[6];let u;return n[7]!==o||n[8]!==t||n[9]!==l?(u=E.jsx(J_,{ref:t,className:l,...o}),n[7]=o,n[8]=t,n[9]=l,n[10]=u):u=n[10],u});cS.displayName=J_.displayName;const lN=C.forwardRef((e,t)=>{const n=Re.c(14);let i,s,o,r;n[0]!==e?({className:o,children:s,checked:i,...r}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r):(i=n[1],s=n[2],o=n[3],r=n[4]);let l;n[5]!==o?(l=ut("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm transition-colors outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),n[5]=o,n[6]=l):l=n[6];let u;n[7]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(nN,{children:E.jsx(iz,{className:"h-4 w-4"})})}),n[7]=u):u=n[7];let d;return n[8]!==i||n[9]!==s||n[10]!==r||n[11]!==t||n[12]!==l?(d=E.jsxs(eN,{ref:t,className:l,checked:i,...r,children:[u,s]}),n[8]=i,n[9]=s,n[10]=r,n[11]=t,n[12]=l,n[13]=d):d=n[13],d});lN.displayName=eN.displayName;const $J=C.forwardRef((e,t)=>{const n=Re.c(12);let i,s,o;n[0]!==e?({className:s,children:i,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);let r;n[4]!==s?(r=ut("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm transition-colors outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),n[4]=s,n[5]=r):r=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(nN,{children:E.jsx(cz,{className:"h-2 w-2 fill-current"})})}),n[6]=l):l=n[6];let u;return n[7]!==i||n[8]!==o||n[9]!==t||n[10]!==r?(u=E.jsxs(tN,{ref:t,className:r,...o,children:[l,i]}),n[7]=i,n[8]=o,n[9]=t,n[10]=r,n[11]=u):u=n[11],u});$J.displayName=tN.displayName;const cN=C.forwardRef((e,t)=>{const n=Re.c(11);let i,s,o;n[0]!==e?({className:i,inset:s,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);const r=s&&"pl-8";let l;n[4]!==i||n[5]!==r?(l=ut("px-2 py-1.5 text-sm font-semibold",r,i),n[4]=i,n[5]=r,n[6]=l):l=n[6];let u;return n[7]!==o||n[8]!==t||n[9]!==l?(u=E.jsx(Z_,{ref:t,className:l,...o}),n[7]=o,n[8]=t,n[9]=l,n[10]=u):u=n[10],u});cN.displayName=Z_.displayName;const Jp=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("bg-muted -mx-1 my-1 h-px",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(iN,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});Jp.displayName=iN.displayName;function KJ(e,t=[]){let n=[];function i(o,r){const l=C.createContext(r);l.displayName=o+"Context";const u=n.length;n=[...n,r];const d=g=>{const{scope:m,children:v,...y}=g,S=m?.[e]?.[u]||l,R=C.useMemo(()=>y,Object.values(y));return E.jsx(S.Provider,{value:R,children:v})};d.displayName=o+"Provider";function f(g,m){const v=m?.[e]?.[u]||l,y=C.useContext(v);if(y)return y;if(r!==void 0)return r;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[d,f]}const s=()=>{const o=n.map(r=>C.createContext(r));return function(l){const u=l?.[e]||o;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return s.scopeName=e,[i,qJ(s,...t)]}function qJ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const r=i.reduce((l,{useScope:u,scopeName:d})=>{const g=u(o)[`__scope${d}`];return{...l,...g}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var YJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vR=YJ.reduce((e,t)=>{const n=Lm(`Primitive.${t}`),i=C.forwardRef((s,o)=>{const{asChild:r,...l}=s,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:o})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Py={exports:{}},Ay={};var OF;function XJ(){if(OF)return Ay;OF=1;var e=Nh();function t(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,s=e.useEffect,o=e.useLayoutEffect,r=e.useDebugValue;function l(g,m){var v=m(),y=i({inst:{value:v,getSnapshot:m}}),S=y[0].inst,R=y[1];return o(function(){S.value=v,S.getSnapshot=m,u(S)&&R({inst:S})},[g,v,m]),s(function(){return u(S)&&R({inst:S}),g(function(){u(S)&&R({inst:S})})},[g]),r(v),v}function u(g){var m=g.getSnapshot;g=g.value;try{var v=m();return!n(g,v)}catch{return!0}}function d(g,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ay.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ay}var LF;function QJ(){return LF||(LF=1,Py.exports=XJ()),Py.exports}var ZJ=QJ();function JJ(){return ZJ.useSyncExternalStore(eee,()=>!0,()=>!1)}function eee(){return()=>{}}var CR="Avatar",[tee]=KJ(CR),[nee,uN]=tee(CR),dN=C.forwardRef((e,t)=>{const{__scopeAvatar:n,...i}=e,[s,o]=C.useState("idle");return E.jsx(nee,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:E.jsx(vR.span,{...i,ref:t})})});dN.displayName=CR;var hN="AvatarImage",fN=C.forwardRef((e,t)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:s=()=>{},...o}=e,r=uN(hN,n),l=iee(i,o),u=tn(d=>{s(d),r.onImageLoadingStatusChange(d)});return vi(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?E.jsx(vR.img,{...o,ref:t,src:i}):null});fN.displayName=hN;var gN="AvatarFallback",pN=C.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:i,...s}=e,o=uN(gN,n),[r,l]=C.useState(i===void 0);return C.useEffect(()=>{if(i!==void 0){const u=window.setTimeout(()=>l(!0),i);return()=>window.clearTimeout(u)}},[i]),r&&o.imageLoadingStatus!=="loaded"?E.jsx(vR.span,{...s,ref:t}):null});pN.displayName=gN;function _F(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iee(e,{referrerPolicy:t,crossOrigin:n}){const i=JJ(),s=C.useRef(null),o=i?(s.current||(s.current=new window.Image),s.current):null,[r,l]=C.useState(()=>_F(o,e));return vi(()=>{l(_F(o,e))},[o,e]),vi(()=>{const u=g=>()=>{l(g)};if(!o)return;const d=u("loaded"),f=u("error");return o.addEventListener("load",d),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",d),o.removeEventListener("error",f)}},[o,n,t]),r}var mN=dN,vN=fN,CN=pN;const wN=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(mN,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});wN.displayName=mN.displayName;const yN=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("aspect-square h-full w-full",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(vN,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});yN.displayName=vN.displayName;const bN=C.forwardRef((e,t)=>{const n=Re.c(9);let i,s;n[0]!==e?({className:i,...s}=e,n[0]=e,n[1]=i,n[2]=s):(i=n[1],s=n[2]);let o;n[3]!==i?(o=ut("flex h-full w-full items-center justify-center rounded-full bg-muted",i),n[3]=i,n[4]=o):o=n[4];let r;return n[5]!==s||n[6]!==t||n[7]!==o?(r=E.jsx(CN,{ref:t,className:o,...s}),n[5]=s,n[6]=t,n[7]=o,n[8]=r):r=n[8],r});bN.displayName=CN.displayName;function see(){const e=Re.c(3);let t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=E.jsx("div",{className:"hidden h-full items-center justify-between md:flex",children:E.jsx(HL,{children:E.jsxs(BL,{children:[E.jsx(NF,{title:"",icon:E.jsx(h2,{size:20}),path:"/"}),E.jsx(NF,{title:"All Problems",path:"/all-problems"})]})})}),n=E.jsx(oee,{}),e[0]=t,e[1]=n):(t=e[0],n=e[1]);let i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=E.jsx("div",{className:"bg-background font-geist sticky top-0 z-50 flex h-(--header-height) w-full",children:E.jsxs("div",{className:"flex w-full items-center justify-between px-2 sm:px-6",children:[t,n,E.jsxs("div",{className:"flex h-full items-center justify-between gap-4",children:[E.jsx(mo,{to:"https://github.com/hitarth-gg/visor-leetcode",target:"_blank",className:"hidden sm:flex",children:E.jsx(vs,{variant:"ghost",size:"icon",className:"h-8 cursor-pointer",children:E.jsx(EQ,{})})}),E.jsx(lee,{}),E.jsx(RQ,{}),E.jsx(aee,{})]})]})}),e[2]=i):i=e[2],i}function oee(){const e=Re.c(15),[t,n]=C.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{n(ree)},e[0]=i):i=e[0];let s;e[1]!==t?(s=E.jsx("div",{className:"mr-2 flex md:hidden",children:E.jsx(vs,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 [&>svg]:size-5",onClick:i,children:t?E.jsx(Iz,{}):E.jsx(xz,{})})}),e[1]=t,e[2]=s):s=e[2];const o=!t,r=t?"opacity-100":"pointer-events-none opacity-0";let l;e[3]!==r?(l=ut("bg-background/80 fixed inset-x-0 bottom-0 z-40 backdrop-blur-sm","transition-[opacity,transform] duration-200 ease-out",r),e[3]=r,e[4]=l):l=e[4];let u,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(u={top:"var(--header-height)"},d=()=>{n(!1),document.body.style.overflow=""},e[5]=u,e[6]=d):(u=e[5],d=e[6]);let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=E.jsxs(mo,{to:"/",className:"hover:bg-accent flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium",onClick:()=>{n(!1),document.body.style.overflow=""},children:[E.jsx(h2,{size:18}),"Home"]}),e[7]=f):f=e[7];let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=E.jsxs("nav",{className:"flex flex-col gap-2 p-4",children:[f,E.jsx(mo,{to:"/all-problems",className:"hover:bg-accent flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium",onClick:()=>{n(!1),document.body.style.overflow=""},children:"All Problems"})]}),e[8]=g):g=e[8];let m;e[9]!==o||e[10]!==l?(m=E.jsx("div",{"aria-hidden":o,className:l,style:u,onClick:d,children:g}),e[9]=o,e[10]=l,e[11]=m):m=e[11];let v;return e[12]!==s||e[13]!==m?(v=E.jsxs(E.Fragment,{children:[s,m]}),e[12]=s,e[13]=m,e[14]=v):v=e[14],v}function ree(e){const t=!e;return document.body.style.overflow=t?"hidden":"",t}function aee(){const e=Im(),[t,n]=C.useState(null),[i,s]=C.useState(!1),[o,r]=C.useState(null);console.log(o),C.useEffect(()=>{kt.auth.getSession().then(({data:d})=>{n(d.session),r(d.session?.user?.user_metadata?.avatar_url??null)});const{data:{subscription:u}}=kt.auth.onAuthStateChange((d,f)=>{n(f),r(f?.user?.user_metadata?.avatar_url??null)});return()=>u.unsubscribe()},[]);async function l(){await kt.auth.signOut(),e("/sign-in")}return t?E.jsxs(cQ,{children:[E.jsx(uQ,{asChild:!0,children:i?E.jsx(h0,{}):o?E.jsxs(rN,{children:[E.jsx(aN,{asChild:!0,children:E.jsx(vs,{variant:"ghost",size:"icon",className:"rounded-full",children:E.jsxs(wN,{className:"h-8 w-8",children:[E.jsx(yN,{src:o,alt:""}),E.jsx(bN,{children:"CN"})]})})}),E.jsxs(mR,{className:"w-32",children:[E.jsx(IF,{children:E.jsx(cS,{onClick:()=>{e("/profile")},children:"Profile"})}),E.jsx(Jp,{}),E.jsx(IF,{children:E.jsx(cS,{className:"text-destructive focus:text-destructive",onClick:async()=>{s(!0);try{await l()}finally{s(!1)}},disabled:i,children:"Log out"})})]})]}):E.jsx(Sz,{})}),E.jsx(UL,{children:E.jsx("p",{children:"Sign out"})})]}):E.jsx(mo,{to:"/sign-in",children:E.jsxs(vs,{variant:"default",className:"h-8 cursor-pointer px-3",children:[E.jsx(f2,{}),E.jsx("p",{children:"Sign In"})]})})}function NF(e){const t=Re.c(8),{title:n,path:i,icon:s}=e;let o;t[0]!==n?(o=ut(GL(),"h-8 gap-1.5 px-2.5 text-sm",!n&&"p-2"),t[0]=n,t[1]=o):o=t[1];const r=n||s;let l;t[2]!==i||t[3]!==r?(l=E.jsx(mo,{className:"",to:i,children:r}),t[2]=i,t[3]=r,t[4]=l):l=t[4];let u;return t[5]!==o||t[6]!==l?(u=E.jsx(sQ,{className:"",children:E.jsx(aQ,{asChild:!0,className:o,children:l})}),t[5]=o,t[6]=l,t[7]=u):u=t[7],u}function lee(){const e=Re.c(8),{setTheme:t,theme:n}=Qm();let i;e[0]!==t||e[1]!==n?(i=()=>{t(n==="light"?"dark":"light")},e[0]=t,e[1]=n,e[2]=i):i=e[2];let s;e[3]!==n?(s=n==="light"?E.jsx(Pz,{}):E.jsx(Tz,{}),e[3]=n,e[4]=s):s=e[4];let o;return e[5]!==i||e[6]!==s?(o=E.jsx(vs,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer p-0",onClick:i,children:s}),e[5]=i,e[6]=s,e[7]=o):o=e[7],o}function VF(e){const t=Re.c(5),{children:n}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=E.jsx(see,{}),t[0]=i):i=t[0];let s;t[1]!==n?(s=n??E.jsx(d6,{}),t[1]=n,t[2]=s):s=t[2];let o;return t[3]!==s?(o=E.jsx("div",{children:E.jsxs(aL,{children:[i,E.jsx("main",{className:"",children:s})]})}),t[3]=s,t[4]=o):o=t[4],o}function cee(){const e=Re.c(9),[,t]=C.useState(null),[n]=C.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=async function(){t(null);const{error:m}=await kt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/visor-leetcode/auth/callback`}});m&&t(m.message)},e[0]=i):i=e[0];const s=i;let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsxs("div",{className:"flex w-full flex-col items-start justify-start",children:[E.jsx("div",{className:"text-primary text-3xl",children:"Welcome"}),E.jsx("div",{className:"text-muted-foreground text-sm",children:"Sign in or create an account to store your progress."})]}),e[1]=o):o=e[1];let r,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=E.jsx("img",{src:"https://img.icons8.com/?size=192&id=V5cGWnc9R4xj&format=png",className:"h-5 w-5",alt:"Google"}),l=E.jsx("span",{children:"Continue with Google"}),e[2]=r,e[3]=l):(r=e[2],l=e[3]);let u;e[4]!==n?(u=E.jsx("div",{className:"mt-6 flex w-full flex-col items-start gap-4",children:E.jsxs(vs,{variant:"outline",size:"lg",className:"bg-muted/40 text-md flex w-full cursor-pointer items-center justify-center gap-4 shadow-none",onClick:s,disabled:n,children:[r,l]})}),e[4]=n,e[5]=u):u=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=E.jsx("div",{className:"text-muted-foreground mt-2 w-full text-center text-xs",children:"No email based sign in yet, because the DB runs on Supabase Free tier with email based verification limits."}),e[6]=d):d=e[6];let f;return e[7]!==u?(f=E.jsx("div",{className:"bg-background text-primary font-geist flex min-h-full w-full flex-col items-center gap-4",children:E.jsxs("div",{className:"flex w-96 flex-col items-center gap-2 px-6 py-16",children:[o,u,d]})}),e[7]=u,e[8]=f):f=e[8],f}function uee(){const e=Re.c(4),t=Im();let n,i;e[0]!==t?(n=()=>{(async function(){const{data:l,error:u}=await kt.auth.getSession();if(u){t(`/sign-in?error=${encodeURIComponent(u.message)}`);return}if(!l.session){t("/sign-in");return}t("/")})()},i=[t],e[0]=t,e[1]=n,e[2]=i):(n=e[1],i=e[2]),C.useEffect(n,i);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=E.jsxs("div",{className:"bg-background font-geist flex min-h-full w-full flex-col items-center justify-center gap-3",children:[E.jsx("div",{className:"border-primary h-6 w-6 animate-spin rounded-full border-2 border-t-transparent"}),E.jsx("p",{className:"text-muted-foreground text-sm",children:"Signing you in"})]}),e[3]=s):s=e[3],s}function Wt(e){if(e?.length)return e[e.length-1]}function fa(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s]&&!n?.(e[s],t[s]))return!1;return!0}function kd(e,t){if(e){for(const n of e)if(t(n))return!0}}function xo(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function dee(e,t){let n=0,i=0;for(;n<e.length;n++)t.includes(e[n])||(e[i]=e[n],i++);for(;i<e.length;)e.pop()}function HF(e,t,n){for(let i=0;i<t.length;i++)xo(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var er=e=>e==null||e===""?null:e;function be(e){return e!=null&&e!==""}function an(e){return!be(e)}var uS=e=>e!=null&&typeof e.toString=="function"?e.toString():null,Eh=(e,t)=>{const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i},hee=(e,t,n=!1)=>e==null?t==null?0:-1:t==null?1:(typeof e=="object"&&e.toNumber&&(e=e.toNumber()),typeof t=="object"&&t.toNumber&&(t=t.toNumber()),!n||typeof e!="string"?e>t?1:e<t?-1:0:e.localeCompare(t)),fl=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let s=i.get(e);return!s&&n&&(s=new Set,i.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const{frameworkOverrides:i}=this,s=l=>{const u=i?()=>i.wrapIncoming(l):l;t?this.dispatchAsync(u):u()},o=this.getListeners(n,t,!1);if((o?.size??0)>0){const l=new Set(o);for(const u of l)o?.has(u)&&s(()=>u(e))}const r=this.getGlobalListeners(t);if(r.size>0){const l=new Set(r);for(const u of l)s(()=>u(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)},n=this.frameworkOverrides;n?n.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}},fee=/[&<>"']/g,gee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Fu(e){return e?.toString().toString()??null}function Qd(e){return Fu(e)?.replace(fee,t=>gee[t])??null}function BF(e){return typeof e=="string"&&e.startsWith("=")&&e.length>1}function pee(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}function ao(e){return e.eRootDiv.getRootNode()}function nn(e){return ao(e).activeElement}function Bn(e){const{gos:t,eRootDiv:n}=e;let i=null;const s=t.get("getDocument");return s&&be(s)?i=s():n&&(i=n.ownerDocument),i&&be(i)?i:document}function wR(e){const t=nn(e);return t===null||t===Bn(e).body}function yR(e){return Bn(e).defaultView||window}function bR(e){let t=null,n=null;try{t=Bn(e).fullscreenElement}catch{}finally{t||(t=ao(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function mee(e){return bR(e)?.clientWidth??(window.innerWidth||-1)}function vee(e){return bR(e)?.clientHeight??(window.innerHeight||-1)}function Qs(e,t,n){n==null||typeof n=="string"&&n==""?SN(e,t):Zs(e,t,n)}function Zs(e,t,n){e.setAttribute(RN(t),n.toString())}function SN(e,t){e.removeAttribute(RN(t))}function RN(e){return`aria-${e}`}function gl(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Cee(e){const t=e?.direction;return t==="asc"?"ascending":t==="desc"?"descending":t==="mixed"?"other":"none"}function wee(e){return e.getAttribute("aria-label")}function du(e,t){Qs(e,"label",t)}function Th(e,t){Qs(e,"labelledby",t)}function xN(e,t){Qs(e,"live",t)}function yee(e,t){Qs(e,"atomic",t)}function bee(e,t){Qs(e,"relevant",t)}function SR(e,t){Qs(e,"invalid",t)}function See(e,t){Qs(e,"disabled",t)}function EN(e,t){Qs(e,"hidden",t)}function dS(e,t){Zs(e,"expanded",t)}function Ree(e,t){Zs(e,"setsize",t)}function xee(e,t){Zs(e,"posinset",t)}function Eee(e,t){Zs(e,"rowcount",t)}function TN(e,t){Zs(e,"rowindex",t)}function Tee(e,t){Zs(e,"rowspan",t)}function Dee(e,t){Zs(e,"colcount",t)}function DN(e,t){Zs(e,"colindex",t)}function Pee(e,t){Zs(e,"colspan",t)}function Aee(e,t){Zs(e,"sort",t)}function Fee(e){SN(e,"sort")}function PN(e,t){Qs(e,"selected",t)}function Mee(e,t){Qs(e,"controls",t)}function kee(e,t){Mee(e,t.id),Th(t,e.id)}function GF(e,t){Qs(e,"owns",t)}function iv(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Iee="[tabindex], input, select, button, textarea, [href]",AN="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Zd(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(AN)?!1:qs(e)}function Ut(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||EN(e,!t)}function Oee(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||EN(e,!t)}function Dh(e,t){const n="disabled",i=t?o=>o.setAttribute(n,""):o=>o.removeAttribute(n);i(e);const s=e.querySelectorAll("input")??[];for(const o of s)i(o)}function sl(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function Al(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:s,borderBottomWidth:o,borderLeftWidth:r,paddingTop:l,paddingRight:u,paddingBottom:d,paddingLeft:f,marginTop:g,marginRight:m,marginBottom:v,marginLeft:y,boxSizing:S}=window.getComputedStyle(e),R=Number.parseFloat;return{height:R(t||"0"),width:R(n||"0"),borderTopWidth:R(i||"0"),borderRightWidth:R(s||"0"),borderBottomWidth:R(o||"0"),borderLeftWidth:R(r||"0"),paddingTop:R(l||"0"),paddingRight:R(u||"0"),paddingBottom:R(d||"0"),paddingLeft:R(f||"0"),marginTop:R(g||"0"),marginRight:R(m||"0"),marginBottom:R(v||"0"),marginLeft:R(y||"0"),boxSizing:S}}function RR(e){const t=Al(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function Ph(e){const t=Al(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function FN(e){const{height:t,marginBottom:n,marginTop:i}=Al(e);return Math.floor(t+n+i)}function em(e){const{width:t,marginLeft:n,marginRight:i}=Al(e);return Math.floor(t+n+i)}function MN(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:s,borderBottomWidth:o}=Al(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(s||0),bottom:t.bottom+(o||0)}}function tm(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function nm(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Li(e){for(;e?.firstChild;)e.firstChild.remove()}function sa(e){e?.parentNode&&e.remove()}function xR(e){return!!e.offsetParent}function qs(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!xR(e)||window.getComputedStyle(e).visibility!=="visible")}function ER(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Ah(e){return()=>{const t=e();return t?kN(t)||Lee(t):!0}}function kN(e){return e.clientWidth<e.scrollWidth}function Lee(e){return e.clientHeight<e.scrollHeight}function im(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):wo(e,t)}function wo(e,t){t=TR(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Jd(e,t){t=TR(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function TR(e){return typeof e=="number"?`${e}px`:e}function DR(e){return e instanceof Node||e instanceof HTMLElement}function ki(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function _ee(e,t){if(!t.isContentEditable)return;const n=yR(e).getSelection();if(!n)return;const i=Bn(e).createRange();i.selectNodeContents(t),i.collapse(!1),n.removeAllRanges(),n.addRange(i)}function hr(e,t,n){const s=yR(e).ResizeObserver,o=s?new s(n):null;return o?.observe(t),()=>o?.disconnect()}function fr(e,t){const n=yR(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var IN="data-ref",Fy;function zF(){return Fy??(Fy=document.createTextNode(" ")),Fy.cloneNode()}function pl(e){const{attrs:t,children:n,cls:i,ref:s,role:o,tag:r}=e,l=document.createElement(r);if(i&&(l.className=i),s&&l.setAttribute(IN,s),o&&l.setAttribute("role",o),t)for(const u of Object.keys(t))l.setAttribute(u,t[u]);if(n)if(typeof n=="string")l.textContent=n;else{let u=!0;for(const d of n)d&&(typeof d=="string"?(l.appendChild(document.createTextNode(d)),u=!1):typeof d=="function"?l.appendChild(d()):(u&&(l.appendChild(zF()),u=!1),l.append(pl(d)),l.appendChild(zF())))}return l}var Nee=["touchstart","touchend","touchmove","touchcancel","scroll"],Vee=["wheel"],My={},sm=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof My[n]=="boolean")return My[n];const i=document.createElement(e[n]||"div");return n="on"+n,My[n]=n in i}})();function Hee(e,t){return!t||!e?!1:Gee(t).indexOf(e)>=0}function Bee(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function Gee(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():Bee(t)}function zee(e,t,n){const i=jee(t);let s;i!=null&&(s={passive:i}),e.addEventListener(t,n,s)}var jee=e=>{const t=Nee.includes(e),n=Vee.includes(e);if(t)return!0;if(n)return!1};function ON(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(i,s)<=n}var qc=(e,t)=>{const n=e.identifier;for(let i=0,s=t.length;i<s;++i){const o=t[i];if(o.identifier===n)return o}return null};function Fh(e,t){return e.gos.isElementInThisInstance(t.target)}function Uee(e,t,n){const s=e.getBoundingClientRect().height,o=mee(n)-2,r=vee(n)-2;if(!e.offsetParent)return;const u=MN(e.offsetParent),{clientY:d,clientX:f}=t;let g=d-u.top-s/2,m=f-u.left-10;const v=Bn(n),y=v.defaultView||window,S=y.pageYOffset||v.documentElement.scrollTop,R=y.pageXOffset||v.documentElement.scrollLeft;o>0&&m+e.clientWidth>o+R&&(m=o+R-e.clientWidth),m<0&&(m=0),r>0&&g+e.clientHeight>r+S&&(g=r+S-e.clientHeight),g<0&&(g=0),e.style.left=`${m}px`,e.style.top=`${g}px`}var mp=(e,...t)=>{for(const n of t){const[i,s,o,r]=n;i.addEventListener(s,o,r),e.push(n)}},PR=e=>{if(e){for(const[t,n,i,s]of e)t.removeEventListener(n,i,s);e.length=0}},Zr=e=>{e.cancelable&&e.preventDefault()};function Wee(e,t){return t}function LN(e){return e?.getLocaleTextFunc()??Wee}function $ee(e,t,n,i){const s=t[n];return e.getLocaleTextFunc()(n,typeof s=="function"?s(i):s,i)}function Kee(e){return(t,n,i)=>e({key:t,defaultValue:n,variableValues:i})}function qee(e){return(t,n,i)=>{let s=e?.[t];if(s&&i?.length){let o=0;for(;!(o>=i.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",i[o++])}return s??n}}var bi=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new fl),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const s=t[i];s&&n.push(this._setupListener(e,i,s))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;if(Yee(e))e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null);else{const s=Xee(e);e instanceof HTMLElement?zee(e,t,n):s?e.addListener(t,n):e.addEventListener(t,n),i=s?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=s.changeSet.id}const o={type:"propertyChanged",changeSet:s.changeSet,source:s.source};t(o)};for(const s of e)this.setupPropertyListener(s,i)}getLocaleTextFunc(){return LN(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Yee(e){return e.__addEventListener!==void 0}function Xee(e){return e.eventServiceType==="global"}var ae=class extends bi{},hS=new Set,sv=(e,t)=>{hS.has(t)||(hS.add(t),e())};sv._set=hS;var Qee={pending:!1,funcs:[]},Zee={pending:!1,funcs:[]};function fS(e,t="setTimeout",n){const i=t==="raf"?Zee:Qee;if(i.funcs.push(e),i.pending)return;i.pending=!0;const s=()=>{const o=i.funcs.slice();i.funcs.length=0,i.pending=!1;for(const r of o)r()};t==="raf"?fr(n,s):window.setTimeout(s,0)}function $n(e,t,n){let i;return function(...s){const o=this;return window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(o,s)},n),i}}function jF(e,t){let n=0;return function(...i){const s=this,o=Date.now();o-n<t||(n=o,e.apply(s,i))}}function Jee(e,t,n,i=100){const s=Date.now();let o=null,r=!1;const l=()=>{o!=null&&(window.clearInterval(o),o=null)};e.addDestroyFunc(l);const u=()=>{const d=Date.now()-s>i;(t()||d)&&(n(),r=!0,l())};u(),r||(o=window.setInterval(u,10))}var _N=new Set(["__proto__","constructor","prototype"]);function ete(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(i=>!_N.has(i)))t(n,e[n])}}function pi(e,t,n=!0,i=!1){be(t)&&ete(t,(s,o)=>{let r=e[s];r!==o&&(i&&r==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(r={},e[s]=r),UF(o)&&UF(r)&&!Array.isArray(r)?pi(r,o,n,i):(n||o!==void 0)&&(e[s]=o))})}function UF(e){return typeof e=="object"&&e!==null}var AR=class Yo{static applyGlobalGridOptions(t){if(!Yo.gridOptions)return{...t};let n={};return pi(n,Yo.gridOptions,!0,!0),Yo.mergeStrategy==="deep"?pi(n,t,!0,!0):n={...n,...t},Yo.gridOptions.context&&(n.context=Yo.gridOptions.context),t.context&&(Yo.mergeStrategy==="deep"&&n.context&&pi(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(Yo.mergeStrategy==="deep"){const i=NN(t);if(i&&typeof i=="object"&&typeof n=="object")return Yo.applyGlobalGridOptions({[t]:n})[t]}return n}};AR.gridOptions=void 0;AR.mergeStrategy="shallow";var FR=AR;function NN(e){return FR.gridOptions?.[e]}var VN={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipSwitchShowDelay:200,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,refreshAfterGroupEdit:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,enableFilterHandlers:!1},HN="https://www.ag-grid.com";function ml(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function eh(e,...t){sv(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Yc(e,...t){sv(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var BN=new Set,om={},ol={},vp,GN=!1,zN=!1,tte=!1;function nte(e){const[t,n]=e.version.split(".")||[],[i,s]=vp.split(".")||[];return t===i&&n===s}function ite(e){vp||(vp=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;e.version?nte(e)||Yc(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${vp}.`)):Yc(t(`'${e.moduleName}' is incompatible.`));const n=e.validate?.();n&&!n.isValid&&Yc(`${n.message}`)}function Mh(e,t,n=!1){n||(GN=!0),ite(e);const i=e.rowModels??["all"];BN.add(e);let s;t!==void 0?(zN=!0,ol[t]===void 0&&(ol[t]={}),s=ol[t]):s=om;for(const o of i)s[o]===void 0&&(s[o]={}),s[o][e.moduleName]=e;if(e.dependsOn)for(const o of e.dependsOn)Mh(o,t,n)}function ste(e){delete ol[e]}function gS(e,t,n){const i=s=>!!om[s]?.[e]||!!ol[t]?.[s]?.[e];return i(n)||i("all")}function MR(){return zN}function ote(e,t){const n=ol[e]??{};return[...Object.values(om.all??{}),...Object.values(n.all??{}),...Object.values(om[t]??{}),...Object.values(n[t]??{})]}function rte(){return new Set(BN)}function ate(e,t){const n=ol[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function lte(){return GN}function jN(){return tte}var kR=class{static register(e){Mh(e,void 0)}static registerModules(e){for(const t of e)Mh(t,void 0)}};function UN(e){for(const t of e){if("setLicenseKey"in t)return t;if(t.dependsOn){const n=UN(t.dependsOn);if(n)return n}}}var we="35.1.0",WF=2e3,$F=100,WN="_version_",$N=null,Xc=`${HN}/javascript-data-grid`;function cte(e){$N=e}function ute(e){Xc=e}function KN(e,t,n){return $N?.(e,t)??[gte(e,t,n)]}function IR(e,t,n,i,s){e(`${i?"warning":"error"} #${t}`,...KN(t,n,s))}function dte(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function hte(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=dte(e)),t}function Cp(e){return e===void 0?"undefined":e===null?"null":e}function pS(e,t){return`${e}?${t.toString()}`}function fte(e,t,n){const i=Array.from(t.entries()).sort((o,r)=>r[1].length-o[1].length);let s=pS(e,t);for(const[o,r]of i){if(o===WN)continue;const l=s.length-n;if(l<=0)break;const u="...",d=l+u.length,f=r.length-d>$F?r.slice(0,r.length-d)+u:r.slice(0,$F)+u;t.set(o,f),s=pS(e,t)}return s}function qN(e,t){const n=new URLSearchParams;if(n.append(WN,we),t)for(const o of Object.keys(t))n.append(o,hte(t[o]));const i=`${Xc}/errors/${e}`,s=pS(i,n);return s.length<=WF?s:fte(i,n,WF)}var gte=(e,t,n)=>{const i=qN(e,t);return`${`${n?n+` 
`:""}Visit ${i}`}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function fe(...e){IR(eh,e[0],e[1],!0)}function Lt(...e){IR(Yc,e[0],e[1],!1)}function Gd(e,t,n){IR(Yc,e,t,!1,n)}function pte(e,t){const n=t[0];return`error #${n} `+KN(n,t[1],e).join(" ")}function yo(...e){return pte(void 0,e)}function YN(e,t){return e.get("rowModelType")===t}function En(e,t){return YN(e,"clientSide")}function Mu(e,t){return YN(e,"serverSide")}function ni(e,t){return e.get("domLayout")===t}function rl(e){return lm(e)!==void 0}function XN(e){return typeof e.get("getRowHeight")=="function"}function mte(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function vte({gos:e,formula:t}){const n=e.get("rowNumbers");return n||!!t?.active&&n!==!1}function oa(e,t,n=!1,i){const{gos:s,environment:o}=e;if(i==null&&(i=o.getDefaultRowHeight()),XN(s)){if(n)return{height:i,estimated:!0};const u={node:t,data:t.data},d=s.getCallback("getRowHeight")(u);if(mS(d))return d===0&&fe(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&s.get("masterDetail"))return Cte(s);const r=s.get("rowHeight");return{height:r&&mS(r)?r:i,estimated:!1}}function Cte(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return mS(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function al(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||an(i))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(fe(24),t.getDefaultRowHeight())}function mS(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function QN(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function vl(e,t,n,i){const s=e.getDomDataKey();let o=t[s];an(o)&&(o={},t[s]=o),o[n]=i}function Qc(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function ZN(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||ni(e,"print"))}function Zo(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function rm(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function JN(e){return e.get("grandTotalRow")}function e3(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function t3(e,t,n){return!!t.group&&!t.footer&&e3(e,n)}function hu(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(sv(()=>fe(25,{id:i}),"getRowIdString"),i=String(i)),i}}function wte(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function yte(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Zc(e){return e?.checkboxes??!0}function wp(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function am(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function ky(e){return e?.hideDisabledCheckboxes??!1}function bte(e){return typeof e.get("rowSelection")!="string"}function ra(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Jc(e){const t=e.get("cellSelection")??!1;return(typeof t=="object"&&t.enableColumnSelection)??!1}function n3(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function Ste(e){const t=n3(e);return t===!0||t==="enableSelection"}function Rte(e){const t=n3(e);return t===!0||t==="enableDeselection"}function vS(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function lm(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function cm(e){return lm(e)==="multiRow"}function xte(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function um(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function i3(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Ete(e){const t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function kh(e){const t=um(e);return t==="descendants"||t==="filteredDescendants"}function KF(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function Tte(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Yi(e){return e.get("columnMenu")==="legacy"}function Dte(e){return!Yi(e)}function Pte(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function Ate(e,t,n){typeof e!="object"&&(e={});const i={...e};for(const s of n){const o=t[s];typeof o<"u"&&(i[s]=o)}return i}function Fte(e,t){if(!e)return;const n={};let i=!1;for(const r of Object.keys(e))n[r]=e[r],i=!0;if(!i)return;const s={type:"gridOptionsChanged",options:n};t.dispatchEvent(s);const o={type:"componentStateChanged",...n};t.dispatchEvent(o)}function ze(e,t){return e.addCommon(t)}function yp(e,t){return e[t]??e.gridOptions?.[t]??NN(t)??VN[t]}function Mte({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var kte={resizable:!0,sortable:!0},Ite=0;function s3(){return Ite++}function aa(e){return e instanceof Fl}var Ote=["asc","desc",null],Lte=[{type:"absolute",direction:"asc"},{type:"absolute",direction:"desc"},null],Fl=class extends ae{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=s3(),this.autoHeaderHeight=null,this.sortDef=Gs(),this._wasSortExplicitlyRemoved=!1,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.formulaRef=null,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new fl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=Qd(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}initState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);const s=e.hide;s!==void 0?this.visible=!s:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.initState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=be(t)&&t.includes(".")&&!i,this.tooltipFieldContainsDots=be(n)&&n.includes(".")&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const i=e.recreateColDef(this.colDef);this.setColDef(i,i,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){const t=e.width??e.initialWidth??200;return Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return ze(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??kte[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return ze(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sortDef.direction}getSortDef(){return this.sortDef.direction?this.sortDef:null}getColDefAllowedSortTypes(){const e=[],{sort:t,initialSort:n}=this.colDef,i=t===null?t:ar(t?.type),s=n===null?n:ar(n?.type);return i&&e.push(i),s&&e.push(s),e}getSortingOrder(){const e=this.getColDefAllowedSortTypes().includes("absolute")?Lte:Ote;return(this.colDef.sortingOrder??this.gos.get("sortingOrder")??e).map(t=>Gs(t))}getAvailableSortTypes(){const e=this.getSortingOrder().reduce((t,n)=>(n.direction&&t.push(n.type),t),this.getColDefAllowedSortTypes());return new Set(e)}get wasSortExplicitlyRemoved(){return this._wasSortExplicitlyRemoved}setSortDef(e,t=!1){t||(this._wasSortExplicitlyRemoved=!e.direction),this.sortDef=e}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.getSort()==="asc"}isSortDescending(){return this.getSort()==="desc"}isSortNone(){return an(this.getSort())}isSorting(){return be(this.getSort())}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return fe(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return ze(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(an(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(an(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}isAllowFormula(){return this.colDef.allowFormula===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&pi(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Gs(e){return eu(e)?{direction:e.direction,type:e.type}:{direction:ov(e),type:ar(e)}}function ea(e){return e==="asc"||e==="desc"||e===null}function OR(e){return e==="default"||e==="absolute"}function eu(e){if(!e||typeof e!="object")return!1;const t=e;return OR(t.type)&&ea(t.direction)}function bp(e,t){return e?t?e.type===t.type&&e.direction===t.direction:e?e.direction===null:!0:t?t.direction===null:!0}function ov(e){return ea(e)?e:null}function ar(e){return OR(e)?e:"default"}function _te(e,t){const n=t.sortSvc.getDisplaySortForColumn(e),i=ar(n?.type),s=ov(n?.direction),o=e.getAvailableSortTypes(),r=o.has("default"),l=o.has("absolute");return{isDefaultSortAllowed:r,isAbsoluteSortAllowed:l,isAbsoluteSort:i==="absolute",isDefaultSort:i==="default",isAscending:s==="asc",isDescending:s==="desc",direction:s}}function ai(e){return e instanceof Sp}var Sp=class extends ae{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=s3(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)aa(t)?e(t):ai(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)aa(t)?e.push(t):ai(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let o=0,r=i.length;o<r;o++){const l=i[o];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const s=e&&t&&n;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const i of n)ai(i)&&i.isPadding()?t(i.children):e.push(i)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Nte={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function qF(e,t,n){const i={},s=e.gos;return Object.assign(i,s.get("defaultColGroupDef")),Object.assign(i,t),s.validateColDef(i,n),i}var Vte=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=uS(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const s=String(i);return e&&n>0&&fe(273,{providedId:e,usedId:s}),this.existingKeys[s]=!0,s}n++}}},rv="ag-Grid-AutoColumn",o3="ag-Grid-SelectionColumn",r3="ag-Grid-RowNumbersColumn";function a3(e){const t=[],n=i=>{for(let s=0;s<i.length;s++){const o=i[s];aa(o)?t.push(o):ai(o)&&n(o.getChildren())}};return n(e),t}function Qo(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function dm(e,t,n){const i={};if(!t)return;nr(null,t,o=>{i[o.getInstanceId()]=o}),n&&nr(null,n,o=>{i[o.getInstanceId()]=null});const s=Object.values(i).filter(o=>o!=null);e.context.destroyBeans(s)}function LR(e){return e.getId().startsWith(rv)}function ga(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(o3)??!1}function tr(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(r3)??!1}function Hte(e){return ga(e)||tr(e)}function hm(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Bte(e,t){return fa(e,t,(n,i)=>n.getColId()===i.getColId())}function Gte(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function tu(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function th(e,t){return e===t||e.colId==t||e.getColDef()===t}var zte=(e,t)=>(n,i)=>{const s={value1:void 0,value2:void 0};let o=!1;return e&&(e[n]!==void 0&&(s.value1=e[n],o=!0),be(i)&&e[i]!==void 0&&(s.value2=e[i],o=!0)),!o&&t&&(t[n]!==void 0&&(s.value1=t[n]),be(i)&&t[i]!==void 0&&(s.value2=t[i])),s};function jte(e,t){const n={...e,sort:void 0,colId:t},i=l3(e);return i&&(n.sort=i.direction,n.sortType=i.type),n}function l3(e){const{sort:t,initialSort:n}=e,i=eu(t)||ea(t),s=eu(n)||ea(n);return i?Gs(t):s?Gs(n):null}var Ute=(e,t)=>{ai(e)&&e.setupExpandable(),e.originalParent=t};function Wte(e,t=null,n,i,s){const o=new Vte,{existingCols:r,existingGroups:l,existingColKeys:u}=$te(i);o.addExistingKeys(u);const d=c3(e,t,0,n,r,o,l,s),{colGroupSvc:f}=e,g=f?.findMaxDepth(d,0)??0,m=f?f.balanceColumnTree(d,0,g,o):d;return nr(null,m,Ute),{columnTree:m,treeDepth:g}}function $te(e){const t=[],n=[],i=[];return e&&nr(null,e,s=>{if(ai(s)){const o=s;n.push(o)}else{const o=s;i.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function c3(e,t,n,i,s,o,r,l){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let f=0;f<d.length;f++){const g=t[f];u&&Zte(g)?d[f]=u.createProvidedColumnGroup(i,g,n,s,o,r,l):d[f]=Kte(e,i,g,s,o,l)}return d}function Kte(e,t,n,i,s,o){const r=Yte(n,i);r&&i?.splice(r.idx,1);let l=r?.column;if(l){const u=CS(e,n,l.getColId());l.setColDef(u,n,o),qte(e,l,u,o)}else{const u=s.getUniqueKey(n.colId,n.field),d=CS(e,n,u);l=new Fl(d,n,u,t),e.context.createBean(l)}return e.dataTypeSvc?.addColumnListeners(l),l}function u3(e,t,n,i,s,o,r,l){const{sortSvc:u,pinnedCols:d,colFlex:f}=e;n!==void 0&&t.setVisible(!n,l),u&&(u.updateColSort(t,i,l),s!==void 0&&u.setColSortIndex(t,s)),o!==void 0&&d?.setColPinned(t,o),r!==void 0&&f?.setColFlex(t,r)}function qte(e,t,n,i){u3(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const s=t.getFlex();if(!(s!=null&&s>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const o=t.getActualWidth();t.setActualWidth(o,i)}}function Yte(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function CS(e,t,n,i){const{gos:s,dataTypeSvc:o}=e,r={},l=s.get("defaultColDef");pi(r,l,!1,!0);const u=Xte(e,r,t,n);u&&Qte(e,u,r);const d=r.cellDataType;pi(r,t,!1,!0),d!==void 0&&(r.cellDataType=d);const f=s.get("autoGroupColumnDef"),g=Zo(s);return t.rowGroup&&f&&g&&pi(r,{sort:f.sort,initialSort:f.initialSort},!1,!0),o?.postProcess(r),o?.validateColDef(r),s.validateColDef(r,n,i),r}function Xte(e,t,n,i){const s=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),o=n.type??s??t.type;return t.type=o,o?hm(o):void 0}function Qte(e,t,n){if(!t.length)return;const i=Object.assign({},Nte),s=e.gos.get("columnTypes")||{};for(const o of Object.keys(s)){const r=s[o];o in i?fe(34,{key:o}):(r.type&&fe(35),i[o]=r)}for(const o of t){const r=i[o.trim()];r?pi(n,r,!1,!0):fe(36,{t:o})}}function Zte(e){return e.children!==void 0}function nr(e,t,n){if(t)for(let i=0;i<t.length;i++){const s=t[i];ai(s)&&nr(s,s.getChildren(),n),n(s,e)}}function d3(e,t){const n=[],i=[],s=[];return e.forEach(r=>{const l=r.getColDef().lockPosition;l==="right"?s.push(r):l==="left"||l===!0?n.push(r):i.push(r)}),t.get("enableRtl")?[...s,...i,...n]:[...n,...i,...s]}function h3(e,t){let n=!0;return nr(null,t,i=>{if(!ai(i))return;const s=i;if(!s.getColGroupDef()?.marryChildren)return;const l=[];for(const m of s.getLeafColumns()){const v=e.indexOf(m);l.push(v)}const u=Math.max.apply(Math,l),d=Math.min.apply(Math,l),f=u-d,g=s.getLeafColumns().length-1;f>g&&(n=!1)}),n}function f3(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function g3(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,s=f3(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:i,source:n})}function Jte(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,s=f3(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:i,source:n})}function ene(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function fu(e,t,n,i,s=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:n,source:i})}function Ws(e,t,n){const{colModel:i,rowGroupColsSvc:s,pivotColsSvc:o,autoColSvc:r,selectionColSvc:l,colAnimation:u,visibleCols:d,pivotResultCols:f,environment:g,valueColsSvc:m,eventSvc:v,gos:y}=e,S=i.getColDefCols()??[],R=l?.getColumns();if(!S.length&&!R?.length)return!1;if(t?.state&&!t.state.forEach)return fe(32),!1;const x=(F,I,A,O,_)=>{if(!F)return;const B=zte(I,t.defaultState),z=B("flex").value1,q=B("sort").value1,oe=B("sortType").value1,ce=ea(q)||OR(oe),Y=ar(oe),V=ov(q),$=ce?{type:Y,direction:V}:void 0;if(u3(e,F,B("hide").value1,$,B("sortIndex").value1,B("pinned").value1,z,n),z==null){const N=B("width").value1;if(N!=null){const X=F.getColDef().minWidth??g.getDefaultColumnMinWidth();X!=null&&N>=X&&F.setActualWidth(N,n)}}_||!F.isPrimary()||(m?.syncColumnWithState(F,n,B),s?.syncColumnWithState(F,n,B,A),o?.syncColumnWithState(F,n,B,O))},T=(F,I,A)=>{const O=p3(e,n),_=I.slice(),B={},z={},q=[],oe=[],ce=[];let Y=0;const V=s?.columns.slice()??[],$=o?.columns.slice()??[];for(const ie of F){const L=ie.colId;if(L.startsWith(rv)){q.push(ie),ce.push(ie);continue}if(ga(L)){oe.push(ie),ce.push(ie);continue}const Q=A(L);Q?(x(Q,ie,B,z,!1),xo(_,Q)):(ce.push(ie),Y+=1)}const N=ie=>x(ie,null,B,z,!1);_.forEach(N),s?.sortColumns(YF.bind(s,B,V)),o?.sortColumns(YF.bind(o,z,$)),i.refreshCols(!1,n);const X=(ie,L,j=[])=>{for(const Q of L){const re=ie(Q.colId);xo(j,re),x(re,Q,null,null,!0)}j.forEach(N)};return X(ie=>r?.getColumn(ie)??null,q,r?.getColumns()?.slice()),X(ie=>l?.getColumn(ie)??null,oe,l?.getColumns()?.slice()),nne(t,i,y),d.refresh(n),v.dispatchEvent({type:"columnEverythingChanged",source:n}),O(),{unmatchedAndAutoStates:ce,unmatchedCount:Y}};u?.start();let{unmatchedAndAutoStates:D,unmatchedCount:M}=T(t.state||[],S,F=>i.getColDefCol(F));if(D.length>0||be(t.defaultState)){const F=f?.getPivotResultCols()?.list??[];M=T(D,F,I=>f?.getPivotResultCol(I)??null).unmatchedCount}return u?.finish(),M===0}function tne(e,t){const{colModel:n,autoColSvc:i,selectionColSvc:s,eventSvc:o,gos:r}=e,l=n.getColDefCols();if(!l?.length)return;const u=n.getColDefColTree(),d=a3(u),f=[];let g=1e3,m=1e3;const v=T=>{const D=m3(T);an(D.rowGroupIndex)&&D.rowGroup&&(D.rowGroupIndex=g++),an(D.pivotIndex)&&D.pivot&&(D.pivotIndex=m++),f.push(D)};i?.getColumns()?.forEach(v),s?.getColumns()?.forEach(v),d?.forEach(v),Ws(e,{state:f},t);const y=i?.getColumns()??[],x=[...s?.getColumns()??[],...y,...l].map(T=>({colId:T.colId}));Ws(e,{state:x,applyOrder:!0},t),o.dispatchEvent(ze(r,{type:"columnsReset",source:t}))}function p3(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:s,colModel:o,sortSvc:r,eventSvc:l}=e,u={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:s?.columns.slice()??[]},d=fm(e),f={};for(const g of d)f[g.colId]=g;return()=>{const g=(I,A,O,_)=>{const B=A.map(_),z=O.map(_);if(fa(B,z))return;const oe=new Set(A);for(const Y of O)oe.delete(Y)||oe.add(Y);const ce=[...oe];l.dispatchEvent({type:I,columns:ce,column:ce.length===1?ce[0]:null,source:t})},m=I=>{const A=[];return o.forAllCols(O=>{const _=f[O.getColId()];_&&I(_,O)&&A.push(O)}),A},v=I=>I.getColId();g("columnRowGroupChanged",u.rowGroupColumns,n?.columns??[],v),g("columnPivotChanged",u.pivotColumns,i?.columns??[],v);const S=m((I,A)=>{const O=I.aggFunc!=null,_=O!=A.isValueActive(),B=O&&I.aggFunc!=A.getAggFunc();return _||B});S.length>0&&ene(l,"columnValueChanged",S,t),fu(l,m((I,A)=>I.width!=A.getActualWidth()),!0,t),g3(l,m((I,A)=>I.pinned!=A.getPinned()),t),Jte(l,m((I,A)=>I.hide==A.isVisible()),t);const M=m((I,A)=>!bp(A.getSortDef(),{type:ar(I.sortType),direction:ov(I.sort)})||I.sortIndex!=A.getSortIndex());M.length>0&&r?.dispatchSortChangedEvents(t,M);const F=fm(e);sne(d,F,t,o,l)}}function fm(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,s=t.getColDefCols();if(an(s)||!t.isAlive())return[];const o=n?.columns,r=i?.columns,l=[],u=f=>{const g=f.isRowGroupActive()&&o?o.indexOf(f):null,m=f.isPivotActive()&&r?r.indexOf(f):null,v=f.isValueActive()?f.getAggFunc():null,y=f.getSortIndex()!=null?f.getSortIndex():null;l.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:f.getSort(),sortType:f.getSortDef()?.type,sortIndex:y,aggFunc:v,rowGroup:f.isRowGroupActive(),rowGroupIndex:g,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null})};t.forAllCols(f=>u(f));const d=new Map(t.getCols().map((f,g)=>[f.getColId(),g]));return l.sort((f,g)=>{const m=d.has(f.colId)?d.get(f.colId):-1,v=d.has(g.colId)?d.get(g.colId):-1;return m-v}),l}function m3(e){const t=(R,x)=>R??x??null,n=e.getColDef(),i=Gs(t(n.sort,n.initialSort)),s=i.direction,o=i.type,r=t(n.sortIndex,n.initialSortIndex),l=t(n.hide,n.initialHide),u=t(n.pinned,n.initialPinned),d=t(n.width,n.initialWidth),f=t(n.flex,n.initialFlex);let g=t(n.rowGroupIndex,n.initialRowGroupIndex),m=t(n.rowGroup,n.initialRowGroup);g==null&&!m&&(g=null,m=null);let v=t(n.pivotIndex,n.initialPivotIndex),y=t(n.pivot,n.initialPivot);v==null&&!y&&(v=null,y=null);const S=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:s,sortType:o,sortIndex:r,hide:l,pinned:u,width:d,flex:f,rowGroup:m,rowGroupIndex:g,pivot:y,pivotIndex:v,aggFunc:S}}function nne(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];for(const s of e.state)s.colId!=null&&i.push(s.colId);ine(t.cols,i,t,n)}function ine(e,t,n,i){if(e==null)return;let s=[];const o={};for(const l of t){if(o[l])continue;const u=e.map[l];u&&(s.push(u),o[l]=!0)}let r=0;for(const l of e.list){const u=l.getColId();if(o[u]!=null)continue;u.startsWith(rv)?s.splice(r++,0,l):s.push(l)}if(s=d3(s,i),!h3(s,n.getColTree())){fe(39);return}e.list=s}function sne(e,t,n,i,s){const o={};for(const f of t)o[f.colId]=f;const r={};for(const f of e)o[f.colId]&&(r[f.colId]=!0);const l=e.filter(f=>r[f.colId]),u=t.filter(f=>r[f.colId]),d=[];u.forEach((f,g)=>{const m=l?.[g];if(m&&m.colId!==f.colId){const v=i.getCol(m.colId);v&&d.push(v)}}),d.length&&s.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var YF=(e,t,n,i)=>{const s=e[n.getId()],o=e[i.getId()],r=s!=null,l=o!=null;if(r&&l)return s-o;if(r)return-1;if(l)return 1;const u=t.indexOf(n),d=t.indexOf(i),f=u>=0,g=d>=0;return f&&g?u-d:f?-1:1};function v3(e,t){return e+"_"+t}function xn(e){return e instanceof Ih}var Ih=class extends ae{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=Qd(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return v3(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)xn(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Wt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])aa(t)?e.push(t):xn(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])aa(t)?e.push(t):xn(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const n of this.children??[]){if(xn(n)&&!n.displayedChildren?.length)continue;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},ee={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},one=65,rne=67,ane=86,lne=68,cne=90,une=89;function C3(e){const{keyCode:t}=e;let n;switch(t){case one:n=ee.A;break;case rne:n=ee.C;break;case ane:n=ee.V;break;case lne:n=ee.D;break;case cne:n=ee.Z;break;case une:n=ee.Y;break;default:n=e.code}return n}function dne(e,t){return new pt(n=>{n(window.setInterval(e,t))})}var pt=class zd{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new zd(n=>{let i=t.length;const s=new Array(i);t.forEach((o,r)=>{o.then(l=>{s[r]=l,i--,i===0&&n(s)})})}):zd.resolve()}static resolve(t=null){return new zd(n=>n(t))}then(t){return new zd(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t;for(const n of this.waiters)n(t)}onReject(t){}},Te=null;function XF(e){return typeof e?.getGui=="function"}function Qi(e){return pl(e)}function hne(e,t,n){const i=Ii(e,t,n);if(i){const{className:o}=i;if(typeof o=="string"&&o.includes("ag-icon")||typeof o=="object"&&o["ag-icon"])return i}const s=Qi({tag:"span"});return s.appendChild(i),s}function Ii(e,t,n){let i=null;e==="smallDown"?fe(262):e==="smallLeft"?fe(263):e==="smallRight"&&fe(264);const s=n?.getColDef().icons;if(s&&(i=s[e]),t.gos&&!i){const o=t.gos.get("icons");o&&(i=o[e])}if(i){let o;if(typeof i=="function")o=i();else if(typeof i=="string")o=i;else{fe(38,{iconName:e});return}if(typeof o=="string")return ER(o);if(DR(o))return o;fe(133,{iconName:e});return}else{const o=t.registry.getIcon(e);return o||t.validation?.validateIcon(e),Qi({tag:"span",cls:`ag-icon ag-icon-${o??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var tf=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.includes(" ")){const i=(e||"").split(" ");if(i.length>1){for(const s of i)this.toggleCss(s,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},fne=0,ku=class extends bi{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=fne++,this.cssManager=new tf(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui()),this.addGlobalCss()}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(IN):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const s=this[t];if(s===Te)this[t]=i??e;else{const o=n?.[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);for(const i of n){if(!(i instanceof HTMLElement))continue;const s=this.createComponentFromElement(i,o=>{const r=o.getGui();if(r)for(const l of i.attributes??[])r.setAttribute(l.name,l.value)},t);if(s){if(s.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const o=Array.prototype.slice.call(i.children);s.addItems(o)}this.swapComponentForNode(s,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)}}createComponentFromElement(e,t,n){const i=e.nodeName,s=this.getDataRefAttribute(e),o=i.indexOf("AG-")===0,r=o?this.componentSelectors.get(i):null;let l=null;if(r){const u=n&&s?n[s]:void 0;l=new r.component(u),l.setParentComponent(this),this.createBean(l,null,t)}else if(o)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,s,n,l),l}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e,t){const n=t??this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const i of e)i.setAttribute("tabindex",n.toString())}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=ER(e):i=pl(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let s=0;s<t.length;s++){const o=t[s];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),DR(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.prepend(n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;Oee(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ut(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css===QF?(this.css=[e],this.addGlobalCss()):(this.css||(this.css=[]),this.css.push(e))}addGlobalCss(){if(Array.isArray(this.css)){const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(const t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}this.css=QF}},QF=Symbol(),wn=class extends ku{},gne=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",pne={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},mne=class extends wn{constructor(){super(),this.dragSource=null,this.eIcon=Te,this.eLabel=Te,this.eGhost=Te,this.registerCSS(gne)}postConstruct(){const e=t=>hne(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(pne),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:i,dragSource:s,dropIconMap:o,gos:r}=this;Li(i);let l=null;e||(e=s?.getDefaultIconName?s.getDefaultIconName():"notAllowed"),l=o[e],n.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),i.classList.toggle("ag-shake-left-to-right",t),!(l===o.hide&&r.get("suppressDragLeaveHidesColumns"))&&l&&i.appendChild(l)}setLabel(e){this.eLabel.textContent=e}},vne=class extends bi{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.externalDropZoneCount=0,this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:i=>this.onDragStart(e,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:n}=this;for(let i=0,s=t.length;i<s;i++)if(t[i].dragSource===e){const o=t[i];n.dragSvc?.removeDragSource(o),t.splice(i,1);break}}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,i=n.dragSvc;for(const s of e)i?.removeDragSource(s);e.length=0,t.length=0,this.externalDropZoneCount=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){const i=this.dropTargetEvent(n,e,!1);n.onDragStop?.(i)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){const i=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(i)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const n=this.findCurrentDropTarget(e),{lastDropTarget:i,dragSource:s,dragItem:o}=this;let r=!1;if(n!==i){if(r=!0,i){const l=this.dropTargetEvent(i,e,t);i.onDragLeave?.(l)}if(i!==null&&!n?this.handleExit(s,o):i===null&&n&&this.handleEnter(s,o),n){const l=this.dropTargetEvent(n,e,t);n.onDragEnter?.(l)}this.lastDropTarget=n}else if(n){const l=this.dropTargetEvent(n,e,t);n.onDragging?.(l),l?.changed&&(r=!0)}this.lastMouseEvent=e,r&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getContainer(),n=e.getSecondaryContainers?.(),i=n?.length;if(!i)return[[t]];const s=new Array(i+1);s[0]=[t];for(let o=0;o<i;++o)s[o+1]=n[o];return s}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const s=(l,u)=>{for(const d of u){const{width:f,height:g,left:m,right:v,top:y,bottom:S}=d.getBoundingClientRect();if(f===0||g===0)return!1;const R=l.clientX>=m&&l.clientX<v,x=l.clientY>=y&&l.clientY<S;if(!R||!x)return!1}return!0};for(const l of n)if(s(e,l)){i=!0;break}const{eElement:o,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:i&&t.isInterestedIn(r,o)}findCurrentDropTarget(e){const t=[],n=this.dropTargets;for(let r=0,l=n.length;r<l;++r){const u=n[r];this.isMouseOnDropTarget(e,u)&&t.push(u)}const i=t.length;if(i===0)return null;if(i===1)return t[0];const o=ao(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let r=0,l=o.length;r<l;++r){const u=o[r];for(let d=0,f=t.length;d<f;d++){const g=t[d],m=this.getAllContainersFromDropTarget(g);let v=!1;for(let y=0,S=m.length;y<S&&!v;y++){const R=m[y];for(let x=0,T=R.length;x<T;x++)if(R[x]===u){v=!0;break}}if(v)return g}}return null}addDropTarget(e){this.dropTargets.push(e),e.external&&this.externalDropZoneCount++}removeDropTarget(e){const t=e.getContainer(),n=this.dropTargets;let i=0;for(let s=0,o=n.length;s<o;++s){const r=n[s];if(r.getContainer()===t){r.external&&--this.externalDropZoneCount;continue}i!==s&&(n[i]=r),++i}n.length=i}hasExternalDropZones(){return this.externalDropZoneCount>0}findExternalZone(e){const t=this.dropTargets;for(let n=0,i=t.length;n<i;++n){const s=t[n];if(s.external&&s.getContainer()===e)return s}return null}dropTargetEvent(e,t,n){const{dragSource:i,dragItem:s,lastDraggingEvent:o,lastMouseEvent:r,dragInitialSourcePointerOffsetX:l,dragInitialSourcePointerOffsetY:u}=this,d=e.getContainer(),f=d.getBoundingClientRect(),{clientX:g,clientY:m}=t,v=g-(r?.clientX||0),y=m-(r?.clientY||0),S=this.createEvent({event:t,x:g-f.left,y:m-f.top,vDirection:y>0?"down":y<0?"up":null,hDirection:v<0?"left":v>0?"right":null,initialSourcePointerOffsetX:l,initialSourcePointerOffsetY:u,dragSource:i,fromNudge:n,dragItem:s,dropZoneTarget:d,dropTarget:o?.dropTarget??null,changed:!!o?.changed});return this.lastDraggingEvent=S,S}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&Uee(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(n=>{const i=this.lastMouseEvent;if(t!==this.dragImageCompPromise||!i||!this.isAlive()){this.destroyBean(n);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const s=this.dragImageComp;s!==n&&(this.dragImageComp=n,this.removeDragImageComp(s)),n&&(this.appendDragImageComp(n),this.updateDragImageComp(),this.positionDragImageComp(i))})}appendDragImageComp(e){const t=e.getGui(),n=t.style;n.position="absolute",n.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top="20px",n.left="20px";const i=bR(this.beans);i?i.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:i,dragImageLastLabel:s}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(i)??null);let o=t?.dragItemName;typeof o=="function"&&(o=o(i)),o||(o=""),s!==o&&(this.dragImageLastLabel=o,e.setLabel(o))}};function w3(e){return typeof e=="object"&&!!e.component}function Cne(e){return e?e.prototype&&"getGui"in e.prototype:!1}function y3(e,t,n,i){const{name:s}=n;let o,r,l,u,d,f;if(t){const g=t,m=g[s+"Selector"],v=m?m(i):null,y=S=>{typeof S=="string"?o=S:S!=null&&S!==!0&&(e.isFrameworkComponent(S)?l=S:r=S)};v?(y(v.component),u=v.params,d=v.popup,f=v.popupPosition):y(g[s])}return{compName:o,jsComp:r,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}}var wne=class extends ae{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,s=!1){const{name:o,cellRenderer:r}=t;let{compName:l,jsComp:u,fwComp:d,paramsFromSelector:f,popupFromSelector:g,popupPositionFromSelector:m}=y3(this.beans.frameworkOverrides,e,t,i),v,y;const S=D=>{const M=this.registry.getUserComponent(o,D);M&&(u=M.componentFromFramework?void 0:M.component,d=M.componentFromFramework?M.component:void 0,v=M.params,y=M.processParams)};if(l!=null&&S(l),u==null&&d==null&&n!=null&&S(n),u&&r&&!Cne(u)&&(u=this.agCompUtils?.adaptFunction(t,u)),!u&&!d){const{validation:D}=this.beans;s&&(l!==n||!n)?l?D?.isProvidedUserComp(l)||Lt(50,{compName:l}):n?D||Lt(260,{...this.gos.getModuleErrorParams(),propName:o,compName:n}):Lt(216,{name:o}):n&&!D&&Lt(146,{comp:n});return}const R=this.mergeParams(e,t,i,f,v,y),x=u==null,T=u??d;return{componentFromFramework:x,componentClass:T,params:R,type:t,popupFromSelector:g,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(T,x,R,t)}}newAgStackInstance(e,t,n,i){const s=!t;let o;s?o=new e:o=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(o);const r=o.init?.(n);return r==null?pt.resolve(o):r.then(()=>o)}mergeParams(e,t,n,i=null,s,o){const r={...n,...s},u=e?.[t.name+"Params"];if(typeof u=="function"){const d=u(n);pi(r,d)}else typeof u=="object"&&pi(r,u);return pi(r,i),o?o(r):r}},yne={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},bne={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Sne={name:"headerComponent",optionalMethods:["refresh"]},Rne={name:"innerHeaderComponent"},xne={name:"innerHeaderGroupComponent"},Ene={name:"headerGroupComponent"},Tne={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Dne={name:"loadingCellRenderer",cellRenderer:!0},Pne={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Ane={name:"tooltipComponent"},_R={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Fne={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},Mne={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},kne={name:"loadingCellRenderer",cellRenderer:!0},Ine={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},One={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Lne(e,t){return e.getCompDetailsFromGridOptions(bne,"agDragAndDropImage",t,!0)}function _ne(e,t,n){return e.getCompDetails(t,Sne,"agColumnHeader",n)}function Nne(e,t,n){return e.getCompDetails(t,Rne,void 0,n)}function Vne(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Ene,"agColumnGroupHeader",t)}function Hne(e,t,n){return e.getCompDetails(t,xne,void 0,n)}function Bne(e,t){return e.getCompDetailsFromGridOptions(Mne,void 0,t,!0)}function Gne(e,t){return e.getCompDetailsFromGridOptions(kne,"agLoadingCellRenderer",t,!0)}function zne(e,t){return e.getCompDetailsFromGridOptions(Ine,"agGroupRowRenderer",t,!0)}function jne(e,t){return e.getCompDetailsFromGridOptions(One,"agDetailCellRenderer",t,!0)}function ZF(e,t,n){return e.getCompDetails(t,Tne,void 0,n)}function JF(e,t,n){return e.getCompDetails(t,Dne,"agSkeletonCellRenderer",n,!0)}function b3(e,t,n){return e.getCompDetails(t,Pne,"agCellEditor",n,!0)}function Une(e,t,n,i){const s=t.filter;return w3(s)&&(t={filter:s.component,filterParams:t.filterParams}),e.getCompDetails(t,_R,i,n,!0)}function Wne(e,t,n){return e.getCompDetails(t,yne,"agDateInput",n,!0)}function $ne(e,t){return e.getCompDetails(t.colDef,Ane,"agTooltipComponent",t,!0)}function Kne(e,t,n,i){return e.getCompDetails(t,Fne,i,n)}function S3(e,t){return y3(e,t,_R)}function Iy(e,t,n){return e.mergeParams(t,_R,n)}var qne=class extends vne{createEvent(e){return ze(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this;return Lne(n.userCompFactory,ze(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){fe(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function Yne(e){return{tag:"div",cls:e}}var Xne=class extends wn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(Yne(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const i=this.getGui();Li(i);let s;this.destroyListeners();const o=document.createDocumentFragment(),r=this.className,l=({type:d,label:f})=>{const g=x=>{this.dispatchLocalEvent({type:d,event:x})};["apply","clear","reset","cancel"].includes(d)||fe(75);const m=d==="apply",y=Qi({tag:"button",attrs:{type:m&&t?"submit":"button"},ref:`${d}FilterButton`,cls:`ag-button ag-standard-button ${r}-button${m?" "+r+"-apply-button":""}`,children:f});this.activateTabIndex([y]),m&&(s=y);const S=x=>{x.key===ee.ENTER&&(x.preventDefault(),g(x))},R=this.listeners;y.addEventListener("click",g),R.push(()=>y.removeEventListener("click",g)),y.addEventListener("keydown",S),R.push(()=>y.removeEventListener("keydown",S)),o.append(y)};for(const d of e)l(d);this.eApply=s;const u=this.validationTooltipFeature;s&&!u?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!s&&u&&(this.validationTooltipFeature=this.destroyBean(u)),i.append(o)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Dh(n,!e),this.validationMessage=t,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},Qne={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",bigintFilter:"BigInt Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",yesterday:"Yesterday",today:"Today",tomorrow:"Tomorrow",last7Days:"Last 7 Days",lastWeek:"Last Week",thisWeek:"This Week",nextWeek:"Next Week",last30Days:"Last 30 Days",lastMonth:"Last Month",thisMonth:"This Month",nextMonth:"Next Month",last90Days:"Last 90 Days",lastQuarter:"Last Quarter",thisQuarter:"This Quarter",nextQuarter:"Next Quarter",lastYear:"Last Year",thisYear:"This Year",yearToDate:"Year To Date",nextYear:"Next Year",last6Months:"Last 6 Months",last12Months:"Last 12 Months",last24Months:"Last 24 Months",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`,minDateValidation:e=>`Date must be after ${e[0]}`,maxDateValidation:e=>`Date must be before ${e[0]}`,strictMinValueValidation:e=>`Must be greater than ${e[0]}`,strictMaxValueValidation:e=>`Must be less than ${e[0]}`};function Bs(e,t,n){return $ee(e,Qne,t,n)}function NR(e,t){const{debounceMs:n}=e;return av(e)?(n!=null&&fe(71),0):n??t}function av(e){return(e.buttons?.indexOf("apply")??-1)>=0}function R3(e,t,n,i){let s=Bs(e,n);if(typeof t=="function"){const o=Bs(e,i);s=t({filterOptionKey:i,filterOption:o,placeholder:s})}else typeof t=="string"&&(s=t);return s}var Zne=class extends wn{constructor(e,t,n,i,s,o){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=s,this.enableGlobalButtonCheck=o,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,s=i?"form":"div";this.setTemplate({tag:s,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:o=>{o?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:o,params:r})=>{o===this.column&&this.resetButtonsPanel(r,this.params)},filterStateChanged:({column:o,state:r})=>{o===this.column&&this.eButtons?.updateValidity(r.valid!==!1)},filterAction:({column:o,action:r,event:l})=>{o===this.column&&this.afterAction(r,l)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:o})=>{if(o!==this.isGlobalButtons){this.isGlobalButtons=o;const r=this.params;this.resetButtonsPanel(r,r,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:i,readOnly:s}=t??{},{buttons:o,readOnly:r,useForm:l}=e;if(!n&&s===r&&Eh(i,o))return;const u=o&&o.length>0&&!e.readOnly&&!this.isGlobalButtons;let d=this.eButtons;if(u){const f=o.map(g=>{const m=`${g}Filter`;return{type:g,label:Bs(this,m)}});if(this.applyActive=av(this.params),!d){d=this.createBean(new Xne),this.appendChild(d.getGui());const g=this.column,m=v=>({event:y})=>{this.updateModel(g,v,{fromButtons:!0}),this.afterAction(v,y)};d?.addManagedListeners(d,{apply:m("apply"),clear:m("clear"),reset:m("reset"),cancel:m("cancel")}),this.eButtons=d}d.updateButtons(f,l)}else this.applyActive=!1,d&&(sa(d.getGui()),this.eButtons=this.destroyBean(d))}close(e){const t=this.hidePopup;if(!t)return;const n=e,i=n?.key;let s;(i===ee.ENTER||i===ee.SPACE)&&(s={keyboardEvent:n}),t(s),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:i}=this,s=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),s&&i&&this.close(t);break}case"reset":{s&&i&&this.close();break}case"cancel":{s&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===ee.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},Jne=":where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}",eie={tag:"div",cls:"ag-filter"},tie=class extends wn{constructor(e,t,n){super(eie),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??pt.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:i}}=this,s=i.getFilterUiForDisplay(t)??null;this.wrapper=s,s?.then(o=>{if(!o)return;const{isHandler:r,comp:l}=o;let u;if(r){const d=!!this.enableGlobalButtonCheck,f=this.createBean(new Zne(t,o,i,i.updateModel.bind(i),d&&i.isGlobalButtons,d));this.comp=f,u=f.getGui()}else this.registerCSS(Jne),u=l.getGui(),be(u)||fe(69,{guiFromFilter:u});this.appendChild(u),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):l.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Li(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}};function x3(e){return!!e.operator}var E3="ag-resizer-wrapper",Hr=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),nie={tag:"div",cls:E3,children:[Hr("eTopLeft","topLeft"),Hr("eTop","top"),Hr("eTopRight","topRight"),Hr("eRight","right"),Hr("eBottomRight","bottomRight"),Hr("eBottom","bottom"),Hr("eBottomLeft","bottomLeft"),Hr("eLeft","left")]},iie=class extends bi{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config={popup:!1,...t}}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,i=n/2-this.getWidth()/2,s=t/2-this.getHeight()/2;this.offsetElement(i,s,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:i,width:s,minHeight:o,height:r,x:l,y:u}=this.config;this.offsetParent||this.setOffsetParent();let d=0,f=0;const g=qs(this.element);if(g){const m=this.findBoundaryElement(),v=window.getComputedStyle(m);if(v.minWidth!=null){const y=m.offsetWidth-this.element.offsetWidth;f=Number.parseInt(v.minWidth,10)-y}if(v.minHeight!=null){const y=m.offsetHeight-this.element.offsetHeight;d=Number.parseInt(v.minHeight,10)-y}}if(this.minHeight=o||d,this.minWidth=i||f,s&&this.setWidth(s),r&&this.setHeight(r),(!s||!r)&&this.refreshSize(),t)this.center(e);else if(l||u)this.offsetElement(l,u,e);else if(g&&n){let m=this.boundaryEl,v=!0;if(m||(m=this.findBoundaryElement(),v=!1),m){const y=Number.parseFloat(m.style.top),S=Number.parseFloat(m.style.left);v?this.offsetElement(Number.isNaN(S)?0:S,Number.isNaN(y)?0:y,e):this.setPosition(S,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}for(const t of Object.keys(e)){const n=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)}}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.includes("%"))Jd(n,e),e=FN(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Jd(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,r=e?0:s.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:f}=d.getBoundingClientRect();l=f-i.bottom}}return n+r-o-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.includes("%"))wo(t,e),e=em(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;s&&e+o>s&&(e=s-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?wo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupSvc?.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(s.style.left),Number.parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=hr(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:s,topBuffer:o}=e,r=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!s,r)?0:r,d=this.shouldSkipY(t,!!i,o,l)?0:l;return{movementX:u,movementY:d}}shouldSkipX(e,t,n,i){const s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:s.left;let u=l<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=r.right;return u?!0:(t?u=i<0&&e.clientX>l+o.left||i>0&&e.clientX<l+o.left:n?u=i<0&&e.clientX>r.right||i>0&&e.clientX<l+o.left:u=i<0&&e.clientX>r.right||i>0&&e.clientX<r.right,u)}shouldSkipY(e,t,n=0,i){const s=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:s.top;let u=l<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=r.bottom;return u?!0:(t?u=i<0&&e.clientY>l+o.top+n||i>0&&e.clientY<l+o.top:u=i<0&&e.clientY>r.bottom||i>0&&e.clientY<r.bottom,u)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(pl(nie)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${E3}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(const i of e){const s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,r=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=Number.parseInt(l.minHeight,10)),l.minWidth&&(r=Number.parseInt(l.minWidth,10))}else o=i.offsetHeight,r=i.offsetWidth;t+=o,n+=r}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const s=n[i];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:s,isBottom:o,isLeft:r}=this.currentResizer,l=s||r,u=o||i,{movementX:d,movementY:f}=this.calculateMouseMovement({e,isLeft:r,isTop:i}),g=this.position.x,m=this.position.y;let v=0,y=0;if(l&&d){const S=r?-1:1,R=this.getWidth(),x=R+d*S;let T=!1;r&&(v=R-x,(g+v<=0||x<=this.minWidth)&&(T=!0,v=0)),T||this.setWidth(x)}if(u&&f){const S=i?-1:1,R=this.getHeight(),x=R+f*S;let T=!1;i?(y=R-x,(m+y<=0||x<=this.minHeight)&&(T=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(T=!0),T||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&v||y)&&this.offsetElement(g+v,m+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:s,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+s,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},sie=class extends iie{},Oy,Ly,_y,Ny,wS,yS,Vy;function pa(){return Oy===void 0&&(Oy=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Oy}function gu(){return Ly===void 0&&(Ly=/(firefox)/i.test(navigator.userAgent)),Ly}function T3(){return _y===void 0&&(_y=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),_y}function ll(){return Ny===void 0&&(Ny=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Ny}function bS(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!gu())?null:t.toString()}function oie(){if(Vy!==void 0)return Vy;if(!document.body)return-1;let e=1e6;const t=gu()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return n.remove(),Vy=e,e}function VR(){return yS==null&&D3(),yS}function D3(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(yS=n,wS=n===0)}function P3(){return wS==null&&D3(),wS}var SS=!1,gm=0;function rie(e){gm>0||(e.addEventListener("keydown",pm),e.addEventListener("mousedown",pm))}function aie(e){gm>0||(e.removeEventListener("keydown",pm),e.removeEventListener("mousedown",pm))}function pm(e){const t=SS,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(SS=n)}function lie(e){const t=Bn(e);return rie(t),gm++,()=>{gm--,aie(t)}}function A3(){return SS}function nu(e,t,n=!1){const i=Iee;let s=AN;t&&(s+=", "+t),n&&(s+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(u=>qs(u)),r=Array.prototype.slice.apply(e.querySelectorAll(s));return r.length?((u,d)=>u.filter(f=>d.indexOf(f)===-1))(o,r):o}function Cl(e,t=!1,n=!1,i=!1){const s=nu(e,i?".ag-tab-guard":null,n),o=t?Wt(s):s[0];return o?(o.focus({preventScroll:!0}),!0):!1}function Ml(e,t,n,i){const s=nu(t,n?':not([tabindex="-1"])':null),o=nn(e);let r;n?r=s.findIndex(u=>u.contains(o)):r=s.indexOf(o);const l=r+(i?-1:1);return l<0||l>=s.length?null:s[l]}function F3(e,t=5){let n=0;for(;e&&bS(e)===null&&++n<=t;)e=e.parentElement;return bS(e)===null?null:e}var cie="ag-focus-managed",M3=class extends bi{constructor(e,t={isStopPropagation:()=>!1,stopPropagation:()=>{}},n={}){super(),this.eFocusable=e,this.stopPropagationCallbacks=t,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const s=Ml(this.beans,this.eFocusable,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())},...n}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(cie),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||this.stopPropagationCallbacks.isStopPropagation(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){this.stopPropagationCallbacks.stopPropagation(t);return}t.key===ee.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},k3="__ag_Grid_Stop_Propagation";function wl(e){e[k3]=!0}function ir(e){return e[k3]===!0}var HR={isStopPropagation:ir,stopPropagation:wl},nf=class extends M3{constructor(e,t){super(e,HR,t)}},uie=class extends wn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new nf(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new sie(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}areStatesEqual(e,t){return e===t}refresh(e){const t=e,n=this.params;this.params=t;const{source:i,state:s,additionalEventAttributes:o}=t;i==="colDef"&&this.updateParams(t,n);const r=this.state;this.state=s;const l=o?.fromAction;return(l&&l!=="apply"||s.model!==r.model||!this.areStatesEqual(s.state,r.state))&&this.setModelIntoUi(s.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=av(e),this.setupApplyDebounced()}doesFilterPass(e){fe(283);const{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return fe(284),this.params.model!=null}setupApplyDebounced(){const e=NR(this.params,this.defaultDebounceMs),t=$n(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return fe(285),this.params.model}setModel(e){fe(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:{valid:n=!0,model:i}}=this;if(!n)return!1;const s=!this.areModelsEqual(t.model,i);return s&&t.onAction("apply",e),s}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;const{params:s,gos:o,eventSvc:r,applyActive:l}=this;s.onStateChange(i),s.onUiChange(this.getUiChangeEventParams()),o.get("enableFilterHandlers")||r.dispatchEvent({type:"filterModified",column:s.column,filterInstance:this}),i.valid&&(e??(e=l?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced())}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e,t){return Bs(this,e,t)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function die(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function BR(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return n&&i&&s}function hie(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(be(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function fie(e,t){return!e&&!t?!0:!e||!t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function gie(e){let t=0,n;const{pinnedRowModel:i,rowModel:s,pageBounds:o}=e;return i?.getPinnedTopRowCount()?n="top":s.getRowCount()?(n=null,t=o.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function pie(e){let t,n=null;const{pinnedRowModel:i,pageBounds:s}=e,o=i?.getPinnedBottomRowCount(),r=i?.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?t=s.getLastRow():r&&(n="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function lr(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Vc(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function mie(e,t,n){const{rowModel:i,pinnedRowModel:s}=e;let o;return o??(o=i?.getRowNode(t)),n?o??(o=s?.getPinnedRowById(t,n)):(o??(o=s?.getPinnedRowById(t,"top")),o??(o=s?.getPinnedRowById(t,"bottom"))),o}function mm(e,t,n=!1){const{rowIndex:i,rowPinned:s}=t,{pageBounds:o,pinnedRowModel:r,rowModel:l}=e;if(i===0)return s==="top"?null:s==="bottom"&&l.isRowsToRender()?{rowIndex:o.getLastRow(),rowPinned:null}:r?.isRowsToRender("top")?{rowIndex:r.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){const u=s?void 0:l.getRow(i);return I3(e,u,!0)??{rowIndex:i-1,rowPinned:s}}return{rowIndex:i-1,rowPinned:s}}function eM(e,t,n=!1){const{rowIndex:i,rowPinned:s}=t,{pageBounds:o,pinnedRowModel:r,rowModel:l}=e;if(vie(e,t))return s==="bottom"?null:s==="top"&&l.isRowsToRender()?{rowIndex:o.getFirstRow(),rowPinned:null}:r?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(n){const u=s?void 0:l.getRow(i);return I3(e,u)??{rowIndex:i+1,rowPinned:s}}return{rowIndex:i+1,rowPinned:s}}function I3(e,t,n=!1){const{gos:i,rowRenderer:s}=e;if(!t?.sticky||!ZN(i))return;const o=s.getStickyTopRowCtrls(),r=s.getStickyBottomRowCtrls(),l=!r.some(g=>g.rowNode.rowIndex===t.rowIndex),u=l?o:r,d=(n?-1:1)*(l?-1:1);let f;for(let g=0;g<u.length;g++)if(u[g].rowNode.rowIndex===t.rowIndex){f=u[g+d];break}return f?{rowIndex:f.rowNode.rowIndex,rowPinned:null}:void 0}function vie(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:s,pageBounds:o}=e;return n==="top"?(s?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(s?.getPinnedBottomRowCount()??0)-1<=i:o.getLastRow()<=i}function Cie(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===ee.TAB){const s=i.shiftKey;Ml(e,n,!1,s)||pu(e,s)&&i.preventDefault()}}})}function wie(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function cl(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.exclusive}function lv(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.exclusive}function pu(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function yie(e,t){const n=e.focusSvc,i=n.getFocusedCell();if(i&&t&&BR(i,t)){const{rowIndex:s,rowPinned:o,column:r}=t;wR(e)&&n.setFocusedCell({rowIndex:s,column:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!A3()})}}function fo(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function GR(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const s=i.getGroupRowCount()||0;for(let o=0;o<s;o++){const r=i.getGroupRowCtrlAtIndex(o),l=t[o];if(r){const u=bie(e,r);(l==null||u>l)&&(t[o]=u)}}}return t}function bie(e,t){let i=e.colModel.isPivotMode()?Rie(e):L3(e);const s=t.getHeaderCellCtrls();for(const o of s){const{column:r}=o,l=r.getAutoHeaderHeight();l!=null&&l>i&&r.isAutoHeaderHeight()&&(i=l)}return i}function zR(e){let n=e.colModel.isPivotMode()?Sie(e):sf(e);return e.colModel.forAllCols(i=>{const s=i.getAutoHeaderHeight();s!=null&&s>n&&i.isAutoHeaderHeight()&&(n=s)}),n}function sf(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function O3(e){return e.gos.get("floatingFiltersHeight")??sf(e)}function L3(e){return e.gos.get("groupHeaderHeight")??sf(e)}function Sie(e){return e.gos.get("pivotHeaderHeight")??sf(e)}function Rie(e){return e.gos.get("pivotGroupHeaderHeight")??L3(e)}function xie(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var Eie=class extends ae{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:s,touchSvc:o,ctrlsSvc:r}=i;s&&this.createManagedBean(new nf(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),o?.mockHeaderContextMenu(this,l),r.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>fr(this.beans,()=>e()),stylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=GR(e).reduce((r,l)=>r+l,0),i=zR(e);e.filterManager?.hasFloatingFilters()&&(t+=O3(e)),t+=n,t+=i;const s=e.environment.getHeaderRowBorderWidth(),o=t+s;if(this.headerHeightWithBorder!==o){this.headerHeightWithBorder=o;const r=`${o}px`;this.comp.setHeightAndMinHeight(r)}this.headerHeight!==t&&(this.headerHeight=t,this.eventSvc.dispatchEvent({type:"headerHeightChanged"}))}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:s}=this,{headerNavigation:o,focusSvc:r}=s;(o.navigateHorizontally(i,!0,e)||!n&&r.focusOverlay(!1)||pu(s,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case ee.LEFT:t="LEFT";case ee.RIGHT:{be(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ee.UP:t="UP";case ee.DOWN:{be(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(nn(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:i,ctrlsSvc:s}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;const{target:o}=e??t;(o===this.eGui||o===s.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},jR=class extends ae{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=ni(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,s=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let r;e?r=i+s+o:(r=i,this.addSpacer&&(this.gos.get("enableRtl")?s:o)===0&&n.verticalScrollShowing&&(r+=n.getScrollbarWidth())),this.callback(r)}},Iu=class extends ae{};function of(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var UR=class extends ae{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Wt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=be(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!ni(n,"print")||e.getPinned()==="left")return t;const o=i.getColsLeftWidth();if(e.getPinned()==="right"){const r=i.bodyWidth;return o+r+t}return o+t}setLeft(e){if(be(e)&&(this.eCell.style.left=`${e}px`),xn(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Pee(this.ariaEl,t.length)}}},Tie="ag-column-first",Die="ag-column-last";function _3(e,t,n,i){return an(e)?[]:Aie(e.headerClass,e,t,n,i)}function N3(e,t,n){e.toggleCss(Tie,n.isColAtEdge(t,"first")),e.toggleCss(Die,n.isColAtEdge(t,"last"))}function Pie(e,t,n,i){return ze(t,{colDef:e,column:n,columnGroup:i})}function Aie(e,t,n,i,s){if(an(e))return[];let o;if(typeof e=="function"){const r=Pie(t,n,i,s);o=e(r)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}var Fie=0,V3="headerCtrl",WR=class extends ae{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+Fie++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,i,s){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,i,s),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),s=i?.suppressHeaderKeyboardEvent;if(!be(s))return!1;const o=ze(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!s(o)}getWrapperHasFocus(){return nn(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:s}=this,o=g=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:m,paddingBottom:v,borderBottomWidth:y,borderTopWidth:S}=Al(this.eGui),R=m+v+y+S,T=t.offsetHeight+R;if(g<5){const M=!Bn(s)?.contains(t),F=T==0;if(M||F){fS(()=>o(g+1),"raf",s);return}}this.setColHeaderHeight(this.column,T)};let r=!1,l;const u=()=>{const g=this.column.isAutoHeaderHeight();g&&!r&&d(),!g&&r&&f()},d=()=>{r=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),o(0),l=hr(this.beans,t,()=>o(0))},f=()=>{r=!1,l&&l(),this.comp.toggleCss("ag-header-cell-auto-height",!1),l=void 0};u(),i.addDestroyFunc(()=>f()),i.addManagedListeners(this.column,{widthChanged:()=>r&&o(0)}),i.addManagedEventListeners({sortChanged:()=>{r&&window.setTimeout(()=>o(0))}}),n&&n(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(N3(e,t,n.visibleCols),DN(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=cl(this.beans);this.eGui&&ki(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=nn(this.beans),n=e.key===ee.LEFT||e.key===ee.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),(e.ctrlKey||e.metaKey)&&C3(e)===ee.C)return this.beans.clipboardSvc?.copyToClipboard();if(!n)return;const o=e.key===ee.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(o)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===ee.LEFT!==t.get("enableRtl");const s=n.getPinned(),o=t.get("enableRtl");return s&&o!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAGE_HOME:case ee.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=V3,{eGui:n,gos:i}=this;vl(i,n,t,this),e.addDestroyFunc(()=>vl(i,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus()):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:s,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&i.preventDefault(),s?.isHeaderContextMenuEnabled(n)&&s.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},Mie=class extends WR{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,i,s){this.comp=e;const{rowCtrl:o,column:r,beans:l}=this,{colResize:u,context:d,colHover:f,rangeSvc:g}=l,m=of(this,d,s);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=m.createManagedBean(u.createResizeFeature(o.pinned,r,n,e,this)):Ut(n,!1),f?.createHoverFeature(m,[r],t),g?.createRangeHighlightFeature(m,r,e),m.createManagedBean(new UR(r,t,l)),m.createManagedBean(new nf(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(r,{colDefChanged:()=>this.refresh(),formulaRefChanged:()=>this.refresh(),headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const v=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:v,columnRowGroupChanged:v,columnPivotChanged:v,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return ze(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return _ne(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return ze(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||Yi(this.gos)),showColumnMenu:(o,r)=>{e?.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:r})},showColumnMenuAfterMouseClick:(o,r)=>{e?.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:r})},showFilter:o=>{e?.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t?.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,r)=>{t?.setSortForColumn(this.column,Gs(o),!!r,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,r)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,r)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ee.SPACE?this.selectAllFeature?.onSpaceKeyDown(e):e.key===ee.ENTER?this.onEnterKeyDown(e):e.key===ee.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){const{column:t,gos:n,sortable:i,beans:s}=this;let o=!1;(e.ctrlKey||e.metaKey)&&(o=this.showMenuOnKeyPress(e,!0)),o||(!e.altKey&&Jc(n)?s.rangeSvc?.handleColumnSelection(t,e):i&&s.sortSvc?.progressSort(t,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();return tM(n)&&n.onMenuKeyboardShortcut(t)?(e.preventDefault(),!0):!1}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),A3()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=_3(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n);for(const s of n)i.has(s)?i.delete(s):this.comp.toggleCss(s,!0);for(const s of i)this.comp.toggleCss(s,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,s=GR(this.beans),o=s.reduce((m,v)=>m+v,0)===0;if(n.toggleCss("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:r,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",r>0);const u=zR(i);if(r===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}n.toggleCss("ag-header-span-total",l);const d=(this.column.getFirstRealParent()?.getLevel()??-1)+1,f=s.length-d;let g=0;for(let m=0;m<f;m++)g+=s[s.length-1-m];e.style.setProperty("top",`${-g}px`),e.style.setProperty("height",`${u+g}px`)}refreshAriaSort(){let e=null;const{beans:t,column:n,comp:i,sortable:s}=this;if(s){const o=this.getLocaleTextFunc(),r=t.sortSvc?.getDisplaySortForColumn(n)??null;i.setAriaSort(Cee(r)),e=o("ariaSortableColumn","Press ENTER to sort")}else i.setAriaSort();this.setAriaDescriptionProperty("sort",e)}refreshAriaMenu(){let e=null;this.menuEnabled&&(e=this.getLocaleTextFunc()("ariaMenuColumn","Press ALT DOWN to open column menu")),this.setAriaDescriptionProperty("menu",e)}refreshAriaFilterButton(){let e=null;const{openFilterEnabled:t,gos:n}=this;t&&!Yi(n)&&(e=this.getLocaleTextFunc()("ariaFilterColumn","Press CTRL ENTER to open filter")),this.setAriaDescriptionProperty("filterButton",e)}refreshAriaFiltered(){let e=null;this.column.isFilterActive()&&(e=this.getLocaleTextFunc()("ariaColumnFiltered","Column Filtered")),this.setAriaDescriptionProperty("filter",e)}refreshAriaCellSelection(){let e=null;const{gos:t,column:n,beans:i}=this;if(Jc(t)){const o=this.getLocaleTextFunc(),r=i.rangeSvc?.isColumnInAnyRange(n);e=o("ariaColumnCellSelection",`Press CTRL+SPACE to ${r?"de":""}select all visible cells in this column`)}this.setAriaDescriptionProperty("cellSelection",e)}setAriaDescriptionProperty(e,t){const n=this.ariaDescriptionProperties;t!=null?n.set(e,t):n.delete(e)}announceAriaDescription(){const{beans:e,eGui:t,ariaDescriptionProperties:n}=this;if(!t.contains(nn(e)))return;const i=Array.from(n.keys()).sort((s,o)=>s==="filter"?-1:o.charCodeAt(0)-s.charCodeAt(0)).map(s=>n.get(s)).join(". ");e.ariaAnnounce?.announceValue(i,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered(),this.refreshAriaCellSelection()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return tM(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function tM(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var kie=0,Hy=class extends ae{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=kie++,this.comp=null,this.allCtrls=[];let i="ag-header-row-column";n==="group"?i="ag-header-row-group":n==="filter"&&(i="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${i}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=ni(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=of(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,stylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=ni(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=GR(this.beans);for(let s=0;s<t.length;s++){if(s===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[s]};e+=t[s]}const n=zR(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const i=O3(this.beans);return{topOffset:e,rowHeight:i}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:s,visibleCols:o}=this.beans;return s.isHeaderWrapperFocused(i)?o.isVisible(i.column):!1};if(e)for(const[i,s]of e)n(s)?this.ctrlsById.set(i,s):this.destroyBean(s);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let s;if(n&&(s=n.get(i),n.delete(i)),s&&s.column!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":s=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:s=this.createBean(new Mie(e,this));break}t.set(i,s)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(s=>s.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},Iie=class extends ae{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:s,colMoves:o}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const r=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:r,advancedFilterEnabledChanged:r});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),s.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:i}=this.beans;let s=0;const o=t.getFocusHeaderToUseAfterRefresh(),r=()=>{const g=i.headerGroupRowCount;s=g,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const m=this.groupsRowCtrls.length;if(m!==g){if(m>g){for(let v=g;v<m;v++)this.destroyBean(this.groupsRowCtrls[v]);this.groupsRowCtrls.length=g;return}for(let v=m;v<g;v++){const y=this.createBean(new Hy(v,this.pinned,"group"));this.groupsRowCtrls.push(y)}}},l=()=>{const g=s++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Hy(g,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==g&&this.columnsRowCtrl.setRowIndex(g)},u=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const g=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){g();return}e||g();const m=s++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==m&&this.filtersRowCtrl.setRowIndex(m):this.filtersRowCtrl=this.createBean(new Hy(m,this.pinned,"filter"))},d=this.getAllCtrls();r(),l(),u();const f=this.getAllCtrls();this.comp.setCtrls(f),this.restoreFocusOnHeader(t,o),d.length!==f.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(aa(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new jR(e=>this.comp.setCenterWidth(`${e}px`),!0))}},$R=class extends ku{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},cv=class extends $R{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.eEditor.destroy(),this.errorMessages=null,super.destroy()}};function Oie(e){e.valueCache?.expire()}function Lie(e,t){const{colKey:n,rowNode:i,useFormatter:s,from:o="edit"}=t,r=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(!r)return null;const l=e.valueSvc.getValueForDisplay({column:r,node:i,includeValueFormatted:s,from:o});return s?l.valueFormatted??Fu(l.value):l.value}var uv=class extends wn{constructor(){super()}},_ie={tag:"div",cls:"ag-overlay-exporting-center",children:[{tag:"span",ref:"eExportingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eExportingText",cls:"ag-exporting-text"}]},Nie=class extends uv{constructor(){super(...arguments),this.eExportingIcon=Te,this.eExportingText=Te}init(e){const{beans:t}=this;this.setTemplate(_ie);const n=Ii("overlayExporting",t,null);n&&this.eExportingIcon.appendChild(n);const i=e.exporting?.overlayText??this.getLocaleTextFunc()("exportingOoo","Exporting...");this.eExportingText.textContent=i,t.ariaAnnounce.announceValue(i,"overlay")}},Vie={tag:"div",cls:"ag-overlay-loading-center",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},Hie=class extends uv{constructor(){super(...arguments),this.eLoadingIcon=Te,this.eLoadingText=Te}init(e){const{beans:t,gos:n}=this,i=er(n.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(i??Vie),!i){const s=Ii("overlayLoading",t,null);s&&this.eLoadingIcon.appendChild(s);const o=e.loading?.overlayText??this.getLocaleTextFunc()("loadingOoo","Loading...");this.eLoadingText.textContent=o,t.ariaAnnounce.announceValue(o,"overlay")}}},Bie={tag:"span",cls:"ag-overlay-no-matching-rows-center"},Gie=class extends uv{init(e){const{beans:t}=this;this.setTemplate(Bie);const n=e.noMatchingRows?.overlayText??this.getLocaleTextFunc()("noMatchingRows","No Matching Rows");this.getGui().textContent=n,t.ariaAnnounce.announceValue(n,"overlay")}},zie={tag:"span",cls:"ag-overlay-no-rows-center"},jie=class extends uv{init(e){const{beans:t,gos:n}=this,i=er(n.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(i??zie),!i){const s=e.noRows?.overlayText??this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=s,t.ariaAnnounce.announceValue(s,"overlay")}}},Uie=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-label-align-right){.ag-label,.ag-wrapper{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column}:where(.ag-label-align-top){.ag-label,.ag-wrapper{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Wie=class extends ku{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Uie)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:s,labelEllipsis:o}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),o!=null&&this.setLabelEllipsis(o),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Li(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ut(t,!1),gl(t,"presentation")):(Ut(t,!0),gl(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(im(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Dh(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},H3=class extends Wie{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n,ariaLabel:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),i!=null&&this.setAriaLabel(i),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||wee(e)!==null?Th(e,""):Th(e,t??"")}setAriaLabel(e){return du(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return wo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function $ie(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var tl=class extends H3{constructor(e,t,n="text",i="input"){super(e,e?.template??$ie(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=Te,this.eWrapper=Te,this.eInput=Te}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:s,inputWidth:o,inputPlaceholder:r,autoComplete:l,tabIndex:u}=this.config;s!=null&&this.setInputName(s),o!=null&&this.setInputWidth(o),r!=null&&this.setInputPlaceholder(r),l!=null&&this.setAutoComplete(l),this.addInputListeners(),this.activateTabIndex([n],u)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,ki(this.eInput,"type",e))}getInputElement(){return this.eInput}getWrapperElement(){return this.eWrapper}setInputWidth(e){return im(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return ki(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return du(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Dh(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)ki(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";ki(this.eInput,"autocomplete",t)}return this}},KR=class extends tl{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t,name:n}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t),n!=null&&this.setName(n)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},qR={selector:"AG-CHECKBOX",component:KR},Kie=".ag-checkbox-cell{height:100%}",qie={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Yie=class extends wn{constructor(){super(qie,[qR]),this.eCheckbox=Te,this.registerCSS(Kie)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),xN(i,"polite"),this.addManagedListeners(i,{click:s=>{if(wl(s),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:s=>{wl(s)}}),this.addManagedElementListeners(e.eGridCell,{keydown:s=>{if(s.key===ee.SPACE&&!t.isDisabled()){e.eGridCell===nn(n)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),s.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:s,node:o}=e;if(o.group&&s)if(typeof i=="boolean")t=i;else{const g=s.getColId();g.startsWith(rv)?t=i==null||i===""?void 0:i==="true":o.aggData&&o.aggData[g]!==void 0||o.sourceRowIndex>=0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:r}=this;if(!n){r.setDisplayed(!1);return}r.setValue(t);const l=e.disabled??!s?.isCellEditable(o);r.setDisabled(l);const u=this.getLocaleTextFunc(),d=iv(u,t),f=l?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;r.setInputAriaLabel(f)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:i,value:s}=t,{editSvc:o}=this.beans;if(!n)return;const r={rowNode:i,column:n};o?.dispatchCellEvent(r,null,"cellEditingStarted",{value:s});const l=i.setDataValue(n,e,"ui");o?.dispatchCellEvent(r,null,"cellEditingStopped",{oldValue:s,newValue:e,valueChanged:l}),l||this.updateCheckbox(t)}};function gr(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function dv(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Xie(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var nM="row-group-",YR="t-",XR="b-",Qie=0,la=class{constructor(e){this.id=void 0,this.destroyed=!1,this._groupData=void 0,this.master=!1,this.detail=void 0,this.rowIndex=null,this.field=null,this.rowGroupColumn=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Qie++,this.alreadyRendered=!1,this.formulaRowIndex=null,this.hovered=!1,this.__selected=!1,this.beans=e}get groupData(){const e=this._groupData;return e!==void 0?e:this.footer?this.sibling?.groupData:this.beans.groupStage?.loadGroupData(this)??null}set groupData(e){this._groupData=e}get allLeafChildren(){const e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:i}=this.beans,s=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,s,t);if(this.__localEventService?.dispatchEvent(o),this.sibling){this.sibling.data=e;const l=this.sibling.createDataChangedEvent(e,s,t);this.sibling.__localEventService?.dispatchEvent(l)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});const r=this.pinnedSibling;r&&(r.data=e,r.__localEventService?.dispatchEvent(r.createDataChangedEvent(e,s,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:r}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Lt(13),null):this.rowPinned==="top"?YR+this.rowIndex:this.rowPinned==="bottom"?XR+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const o=this.createDataChangedEvent(e,s,!1);this.__localEventService?.dispatchEvent(o)}setId(e){const t=hu(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(nM)&&Lt(14,{groupPrefix:nM})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:s,gos:o,editSvc:r}=this.beans;if(e==null)return!1;let l=i.getCol(e)??i.getColDefCol(e);if(!l)return!1;if(!this.group){const f=l.getColDef();f.pivotValueColumn&&(l=f.pivotValueColumn)}const u=s.getValueForDisplay({column:l,node:this,from:"data"}).value;if(o.get("readOnlyEdit")){const{beans:{eventSvc:f},data:g,rowIndex:m,rowPinned:v}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:v,column:l,colDef:l.colDef,data:g,node:this,oldValue:u,newValue:t,value:t,source:n}),!1}if(r&&!r.committing){const f=r.setDataValue({rowNode:this,column:l},t,n);if(f!=null)return f}const d=s.setValue(this,l,t,n);return this.dispatchCellChangedEvent(l,t,u),d&&this.pinnedSibling?.dispatchCellChangedEvent(l,t,u),d}getDataValue(e){const{colModel:t,valueSvc:n,formula:i}=this.beans;if(e==null)return;const s=t.getCol(e)??t.getColDefCol(e);if(!s)return;let o=n.getValue(s,this,"data");return i&&s.isAllowFormula()&&i.isFormula(o)&&(o=i.resolveValue(s,this)),o}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let n=0,i=t.length;n<i;++n)t[n].depthFirstSearch(e);e(this)}getAggregatedChildren(e){const t=this.beans;return t.aggStage?.getAggregatedChildren(this,t.colModel.getCol(e))??[]}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new fl)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);const n=this.__localEventService??(this.__localEventService=new fl);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);const i=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,i)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){const n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(fe(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){const e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}_destroy(e){if(this.destroyed)return!1;this.destroyed=!0;const t=this.pinnedSibling;if(t?.rowPinned&&!this.rowPinned&&this.beans.pinnedRowModel?.pinRow(t,null),e?this.clearRowTopAndRowIndex():(this.setRowTop(null),this.setRowIndex(null)),!this.footer){const n=this.detailNode;n&&n._destroy(e);const i=this.sibling;i&&i._destroy(e)}return!0}};function Zie(e,t,n){return ze(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var Jie=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_groupData","_leafs","childStore","groupValue","oldRowTop","sticky","treeNodeFlags","treeParent"]),ese=(e,t)=>{const n=new la(t);for(const i of Object.keys(e))Jie.has(i)||(n[i]=e[i]);return n.oldRowTop=null,n},RS=(e,t,n)=>{if(!n)return;let i=n.rowIndex;if(i==null)return;i+=t;const s=e.getRowCount();for(;i>=0&&i<s;){const o=e.getRow(i);if(!o||!o.footer&&!o.detail)return o;i+=t}},iM=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),xo(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],s=this.order,o=ise(s);if(s.sort((l,u)=>t?.compareRowNodes(i,l,u)||(l.pinnedSibling?.rowIndex??0)-(u.pinnedSibling?.rowIndex??0)),!o)return;const r=JN(n);r==="bottom"||r==="pinnedBottom"?this.order.push(o):this.order.unshift(o)}hide(e){const{all:t,visible:n}=this,i=n.size;return t.forEach(s=>e(s)?n.delete(s):n.add(s)),this.order=Array.from(n),this.sort(),i!=n.size}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function B3(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?B3(t):!1}function By(e,t){const{gos:n,rowModel:i,filterManager:s}=e;return Mu(n)?!i.getRowNode(t.id):s?.isAnyFilterPresent()?!B3(t):n.get("pivotMode")?!t.group:!1}function tse(e){return!!e.footer&&e.level===-1}function nse(e){return!!e.pinnedSibling&&tse(e.pinnedSibling)}function ise(e){const t=e.findIndex(nse);if(t>-1)return e.splice(t,1)?.[0]}var sM=class extends ae{constructor(){super(...arguments),this.csrm=null}postConstruct(){const{gos:e,beans:t}=this;this.top=new iM(t,"top"),this.bottom=new iM(t,"bottom"),this.csrm=gr(t)??null;const n=s=>By(t,s.pinnedSibling),i=()=>{const s=e.get("isRowPinned");s&&e.get("enableRowPinning")&&t.rowModel.forEachNode(o=>this.pinRow(o,s(o)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:s})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow();let o=!1;this.forContainers(l=>{o||(o=l.hide(n))});const r=this.refreshRowPositions();(!s||r||o)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(ose),this.refreshRowPositions()},rowNodeDataChanged:({node:s})=>{(e.get("isRowPinnable")?.(s)??!0)||this.pinRow(s,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(s=>s.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:s})=>{this._grandTotalPinned=s==="pinnedBottom"?"bottom":s==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(t!=null&&e.destroyed)return;if(e.footer){const r=e.level;if(r>-1)return;if(r===-1){this._grandTotalPinned=t,this.csrm?.reMapRows();return}}const i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){const r=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(r,null,n),this.pinRow(l,t,n);return}const o=n&&rse(this.beans,e,n);if(o){o.forEach(r=>this.pinRow(r,t));return}if(t==null){const r=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(r);if(!l)return;l.delete(r);const u=r.pinnedSibling;Gy(r),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(u)}else{const r=oM(this.beans,e,t),l=this.getContainer(t);l.add(r),By(this.beans,e)&&l.hide(u=>By(this.beans,u.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const s=oa(this.beans,i);i.setRowTop(t),i.setRowHeight(s.height),t+=s.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return rM(this.top)}getPinnedBottomTotalHeight(){return rM(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>{const s=i.pinnedSibling?.id;s!=null&&n.push(s)}),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const s=this.beans.rowModel.getRowNode(i);s?this.pinRow(s,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const s=this.beans.rowModel.getRowNode(i);s&&n.add(s)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){const{csrm:e,beans:t,_grandTotalPinned:n}=this;if(!e)return;const i=e.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(Gy(s),o.delete(s)),!o||o.floating!==n){const r=oM(t,i,n);this.getContainer(n).add(r)}}else{if(!o)return;Gy(s),o.delete(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=i=>sse(this.beans,i);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(i=>{const s=t(i);n||(n=s)}),n}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function sse(e,t){let n=0,i=!1;return t.forEach((s,o)=>{if(i||(i=s.rowTop!==n),s.setRowTop(n),s.rowHeightEstimated||s.rowHeight==null){const r=oa(e,s).height;i||(i=s.rowHeight!==r),s.setRowHeight(r)}s.setRowIndex(o),n+=s.rowHeight}),i}function oM(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=ese(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const s=n==="top"?YR:XR;return i.id=`${s}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function Gy(e){if(!e.pinnedSibling)return;e.rowPinned=null,e._destroy(!1);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function ose(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function rse(e,t,n){const{rowSpanSvc:i}=e,s=(n&&i?.isCellSpanning(n,t))??!1;if(n&&s)return i?.getCellSpan(n,t)?.spannedNodes}function rM(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}var aM=class extends ae{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Id(this.pinnedBottomRows,t),Id(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const s=oa(this.beans,i);i.setRowTop(t),i.setRowHeight(s.height),t+=s.height,e=!0}};return Id(this.pinnedBottomRows,n),t=0,Id(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=hu(this.gos),s=t==="top"?YR:XR,o=new Set(n.order),r=[],l=new Set;let u=0,d=-1;for(const f of e){const g=i?.({data:f,level:0,rowPinned:t})??s+this.nextId++;if(l.has(g)){fe(96,{id:g,data:f});continue}d++,l.add(g),r.push(g);const m=nh(n,g);if(m!==void 0)m.data!==f&&m.updateData(f),u+=this.setRowTopAndRowIndex(m,u,d),o.delete(g);else{const v=new la(this.beans);v.id=g,v.data=f,v.rowPinned=t,u+=this.setRowTopAndRowIndex(v,u,d),n.cache[g]=v,n.order.push(g)}}for(const f of o)nh(n,f)?.clearRowTopAndRowIndex(),delete n.cache[f];n.order=r}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(oa(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return lM(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return lM(this.pinnedBottomRows)}getPinnedTopRowCount(){return ES(this.pinnedTopRows)}getPinnedBottomRowCount(){return ES(this.pinnedBottomRows)}getPinnedTopRow(e){return xS(this.pinnedTopRows,e)}getPinnedBottomRow(e){return xS(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return nh(this.getCache(t),e)}forEachPinnedRow(e,t){return Id(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function lM(e){const t=ES(e);if(t===0)return 0;const n=xS(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function nh(e,t){return e.cache[t]}function xS(e,t){return nh(e,e.order[t])}function Id(e,t){e.order.forEach((n,i)=>{const s=nh(e,n);s&&t(s,i)})}function ES(e){return e.order.length}var ase=class extends ae{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),i=JN(e),o=!!n||(i==="pinnedBottom"||i==="pinnedTop"),r=o?this.inner instanceof aM:this.inner instanceof sM;this.inner&&r&&this.destroyBean(this.inner),(r||!this.inner)&&(this.inner=this.createManagedBean(o?new sM:new aM))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},lse=500,cse=550,Ug,use=e=>{if(!Ug)Ug=new WeakSet;else if(Ug.has(e))return!1;return Ug.add(e),!0},$a=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new fl;const i=this.onTouchStart.bind(this);this.startListener=i,this.eElement.addEventListener("touchstart",i,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!use(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const i=this.eElement,s=i.ownerDocument,o=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this),l=this.onTouchCancel.bind(this),u={passive:!0},d={passive:!1};mp(n,[i,"touchmove",o,u],[s,"touchcancel",l,u],[s,"touchend",r,d],[s,"contextmenu",Zr,d])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},cse)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const i=qc(n,e.touches);i&&!ON(i,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){const t=this.touchStart;!t||!qc(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&Zr(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!qc(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now();const n=this.lastTapTime;n&&t-n>lse&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),PR(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},dse=1,hse=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=dse++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}for(const t of e.derivedBeans??[]){const{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const n=this.beans;for(const i of e)i.preWireBeans?.(n),i.wireBeans?.(n);for(const i of e)i.preConstruct?.();t&&e.forEach(t);for(const i of e)i.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function fse(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var gse=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],cM=Object.fromEntries(gse.map((e,t)=>[e,t]));function pse(e,t){const n=(e.beanName?cM[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?cM[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function mse(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var Rp={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},QR=class extends ae{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Rp.AUTO_HEIGHT:t.print?Rp.PRINT:Rp.NORMAL;this.view.updateLayoutClasses(n,t)}},G3=class extends wn{constructor(e,t){super(),this.direction=t,this.eViewport=Te,this.eContainer=Te,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",T3()||ll())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=P3(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),fr(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;Jee(this,()=>qs(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},vse={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},Cse=class extends G3{constructor(){super(vse,"horizontal"),this.eLeftSpacer=Te,this.eRightSpacer=Te,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new jR(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),wo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let s=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(s+=i),wo(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:i===0&&t?16:i,r=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Jd(this.getGui(),o),Jd(this.eViewport,o),Jd(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(r,100):r()}getScrollPosition(){return tm(this.eViewport,this.enableRtl)}setScrollPosition(e){qs(this.eViewport)||this.attemptSettingScrollPosition(e),nm(this.eViewport,e,this.enableRtl)}},z3=class extends ae{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},wse={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},yse=class extends G3{constructor(){super(wse,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new z3(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,s=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),wo(this.getGui(),s),wo(this.eViewport,s),wo(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),s=n.scrollTop;i!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!qs(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},Br="Viewport",uM="fakeVScrollComp",zy=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],dM=100,jy=150,bse=class extends ae{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=$n(this,()=>this.lastScrollSource[1]=null,jy),this.resetLastVScrollDebounced=$n(this,()=>this.lastScrollSource[0]=null,jy)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Br)});for(const e of zy){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?$n(this,this.onVScroll.bind(this,Br),dM):this.onVScroll.bind(this,Br),i=t?$n(this,this.onVScroll.bind(this,uM),dM):this.onVScroll.bind(this,uM);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...zy,Br]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);nm(n,e,this.enableRtl)}}getViewportForSource(e){return e===Br?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=tm(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Br?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===Br?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},jy)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!ll()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=RR(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of zy)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Br)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),nm(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let s=-1;for(let o=0;o<i;o++){const r=n.getRow(o);if(typeof e=="function"){if(r&&e(r)){s=o;break}}else if(e===r||e===r.data){s=o;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t,n=0){if(ni(this.gos,"print"))return;const{rowModel:i}=this.beans,s=i.getRowCount();if(typeof e!="number"||e<0||e>=s){fe(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:o,pageBounds:r,rowContainerHeight:l,rowRenderer:u}=this.beans;o.wrapIncoming(()=>{const d=this.ctrlsSvc.getGridBodyCtrl(),f=i.getRow(e);let g,m,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:y,stickyBottomHeight:S}=d,R=f.rowTop,x=f.rowHeight,T=r.getPixelOffset(),D=f.rowTop-T,M=D+f.rowHeight,F=this.getVScrollPosition(),I=l.divStretchOffset,A=F.top+I,O=F.bottom+I,_=O-A,B=l.getScrollPositionForPixel(D),z=l.getScrollPositionForPixel(M-_),q=Math.min((B+z)/2,D),oe=A+y>D,ce=O-S<M;let Y=null;t==="top"?Y=B-y:t==="bottom"?Y=z+S:t==="middle"?Y=q:oe?Y=B-y:ce&&(z-B>_?Y=B-y:Y=z+S),Y!==null&&(this.setVerticalScrollPosition(Y),u.redraw({afterScroll:!0})),g=R!==f.rowTop||x!==f.rowHeight,m=y!==d.stickyTopHeight||S!==d.stickyBottomHeight,v++}while((g||m)&&v<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(f?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const y=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const S=this.getVScrollPosition().top;y!==S&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,s=n.getCol(e);if(!s||s.isPinned()||!this.visibleCols.isColDisplayed(s))return;const o=this.getPositionedHorizontalScroll(s,t);i.wrapIncoming(()=>{o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl;let l=(r?n:i)||s,u=r?i:n;t!=="auto"&&(l=t==="start",u=t==="end");const d=t==="middle";if(l||u||d){const{colLeft:f,colMiddle:g,colRight:m}=this.getColumnBounds(e);return d?g-o/2:l?r?m:f:r?f-o:m-o}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:s}=this.getColumnBounds(e),o=this.enableRtl,r=o?t>s:n<s,l=o?n<i:t>i;return{columnBeforeStart:r,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),s=e.getLeft(),o=t?-1:1,r=t?n-s:s,l=r+i*o,u=r+i/2*o;return{colLeft:r,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},hM={horizontal:{overflow:e=>e.scrollWidth-e.clientWidth,scrollSize:e=>e.scrollWidth,clientSize:e=>e.clientWidth,opposite:"vertical"},vertical:{overflow:e=>e.scrollHeight-e.clientHeight,scrollSize:e=>e.scrollHeight,clientSize:e=>e.clientHeight,opposite:"horizontal"}};function Sse(e,t,n=VR()||0,i,s){return j3(e,t,"horizontal",n,i,s)}function Rse(e,t,n=VR()||0,i,s){return j3(e,t,"vertical",n,i,s)}function j3(e,t,n,i,s,o){const r=hM[n],l=hM[r.opposite],u=s?qs(s):!0,d=o?qs(o):!0,f=r.overflow(e);if(f<=0)return!1;if(!t||i===0)return!0;const g=l.overflow(t);if(g<=0)return!0;if(f<=i){if(u&&d&&xse({candidateOverflow:g,candidateScrollSize:l.scrollSize(t),candidateClientSize:l.clientSize(t),scrollbarWidth:i}))return!1;const m=r.clientSize(e)+i;return r.scrollSize(e)<=m}return!0}function xse({candidateOverflow:e,candidateScrollSize:t,candidateClientSize:n,scrollbarWidth:i}){if(e<=0||e>i)return!1;const s=n+i;return t>n&&t<=s}var Ese=class extends ae{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{fr(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=RR(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const{centerContainerCtrl:e,beans:t}=this,n=e.getCenterWidth(),i=e.getViewportScrollLeft();t.colViewport.setScrollPosition(n,i)}};function U3(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function xp(e,t,n,i){const s=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return W3(e,t,n,i,s)}function Tse(e,t,n,i){const s=t?.suppressMouseEventHandling;return W3(e,void 0,n,i,s)}function W3(e,t,n,i,s){return s?s(ze(e,{column:t,node:n,event:i})):!1}function $3(e,t,n){let i=t;for(;i;){const s=QN(e,i,n);if(s)return s;i=i.parentElement}return null}var vm="cellCtrl";function ZR(e,t){return $3(e,t,vm)}var Cm="renderedRow";function Dse(e,t){return $3(e,t,Cm)}function TS(e,t,n,i,s){const o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const r=ze(e,{event:t,editing:s,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(o&&o(r))}function Pse(e){const{pinnedRowModel:t,rowModel:n,rangeSvc:i,visibleCols:s}=e;if(!i||s.allCols.length===0)return;const o=t?.isEmpty("top")??!0,r=t?.isEmpty("bottom")??!0,l=o?null:"top";let u,d;r?(u=null,d=n.getRowCount()-1):(u="bottom",d=t?.getPinnedBottomRowCount()??-1),i.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:d,rowEndPinned:u})}var Ase=class extends ae{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){let e="mousedown";sm("pointerdown")?e="pointerdown":sm("touchstart")&&(e="touchstart");const t=["dblclick","contextmenu","mouseover","mouseout","click",e];for(const n of t){const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})}}processMouseEvent(e,t){if(!Fh(this.beans,t)||ir(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:ZR(t,e),rowCtrl:Dse(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!TS(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),U3(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:s,navigation:o}=this.beans,l=s.getFocusedCell()?.column;if(!TS(this.gos,n,i,l,!1)){const d=n.key;if(t==="keydown")switch(d){case ee.PAGE_HOME:case ee.PAGE_END:case ee.PAGE_UP:case ee.PAGE_DOWN:o?.handlePageScrollingKey(n,!0);break;case ee.LEFT:case ee.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case ee.UP:case ee.DOWN:e.onKeyboardNavigate(n);break;case ee.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Fh(this.beans,e))return;const n=C3(e),{clipboardSvc:i,undoRedo:s}=this.beans;if(n===ee.A)return this.onCtrlAndA(e);if(n===ee.C)return this.onCtrlAndC(i,e);if(n===ee.D)return this.onCtrlAndD(i,e);if(n===ee.V)return this.onCtrlAndV(i,e);if(n===ee.X)return this.onCtrlAndX(i,e);if(n===ee.Y)return this.onCtrlAndY(s);if(n===ee.Z)return this.onCtrlAndZ(s,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:s}=this;n&&ra(s)&&!Ete(s)&&t.isRowsToRender()?Pse(this.beans):i&&i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:i3(s)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},Wg=e=>e.topRowCtrls,$g=e=>e.getStickyTopRowCtrls(),Kg=e=>e.getStickyBottomRowCtrls(),qg=e=>e.bottomRowCtrls,Yg=e=>e.allRowCtrls,Uy=e=>e.getCtrls("top"),Wy=e=>e.getCtrls("center"),$y=e=>e.getCtrls("bottom"),Fse={center:{type:"center",name:"center-cols",getRowCtrls:Yg,getSpannedRowCtrls:Wy},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Yg,getSpannedRowCtrls:Wy},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Yg,getSpannedRowCtrls:Wy},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Yg},topCenter:{type:"center",name:"floating-top",getRowCtrls:Wg,getSpannedRowCtrls:Uy},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Wg,getSpannedRowCtrls:Uy},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Wg,getSpannedRowCtrls:Uy},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Wg},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:$g},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:$g},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:$g},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:$g},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Kg},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Kg},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Kg},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Kg},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:qg,getSpannedRowCtrls:$y},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:qg,getSpannedRowCtrls:$y},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:qg,getSpannedRowCtrls:$y},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:qg}};function K3(e){return`ag-${rf(e).name}-viewport`}function q3(e){const t=rf(e);return t.container??`ag-${t.name}-container`}function Mse(e){return`ag-${rf(e).name}-spanned-cells-container`}function rf(e){return Fse[e]}var kse=["topCenter","topLeft","topRight"],Ise=["bottomCenter","bottomLeft","bottomRight"],Ose=["center","left","right"],Lse=["center","left","right","fullWidth"],_se=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],Nse=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],Vse=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Y3=["stickyTopCenter","stickyTopLeft","stickyTopRight"],X3=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Hse=[...Y3,"stickyTopFullWidth",...X3,"stickyBottomFullWidth"],Bse=[...kse,...Ise,...Ose,...Y3,...X3],Gse=class extends ae{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=rf(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Ese(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new Ase(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:s,rangeSvc:o}=this.beans,r=()=>this.onPinnedWidthChanged();this.forContainers(Nse,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:r})}),this.forContainers(Vse,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:r})}),this.forContainers(Lse,()=>this.createManagedBean(new z3(this.eContainer,this.name==="center"?i:void 0))),o&&this.forContainers(Bse,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(_se,()=>this.createManagedBean(new jR(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(Hse.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=ni(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ph(this.eViewport)}getCenterViewportScrollLeft(){return tm(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=hr(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return xR(this.eViewport)}getViewportScrollLeft(){return tm(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){const{beans:e,gos:t,eViewport:n}=this,i=t.get("alwaysShowHorizontalScroll"),{ctrlsSvc:s}=e,o=s.getGridBodyCtrl()?.eBodyViewport,r=s.get("fakeHScrollComp")?.getGui(),l=s.get("fakeVScrollComp")?.getGui();return i||Sse(n,o,void 0,r,l)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){nm(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=ni(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||n,o=t.filter(r=>{const l=r.isFullWidth();return this.options.fullWidth?!s&&l:s||!l});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},zse="ag-force-vertical-scroll",jse="ag-selectable",Use="ag-column-moving",Wse=class extends ae{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,s,o,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=s,this.eStickyTop=o,this.eStickyBottom=r,this.eCenterColsViewport=n.querySelector(`.${K3("center")}`),this.eFullWidthContainer=n.querySelector(`.${q3("fullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new QR(this.comp)),this.scrollFeature=this.createManagedBean(new bse(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,s,o,r]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=P3()?16:0,s=`calc(100% + ${n+i}px)`;fr(this.beans,()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t,gos:n}=this;let i=n.get("treeData");if(!i){const s=t.isPivotMode();i=(e?e.columns.length:0)>=(s?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,s=sl(i,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:n=>{const{target:i,relatedTarget:s}=n,o=t.contains(s),r=sl(s,"ag-root",t);sl(i,"ag-root",t)||(!o||r)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Use,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(jse,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const{gos:e,comp:t,ctrlsSvc:n}=this,i=e.get("alwaysShowVerticalScroll"),s=i?zse:null,o=ni(e,"normal");t.setAlwaysVerticalScrollClass(s,i);const r=n.get("center")?.eViewport,l=n.get("fakeHScrollComp")?.getGui(),u=n.get("fakeVScrollComp")?.getGui();return i||o&&Rse(this.eBodyViewport,r,void 0,u,l)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const s=n&&Qc(this.gos)&&!e.stretching,o=s?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,s)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({stylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:s,beans:{popupSvc:o,touchSvc:r}}=this,l=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:l}),r?.mockBodyContextMenu(this,l),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,o)});const u=this.onStickyWheel.bind(this);for(const f of[t,n,i,s])this.addManagedElementListeners(f,{wheel:u});const d=this.onHorizontalWheel.bind(this);for(const f of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(f).eContainer,{wheel:d});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&Fh(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),s=t.getPinnedRowBorderWidth(),o=t.getRowBorderWidth(),r=s-o,l=n?r+n:0,u=i?r+i:0;this.comp.setTopHeight(l),this.comp.setBottomHeight(u),this.comp.setTopInvisible(l<=0),this.comp.setBottomInvisible(u<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,r=i+o;n.setStickyBottomBottom(`${r}px`)}},iu={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Q3=class extends bi{constructor(e,t){super(),this.stopPropagationCallbacks=t,this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:n,eTopGuard:i,eBottomGuard:s,focusTrapActive:o,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:l,focusInnerElement:u,onFocusIn:d,onFocusOut:f,shouldStopEventPropagation:g,onTabKeyDown:m,handleKeyDown:v,isEmpty:y,eFocusableElement:S}=e;this.comp=n,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=u,this.eFocusableElement=S,this.focusTrapActive=!!o,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!l,this.providedFocusIn=d,this.providedFocusOut=f,this.providedShouldStopEventPropagation=g,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=v,this.providedIsEmpty=y}postConstruct(){this.createManagedBean(new M3(this.eFocusableElement,this.stopPropagationCallbacks,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():nu(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Bn(this.beans),n=nu(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let s,o;e?(s=0,o=i):(s=i+1,o=n.length);const r=n.slice(s,o),l=this.gos.get("tabIndex");r.sort((u,d)=>{const f=Number.parseInt(u.getAttribute("tabindex")||"0"),g=Number.parseInt(d.getAttribute("tabindex")||"0");return g===l?1:f===l?-1:f===0?1:g===0?-1:f-g}),r[e?r.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=nu(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Ml(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},$se=class extends bi{constructor(e,t){super(),this.comp=e,this.stopPropagationCallbacks=t}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i,stopPropagationCallbacks:s}=this,o=[t,n],r={setTabIndex:x=>{for(const T of o)x==null?T.removeAttribute("tabindex"):T.setAttribute("tabindex",x)}};this.addTabGuards(t,n);const{focusTrapActive:l=!1,onFocusIn:u,onFocusOut:d,focusInnerElement:f,handleKeyDown:g,onTabKeyDown:m,shouldStopEventPropagation:v,isEmpty:y,forceFocusOutWhenTabGuardsAreEmpty:S,isFocusableContainer:R}=e;this.tabGuardCtrl=this.createManagedBean(new Q3({comp:r,focusTrapActive:l,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:u,onFocusOut:d,focusInnerElement:f,handleKeyDown:g,onTabKeyDown:m,shouldStopEventPropagation:v,isEmpty:y,forceFocusOutWhenTabGuardsAreEmpty:S,isFocusableContainer:R},s))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Bn(this.beans).createElement("div"),n=e==="top"?iu.TAB_GUARD_TOP:iu.TAB_GUARD_BOTTOM;return t.classList.add(iu.TAB_GUARD,n),gl(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.prepend(e),n.append(t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Li(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){DR(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.before(t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;sa(e),sa(t),super.destroy()}},Kse=class extends ku{initialiseTabGuard(e,t){this.tabGuardFeature=this.createManagedBean(new $se(this,t)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},qse=class extends Kse{initialiseTabGuard(t){super.initialiseTabGuard(t,HR)}},Yse=class extends ae{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:i,ctrlsSvc:s}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new QR(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=hr(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),s.register("gridCtrl",this)}isDetailGrid(){return F3(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:s,focusSvc:o}=this.beans,r=s.allCols,l=Wt(r);if(o.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:s}=this.beans,o=s.allCols;if(e){if(n.length>1)return this.focusContainer(Wt(n),e);const r=Wt(o);if(i.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||cl(this.beans)){if(i.focusGridView({column:o[0],backwards:e}))return!0;for(let r=1;r<n.length;r++)if(Cl(n[r].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n}=this.getNextFocusableIndex(t,e),i=t[n];i?this.focusContainer(i):this.forceFocusOutOfContainer(e)}isFocusable(){const e=this.beans;return!lv(e)||!cl(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=nn(this.beans),i=e.findIndex(o=>o.getGui().contains(n)),s=i+(t?-1:1);return{indexWithFocus:i,nextIndex:s}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Cl(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Xe=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},fM={dispatchEvent:"CommunityCore",...Xe("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Xe("GridState",{getState:0,setState:0}),...Xe("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Xe("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Xe("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Xe("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Xe("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Xe("ValueCache",{expireValueCache:0}),...Xe("CellApi",{getCellValue:0}),...Xe("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Xe("Sort",{onSortChanged:0}),...Xe("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Xe("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Xe("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Xe("HighlightChanges",{flashCells:0}),...Xe("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Xe("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Xe("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Xe("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Xe("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Xe("ColumnResize",{setColumnWidths:0}),...Xe("ColumnHover",{isColumnHovered:0}),...Xe("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Xe("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Xe("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Xe("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Xe("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Xe("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Xe("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Xe("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Xe("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...Xe("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Xe("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...Xe("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Xe("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Xe("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Xe("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Xe("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Xe("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Xe("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Xe("ContextMenu",{showContextMenu:0}),...Xe("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Xe("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Xe("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Xe("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Xe("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Xe("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...Xe("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Xe("StatusBar",{getStatusPanel:0}),...Xe("AiToolkit",{getStructuredSchema:0})},Ky={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Xse=(e,t)=>e.eventSvc.dispatchEvent(t),Z3=class{};Reflect.defineProperty(Z3,"name",{value:"GridApi"});var Qse=class extends ae{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new Z3,this.fns={...Ky,dispatchEvent:Xse},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(fM))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;n!==Ky&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)fe(26,{fnName:e,preDestroyLink:i});else{const s=fM[e];n.assertModuleRegistered(s,`api.${e}`)&&fe(27,{fnName:e,module:s})}}destroy(){super.destroy(),this.fns=Ky,this.beans=null}};function Zse(e){return e.context.getId()}function Jse(e){e.gridDestroySvc.destroy()}function eoe(e){return e.gridDestroySvc.destroyCalled}function toe(e,t){return e.gos.get(t)}function noe(e,t,n){J3(e,{[t]:n})}function J3(e,t){e.gos.updateGridOptions({options:t})}function ioe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var soe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},ooe=class extends wn{constructor(e,t,n){super(soe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Ii("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:s}=this,o=n.getColDef().dndSourceOnRowDrag,r=e.dataTransfer;if(r.setDragImage(i,0,0),o){const l=ze(s,{rowNode:t,dragEvent:e});o(l)}else try{const l=JSON.stringify(t.data);r.setData("application/json",l),r.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function roe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function aoe(e,t){const n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function loe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function coe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function uoe(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const i=t?.row;let s=t?.dropIndicatorPosition;s!=="above"&&s!=="below"&&s!=="inside"&&(s="none");const o=i?.rowIndex;o==null||s==="none"?n.clear():n.set(i,s)}var eV=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},doe=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!eV(e,n))return null;const i={eElement:e,pointerId:n,onLost(s){foe(i,s)}};return e.addEventListener("lostpointercapture",i.onLost),i},hoe=e=>{if(!e)return;tV(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},tV=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},foe=(e,t)=>{tV(e);const{eElement:n,pointerId:i}=e;n&&t.pointerId===i&&eV(n,i)},bc,Hc,qy={passive:!0},Gr={passive:!1},so=e=>{if(!Hc)Hc=new WeakSet;else if(Hc.has(e))return!1;return Hc.add(e),!0},goe=class extends bi{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!bc?.has(ao(this.beans))}hasPointerCapture(){const e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)gM(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,i=t.length;n<i;++n){const s=t[n];if(s.params===e){t.splice(n,1),gM(s);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,i=[];let s;if(n){const d=t.style;d&&(s=d.touchAction,d.touchAction="none")}const o={handlers:i,params:e,oldTouchAction:s};this.dragSources.push(o),mp(i,[t,"pointerdown",d=>this.onPointerDown(e,d),Gr],[t,"mousedown",d=>this.onMouseDown(e,d)]);const u=this.gos.get("suppressTouch");n&&!u&&mp(i,[t,"touchstart",f=>this.onTouchStart(e,f),Gr])}cancelDrag(e){const t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&Fh(this.beans,e)&&!Zd(Xy(e))}initDrag(e,...t){this.drag=e;const n=this.beans,i=l=>this.onScroll(l),s=l=>this.onKeyDown(l),o=ao(n),r=Bn(n);mp(e.handlers,[o,"contextmenu",Zr],[o,"keydown",s],[r,"scroll",i,{capture:!0}],[r.defaultView||window,"scroll",i],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;bc?.get(t)===e&&bc.delete(t),this.drag=null,hoe(e.pointerCapture),PR(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(Hc?.has(t))return;const i=t.pointerType;if(i==="touch"&&(n.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),Zd(Xy(t))))||!t.isPrimary||i==="mouse"&&t.button!==0)return;this.destroyDrag();const s=ao(n),o=e.eElement,r=t.pointerId,l=new Yy(s,e,t,r);bc??(bc=new WeakMap),bc.set(s,l);const u=m=>{m.pointerId===r&&this.onMouseOrPointerMove(m)},d=m=>{m.pointerId===r&&this.onMouseOrPointerUp(m)},f=m=>{m.pointerId===r&&so(m)&&this.cancelDrag()},g=m=>this.draggingPreventDefault(m);this.initDrag(l,[s,"pointerup",d],[s,"pointercancel",f],[s,"pointermove",u,Gr],[s,"touchmove",g,Gr],[o,"mousemove",g,Gr]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):so(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!so(t)||Zd(Xy(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){this.dragging&&Zr(t);return}this.destroyDrag();const i=this.beans,s=ao(i),o=new Yy(s,e,t.touches[0]),r=m=>this.onTouchMove(m),l=m=>this.onTouchUp(m),u=m=>this.onTouchCancel(m),d=m=>this.draggingPreventDefault(m),f=ao(i),g=t.target??e.eElement;this.initDrag(o,[g,"touchmove",r,qy],[g,"touchend",l,qy],[g,"touchcancel",u,qy],[f,"touchmove",d,Gr],[f,"touchend",l,Gr],[f,"touchcancel",u,Gr]),e.dragStartPixels===0&&this.onMove(o.start)}draggingPreventDefault(e){this.dragging&&Zr(e)}onMouseDown(e,t){if(t.button!==0||Hc?.has(t)||this.isPointer())return;const n=this.beans;this.destroyDrag();const i=new Yy(ao(n),e,t),s=l=>this.onMouseOrPointerMove(l),o=l=>this.onMouseOrPointerUp(l),r=ao(n);this.initDrag(i,[r,"mousemove",s],[r,"mouseup",o]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):so(t)}onScroll(e){if(!so(e))return;const t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging?.(n)}onMouseOrPointerMove(e){so(e)&&(pa()&&Bn(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&Zr(e),this.onMove(e))}onTouchCancel(e){const t=this.drag;!t||!so(e)||qc(t.start,e.changedTouches)&&this.cancelDrag()}onTouchMove(e){const t=this.drag;if(!t||!so(e))return;const n=qc(t.start,e.touches);n&&(this.onMove(n),this.draggingPreventDefault(e))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const i=t.start,o=n.dragStartPixels??4;if(ON(e,i,o)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=doe(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),n.onDragStart?.(i),this.drag!==t)||(n.onDragging?.(i),this.drag!==t))return}n.onDragging?.(e)}onTouchUp(e){const t=this.drag;t&&so(e)&&this.onUp(qc(t.start,e.changedTouches))}onMouseOrPointerUp(e){so(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop?.(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===ee.ESCAPE&&this.cancelDrag()}},gM=e=>{PR(e.handlers);const t=e.oldTouchAction;if(t!=null){const n=e.params.eElement.style;n&&(n.touchAction=t)}},Yy=class{constructor(e,t,n,i=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=i,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},Xy=e=>{const t=e.target;return t instanceof Element?t:null},poe=class extends goe{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},moe=class extends ae{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},voe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},Xg={skipAriaHidden:!0},Coe=class extends wn{constructor(e,t,n,i,s,o=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=s,this.alwaysVisible=o,this.dragSource=null,this.disabled=!1}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(voe),this.getGui().appendChild(Ii("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,rowNode:t}=this,n=this.refreshVisibility.bind(this);this.addManagedListeners(e.eventSvc,{rowDragVisibilityChanged:n}),this.addManagedListeners(t,{dataChanged:n,cellChanged:n}),this.refreshVisibility()}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const{beans:e,column:t,rowNode:n}=this,{gos:i,dragAndDrop:s,rowDragSvc:o}=e,r=o?.visibility;let u=!(r==="suppress"||r==="hidden"&&!s?.hasExternalDropZones()),d=u;if(u&&!this.isCustomGui()&&t){const f=t.getColDef().rowDrag;if(f===!1)u=!1;else{const g=typeof f=="function";d=t.isRowDrag(n),u=g||d}}u&&d&&n.footer&&i.get("rowDragManaged")&&(d=!1,u=!0),d&&(d=u),u||this.setDisplayed(u,Xg),d||this.setVisible(d,Xg),this.setDisabled(!d||r==="disabled"&&!s?.hasExternalDropZones()),u&&this.setDisplayed(u,Xg),d&&this.setVisible(d,Xg)}setDisabled(e){e!==this.disabled&&(this.disabled=e,this.getGui()?.classList?.toggle("ag-drag-handle-disabled",e))}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();if(this.gos.get("enableCellTextSelection")){this.removeMouseDownListener();const i=sm("pointerdown")?{pointerdown:Zr}:{mousedown:Zr};this.mouseDownListener=this.addManagedElementListeners(t,i)[0]}const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:i=>this.getDragItemName(i,n),getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}getDragItemName(e,t){const n=e?.dragItem||this.getDragItem(),i=(e?.dropTarget?.rows.length??n.rowNodes?.length)||1,s=this.column?.getColDef()?.rowDragText??this.gos.get("rowDragText");if(s)return s(n,i);if(i!==1)return`${i} ${t("rowDragRows","rows")}`;const o=this.cellValueFn();return o||`1 ${t("rowDragRow","rows")}`}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},woe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick??20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<i.left+s,this.tickRight=e.clientX>i.right-s,this.tickUp=e.clientY<i.top+s&&!n,this.tickDown=e.clientY>i.bottom-s&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Ep=class{constructor(){this.reordered=!1,this.removals=[],this.updates=new Set,this.adds=new Set}},wm=e=>{let t=e.childrenAfterGroup;for(;t?.length;){const n=t[0];if(n.sourceRowIndex>=0)return n;t=n.childrenAfterGroup}},yoe=(e,t,n,i)=>{if(!t.size||!e)return!1;let s=!1;const o=e.length??0;let r=-1;n&&(r=n.sourceRowIndex,n=r<0?wm(n):null,n&&(r=n.sourceRowIndex)),r<0||r>=o?r=o:i||++r;let l=r,u=Math.min(r,o-1);for(const g of t){const m=g.sourceRowIndex;m<l&&(l=m),m>u&&(u=m)}let d=l;for(let g=l;g<r;++g){const m=e[g];t.has(m)||(m.sourceRowIndex!==d&&(m.sourceRowIndex=d,e[d]=m,s=!0),++d)}let f=u;for(let g=u;g>=r;--g){const m=e[g];t.has(m)||(m.sourceRowIndex!==f&&(m.sourceRowIndex=f,e[f]=m,s=!0),--f)}for(const g of t)g.sourceRowIndex!==d&&(g.sourceRowIndex=d,e[d]=g,s=!0),++d;return s};function boe(e,t){return ZR(e,t.target)?.getFocusedCellPosition()??null}function pM(e,t){const n=ni(e.gos,"normal"),i=t;let s,o;i.clientX!=null||i.clientY!=null?(s=i.clientX,o=i.clientY):(s=i.x,o=i.y);const{pageFirstPixel:r}=e.pageBounds.getCurrentPagePixelRange();if(o+=r,n){const l=e.ctrlsSvc.getScrollFeature(),u=l.getVScrollPosition(),d=l.getHScrollPosition();s+=d.left,o+=u.top}return{x:s,y:o}}var Oh=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let s=0;s<i.length;++s)this.depthFirstSearchChangedPath(i[s],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let s=0,o=i.length;s<o;++s){const r=i[s];r.childrenAfterGroup?this.depthFirstSearchEverything(r,t,n):n&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const i of t)this.nodeIdsToColumns[n.id][i.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const s=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(s),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(s=>n[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(s=>!n[s.getId()])}},Soe=.25,Roe=class extends ae{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.autoScroll=null,this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{const n=()=>t.gridBodyCtrl.scrollFeature.getVScrollPosition().top,i=new woe({scrollContainer:t.gridBodyCtrl.eBodyViewport,scrollAxis:"y",getVerticalPosition:n,setVerticalPosition:s=>t.gridBodyCtrl.scrollFeature.setVerticalScrollPosition(s),onScrollCallback:()=>{const s=n();if(this.autoScrollOldV!==s){this.autoScrollOldV=s,this.autoScrollChanging=!0;return}const o=this.autoScrollChanging;this.autoScrollChanged=o,this.autoScrollChanging=!1,o&&(e.dragAndDrop?.nudge(),this.autoScrollChanged=!1)}});this.autoScroll=i,this.clearAutoScroll()})}destroy(){super.destroy(),this.clearAutoScroll(),this.autoScroll=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.beans.rowDragSvc.visibility!=="visible"?"notAllowed":"move"}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=this.beans.selectionSvc?.getSelectedNodes();if(n&&n.indexOf(t)>=0)return n.slice().sort(xoe)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:n,beans:i}=this;if(t){const l=this.getRowNodes(e);e.dragItem.rowNodes=l,vM(l,!0)}this.lastDraggingEvent=e;const s=e.fromNudge,o=this.makeRowsDrop(n,e,s,!1);i.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e);const r=this.autoScroll;o?.rowDragManaged&&o.moved&&o.allowed&&o.sameGrid&&!o.suppressMoveWhenRowDragging&&(!s&&!r?.scrolling||this.autoScrollChanged)&&this.dropRows(o),r?.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,i){const{beans:s,gos:o}=this,r=this.newRowsDrop(t,i),l=s.rowModel;if(t.dropTarget=r,t.changed=!1,!r)return null;let{sameGrid:u,rootNode:d,source:f,target:g}=r;g??(g=l.getRow(l.getRowCount()-1)??null);const m=this.beans.groupEditSvc,v=!!m?.canSetParent(r);let y=null;if(g?.footer){const R=RS(l,-1,g)??RS(l,1,g);v&&(y=g.sibling??d),g=R??null}g?.detail&&(g=g.parent),r.moved&&(r.moved=f!==g);let S=.5;if(g&&(u&&r.moved&&(y||!v)?S=f.rowIndex>g.rowIndex?-.5:.5:S=(r.y-g.rowTop-g.rowHeight/2)/g.rowHeight||0),!v&&u&&g&&r.moved&&En(o)){const R=Eoe(l,r);R&&(S=f.rowIndex>R.rowIndex?-.5:.5,g=R,r.moved&&(r.moved=f!==g))}return r.target=g,r.newParent=y,r.pointerPos=Toe(g,r.y),r.yDelta=S,m?.fixRowsDrop(r,v,n,S),this.validateRowsDrop(r,v,i),t.changed||(t.changed=mM(e?.dropTarget,r)),r}newRowsDrop(e,t){const{beans:n,gos:i}=this,s=n.rowModel.rootNode,o=En(i)?i.get("rowDragManaged"):!1,r=i.get("suppressMoveWhenRowDragging"),l=this.isFromThisGrid(e);let{rowNode:u,rowNodes:d}=e.dragItem;if(d||(d=u?[u]:[]),u||(u=d[0]),!u||!s)return null;const f=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let g=!0;o&&(!d.length||n.rowDragSvc.visibility!=="visible"||(r||!l)&&!f)&&(g=!1);const m=pM(n,e).y,v=this.getOverNode(m);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:o,suppressMoveWhenRowDragging:r,sameGrid:l,withinGrid:f,treeData:!1,rootNode:s,moved:u!==v,y:m,overNode:v,overIndex:v?.rowIndex??-1,pointerPos:"none",position:"none",source:u,target:v??null,newParent:null,rows:d,allowed:g,highlight:!t&&o&&r&&(f||!l),yDelta:0,inside:!1,droppedManaged:!1}}validateRowsDrop(e,t,n){const{source:i,target:s,yDelta:o,inside:r,moved:l,rowDragManaged:u,suppressMoveWhenRowDragging:d}=e;e.moved&&(e.moved=i!==s);const{position:f,fallbackPosition:g}=this.computeDropPosition(l,r,o);e.position=f,t||(e.newParent=null),this.enforceSuppressMoveWhenRowDragging(e,d,"initial");const m=(!u||e.allowed)&&this.gos.get("isRowValidDropPosition");m&&this.applyDropValidator(e,t,n,u,m),u&&(e.rows=this.filterRows(e)),this.beans.groupEditSvc?.clearNewSameParent(e,t),this.enforceSuppressMoveWhenRowDragging(e,d,"final"),e.position==="inside"&&(!e.allowed||!e.newParent)&&(e.position=g)}computeDropPosition(e,t,n){const i=n<0?"above":"below";return e?{position:t?"inside":i,fallbackPosition:i}:{position:"none",fallbackPosition:i}}enforceSuppressMoveWhenRowDragging(e,t,n){if(t){if(n==="initial"){e.moved||(e.allowed=!1);return}(!e.rows.length||e.position==="none")&&(e.allowed=!1)}}applyDropValidator(e,t,n,i,s){this.beans.groupEditSvc?.clearNewSameParent(e,t);const o=s(e);if(!o){e.allowed=!1;return}if(typeof o!="object")return;o.rows!==void 0&&(e.rows=o.rows??[]),t&&o.newParent!==void 0&&(e.newParent=o.newParent),o.target!==void 0&&(e.target=o.target),o.position&&(e.position=o.position),o.allowed!==void 0?e.allowed=o.allowed:i||(e.allowed=!0);const r=e.draggingEvent;o.changed&&r&&(r.changed=!0),!n&&o.highlight!==void 0&&(e.highlight=o.highlight)}addRowDropZone(e){if(!e.getContainer()){fe(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){fe(56);return}const n=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(s=>e.onDragEnter(this.rowDragEvent("rowDragEnter",s))),onDragLeave:e.onDragLeave&&(s=>e.onDragLeave(this.rowDragEvent("rowDragLeave",s))),onDragging:e.onDragging&&(s=>e.onDragging(this.rowDragEvent("rowDragMove",s))),onDragStop:e.onDragStop&&(s=>e.onDragStop(this.rowDragEvent("rowDragEnd",s))),onDragCancel:e.onDragCancel&&(s=>e.onDragCancel(this.rowDragEvent("rowDragCancel",s)))},i={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:n=>{this.onDragEnter(n),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",n))},onDragLeave:n=>{this.onDragLeave(n),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",n))},onDragging:n=>{this.onDragging(n),e?.onDragging?.(this.rowDragEvent("rowDragMove",n))},onDragStop:n=>{this.onDragStop(n),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",n))},onDragCancel:n=>{this.onDragCancel(n),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",n))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:n}=this.beans,s=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return s>=0?n.getRow(s):void 0}rowDragEvent(e,t){const n=this.beans,{dragItem:i,dropTarget:s,event:o,vDirection:r}=t,l=s?.rootNode===n.rowModel.rootNode,u=l?s.y:pM(n,t).y,d=l?s.overNode:this.getOverNode(u),f=l?s.overIndex:d?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:o,node:i.rowNode,nodes:i.rowNodes,overIndex:f,overNode:d,y:u,vDirection:r,rowsDrop:s}}dispatchGridEvent(e,t){const n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e,!1)}onDragStop(e){const t=this.lastDraggingEvent?.dropTarget??null,n=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),n?.allowed&&n.rowDragManaged&&(!t?.droppedManaged||mM(t,n))&&this.dropRows(n),this.stopDragging(e,!0)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e,!0)}stopDragging(e,t){this.clearAutoScroll(),this.beans.groupEditSvc?.stopDragging(t),this.beans.rowDropHighlightSvc?.fromDrag(null),vM(e.dragItem.rowNodes,!1),this.lastDraggingEvent=null}clearAutoScroll(){this.autoScroll?.ensureCleared(),this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}dropRows(e){return e.droppedManaged=!0,e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){const i=hu(this.gos),s=this.beans.rowModel,o=n.filter(({data:l,rowPinned:u})=>!s.getRowNode(i?.({data:l,level:0,rowPinned:u})??l.id)).map(({data:l})=>l);if(o.length===0)return!1;let r;if(t){const l=t.sourceRowIndex>=0?t:wm(t);l&&(r=l.sourceRowIndex+(e==="above"?0:1))}return s.updateRowData({add:o,addIndex:r}),!0}filterRows(e){const{groupEditSvc:t}=this.beans,{rows:n,sameGrid:i}=e;let s;for(let o=0,r=n.length;o<r;++o){let l=!0;const u=n[o];(!u||u.footer||i&&u.destroyed&&!u.group||!this.csrmGetLeaf(u))&&(l=!1),l&&t&&!t.canDropRow(u,e)&&(l=!1),l?s?.push(u):s??(s=n.slice(0,o))}return s??n}csrmMoveRows(e){const t=this.beans.groupEditSvc;return t?.isGroupingDrop(e)?t.dropGroupEdit(e):this.csrmMoveRowsReorder(e)}csrmMoveRowsReorder({position:e,target:t,rows:n,newParent:i,rootNode:s}){let o=!1;const r=new Set;for(const m of n){i&&m.parent!==i&&(m.treeParent=i,o=!0);const v=this.csrmGetLeaf(m);v&&r.add(v)}if(!o&&r.size===0)return!1;const l=this.beans.focusSvc,u=l.getFocusedCell(),d=u&&Vc(this.beans,u);if(r.size&&yoe(s._leafs,r,t,e==="above")&&(o=!0),!o)return!1;const f=this.beans.rowModel,g=new Ep;return g.reordered=!0,f.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Oh(!1,s),changedRowNodes:g}),d?d.focusCell():l.clearFocusedCell(),!0}csrmGetLeaf(e){if(e.sourceRowIndex>=0)return e.destroyed?void 0:e;const t=this.beans.groupEditSvc;return t?t.csrmFirstLeaf(e):wm(e)}},mM=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!fa(e.rows,t.rows)),xoe=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,vM=(e,t)=>{for(let n=0,i=e?.length||0;n<i;++n){const s=e[n];s.dragging!==t&&(s.dragging=t,s.dispatchRowEvent("draggingChanged"))}},Eoe=(e,t)=>{let n=null,i=t.target;if(i&&t.rows.indexOf(i)<0)return null;const s=t.source;if(!i||!s)return null;let o=i.rowIndex-s.rowIndex;const r=o<0?-1:1;o=t.suppressMoveWhenRowDragging?Math.abs(o):1;const l=new Set(t.rows);do{const u=RS(e,r,i);if(!u)break;l.has(u)||(n=u,--o),i=u}while(o>0);return n},Toe=(e,t)=>{const n=e?.rowTop,i=e?.rowHeight??0;if(n==null||!i||i<=0)return"none";const s=t-n,o=i*Soe;return s<=o?"above":s>=i-o?"below":"inside"},Doe=class extends ae{constructor(){super(...arguments),this.beanName="rowDragSvc",this.rowDragFeature=null,this.visibility="suppress"}setupRowDrag(e,t){const n=t.createManagedBean(new Roe(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n;const s=()=>this.refreshVisibility();this.addManagedPropertyListeners(["rowDragManaged","suppressRowDrag","refreshAfterGroupEdit"],s),this.addManagedEventListeners({newColumnsLoaded:s,columnRowGroupChanged:s,columnPivotModeChanged:s,sortChanged:s,filterChanged:s}),this.visibility=this.computeVisibility()}createRowDragComp(e,t,n,i,s,o){return new Coe(e,t,n,i,s,o)}createRowDragCompForRow(e,t){if(ra(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,s,o){const r=this.gos;return r.get("rowDragManaged")&&(!En(r)||r.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,s,o)}cancelRowDrag(){this.rowDragFeature?.lastDraggingEvent&&this.beans.dragSvc?.cancelDrag()}computeVisibility(){const e=this.beans,t=e.gos;if(t.get("suppressRowDrag"))return"suppress";if(!t.get("rowDragManaged"))return"visible";const i=e.colModel.isPivotMode();return(i||e.rowGroupColsSvc?.columns?.length)&&!t.get("refreshAfterGroupEdit")?"hidden":i||e.filterManager?.isAnyFilterPresent()||e.sortSvc?.isSortActive()?"disabled":"visible"}refreshVisibility(){const e=this.visibility,t=this.computeVisibility();e!==t&&(this.visibility=t,this.eventSvc?.dispatchEvent({type:"rowDragVisibilityChanged"}))}},Poe=class extends ae{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,i=e.uiLevel,s=t!==this.position,o=i!==this.uiLevel;this.dragging=!1,(n||s||o)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:n,target:i,position:s}=t;if(n&&i&&s!=="none"){this.set(i,s),this.dragging=!0;return}}this.dragging&&this.clear()}},nV={moduleName:"Drag",version:we,beans:[poe]},Aoe={moduleName:"DragAndDrop",version:we,dynamicBeans:{dndSourceComp:ooe},icons:{rowDrag:"grip"}},iV={moduleName:"SharedDragAndDrop",version:we,beans:[qne],dependsOn:[nV],userComponents:{agDragAndDropImage:mne},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Foe={moduleName:"RowDrag",version:we,beans:[Poe,Doe],apiFunctions:{addRowDropZone:roe,removeRowDropZone:aoe,getRowDropZoneParams:loe,getRowDropPositionIndicator:coe,setRowDropPositionIndicator:uoe},dependsOn:[iV]},Moe={moduleName:"HorizontalResize",version:we,beans:[moe],dependsOn:[nV]},koe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",Ioe=class extends ae{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const s=o=>{for(;o.length;){const r=o.pop();r&&r()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),s(n)},0),window.setTimeout(()=>{t(),s(i)},200)})}};function Ooe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function Loe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var _oe=class extends ae{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function Noe(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,s)=>{const o=e.indexOf(i),r=e.indexOf(s);return o-r})}function Voe(e){const t=[...e];for(const n of e){let i=null,s=n.getParent();for(;s!=null&&s.getDisplayedLeafColumns().length===1;)i=s,s=s.getParent();if(i!=null){const r=!!i.getColGroupDef()?.marryChildren?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns();for(const l of r)t.includes(l)||t.push(l)}}return t}function Hoe(e,t,n,i){const s=i.allCols;let o=null,r=null;for(let l=0;l<e.length;l++){const u=e[l],d=n.getProposedColumnOrder(t,u);if(!n.doesOrderPassRules(d))continue;const f=d.filter(m=>s.includes(m));if(r===null)r=f;else if(!fa(f,r))break;const g=Goe(d);(o===null||g<o.fragCount)&&(o={move:u,fragCount:g})}return o}function sV(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:s,fakeEvent:o,pinned:r,gos:l,colModel:u,colMoves:d,visibleCols:f}=e;let{allMovingColumns:g}=e;t&&(g=Voe(g));const m=g.slice();Noe(u.getCols(),m);const v=joe({movingCols:m,draggingRight:n,xPosition:i,pinned:r,gos:l,colModel:u,visibleCols:f}),y=Boe(m,u);if(v.length===0)return;const S=v[0];if(y!==null&&(t||!s)&&!o&&(!n&&S>=y||n&&S<=y))return;const x=Hoe(v,m,d,f);if(!x)return;const T=x.move;if(!(T>u.getCols().length-m.length))return{columns:m,toIndex:T}}function oV(e){const{columns:t,toIndex:n}=sV(e)||{},{finished:i,colMoves:s}=e;return!t||n==null?null:(s.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function Boe(e,t){const n=t.getCols(),i=e.map(u=>n.indexOf(u)).sort((u,d)=>u-d),s=i[0];return Wt(i)-s!==i.length-1?null:s}function Goe(e){function t(i){const s=[];let o=i.getOriginalParent();for(;o!=null;)s.push(o),o=o.getOriginalParent();return s}let n=0;for(let i=0;i<e.length-1;i++){let s=t(e[i]),o=t(e[i+1]);[s,o]=s.length>o.length?[s,o]:[o,s];for(const r of s)o.indexOf(r)===-1&&n++}return n}function zoe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function joe(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:s,gos:o,colModel:r,visibleCols:l}=e;if(o.get("suppressMovableColumns")||t.some(D=>D.getColDef().suppressMovable))return[];const d=zoe(l,s),f=r.getCols(),g=d.filter(D=>t.includes(D)),m=d.filter(D=>!t.includes(D)),v=f.filter(D=>!t.includes(D));let y=0,S=i;if(n){let D=0;for(const M of g)D+=M.getActualWidth();S-=D}if(S>0){for(let D=0;D<m.length;D++){const M=m[D];if(S-=M.getActualWidth(),S<0)break;y++}n&&y++}let R;if(y>0){const D=m[y-1];R=v.indexOf(D)+1}else R=v.indexOf(m[0]),R===-1&&(R=0);const x=[R],T=(D,M)=>D-M;if(n){let D=R+1;const M=f.length-1;for(;D<=M;)x.push(D),D++;x.sort(T)}else{let D=R;const M=f.length-1;let F=f[D];for(;D<=M&&d.indexOf(F)<0;)D++,x.push(D),F=f[D];D=R-1;const I=0;for(;D>=I;)x.push(D),D--;x.sort(T).reverse()}return x}function DS(e){const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:s,useHeaderRow:o,skipScrollPadding:r}=e;let l=s.getHeaderRowContainerCtrl(t)?.eViewport,{x:u}=e;return l?(n&&(u-=l.getBoundingClientRect().left),i.get("enableRtl")&&(o&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),t==null&&!r&&(u+=s.get("center").getCenterViewportScrollLeft()),u):0}function Qy(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var CM=7,PS=100,Qg=PS/2,Uoe=5,Woe=100,$oe=class extends ae{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!be(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(const s of i){const o=s.getPinned();if(s.getColDef().lockPinned){if(o==e)return"move";continue}const r=n?.containerType;if(r===e||!e)return"move";if(e&&(!o||r!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const s=t.visibleState,o=(n||[]).filter(r=>s[r.getId()]&&!r.isVisible());this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:s,ctrlsSvc:o}=this.beans,r=s.get("suppressMoveWhenColumnDragging");if(i&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&an(e.hDirection))return;const l=DS({x:e.x,pinned:this.pinned,gos:s,ctrlsSvc:o});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,n,l,i):this.handleColumnDragWhileAllowingMovement(e,t,n,l,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const i=e.filter(s=>!s.getColDef().lockVisible);i.length&&this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,s){const o=this.getAllMovingColumns(e,!0);if(s){const r=this.isAttemptingToPin(o);r&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:l,xPosition:u}=this.getNormalisedXPositionInfo(o,r)||{};if(l==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:u,fromEnter:t,fakeEvent:n,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,s){const o=this.getAllMovingColumns(e),r=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:l,xPosition:i,fromLeft:r,fromEnter:t,fakeEvent:n}),d=oV({...u,finished:s});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const s=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return i?i.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:s,fromEnter:o,fakeEvent:r}=e,{gos:l,colModel:u,colMoves:d,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:s,xPosition:i,pinned:this.pinned,fromEnter:o,fakeEvent:r,gos:l,colModel:u,colMoves:d,visibleCols:f}}highlightHoveredColumn(e,t){const{gos:n,colModel:i}=this.beans,s=n.get("enableRtl"),o=i.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let r=null,l=null,u=null;for(const f of o){if(l=f.getActualWidth(),r=this.getNormalisedColumnLeft(f,0,s),r!=null){const g=r+l;if(r<=t&&g>=t){u=f;break}}r=null,l=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let f=o.length-1;f>=0;f--){const g=o[f],m=o[f].getParent();if(!m){u=g;break}const v=m?.getDisplayedLeafColumns();if(v.length){u=Wt(v);break}}if(!u)return;r=this.getNormalisedColumnLeft(u,0,s),l=u.getActualWidth()}if(u==null||r==null||l==null){this.lastHighlightedColumn?.column!==u&&this.clearHighlighted();return}let d;if(t-r<l/2){const f=o.indexOf(u);f===0?d=0:(d=1,u=o[f-1])}else d=1;(this.lastHighlightedColumn?.column!==u||this.lastHighlightedColumn?.position!==d)&&this.clearHighlighted(),wM(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,s=n.get("enableRtl"),{firstMovingCol:o,column:r,position:l}=this.getColumnMoveAndTargetInfo(e,t,s);if(!o||!r||l==null)return;const u=i.allCols,d=u.indexOf(o),f=u.indexOf(r),g=l===0,m=d<f||d===f&&!g;let v=0;if(g?m&&(v-=1):m||(v+=1),f+v===d)return;const y=u[f+v];if(!y)return;const S=this.getNormalisedColumnLeft(y,20,s);return{fromLeft:m,xPosition:S}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:o}=Koe(e);if(!s||!o||i.column||!t)return{firstMovingCol:s,...i};const l=this.getPinDirection()==="left";return{firstMovingCol:s,position:l?1:0,column:l!==n?s:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:s}=this.beans,o=e.getLeft();if(o==null)return null;const r=e.getActualWidth();return DS({x:n?o+r-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>CM;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:s,fromLeft:o}=e,r=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:i,fakeEvent:s}),{columns:l,toIndex:u}=sV(r)||{};l&&u!=null&&(this.lastMovedInfo={columns:l,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(wM(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let s,o;this.gos.get("enableRtl")?(s=e<n+Qg,o=e>i-Qg):(o=e<n+Qg,s=e>i-Qg),this.needToMoveRight=s,this.needToMoveLeft=o,o||s?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),Woe),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*Uoe,e>PS&&(e=PS);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:i,dragAndDrop:s,gos:o}=this.beans;if(this.failedMoveAttempts<=CM+1||!i)return;if(s.setDragImageCompIcon("pinned"),!o.get("suppressMoveWhenColumnDragging")){const r=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(r,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(r=>!r.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:s,dragAndDrop:o}=this.beans;return s?.setColsPinned(i,t,"uiColumnDragged"),n&&o.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function wM(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function Koe(e){const t=e.length;let n,i;for(let s=0;s<t;s++){if(!n){const o=e[s];o.getLeft()!=null&&(n=o)}if(!i){const o=e[t-1-s];o.getLeft()!=null&&(i=o)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var qoe=class extends ae{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let s;const o=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":s=[[o,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":s=[[o,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:s=[[o,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=s}),this.moveColumnFeature=this.createManagedBean(new $oe(n)),this.bodyDropPivotTarget=this.createManagedBean(new _oe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Yoe=class extends ae{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const s=i[e];this.moveColumns([s],t,n)}moveColumns(e,t,n,i=!0){const{colModel:s,colAnimation:o,visibleCols:r,eventSvc:l}=this.beans,u=s.getCols();if(!u)return;if(t>u.length-e.length){fe(30,{toIndex:t});return}o?.start();const d=s.getColsForKeys(e);this.doesMovePassRules(d,t)&&(HF(s.getCols(),d,t),r.refresh(n),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:i,source:n})),o?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!h3(e,t.getColTree())||!(s=>{const o=d=>d?d==="left"||d===!0?-1:1:0,r=n.get("enableRtl");let l=r?1:-1,u=!0;for(const d of s){const f=o(d.getColDef().lockPosition);r?f>l&&(u=!1):f<l&&(u=!1),l=f}return u})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return HF(i,e,t),i}createBodyDropTarget(e,t){return new qoe(e,t)}moveHeader(e,t,n,i,s){const{ctrlsSvc:o,gos:r,colModel:l,visibleCols:u,focusSvc:d}=this.beans,f=t.getBoundingClientRect(),g=f.left,m=xn(n),v=m?f.width:n.getActualWidth(),y=e==="left"!==r.get("enableRtl"),S=DS({x:y?g-20:g+v+20,pinned:i,fromKeyboard:!0,gos:r,ctrlsSvc:o}),R=d.focusedHeader;oV({allMovingColumns:m?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:S,pinned:i,fromEnter:!1,fakeEvent:!1,gos:r,colModel:l,colMoves:this,visibleCols:u,finished:!0});let x;if(m){const T=n.getDisplayedLeafColumns();x=y?T[0]:Wt(T)}else x=n;if(o.getScrollFeature().ensureColumnVisible(x,"auto"),(!s.isAlive()||r.get("ensureDomOrder"))&&R){let T;if(m){const D=n.getGroupId(),M=n.getLeafColumns();if(!M.length)return;const F=M[0].getParent();if(!F)return;T=Xoe(F,D)}else T=n;T&&d.focusHeaderPosition({headerPosition:{...R,column:T}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:s,dragAndDrop:o,visibleCols:r}=this.beans;let l=!i.get("suppressDragLeaveHidesColumns");const u=xn(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],g={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:u?()=>Zoe(t,r.allCols):()=>Qoe(t),dragItemName:n,onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),Qy(d,!0)},onDragStopped:()=>Qy(d,!1),onDragCancelled:()=>Qy(d,!1),onGridEnter:m=>{if(l){const{columns:v=[],visibleState:y}=m??{},S=u?x=>!y||y[x.getColId()]:()=>!0,R=v.filter(x=>!x.getColDef().lockVisible&&S(x));s.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{if(l){const v=m?.columns?.filter(y=>!y.getColDef().lockVisible)||[];s.setColsVisible(v,!1,"uiColumnMoved")}}};return o.addDragSource(g,!0),g}};function Xoe(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Qoe(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function Zoe(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};for(const l of n)i[l.getId()]=l.isVisible();const s=[];for(const l of t)n.indexOf(l)>=0&&(s.push(l),xo(n,l));for(const l of n)s.push(l);const o=[],r=e.getLeafColumns();for(const l of s)r.indexOf(l)!==-1&&o.push(l);return{columns:s,columnsInSplit:o,visibleState:i,containerType:o[0]?.pinned}}var Joe={moduleName:"ColumnMove",version:we,beans:[Yoe,Ioe],apiFunctions:{moveColumnByIndex:Ooe,moveColumns:Loe},dependsOn:[iV],css:[koe]},ere=class extends ae{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;for(const o of e)this.cloneItemIntoDummy(o,n);i.appendChild(n);const s=Math.ceil(n.getBoundingClientRect().width);return n.remove(),t=t??this.gos.get("autoSizePadding"),s+t}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),s=i.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(s.add("ag-header","ag-header-row"),i.style.position="static"):s.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(u=>r.classList.contains(u))){for(let u=0;u<r.classList.length;u++){const d=r.classList[u];d!="ag-row-position-absolute"&&s.add(d)}break}r=r.parentElement}i.appendChild(n),t.appendChild(i)}},rV={moduleName:"AutoWidth",version:we,beans:[ere]};function tre(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var nre=class extends ae{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:s,groupAfterStartWidth:o,groupAfterRatios:r}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=r,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),s=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(s,n,e)}getInitialValues(e){const t=u=>u.reduce((d,f)=>d+f.getActualWidth(),0),n=(u,d)=>u.map(f=>f.getActualWidth()/d),i=this.getColumnsToResize(),s=t(i),o=n(i,s),r={columnsToResize:i,resizeStartWidth:s,resizeRatios:o};let l=null;if(e&&(l=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),l){const u=l.getDisplayedLeafColumns(),d=r.groupAfterColumns=u.filter(g=>g.isResizable()),f=r.groupAfterStartWidth=t(d);r.groupAfterRatios=n(d,f)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){const{columnsToResize:s,resizeStartWidth:o,resizeRatios:r,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:d}=e,f=[];if(f.push({columns:s,ratios:r,width:t}),l){const g=t-o;f.push({columns:l,ratios:d,width:u-g})}this.beans.colResize?.resizeColumnSets({resizeSets:f,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},ire=class extends ae{constructor(e,t,n,i,s){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=s}postConstruct(){const e=[];let t,n;const i=()=>{if(Ut(this.eResize,t),!t)return;const{horizontalResizeSvc:r,colAutosize:l}=this.beans,u=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),n&&l&&e.push(l.addColumnAutosizeListeners(this.eResize,this.column))},s=()=>{for(const r of e)r();e.length=0},o=()=>{const r=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||l!==n)&&(t=r,n=l,s(),i())};o(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:s,beans:o}=this,r=this.normaliseResizeAmount(t),l=s+r,u=[{key:n,newWidth:l}],{pinnedCols:d,ctrlsSvc:f,colResize:g}=o;if(this.column.getPinned()){const m=d?.leftWidth??0,v=d?.rightWidth??0,y=Ph(f.getGridBodyCtrl().eBodyViewport)-50;if(m+v+(r-i)>y)return}this.lastResizeAmount=r,g?.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},sre=class extends ae{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const s=[],{colModel:o,gos:r,visibleCols:l}=this.beans;for(const u of e){const d=o.getColDefCol(u.key)||o.getCol(u.key);if(!d)continue;if(s.push({width:u.newWidth,ratios:[1],columns:[d]}),r.get("colResizeDefault")==="shift"&&(t=!t),t){const g=l.getColAfter(d);if(!g)continue;const m=d.getActualWidth()-u.newWidth,v=g.getActualWidth()+m;s.push({width:v,ratios:[1],columns:[g]})}}s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(f=>ore(f)))){if(n){const f=t&&t.length>0?t[0].columns:null;fu(this.eventSvc,f,n,i)}return}const o=[],r=[];for(const f of t){const{width:g,columns:m,ratios:v}=f,y={},S={};for(const T of m)r.push(T);let R=!0,x=0;for(;R;){if(x++,x>1e3){Lt(31);break}R=!1;const T=[];let D=0,M=g;m.forEach((I,A)=>{if(S[I.getId()])M-=y[I.getId()];else{T.push(I);const _=v[A];D+=_}});const F=1/D;T.forEach((I,A)=>{const O=A===T.length-1;let _;O?_=M:(_=Math.round(v[A]*g*F),M-=_);const B=I.getMinWidth(),z=I.getMaxWidth();_<B?(_=B,S[I.getId()]=!0,R=!0):z>0&&_>z&&(_=z,S[I.getId()]=!0,R=!0),y[I.getId()]=_})}for(const T of m){const D=y[T.getId()];T.getActualWidth()!==D&&(T.setActualWidth(D,i),o.push(T))}}const l=o.length>0;let u=[];if(l){const{colFlex:f,visibleCols:g,colViewport:m}=this.beans;u=f?.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0})??[],g.setLeftValues(i),g.updateBodyWidths(),m.checkViewportColumns()}const d=r.concat(u);(l||n)&&fu(this.eventSvc,d,n,i,u)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),s=e.getMinWidth(),o=e.getMaxWidth(),r=Math.min(Math.max(i+t,s),o);this.setColumnWidths([{key:e,newWidth:r}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,s){return new ire(e,t,n,i,s)}createGroupResizeFeature(e,t,n,i){return new nre(e,t,n,i)}};function ore(e){const{columns:t,width:n}=e;let i=0,s=0,o=!0;for(const u of t){const d=u.getMinWidth();i+=d||0;const f=u.getMaxWidth();f>0?s+=f:o=!1}const r=n>=i,l=!o||n<=s;return r&&l}var rre={moduleName:"ColumnResize",version:we,beans:[sre],apiFunctions:{setColumnWidths:tre},dependsOn:[Moe,rV]},are=class extends ae{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},lre=class extends WR{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,i,s){const{column:o,beans:r}=this,{context:l,colNames:u,colHover:d,rangeSvc:f,colResize:g}=r;this.comp=e,s=of(this,l,s),this.setGui(t,s),this.displayName=u.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(),this.refreshAnnouncement(),this.setupAutoHeight({wrapperElement:i,compBean:s}),this.setupUserComp(),this.addHeaderMouseListeners(s,i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,v=o.getProvidedColumnGroup().getLeafColumns();d?.createHoverFeature(s,v,t),f?.createRangeHighlightFeature(s,o,e),s.createManagedBean(new UR(o,t,r)),s.createManagedBean(new are(e,o)),g?this.resizeFeature=s.createManagedBean(g.createGroupResizeFeature(e,n,m,o)):e.setResizableDisplayed(!1),s.createManagedBean(new nf(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,v),this.addManagedEventListeners({cellSelectionChanged:()=>this.refreshAnnouncement()}),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return ze(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=Wt(t)===e;if(!n&&!i)return;const s=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(u=>u.column.isMoving());let r=!1,l=!1;if(o){const u=this.beans.gos.get("enableRtl"),d=s===1,f=s===0;n&&(u?l=d:r=f),i&&(u?r=f:l=d)}this.comp.toggleCss("ag-header-highlight-before",r),this.comp.toggleCss("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,s=this.column,o=s.getProvidedColumnGroup(),r=ze(n,{displayName:this.displayName,columnGroup:s,setExpanded:u=>{e.setColumnGroupOpened(o,u,"gridInitializing")},setTooltip:(u,d)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(u,d)},showColumnMenu:(u,d)=>i?.showMenuAfterButtonClick(o,u,"columnMenu",d),showColumnMenuAfterMouseClick:(u,d)=>i?.showMenuAfterMouseEvent(o,u,"columnMenu",d),eGridHeader:this.eGui}),l=Vne(t,r);l&&this.comp.setUserCompDetails(l)}addHeaderMouseListeners(e,t){const{column:n,comp:i,beans:{rangeSvc:s},gos:o}=this,r=f=>this.handleMouseOverChange(f.type==="mouseenter"),l=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",n.getProvidedColumnGroup()),u=f=>this.handleContextMenuMouseEvent(f,void 0,n.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:r,mouseleave:r,click:l,contextmenu:u}),i.toggleCss("ag-header-group-cell-selectable",Jc(o));const d=s?.createHeaderGroupCellMouseListenerFeature(this.column,t);d&&this.createManagedBean(d)}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=_3(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text"));for(const i of n)this.comp.toggleCss(i,!0)}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const o of i)e.addManagedListeners(o,{movingChanged:s});s()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription())}handleKeyDown(e){if(super.handleKeyDown(e),!this.getWrapperHasFocus())return;const{column:n,expandable:i,gos:s,beans:o}=this,r=Jc(s);if(e.key==ee.ENTER){if(r&&!e.altKey)o.rangeSvc?.handleColumnSelection(n,e);else if(i){const l=!n.isExpanded();o.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),l,"uiColumnExpanded")}}}refreshAnnouncement(){let e;const{gos:t,column:n,beans:i}=this;if(Jc(t)){const o=this.getLocaleTextFunc(),r=i.rangeSvc?.isColumnInAnyRange(n);e=o("ariaColumnCellSelection",`Press CTRL+SPACE to ${r?"de":""}select all visible cells in this column group`)}this.ariaAnnouncement=e}announceAriaDescription(){const{beans:e,eGui:t,ariaAnnouncement:n}=this;!n||!t.contains(nn(e))||e.ariaAnnounce?.announceValue(n,"columnHeader")}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function cre(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function ure(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function dre(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function hre(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function fre(e){return e.colGroupSvc?.getColumnGroupState()??[]}function gre(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function pre(e){e.colGroupSvc?.resetColumnGroupState("api")}function mre(e){return e.visibleCols.treeLeft}function vre(e){return e.visibleCols.treeCenter}function Cre(e){return e.visibleCols.treeRight}function wre(e){return e.visibleCols.getAllTrees()}var aV=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function yre(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var bre=class extends ae{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:s,colViewport:o,selectionColSvc:r}=this.beans;t||this.buildTrees(i,s),s?.updateOpenClosedVisibility(),this.leftCols=Zy(this.treeLeft),this.centerCols=Zy(this.treeCenter),this.rightCols=Zy(this.treeRight),r?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),o.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const i=n.getProvidedColumnGroup().getLevel()+1;i>e&&(e=i);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Qo(this.centerCols),t=Qo(this.leftCols),n=Qo(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let s,o;this.gos.get("enableRtl")?(s=t?t[0]:null,o=n?Wt(n):null):(s=t?Wt(t):null,o=n?n[0]:null);for(const r of e.getCols())r.setLastLeftPinned(r===s,i),r.setFirstRightPinned(r===o,i)}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(u=>u.getPinned()=="left"),s=n.filter(u=>u.getPinned()=="right"),o=n.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),r=new aV,l=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=l({columns:i,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:s,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:o,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],s=[];for(const o of t){const r=o.getPinned();r?r===!0||r==="left"?n.push(o):s.push(o):i.push(o)}this.ariaOrderColumns=n.concat(i).concat(s)}getAriaColIndex(e){let t;return xn(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)xn(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),s=this.gos.get("enableRtl");for(const o of[this.leftCols,this.rightCols,this.centerCols]){if(s){let r=Qo(o);for(const l of o)r-=l.getActualWidth(),l.setLeft(r,e)}else{let r=0;for(const l of o)l.setLeft(r,e),r+=l.getActualWidth()}yre(i,o)}for(const o of i)o.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const s=[];let o=null;for(let r=0;r<t.length;r++){const l=t[r],u=t.length-r,d=Math.min(l.getColSpan(e),u),f=[l];if(d>1){const m=d-1;for(let v=1;v<=m;v++)f.push(t[r+v]);r+=m}let g;if(n){g=!1;for(const m of f)n(m)&&(g=!0)}else g=!0;g&&(s.length===0&&o&&i&&i(l)&&s.push(o),s.push(l)),o=l}return s}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};ul(this.treeCenter,!1,e),ul(this.treeLeft,!1,e),ul(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?Wt(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Qo(this.leftCols)}getDisplayedColumnsRightWidth(){return Qo(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let s;if(xn(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;s=i?o[0]:Wt(o)}else s=e;return(i?n[0]:Wt(n))===s}};function ul(e,t,n){if(e)for(let i=0;i<e.length;i++){const s=e[i];if(xn(s)){const o=t?s.getDisplayedChildren():s.getChildren();ul(o,t,n)}n(s)}}function Zy(e){const t=[];return ul(e,!0,n=>{aa(n)&&t.push(n)}),t}var Sre=class extends ae{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return nr(null,t,n=>{ai(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];nr(null,t,i=>{if(ai(i)){const s=i.getColGroupDef(),o={groupId:i.getGroupId(),open:s?s.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:s,eventSvc:o}=this.beans;if(!n.getColTree().length)return;i?.start();const l=[];for(const u of e){const d=u.groupId,f=u.open,g=this.getProvidedColGroup(d);g&&g.isExpanded()!==f&&(g.setExpanded(f),l.push(g))}s.refresh(t,!0),l.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),i?.finish()}setColumnGroupOpened(e,t,n){let i;ai(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return nr(null,this.beans.colModel.getColTree(),n=>{ai(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),s=t==="After"?Wt(i):i[0],o=`getCol${t}`;for(;;){const r=this.beans.visibleCols[o](s);if(!r)return null;const l=this.getColGroupAtLevel(r,n);if(l!==e)return l}}getColGroupAtLevel(e,t){let n=e.getParent(),i,s;for(;i=n.getProvidedColumnGroup().getLevel(),s=n.getPaddingLevel(),!(i+s<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();ul(e,!1,t=>{xn(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(xn(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let s=null;return ul(n,!1,o=>{if(xn(o)){const r=o;let l;i?l=e===r.getGroupId()&&t===r.getPartId():l=e===r.getGroupId(),l&&(s=r)}}),s}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:s,isStandaloneStructure:o}=e,r=this.mapOldGroupsById(s),l=[];let u=t;for(;u.length;){const d=u;u=[];let f=0;const g=m=>{const v=f;f=m;const y=d[v],R=(xn(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(R==null){for(let T=v;T<m;T++)l.push(d[T]);return}const x=this.createColumnGroup(R,n,r,i,o);for(let T=v;T<m;T++)x.addChild(d[T]);u.push(x)};for(let m=1;m<d.length;m++){const v=d[m],S=(xn(v)?v.getProvidedColumnGroup():v).getOriginalParent(),R=d[f],T=(xn(R)?R.getProvidedColumnGroup():R).getOriginalParent();S!==T&&g(m)}f<d.length&&g(d.length)}return o||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,n,i,s,o,r){const l=s.getUniqueKey(t.groupId||null,null),u=qF(this.beans,t,l),d=new Sp(u,l,!1,n);this.createBean(d);const f=this.findExistingGroup(t,o);f&&o.splice(f.idx,1);const g=f?.group;g&&d.setExpanded(g.isExpanded());const m=c3(this.beans,u.children,n+1,e,i,s,o,r);return d.setChildren(m),d}balanceColumnTree(e,t,n,i){const s=[];for(let o=0;o<e.length;o++){const r=e[o];if(ai(r)){const l=r,u=this.balanceColumnTree(l.getChildren(),t+1,n,i);l.setChildren(u),s.push(l)}else{let l,u;for(let d=t;d<n;d++){const f=i.getUniqueKey(null,null),g=qF(this.beans,null,f),m=new Sp(g,f,!0,d);this.createBean(m),u&&u.setChildren([m]),u=m,l||(l=u)}if(l&&u)if(s.push(l),e.some(f=>ai(f))){u.setChildren([r]);continue}else{u.setChildren(e);break}s.push(r)}}return s}findDepth(e){let t=0,n=e;for(;n?.[0]&&ai(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const s=e[i];if(ai(s)){const o=s,r=this.findMaxDepth(o.getChildren(),t+1);n<r&&(n=r)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const i of e){let s=i;for(let o=t-1;o>=0;o--){const r=new Sp(null,`FAKE_PATH_${i.getId()}_${o}`,!0,o);this.createBean(r),r.setChildren([s]),s.originalParent=r,s=r}t===0&&(i.originalParent=null),n.push(s)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const s=t[i];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:i,group:s}}}createColumnGroup(e,t,n,i,s){const o=e.getGroupId(),r=t.getInstanceIdForKey(o),l=v3(o,r);let u=n[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),be(u)?u.reset():(u=new Ih(e,o,r,i),s||this.createBean(u)),u}mapOldGroupsById(e){const t={},n=i=>{for(const s of i)if(xn(s)){const o=s;t[s.getUniqueId()]=o,n(o.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,xn(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}}},Rre={moduleName:"ColumnGroup",version:we,dynamicBeans:{headerGroupCellCtrl:lre},beans:[Sre],apiFunctions:{getAllDisplayedColumnGroups:wre,getCenterDisplayedColumnGroups:vre,getColumnGroup:ure,getColumnGroupState:fre,getDisplayNameForColumnGroup:hre,getLeftDisplayedColumnGroups:mre,getProvidedColumnGroup:dre,getRightDisplayedColumnGroups:Cre,resetColumnGroupState:pre,setColumnGroupOpened:cre,setColumnGroupState:gre}},xre=class extends ae{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(tu(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),tu(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:s,pivotColsSvc:o,valueColsSvc:r,visibleCols:l,eventSvc:u,groupHierarchyColSvc:d}=t,f=this.colDefs?p3(t,e):void 0;n?.expire();const g=this.colDefCols?.list,m=this.colDefCols?.tree,v=Wte(t,this.colDefs,!0,m,e);dm(t,this.colDefCols?.tree,v.columnTree);const y=v.columnTree,S=v.treeDepth,R=a3(y),x={};for(const T of R)x[T.getId()]=T;this.colDefCols={tree:y,treeDepth:S,list:R,map:x},this.createColumnsForService([d],this.colDefCols,e),s?.extractCols(e,g),o?.extractCols(e,g),r?.extractCols(e,g),this.ready=!0,this.changeEventsDispatching=!0,this.refreshCols(!0,e),this.changeEventsDispatching=!1,l.refresh(e),u.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;const n=this.cols?.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:s,rowNumbersSvc:o,quickFilter:r,pivotResultCols:l,showRowGroupCols:u,rowAutoHeight:d,visibleCols:f,colViewport:g,eventSvc:m,formula:v}=this.beans,y=this.selectCols(l,this.colDefCols);v?.setFormulasActive(y),this.createColumnsForService([i,s,o],y,t);const S=mte(this.gos,this.showingPivotResult);(!e||S)&&this.restoreColOrder(y),this.positionLockedCols(y),u?.refresh(),r?.refreshCols(),this.setColSpanActive(),d?.setAutoHeightActive(y),f.clear(),g.clear(),fa(n,this.cols.tree)||m.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const i of e)i&&(i.createColumns(t,s=>{this.lastOrder=s(this.lastOrder),this.lastPivotOrder=s(this.lastPivotOrder)},n),i.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:i,list:s,tree:o,treeDepth:r}=n??t;return this.cols={list:s.slice(),map:{...i},tree:o.slice(),treeDepth:r},n&&(n.list.some(u=>this.cols?.map[u.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{beans:e,showingPivotResult:t,cols:n}=this,{valueColsSvc:i,selectionColSvc:s}=e,o=this.isPivotMode()&&!t,r=s?.isSelectionColumnEnabled(),l=vte(e),u=i?.columns;return n.list.filter(f=>{const g=LR(f);if(o){const m=u?.includes(f);return g||m||r&&ga(f)||l&&tr(f)}else return g||f.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){Ws(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(g=>e.map[g.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=g=>{const m=g.getOriginalParent();return m?m.getChildren().length>1?!0:i(m):!1};if(!n.some(g=>i(g))){const g=new Set(n);for(const m of e.list)g.has(m)||n.push(m);e.list=n;return}const s=new Map;for(let g=0;g<n.length;g++){const m=n[g];s.set(m,g)}const o=e.list.filter(g=>!s.has(g));if(o.length===0){e.list=n;return}const r=(g,m)=>{const v=m?m.getOriginalParent():g.getOriginalParent();if(!v)return null;let y=null,S=null;for(const R of v.getChildren())if(!(R===m||R===g)){if(R instanceof Fl){const x=s.get(R);if(x==null)continue;(y==null||y<x)&&(y=x,S=R);continue}R.forEachLeafColumn(x=>{const T=s.get(x);T!=null&&(y==null||y<T)&&(y=T,S=x)})}return S??r(g,v)},l=[],u=new Map;for(const g of o){const m=r(g,null);if(m==null){l.push(g);continue}const v=u.get(m);v===void 0?u.set(m,g):Array.isArray(v)?v.push(g):u.set(m,[v,g])}const d=new Array(e.list.length);let f=d.length-1;for(let g=l.length-1;g>=0;g--)d[f--]=l[g];for(let g=n.length-1;g>=0;g--){const m=n[g],v=u.get(m);if(v)if(Array.isArray(v))for(let y=v.length-1;y>=0;y--){const S=v[y];d[f--]=S}else d[f--]=v;d[f--]=m}e.list=d}positionLockedCols(e){e.list=d3(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=tu(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){dm(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i,groupHierarchyColSvc:s}=this.beans;kd(this.colDefCols?.list,e)||kd(n?.columns?.list,e)||kd(i?.columns?.list,e)||kd(s?.columns?.list,e)||kd(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let l=0;l<i.length;l++)if(th(i[l],e))return i[l];const{autoColSvc:s,selectionColSvc:o,groupHierarchyColSvc:r}=this.beans;return s?.getColumn(e)??o?.getColumn(e)??r?.getColumn(e)??null}},Ere={tag:"div",cls:"ag-skeleton-container"},Tre=class extends wn{constructor(){super(Ere)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Th(t.eParentOfValue)),Th(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");du(this.getGui(),n)}setupLoading(t){const n=Qi({tag:"div",cls:"ag-skeleton-effect"}),i=t.node.rowIndex;if(i!=null){const r=75+25*(i%2===0?Math.sin(i):Math.cos(i));n.style.width=`${r}%`}this.getGui().appendChild(n);const s=this.getLocaleTextFunc(),o=t.deferRender?s("ariaDeferSkeletonCellLoading","Cell is loading"):s("ariaSkeletonCellLoading","Row data is loading");du(this.getGui(),o)}refresh(t){return!1}},Dre={moduleName:"CheckboxCellRenderer",version:we,userComponents:{agCheckboxCellRenderer:Yie}},Pre={moduleName:"SkeletonCellRenderer",version:we,userComponents:{agSkeletonCellRenderer:Tre}};function Are(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Fre(e){return e.colModel.getColumnDefs(!0)}function Mre(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function kre(e,t){return e.colModel.getColDefCol(t)}function Ire(e){return e.colModel.getColDefCols()}function Ore(e,t){return Ws(e,t,"api")}function Lre(e){return fm(e)}function _re(e){tne(e,"api")}function Nre(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Vre(e){return e.visibleCols.isPinningLeft()}function Hre(e){return e.visibleCols.isPinningRight()}function Bre(e,t){return e.visibleCols.getColAfter(t)}function Gre(e,t){return e.visibleCols.getColBefore(t)}function zre(e,t,n){e.colModel.setColsVisible(t,n,"api")}function jre(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function Ure(e){return e.colModel.getCols()}function Wre(e){return e.visibleCols.leftCols}function $re(e){return e.visibleCols.centerCols}function Kre(e){return e.visibleCols.rightCols}function qre(e){return e.visibleCols.allCols}function Yre(e){return e.colViewport.getViewportColumns()}function AS(e,t){if(!e)return;const n=e,i={};for(const s of Object.keys(n)){if(t&&t.indexOf(s)>=0||_N.has(s))continue;const o=n[s];typeof o=="object"&&o!==null&&o.constructor===Object?i[s]=AS(o):i[s]=o}return i}var Xre=class extends ae{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i,s=!1){const o=e.slice();t?o.sort((u,d)=>n.indexOf(u)-n.indexOf(d)):(n||s)&&o.sort((u,d)=>i.indexOf(u)-i.indexOf(d));const r=this.rowGroupColsSvc?.columns,l=this.pivotColsSvc?.columns;return this.buildColumnDefs(o,r,l)}buildColumnDefs(e,t=[],n=[]){const i=[],s={};for(const o of e){const r=this.createDefFromColumn(o,t,n);let l=!0,u=r,d=o.getOriginalParent(),f=null;for(;d;){let g=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=s[d.getGroupId()];if(m){m.children.push(u),l=!1;break}if(g=this.createDefFromGroup(d),g&&(g.children=[u],s[g.groupId]=g,u=g,d=d.getOriginalParent()),d!=null&&f===d){l=!1;break}f=d}l&&i.push(u)}return i}createDefFromGroup(e){const t=AS(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=AS(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSortDef(),i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},Qre=class extends ae{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:i,colDelayRenderSvc:s}=this.beans,o=i.centerCols;let r=-1;if(e.resizingCols){const S=new Set(e.resizingCols);for(let R=o.length-1;R>=0;R--)if(S.has(o[R])){r=R;break}}let l=!1;const u=o.map((S,R)=>{const x=S.getFlex(),T=x!=null&&x>0&&R>r;return l||(l=T),{col:S,isFlex:T,flex:Math.max(0,x??0),initialSize:S.getActualWidth(),min:S.getMinWidth(),max:S.getMaxWidth(),targetSize:0}});if(l?(s?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(s),!n||!l)return[];let d=u.length,f=u.reduce((S,R)=>S+R.flex,0),g=n;const m=(S,R)=>{S.frozenSize=R,S.col.setActualWidth(R,t),g-=R,f-=S.flex,d-=1},v=S=>S.frozenSize!=null;for(const S of u)S.isFlex||m(S,S.initialSize);for(;d>0;){const S=Math.round(f<1?g*f:g);let R,x=0,T=0;for(const F of u){if(v(F))continue;R=F,T+=S*(F.flex/f);const I=T-x,A=Math.round(I);F.targetSize=A,x+=A}R&&(R.targetSize+=S-x);let D=0;for(const F of u){if(v(F))continue;const I=F.targetSize,A=Math.min(Math.max(I,F.min),F.max);D+=A-I,F.violationType=A===I?void 0:A<I?"max":"min",F.targetSize=A}const M=D===0?"all":D>0?"min":"max";for(const F of u)v(F)||(M==="all"||F.violationType===M)&&m(F,F.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const y=u.filter(S=>S.isFlex&&!S.violationType).map(S=>S.col);if(e.fireResizedEvent){const S=u.filter(x=>x.initialSize!==x.frozenSize).map(x=>x.col),R=u.filter(x=>x.flex).map(x=>x.col);fu(this.eventSvc,S,!0,t,R)}return this.revealColumns(s),y}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},_i=e=>{if(typeof e=="bigint")return e;let t;if(typeof e=="number")t=e;else if(typeof e=="string"&&(t=e.trim(),t===""||(t.endsWith("n")&&(t=t.slice(0,-1)),!/^[+-]?\d+$/.test(t))))return null;if(t==null)return null;try{return BigInt(t)}catch{return null}},JR="T",Zre=new RegExp(`[${JR} ]`),Jre=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${JR}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function uo(e,t){return e.toString().padStart(t,"0")}function mi(e,t=!0,n=JR){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>uo(s,2)).join("-");return t&&(i+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>uo(s,2)).join(":")),i}function Zg(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),uo(e.getDate(),2),uo(e.getHours(),2),`:${uo(e.getMinutes(),2)}`,`:${uo(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,uo(e.getDate(),2)].map(String):null}var Jy=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},yM=["January","February","March","April","May","June","July","August","September","October","November","December"],eb=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function eae(e,t){if(t==null)return mi(e,!1);const n=uo(e.getFullYear(),4),i={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>yM[e.getMonth()],MMM:()=>yM[e.getMonth()].slice(0,3),MM:()=>uo(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Jy(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Jy(e.getDate())}`,DD:()=>uo(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>eb[e.getDay()],ddd:()=>eb[e.getDay()].slice(0,3),dd:()=>eb[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Jy(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(i).join("|"),"g");return t.replace(s,o=>o in i?i[o]():o)}function Tp(e,t=!1){return!!Ci(e,t)}function tae(e){return Tp(e,!0)}function Ci(e,t=!1,n){if(!e||!n&&!Jre.test(e))return null;const[i,s]=e.split(Zre);if(!i)return null;const o=i.split("-").map(v=>Number.parseInt(v,10));if(o.filter(v=>!isNaN(v)).length!==3)return null;const[r,l,u]=o,d=new Date(r,l-1,u);if(d.getFullYear()!==r||d.getMonth()!==l-1||d.getDate()!==u||!s&&t)return null;if(!s||s==="00:00:00")return d;const[f,g,m]=s.split(":").map(v=>Number.parseInt(v,10));if(f>=0&&f<24)d.setHours(f);else if(t)return null;if(g>=0&&g<60)d.setMinutes(g);else if(t)return null;if(m>=0&&m<60)d.setSeconds(m);else if(t)return null;return d}function ih(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let s=e;for(let o=0;o<i.length;o++){if(s==null)return;s=s[i[o]]}return s}var nae=["dateTimeString","dateString","text","number","bigint","boolean","date"],iae=class extends ae{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},bigint({filterModuleBean:e}){return e?{cellEditor:"agTextCellEditor"}:{cellEditor:"agTextCellEditor",comparator:{default:aae,absolute:lae}}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:({node:e,event:t,column:n})=>t.key===ee.SPACE&&n.isCellEditable(e)}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,s)=>{const o=t.getColDefCol(n),r=o?.getColDef();if(!o||!r)return 0;const l=i==null?"":e({column:o,node:null,value:i}),u=s==null?"":e({column:o,node:null,value:s});return l===u?0:l>u?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},i=f=>g=>{const{column:m,node:v,value:y}=g;let S=m.getColDef().valueFormatter;return S===f.groupSafeValueFormatter&&(S=f.valueFormatter),this.beans.valueSvc.formatValue(m,v,y,S)};for(const f of Object.keys(e)){const g=e[f],m={...g,groupSafeValueFormatter:RM(g,this.gos)};t[f]=m,n[f]=i(m)}const s=this.gos.get("dataTypeDefinitions")??{},o={};for(const f of Object.keys(s)){const g=s[f],m=this.processDataTypeDefinition(g,s,[f],e);m&&(t[f]=m,g.dataTypeMatcher&&(o[f]=g.dataTypeMatcher),n[f]=i(m))}const{valueParser:r,valueFormatter:l}=e.object,{valueParser:u,valueFormatter:d}=t.object;this.hasObjectValueParser=u!==r,this.hasObjectValueFormatter=d!==l,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(o,e)}sortKeysInMatchers(e,t){const n={...e};for(const i of nae)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let s;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=i[o];const l=t[o];if(r&&l&&(r=l),!SM(e,r,o))return;s=bM(r,e)}else{if(n.includes(o)){fe(44);return}const r=t[o];if(!SM(e,r,o))return;const l=this.processDataTypeDefinition(r,t,[...n,o],i);if(!l)return;s=bM(l,e)}return{...s,groupSafeValueFormatter:RM(s,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;i===void 0&&(i=e.cellDataType);const{field:s}=t;if((i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(s,n):!1),this.addFormulaCellEditorToColDef(e,t),!i){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[i];if(!o){fe(47,{cellDataType:i});return}return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes}addFormulaCellEditorToColDef(e,t){!(t.allowFormula??e.allowFormula)||t.cellEditor||(e.cellEditor="agFormulaCellEditor")}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!En(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(tb(t,i))return!1;const s=t.type===null?e.type:t.type;if(s){const o=n.get("columnTypes")??{};if(hm(s).some(l=>{const u=o[l.trim()];return u&&tb(u,i)}))return!1}return!tb(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const o=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=ih(i,e,o)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(o=>this.dataTypeMatchers[o](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[s]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:r}=o;r&&(s?.(),this.isPendingInference=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},s={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const r=this.columnStateUpdatesPendingInference[o],l=this.colModel.getCol(o);if(!l)continue;const u=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))continue;const d=l.getColDef();if(t&&d.type&&d.type!==u.type){const f=cae(l,r);f.rowGroup&&f.rowGroupIndex==null&&(i[o]=f),f.pivot&&f.pivotIndex==null&&(s[o]=f),n.push(f)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,s)),n.length&&Ws(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:s}=this.beans;return i?.restoreColumnOrder(n,e),s?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=CS(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!n||e.getColDef().allowFormula&&this.beans.formula?.isFormula(t)?!0:n(t)}validateColDef(e){const t=n=>fe(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:i,formatValueFuncs:s}=this,o=n[t];o&&i.colFilter?.setColDefPropsForDataType(e,o,s[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const s=this.formatValueFuncs[t],o=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:s,filterModuleBean:this.beans.filterManager});e.cellEditor==="agFormulaCellEditor"&&o.cellEditor!==e.cellEditor&&(o.cellEditor=e.cellEditor),Object.assign(e,o)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>Ci(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):mi(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Ci(n)??void 0,dateFormatter:n=>mi(n??null,t)??void 0,valueParser:n=>Tp(String(n.newValue))?n.newValue:null,valueFormatter:n=>Tp(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&Tp(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},bigint:{baseDataType:"bigint",valueParser:t=>{const{newValue:n}=t;return n==null||typeof n=="string"&&n.trim()===""?null:_i(n)},valueFormatter:t=>t.value==null?"":typeof t.value!="bigint"?e("invalidBigInt","Invalid BigInt"):String(t.value),dataTypeMatcher:t=>typeof t=="bigint"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:uS(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&tae(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>uS(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function bM(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...hm(e.columnTypes),...hm(t.columnTypes)]),n}function SM(e,t,n){return t?t.baseDataType!==e.baseDataType?(fe(46),!1):!0:(fe(45,{parentCellDataType:n}),!1)}var sae=e=>typeof e=="bigint"||typeof e=="number",oae=e=>e==="number"||e==="bigint";function RM(e,t){if(e.valueFormatter)return n=>{const{node:i,colDef:s,column:o,value:r}=n;if(i?.group){const l=(s.pivotValueColumn??o).getAggFunc();if(l){if(l==="first"||l==="last")return e.valueFormatter(n);const{baseDataType:u}=e;if(oae(u)&&l!=="count"){if(sae(r))return e.valueFormatter(n);if(r==null)return;if(typeof r=="object"){if(typeof r.toNumber=="function")return e.valueFormatter({...n,value:r.toNumber()});if("value"in r)return e.valueFormatter({...n,value:r.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function rae(e,t,n,i){if(!t[n])return!1;const s=e[n];return s===null?(t[n]=!1,!1):i===void 0?!!s:s===i}function aae(e,t){if(e==null)return t==null?0:-1;if(t==null)return 1;const n=_i(e),i=_i(t);return n!=null&&i!=null?n===i?0:n>i?1:-1:0}function lae(e,t){if(e==null)return t==null?0:-1;if(t==null)return 1;const n=xM(e),i=xM(t);return n!=null&&i!=null?n===i?0:n>i?1:-1:0}function xM(e){const t=_i(e);return t==null?null:t<0n?-t:t}function tb(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>rae(e,t,n,i))}function cae(e,t){const n=m3(e);for(const i of t)delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex;return n}var uae={moduleName:"DataType",version:we,beans:[iae],dependsOn:[Dre]},dae={moduleName:"ColumnFlex",version:we,beans:[Qre]},lV={moduleName:"ColumnApi",version:we,beans:[Xre],apiFunctions:{getColumnDef:Are,getDisplayNameForColumn:Mre,getColumn:kre,getColumns:Ire,applyColumnState:Ore,getColumnState:Lre,resetColumnState:_re,isPinning:Nre,isPinningLeft:Vre,isPinningRight:Hre,getDisplayedColAfter:Bre,getDisplayedColBefore:Gre,setColumnsVisible:zre,setColumnsPinned:jre,getAllGridColumns:Ure,getDisplayedLeftColumns:Wre,getDisplayedCenterColumns:$re,getDisplayedRightColumns:Kre,getAllDisplayedColumns:qre,getAllDisplayedVirtualColumns:Yre,getColumnDefs:Fre}},hae=class extends ae{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:s}=this.beans;return n&&s?s.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,s){const o=e.headerValueGetter;if(o){const r=ze(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:s});return typeof o=="function"?o(r):typeof o=="string"?this.beans.expressionSvc?.evaluate(o,r)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return pee(e.field)}return""}},fae=class extends ae{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}getScrollPosition(){return this.scrollPosition}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,s=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const r=i.bodyWidth;this.viewportLeft=r-t-e,this.viewportRight=r-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||gae(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,s=this.viewportRight+200,o=t<i&&n<i,r=t>s&&n>s;return!o&&!r}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const r=o.getLeft();return be(r)&&r>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,s=i.centerCols;return i.getColsForRow(e,s,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=i=>{const s=new Set,o={};for(const r of i){let l=r.getParent();const u=r.isSpanHeaderHeight();for(;l&&!s.has(l);){if(u&&l.isPadding()){l=l.getParent();continue}const f=l.getProvidedColumnGroup().getLevel();o[f]??(o[f]=[]),o[f].push(l),s.add(l),l=l.getParent()}}return o};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function gae(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var pae=class extends ae{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(s){const o=t(s),r=typeof o;if(r==="string"||r==="number"||r==="boolean"){this.eGui=ER("<span>"+o+"</span>");return}if(o==null){this.eGui=Qi({tag:"span"});return}this.eGui=o}}return n}},mae={moduleName:"CellRendererFunction",version:we,beans:[pae]},vae=class extends bi{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new i(...n)}};function Cae(e){return typeof e=="object"&&!!e.getComp}var wae=class extends vae{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:s}=e;if(n){const o=(r,l,u,d)=>{this.agGridDefaults[r]=l,(u||d)&&(this.agGridDefaultOverrides[r]={params:u,processParams:d})};for(const r of Object.keys(n)){let l=n[r];if(Cae(l)&&(l=l.getComp(this.beans)),typeof l=="object"){const{classImp:u,params:d,processParams:f}=l;o(r,u,d,f)}else o(r,l)}}this.registerDynamicBeans(i);for(const o of s??[])this.selectors[o.selector]=o;if(t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){const n=(l,u,d,f)=>({componentFromFramework:u,component:l,params:d,processParams:f}),{frameworkOverrides:i}=this.beans,s=i.frameworkComponent(t,this.gos.get("components"));if(s!=null)return n(s,!0);const o=this.jsComps[t];if(o){const l=i.isFrameworkComponent(o);return n(o,l)}const r=this.agGridDefaults[t];if(r){const l=this.agGridDefaultOverrides[t];return n(r,!1,l?.params,l?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?yo(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??yo(256)}},yae=23,bae=class extends ae{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===yae&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},Sae=':where([class^=ag-]),:where([class^=ag-]):after,:where([class^=ag-]):before{box-sizing:border-box}:where([class^=ag-]):where(button){color:inherit}:where([class^=ag-]):where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}:where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block}.ag-measurement-element-border:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}.ag-popup-child{top:0;z-index:5}.ag-popup-child:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled .ag-icon,[disabled] .ag-icon{opacity:.5}.ag-icon-grip.ag-disabled,.ag-icon-grip[disabled]{opacity:.35}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',ex=typeof window!="object"||!window?.document?.fonts?.forEach,cV=!1,yl=(e,t,n,i,s,o,r=!1)=>{if(ex||cV)return;i&&(e=`@layer ${CSS.escape(i).replaceAll("\\.",".")} { ${e} }`);let l=go.map.get(t);if(l||(l=[],go.map.set(t,l)),l.some(g=>g.css===e))return;const u=document.createElement("style");o&&u.setAttribute("nonce",o),u.dataset.agGlobalCss=n,u.textContent=e;const d={css:e,el:u,priority:s,isParams:r};let f;for(const g of l){if(g.priority>s)break;f=g}if(f){f.el.after(u);const g=l.indexOf(f);l.splice(g+1,0,d)}else t.nodeName==="STYLE"?t.after(u):t.insertBefore(u,t.querySelector(":not(title, meta)")),l.push(d)},uV=(e,t,n,i)=>{yl(Sae,e,"shared",t,0,n),i?.forEach((s,o)=>s.forEach(r=>yl(r,e,o,t,0,n)))},Rae=(e,t,n,i,s,o)=>{if(ex||cV)return;const r=go.grids.get(e);r?r.paramsCss=t:go.grids.set(e,{styleContainer:i,paramsCss:t}),FS(i),t&&n&&yl(t,i,n,s,2,o,!0)},xae=e=>{const t=go.grids.get(e)?.styleContainer;if(!t)return;go.grids.delete(e),Array.from(go.grids.values()).some(i=>i.styleContainer===t)?FS(t):(FS(t,!0),go.map.delete(t))},FS=(e,t=!1)=>{const n=new Set;for(const s of go.grids.values())s.styleContainer===e&&n.add(s.paramsCss);const i=go.map.get(e)??[];for(let s=i.length-1;s>=0;s--)(t||i[s].isParams&&!n.has(i[s].css))&&(i[s].el.remove(),i.splice(s,1))},EM,go=(EM=typeof window=="object"?window:{}).agStyleInjectionState??(EM.agStyleInjectionState={map:new WeakMap,grids:new Map}),Ys=e=>new dV(e),$r="$default",Eae=0,dV=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:s}){this.feature=e,this.css=i,this.cssImports=s,this.modeParams={[$r]:{...n[$r]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:s}=this;if(s){const o=`ag-theme-${this.feature??"part"}-${++Eae}`;typeof s=="function"&&(s=s()),s=`:where(.${o}) {
${s}
}
`;for(const r of this.cssImports??[])s=`@import url(${JSON.stringify(r)});
${s}`;i={css:s,class:o}}else i=!1;this._inject=i}return i&&e&&yl(i.css,e,i.class,t,1,n),i?i.class:!1}},Tae=e=>e.replace(/[A-Z]|\d+/g,t=>`-${t}`).toLowerCase(),tx=e=>`--ag-${Tae(e)}`,Eo=e=>`var(${tx(e)})`,Dae=(e,t,n)=>Math.max(t,Math.min(n,e)),Pae=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},lo=e=>({ref:"accentColor",mix:e}),gs=e=>({ref:"foregroundColor",mix:e}),ms=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Aae=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Oi={ref:"backgroundColor"},Bc={ref:"foregroundColor"},Jo={ref:"accentColor"},ym={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:gs(.15),chromeBackgroundColor:ms(.02),browserColorScheme:"light"},Fae={...ym,textColor:Bc,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:lo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Oi,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Jo,toggleButtonOffBackgroundColor:ms(.3),toggleButtonSwitchBackgroundColor:Oi,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},panelBackgroundColor:Oi,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontFamily:{ref:"headerFontFamily"},panelTitleBarFontSize:{ref:"headerFontSize"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,dialogShadow:{ref:"popupShadow"},dialogBorder:{color:gs(.2)},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},dataFontSize:{ref:"fontSize"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontSize:{ref:"fontSize"},headerFontWeight:500,headerTextColor:{ref:"textColor"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,menuBorder:{color:gs(.2)},menuBackgroundColor:ms(.03),menuTextColor:ms(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"}},Mae=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],kae=Pae(e=>(e=e.toLowerCase(),Mae.find(t=>e.endsWith(t.toLowerCase()))??"length")),hv=e=>typeof e=="object"&&e?.ref?Eo(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,nx=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e&&"ref"in e){const t=Eo(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Eo(e.onto):"transparent"}, ${t} ${Dae(e.mix*100,0,100)}%)`}return!1},Iae=hv,Gc=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:typeof e=="object"&&e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:" "+Eo(n)+" ")})`:typeof e=="object"&&e&&"ref"in e?Eo(e.ref):!1,Oae=hv,MS=(e,t)=>typeof e=="string"?e:e===!0?MS({},t):e===!1?t==="columnBorder"?MS({color:"transparent"},t):"none":typeof e=="object"&&e&&"ref"in e?Eo(e.ref):hV(e.style??"solid")+" "+Gc(e.width??{ref:"borderWidth"})+" "+nx(e.color??{ref:"borderColor"}),TM=e=>[Gc(e.offsetX??0),Gc(e.offsetY??0),Gc(e.radius??0),Gc(e.spread??0),nx(e.color??{ref:"foregroundColor"}),...e.inset?["inset"]:[]].join(" "),Lae=e=>typeof e=="string"?e:e===!1?"none":typeof e=="object"&&e&&"ref"in e?Eo(e.ref):Array.isArray(e)?e.map(TM).join(", "):TM(e),hV=hv,fV=e=>typeof e=="string"?e.includes(",")?e:DM(e):typeof e=="object"&&e&&"googleFont"in e?fV(e.googleFont):typeof e=="object"&&e&&"ref"in e?Eo(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),DM(t))).join(", "):!1,DM=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),_ae=hv,gV=e=>typeof e=="string"?e:typeof e=="object"&&e&&"url"in e?`url(${JSON.stringify(e.url)})`:typeof e=="object"&&e&&"svg"in e?gV({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):typeof e=="object"&&e&&"ref"in e?Eo(e.ref):!1,Nae=(e,t,n)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):typeof e=="object"&&e&&"ref"in e?Eo(e.ref):!1,Vae={color:nx,colorScheme:Iae,length:Gc,scale:Oae,border:MS,borderStyle:hV,shadow:Lae,image:gV,fontFamily:fV,fontWeight:_ae,duration:Nae},Hae=(e,t,n)=>{const i=kae(e);return Vae[i](t,e,n)},Bae=0,Gae=(e,t)=>new pV({themeLogger:e,overridePrefix:t}),pV=class mV{constructor(t,n=[]){this.params=t,this.parts=n}withPart(t){return typeof t=="function"&&(t=t()),t instanceof dV?new mV(this.params,[...this.parts,t]):(this.params.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(Ys({feature:t}))}withParams(t,n=$r){return this.withPart(Ys({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:s,moduleCss:o}){if(ex)return;jae(),uV(t,n,i,o);const r=zae(this);if(r.length>0)for(const l of r)s&&Uae(l,i);for(const l of this.parts)l.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=PM(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).concat(this._getParamsClassName()).join(" "))}_getParamsClassName(){return this._paramsClassName??(this._paramsClassName=`ag-theme-params-${++Bae}`)}_getModeParams(){let t=this._paramsCache;if(!t){const n={[$r]:{...Fae}};for(const i of PM(this.parts))for(const s of Object.keys(i.modeParams)){const o=i.modeParams[s];if(o){const r=n[s]??(n[s]={}),l=new Set;for(const u of Object.keys(o)){const d=o[u];d!==void 0&&(r[u]=d,l.add(u))}if(s===$r)for(const u of Object.keys(n)){const d=n[u];if(u!==$r)for(const f of l)delete d[f]}}}this._paramsCache=t=n}return t}_getParamsCss(){if(!this._paramsCssCache){let t="",n="";const i=this._getModeParams(),{overridePrefix:s,themeLogger:o}=this.params,r=s?`--ag-${s}-`:void 0;for(const d of Object.keys(i)){const f=i[d];if(d!==$r){const m=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(d):d}"]) & {
`;t+=m,n+=m}for(const g of Object.keys(f).sort()){const m=f[g],v=Hae(g,m,o);if(v===!1)o.error(107,{key:g,value:m});else{const y=tx(g),S=r?y.replace("--ag-",r):y,R=y.replace("--ag-","--ag-inherited-");t+=`	${y}: var(${R}, ${v});
`,n+=`	${R}: var(${S});
`}}d!==$r&&(t+=`}
`,n+=`}
`)}const l=`:where(.${this._getParamsClassName()})`;let u=`${l} {
${t}}
`;u+=`:has(> ${l}):not(${l}) {
${n}}
`,this._paramsCssCache=u}return this._paramsCssCache}},PM=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},zae=e=>{const t=new Set,n=o=>{if(Array.isArray(o))o.forEach(n);else{const r=o?.googleFont;typeof r=="string"&&t.add(r)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(n),Array.from(t).sort()},AM=!1,jae=()=>{if(!AM){AM=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Uae=async(e,t)=>{const n=`@import url('https://${Wae}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;yl(n,document.head,`googleFont:${e}`,void 0,0,t)},Wae="fonts.googleapis.com",FM={changeKey:"listItemHeight",type:"length",defaultValue:24},$ae=class extends bi{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t);const n=e.get("themeStyleContainer"),i=typeof ShadowRoot<"u",s=i&&t.getRootNode()instanceof ShadowRoot;this.eStyleContainer=(typeof n=="function"?n():n)??(s?t:document.head),!n&&!s&&i&&Kae(t,this.shadowRootError.bind(this),this.addDestroyFunc.bind(this)),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.getSizeEl(FM),this.initVariables(),this.addDestroyFunc(()=>xae(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("theme")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this,i=n?n._getCssClass():this.applyLegacyThemeClasses();for(const s of Array.from(e.classList))s.startsWith("ag-theme-")&&e.classList.remove(s);if(i){const s=e.className;e.className=`${s}${s?" ":""}${i}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const i of Array.from(t.classList))i.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${i}`:i);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?yl(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(FM)}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===nb?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=pl({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=pl({tag:"div"});const i=this.setSizeElStyles(t,e);n.appendChild(t),this.sizeEls.set(e,t);const{type:s,noWarn:o}=e;if(s!=="length"&&s!=="border")return t;let r=this.measureSizeEl(e);r==="no-styles"&&!o&&this.varError(i,e.defaultValue);const l=hr(this.beans,t,()=>{const u=this.measureSizeEl(e);u==="detached"||u==="no-styles"||(this.lastKnownValues.set(e,u),u!==r&&(r=u,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>l()),t}setSizeElStyles(e,t){const{changeKey:n,type:i}=t;let s=tx(n);return i==="border"?(s.endsWith("-width")&&(s=s.slice(0,-6)),e.className="ag-measurement-element-border",e.style.setProperty("--ag-internal-measurement-border",`var(${s}, solid ${nb}px)`)):e.style.width=`var(${s}, ${nb}px)`,s}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let i;if(n==="legacy")i=void 0;else{const s=n??this.getDefaultTheme();s instanceof pV?i=s:this.themeError(s)}i!==t&&this.handleNewTheme(i),this.postProcessThemeChange(i,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:i}=this,s=this.getAdditionalCss();if(e){uV(this.eStyleContainer,this.cssLayer,this.styleNonce,s);for(const[o,r]of i)yl(o,this.eStyleContainer,r,this.cssLayer,0,this.styleNonce);i.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:s}),Rae(this,e?._getParamsCss()??null,e?._getParamsClassName()??null,this.eStyleContainer,this.cssLayer,this.styleNonce),this.applyThemeClasses(n),this.fireStylesChangedEvent("theme")}fireStylesChangedEvent(e){this.eventSvc.dispatchEvent({type:"stylesChanged",[`${e}Changed`]:!0})}},nb=15538,Kae=(e,t,n)=>{let i=60;const s=setInterval(()=>{typeof ShadowRoot<"u"&&e.getRootNode()instanceof ShadowRoot&&(t(),clearInterval(s)),(xR(e)||--i<0)&&clearInterval(s)},1e3);n(()=>clearInterval(s))},qae='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important}.ag-body-viewport::-webkit-scrollbar,.ag-center-cols-viewport::-webkit-scrollbar,.ag-floating-bottom-viewport::-webkit-scrollbar,.ag-floating-top-viewport::-webkit-scrollbar,.ag-header-viewport::-webkit-scrollbar,.ag-sticky-bottom-viewport::-webkit-scrollbar,.ag-sticky-top-viewport::-webkit-scrollbar{display:none!important}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-left-sticky-bottom,.ag-pinned-right-cols-container,.ag-pinned-right-sticky-bottom,.ag-sticky-bottom-container,.ag-sticky-top-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-active),&:where(.ag-scrollbar-scrolling){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-sticky-bottom{box-sizing:content-box!important;:where(.ag-pinned-left-sticky-bottom),:where(.ag-pinned-right-sticky-bottom),:where(.ag-sticky-bottom-container){border-top:var(--ag-row-border);box-sizing:border-box}}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;:where(.ag-column-group-closed-icon),:where(.ag-column-group-opened-icon){cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-drag-handle-disabled{opacity:.35;pointer-events:none}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-row-drag-indicator-color);border-radius:calc(var(--ag-row-drag-indicator-width)/2);content:"";height:var(--ag-row-drag-indicator-width);pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label,:where(.ag-header-group-cell-selectable) .ag-header-cell-comp-wrapper{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden)),:where(.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)):before,.ag-header-group-cell:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}.ag-header-cell:where(:not(.ag-floating-filter)):where(:hover):before,.ag-header-group-cell:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}.ag-header-cell:where(:not(.ag-floating-filter)):where(.ag-header-cell-moving):before,.ag-header-group-cell:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}:where(.ag-header-cell:not(.ag-floating-filter)>*,.ag-header-group-cell>*){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-column-drag-indicator-color);border-radius:calc(var(--ag-column-drag-indicator-width)/2);content:"";height:100%;position:absolute;top:0;width:var(--ag-column-drag-indicator-width)}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2}:where(.ag-ltr) .ag-header-cell-resize{right:-3px}:where(.ag-rtl) .ag-header-cell-resize{left:-3px}.ag-header-cell-resize:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}:where(.ag-ltr) .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}:where(.ag-rtl) .ag-header-cell-resize:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{container-type:normal;display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{container-type:normal;display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);container-type:inline-size;display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color)}.ag-chart-menu-icon:hover,.ag-chart-settings-next:hover,.ag-chart-settings-prev:hover,.ag-column-group-icons:hover,.ag-column-select-header-icon:hover,.ag-filter-toolpanel-expand:hover,.ag-floating-filter-button-button:hover,.ag-group-title-bar-icon:hover,.ag-header-cell-filter-button:hover,.ag-header-cell-menu-button:hover,.ag-header-expand-icon:hover,.ag-panel-title-bar-button-icon:hover,.ag-panel-title-bar-button:hover,.ag-set-filter-group-icons:hover,:where(.ag-group-contracted) .ag-icon:hover,:where(.ag-group-expanded) .ag-icon:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}:where(.ag-filter-active),:where(.ag-filter-toolpanel-group-instance-header-icon),:where(.ag-filter-toolpanel-instance-header-icon){position:relative}:where(.ag-filter-active):after,:where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-filter-toolpanel-instance-header-icon):after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-ltr) :where(.ag-filter-active):after,:where(.ag-ltr) :where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-ltr) :where(.ag-filter-toolpanel-instance-header-icon):after{right:-1px}:where(.ag-rtl) :where(.ag-filter-active):after,:where(.ag-rtl) :where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-rtl) :where(.ag-filter-toolpanel-instance-header-icon):after{left:-1px}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}',Yae={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Oi,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},cellFontFamily:{ref:"fontFamily"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Jo,rangeSelectionBackgroundColor:lo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:lo(.5),rangeHeaderHighlightColor:Aae(.08),rowNumbersSelectedColor:lo(.5),rowHoverColor:lo(.08),columnHoverColor:lo(.05),selectedRowBackgroundColor:lo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:Oi,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:gs(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:gs(.1),iconButtonActiveColor:Jo,iconButtonActiveBackgroundColor:lo(.28),iconButtonActiveIndicatorColor:Jo,setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:gs(.8),cellEditingBorder:{color:Jo},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:gs(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:gs(.13)},selectCellBackgroundColor:gs(.07),selectCellBorder:{color:gs(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Oi,filterPanelApplyButtonBackgroundColor:Jo,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:Bc,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Bc,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:gs(.15),statusBarLabelColor:Bc,statusBarLabelFontWeight:500,statusBarValueColor:Bc,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"},rowDragIndicatorColor:{ref:"rangeSelectionBorderColor"},rowDragIndicatorWidth:2,columnDragIndicatorColor:{ref:"accentColor"},columnDragIndicatorWidth:2},Xae=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",vV={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},Qae={...vV,cellBatchEditTextColor:"#f3d0b3"},Zae=()=>Ys({feature:"batchEditStyle",params:vV,css:Xae}),Jae=Zae(),ele=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}.ag-standard-button:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}",tle={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},nle=()=>Ys({feature:"buttonStyle",params:{...tle,buttonBackgroundColor:Oi,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Jo}},css:ele}),ile=nle(),sle=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",ole=()=>Ys({feature:"columnDropStyle",css:sle}),CV=ole(),rle={formulaToken1Color:"#3269c6",formulaToken1BackgroundColor:{ref:"formulaToken1Color",mix:.08},formulaToken1Border:{color:{ref:"formulaToken1Color"}},formulaToken2Color:"#c0343f",formulaToken2BackgroundColor:{ref:"formulaToken2Color",mix:.06},formulaToken2Border:{color:{ref:"formulaToken2Color"}},formulaToken3Color:"#8156b8",formulaToken3BackgroundColor:{ref:"formulaToken3Color",mix:.08},formulaToken3Border:{color:{ref:"formulaToken3Color"}},formulaToken4Color:"#007c1f",formulaToken4BackgroundColor:{ref:"formulaToken4Color",mix:.06},formulaToken4Border:{color:{ref:"formulaToken4Color"}},formulaToken5Color:"#b03e85",formulaToken5BackgroundColor:{ref:"formulaToken5Color",mix:.08},formulaToken5Border:{color:{ref:"formulaToken5Color"}},formulaToken6Color:"#b74900",formulaToken6BackgroundColor:{ref:"formulaToken6Color",mix:.06},formulaToken6Border:{color:{ref:"formulaToken6Color"}},formulaToken7Color:"#247492",formulaToken7BackgroundColor:{ref:"formulaToken7Color",mix:.08},formulaToken7Border:{color:{ref:"formulaToken7Color"}}},ale=()=>Ys({feature:"formulaStyle",params:rle}),lle=ale(),cle={warn:(...e)=>{fe(e[0],e[1])},error:(...e)=>{Lt(e[0],e[1])},preInitErr:(...e)=>{Gd(e[0],e[2],e[1])}},ule=()=>Gae(cle).withParams(Yae).withPart(ile).withPart(CV).withPart(Jae).withPart(lle),dle='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color)}&:where(.ag-checked):after{background-color:var(--ag-checkbox-checked-shape-color)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input,.ag-radio-button-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}.ag-checkbox-input-wrapper:after,.ag-radio-button-input-wrapper:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}.ag-checkbox-input-wrapper:where(:focus-within,:active),.ag-radio-button-input-wrapper:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color)}&:where(.ag-indeterminate):after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',hle=()=>Ys({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Oi,checkboxUncheckedBorderColor:ms(.3),checkboxCheckedBackgroundColor:Jo,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Oi,checkboxIndeterminateBackgroundColor:ms(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Oi,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:dle}),fle=hle(),wV=()=>({...ym,...Qae,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ms(.05),rowHoverColor:lo(.15),selectedRowBackgroundColor:lo(.2),menuBackgroundColor:ms(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:Bc,findMatchColor:Oi,findActiveMatchColor:Oi,checkboxUncheckedBorderColor:ms(.4),toggleButtonOffBackgroundColor:ms(.4),rowBatchEditBackgroundColor:ms(.1),formulaToken1Color:"#4da3e5",formulaToken2Color:"#f55864",formulaToken3Color:"#b688f2",formulaToken4Color:"#24bb4a",formulaToken5Color:"#e772ba",formulaToken6Color:"#f69b5f",formulaToken7Color:"#a3e6ff"}),gle=()=>({...wV(),backgroundColor:"#1f2836"}),ple=()=>Ys({feature:"colorScheme",params:ym,modeParams:{light:ym,dark:wV(),"dark-blue":gle()}}),mle=ple(),yV={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>'},bV={aasc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2012 8.07928C13.6346 8.0793 14.0128 8.15365 14.3359 8.30193C14.6609 8.45018 14.9141 8.65595 15.0947 8.9201C15.2754 9.18439 15.3683 9.49109 15.374 9.83904H14.1904C14.1676 9.60898 14.0695 9.4303 13.8965 9.30291C13.7235 9.1756 13.4889 9.1115 13.1924 9.1115C12.9909 9.1115 12.8204 9.1404 12.6816 9.19744C12.543 9.25255 12.4364 9.32917 12.3623 9.42791C12.2901 9.52678 12.2539 9.63933 12.2539 9.76482C12.2501 9.8692 12.272 9.9604 12.3193 10.0383C12.3688 10.1162 12.4369 10.1843 12.5225 10.2414C12.6079 10.2964 12.7064 10.3451 12.8184 10.3869C12.9304 10.4268 13.0505 10.4609 13.1777 10.4894L13.7031 10.6144C13.9578 10.6715 14.1914 10.7479 14.4043 10.8429C14.6173 10.938 14.8021 11.0547 14.958 11.1935C15.1138 11.3323 15.2348 11.4957 15.3203 11.6838C15.4077 11.8719 15.4522 12.088 15.4541 12.3312C15.4522 12.6885 15.3611 12.9986 15.1807 13.2609C15.0019 13.5214 14.7427 13.7248 14.4043 13.8693C14.0678 14.0118 13.6617 14.0832 13.1865 14.0832C12.7153 14.0832 12.3048 14.0107 11.9551 13.8664C11.6071 13.7219 11.3345 13.5071 11.1387 13.2238C10.9449 12.9387 10.8435 12.5862 10.834 12.1662H12.0283C12.0416 12.362 12.0984 12.5252 12.1973 12.6564C12.298 12.7857 12.4323 12.8838 12.5996 12.9504C12.7688 13.0149 12.96 13.047 13.1729 13.047C13.3817 13.047 13.563 13.0169 13.7168 12.9562C13.8727 12.8954 13.9935 12.8106 14.0791 12.7023C14.1647 12.5939 14.208 12.469 14.208 12.3283C14.2079 12.1974 14.1686 12.0875 14.0908 11.9982C14.0148 11.9089 13.9022 11.8324 13.7539 11.7697C13.6076 11.707 13.4276 11.6501 13.2148 11.5988L12.5791 11.4387C12.0869 11.3189 11.6982 11.1318 11.4131 10.8771C11.128 10.6224 10.9855 10.2793 10.9873 9.84783C10.9854 9.49418 11.0804 9.18439 11.2705 8.9201C11.4625 8.65603 11.7261 8.45015 12.0605 8.30193C12.3951 8.15369 12.7754 8.07928 13.2012 8.07928Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 14.0002H4.48926L4.05664 12.6681H1.94824L1.51465 14.0002H0.19043L2.20703 8.15935H3.79883L5.8125 14.0002ZM2.26172 11.7043H3.74316L3.02539 9.49334H2.98047L2.26172 11.7043Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 8.15935C8.88165 8.15935 9.24031 8.22251 9.52734 8.34978C9.81445 8.47717 10.0303 8.65477 10.1748 8.88103C10.3192 9.10536 10.3916 9.36368 10.3916 9.65642C10.3916 9.88452 10.3461 10.085 10.2549 10.258C10.1637 10.4289 10.0384 10.5696 9.87891 10.6799C9.72117 10.7882 9.54024 10.8657 9.33691 10.9113V10.9679C9.55917 10.9775 9.76716 11.0406 9.96094 11.1564C10.1568 11.2724 10.3158 11.4356 10.4375 11.6447C10.5591 11.8519 10.6201 12.099 10.6201 12.3859C10.6201 12.6958 10.5427 12.9727 10.3887 13.216C10.2366 13.4573 10.0113 13.6486 9.71289 13.7892C9.41443 13.9299 9.04655 14.0002 8.60938 14.0002H6.11426V8.15935H8.45215ZM7.34863 12.9904H8.35547C8.69943 12.9904 8.95057 12.9252 9.1084 12.7941C9.26621 12.661 9.34473 12.4834 9.34473 12.2629C9.34468 12.1014 9.30643 11.9587 9.22852 11.8351C9.15056 11.7116 9.03903 11.6145 8.89453 11.5441C8.75195 11.4738 8.58148 11.4387 8.38379 11.4387H7.34863V12.9904ZM7.34863 10.6037H8.26465C8.43369 10.6036 8.58376 10.5737 8.71484 10.5148C8.84793 10.454 8.95227 10.3683 9.02832 10.258C9.10628 10.1477 9.14551 10.0155 9.14551 9.8615C9.14546 9.65055 9.07008 9.48001 8.91992 9.35076C8.77165 9.22169 8.56064 9.15741 8.28711 9.1574H7.34863V10.6037Z" fill="black"/><path d="M7.16602 0.377127C7.44584 0.189493 7.82551 0.20905 8.08496 0.442557L11.418 3.44256C11.7257 3.71966 11.7507 4.19428 11.4736 4.50213C11.1966 4.80961 10.7228 4.83441 10.415 4.55779L7.60938 2.03338L5.11328 4.53045C4.82042 4.82326 4.34562 4.82322 4.05273 4.53045C3.75986 4.23757 3.75989 3.7628 4.05273 3.4699L7.05273 0.4699L7.16602 0.377127Z" fill="black"/></svg>',adesc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.3867 11.4697C10.6796 11.1771 11.1544 11.1769 11.4473 11.4697C11.7399 11.7626 11.7399 12.2374 11.4473 12.5303L8.44727 15.5303L8.33398 15.623C8.05425 15.8106 7.67449 15.7909 7.41504 15.5576L4.08203 12.5576C3.77415 12.2805 3.74927 11.8059 4.02637 11.498C4.30342 11.1907 4.77722 11.1657 5.08496 11.4424L7.89062 13.9668L10.3867 11.4697Z" fill="black"/><path d="M13.2012 3.0791C13.6346 3.07912 14.0128 3.1535 14.3359 3.30176C14.6611 3.45006 14.9141 3.65661 15.0947 3.9209C15.2752 4.18513 15.3683 4.49104 15.374 4.83887H14.1904C14.1676 4.60882 14.0695 4.43012 13.8965 4.30273C13.7235 4.17546 13.4889 4.11133 13.1924 4.11133C12.9909 4.11133 12.8204 4.14023 12.6816 4.19727C12.5431 4.25236 12.4364 4.32902 12.3623 4.42773C12.2901 4.52659 12.2539 4.63919 12.2539 4.76465C12.2501 4.86901 12.272 4.96023 12.3193 5.03809C12.3688 5.11604 12.4369 5.18417 12.5225 5.24121C12.6079 5.29623 12.7064 5.34496 12.8184 5.38672C12.9304 5.42661 13.0505 5.46075 13.1777 5.48926L13.7031 5.61426C13.9578 5.67128 14.1914 5.74776 14.4043 5.84277C14.6172 5.93784 14.8021 6.05457 14.958 6.19336C15.1139 6.33216 15.2348 6.49633 15.3203 6.68457C15.4076 6.8727 15.4522 7.08885 15.4541 7.33203C15.4521 7.68929 15.3612 7.99944 15.1807 8.26172C15.0019 8.52216 14.7427 8.72465 14.4043 8.86914C14.0678 9.01165 13.6617 9.08301 13.1865 9.08301C12.7153 9.08299 12.3048 9.01057 11.9551 8.86621C11.6072 8.72173 11.3345 8.50786 11.1387 8.22461C10.9447 7.9394 10.8435 7.58622 10.834 7.16602H12.0283C12.0416 7.36176 12.0985 7.52509 12.1973 7.65625C12.298 7.78554 12.4323 7.88365 12.5996 7.9502C12.7688 8.01477 12.96 8.04785 13.1729 8.04785C13.3817 8.04781 13.5629 8.01678 13.7168 7.95605C13.8727 7.89522 13.9935 7.81051 14.0791 7.70215C14.1646 7.59387 14.2079 7.46965 14.208 7.3291C14.208 7.19796 14.1687 7.08739 14.0908 6.99805C14.0148 6.90868 13.9022 6.83228 13.7539 6.76953C13.6076 6.70685 13.4276 6.64993 13.2148 6.59863L12.5791 6.43848C12.0868 6.31871 11.6982 6.13163 11.4131 5.87695C11.1279 5.62221 10.9855 5.27916 10.9873 4.84766C10.9854 4.49404 11.0804 4.18517 11.2705 3.9209C11.4625 3.65661 11.7259 3.45006 12.0605 3.30176C12.3951 3.15353 12.7754 3.0791 13.2012 3.0791Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 9H4.48926L4.05664 7.66797H1.94824L1.51465 9H0.19043L2.20703 3.15918H3.79883L5.8125 9ZM2.26172 6.7041H3.74316L3.02539 4.49414H2.98047L2.26172 6.7041Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 3.15918C8.88181 3.15918 9.24025 3.22322 9.52734 3.35059C9.81445 3.47798 10.0303 3.6546 10.1748 3.88086C10.3193 4.10518 10.3916 4.36351 10.3916 4.65625C10.3916 4.88432 10.3461 5.08484 10.2549 5.25781C10.1636 5.4289 10.0386 5.57039 9.87891 5.68066C9.72118 5.78898 9.54022 5.86549 9.33691 5.91113V5.96875C9.55913 5.9783 9.76719 6.04044 9.96094 6.15625C10.1568 6.27223 10.3158 6.43538 10.4375 6.64453C10.5591 6.85173 10.6201 7.09875 10.6201 7.38574C10.6201 7.69567 10.5427 7.97245 10.3887 8.21582C10.2366 8.45719 10.0113 8.64841 9.71289 8.78906C9.41442 8.9297 9.04658 8.99999 8.60938 9H6.11426V3.15918H8.45215ZM7.34863 7.99023H8.35547C8.69948 7.99023 8.95057 7.92504 9.1084 7.79395C9.26621 7.66085 9.34473 7.48325 9.34473 7.2627C9.34466 7.10125 9.3064 6.95844 9.22852 6.83496C9.15056 6.71143 9.03899 6.61427 8.89453 6.54395C8.75196 6.47365 8.58145 6.43848 8.38379 6.43848H7.34863V7.99023ZM7.34863 5.60352H8.26465C8.43369 5.60347 8.58376 5.57354 8.71484 5.51465C8.84791 5.45381 8.95228 5.36807 9.02832 5.25781C9.10623 5.14755 9.14551 5.01529 9.14551 4.86133C9.14542 4.65046 9.07002 4.48078 8.91992 4.35156C8.77163 4.22228 8.56087 4.15724 8.28711 4.15723H7.34863V5.60352Z" fill="black"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},vle=(e={})=>{let t="";for(const n of[...Object.keys(yV),...Object.keys(bV)]){const i=Cle(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},Cle=(e,t=1.5)=>{const n=bV[e];if(n)return n;const i=yV[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},wle=(e={})=>Ys({feature:"iconSet",css:()=>vle(e)}),yle=wle(),ble=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}&:where(.ag-ltr,.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding:0 var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper),:where(.ag-filter-add-select),:where(.ag-filter-filter),:where(.ag-filter-toolpanel-search),:where(.ag-floating-filter-search-icon),:where(.ag-mini-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper),:where(.ag-ltr) :where(.ag-filter-add-select),:where(.ag-ltr) :where(.ag-filter-filter),:where(.ag-ltr) :where(.ag-filter-toolpanel-search),:where(.ag-ltr) :where(.ag-floating-filter-search-icon),:where(.ag-ltr) :where(.ag-mini-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper),:where(.ag-rtl) :where(.ag-filter-add-select),:where(.ag-rtl) :where(.ag-filter-filter),:where(.ag-rtl) :where(.ag-filter-toolpanel-search),:where(.ag-rtl) :where(.ag-floating-filter-search-icon),:where(.ag-rtl) :where(.ag-mini-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',Sle=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",Rle={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},xle=()=>Ys({feature:"inputStyle",params:{...Rle,inputBackgroundColor:Oi,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Jo},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ms(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>ble+Sle}),Ele=xle(),Tle='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative}.ag-tab:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}.ag-tab.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}:where(.ag-ltr) .ag-tab.ag-tab-selected:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}:where(.ag-rtl) .ag-tab.ag-tab-selected:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}:where(.ag-ltr) .ag-tab.ag-tab-selected:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}:where(.ag-rtl) .ag-tab.ag-tab-selected:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}.ag-tab:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}.ag-tab.ag-tab-selected:after{opacity:1}',Dle={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Ple=()=>Ys({feature:"tabStyle",params:{...Dle,tabBarBorder:!0,tabBarBackgroundColor:gs(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Oi},css:Tle}),Ale=Ple(),Fle=()=>({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),Mle=()=>ule().withPart(fle).withPart(mle).withPart(yle).withPart(Ale).withPart(Ele).withPart(CV).withParams(Fle()),fv=Mle(),ma=(e,t,n,i,s)=>({changeKey:e,type:t,defaultValue:n,noWarn:i,cacheDefault:s}),kle=ma("cellHorizontalPadding","length",16),Ile=ma("indentationLevel","length",0,!0,!0),Ole=ma("rowGroupIndentSize","length",0),MM=ma("rowHeight","length",42),kM=ma("headerHeight","length",48),ib=ma("rowBorderWidth","border",1),IM=ma("pinnedRowBorderWidth","border",1),Lle=ma("headerRowBorderWidth","border",1);function _le(e,t){for(const n of t.sort((i,s)=>i.moduleName.localeCompare(s.moduleName))){const i=n.css;i&&e.set(`module-${n.moduleName}`,i)}}var Nle=class extends $ae{initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(MM),this.getSizeEl(kM),this.getSizeEl(ib),this.getSizeEl(IM),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(IM)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ib)}getHeaderRowBorderWidth(){return this.getCSSVariablePixelValue(Lle)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(MM)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(kM)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(kle)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Ile),n=this.getCSSVariablePixelValue(Ole);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?Number.parseFloat(t):-1}fireStylesChangedEvent(e){e==="rowBorderWidth"&&this.refreshRowBorderWidthVariable(),super.fireStylesChangedEvent(e)}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(ib);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Lt(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[qae]),_le(e,Array.from(rte())),e}getDefaultTheme(){return fv}varError(e,t){fe(9,{variable:{cssName:e,defaultValue:t}})}themeError(e){Lt(240,{theme:e})}shadowRootError(){Lt(293)}},Vle=class extends bi{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new fl}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},Hle=class extends Vle{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function SV(e,t,n){const i=e.visibleCols.headerGroupRowCount;if(n>=i)return{column:t,headerRowIndex:n};let s=t.getParent();for(;s&&s.getProvidedColumnGroup().getLevel()>n;)s=s.getParent();const o=t.isSpanHeaderHeight();return!s||o&&s.isPadding()?{column:t,headerRowIndex:i}:{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel()}}var Ble=class extends ae{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Bn(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:s,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=s?.getColumnGroup(e)??null)):n=e,!n)return null;const l=o.getHeaderRowContainerCtrl()?.getAllCtrls(),u=Wt(l||[]).type==="filter",d=fo(this.beans)-1;let f=-1,g=n;for(;g;)f++,g=g.getParent();let m=f;return t&&u&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:i}=this.beans,{focusedHeader:s}=n;if(!s)return!1;const{headerRowIndex:o}=s,r=s.column,l=fo(this.beans),u=this.getHeaderRowType(o),d=i.headerGroupRowCount;let{headerRowIndex:f,column:g,headerRowIndexWithoutSpan:m}=e==="UP"?Gle(u,r,o):zle(r,o,d),v=!1;return f<0&&(f=0,g=r,v=!0),f>=l?(f=-1,this.currentHeaderRowWithoutSpan=-1):m!==void 0&&(this.currentHeaderRowWithoutSpan=m),!v&&!g?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:f,column:g},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:s}=this.beans,o={...i.focusedHeader};let r,l;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==s.get("enableRtl")?(l="Before",r=this.findHeader(o,l)):(l="After",r=this.findHeader(o,l));const u=s.getCallback("tabToNextHeader");if(t&&u){const d=i.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:r,direction:l});if(d){const{headerRowIndex:f}=i.focusedHeader||{};f!=null&&f!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return d}return r||!t?i.focusHeaderPosition({headerPosition:r,direction:l,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,l,n)}focusNextHeaderRow(e,t,n){const i=this.beans,s=e.headerRowIndex;let o=null,r;const l=fo(i),u=this.beans.visibleCols.allCols;if(t==="Before"){if(s<=0)return!1;o=Wt(u),r=s-1,this.currentHeaderRowWithoutSpan-=1}else o=u[0],r=s+1,this.currentHeaderRowWithoutSpan<l?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:d,headerRowIndex:f}=SV(this.beans,o,r);return f>=l&&(f=-1),i.focusSvc.focusHeaderPosition({headerPosition:{column:d,headerRowIndex:f},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(xn(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?Wt(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:i}=this.beans;let s=e.column;if(s instanceof Ih){const u=s.getDisplayedLeafColumns();s=t==="Before"?u[0]:u[u.length-1]}const o=t==="Before"?i.getColBefore(s):i.getColAfter(s);if(!o)return;const r=i.headerGroupRowCount;if(e.headerRowIndex>=r)return{headerRowIndex:e.headerRowIndex,column:o};const l=n?.getColGroupAtLevel(o,e.headerRowIndex);return l?l.isPadding()&&o.isSpanHeaderHeight()?{headerRowIndex:i.headerGroupRowCount,column:o}:{headerRowIndex:e.headerRowIndex,column:l??o}:{headerRowIndex:o instanceof Fl&&o.isSpanHeaderHeight()?i.headerGroupRowCount:e.headerRowIndex,column:o}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function Gle(e,t,n){const i=n-1;if(e!=="filter"){const s=t instanceof Fl&&t.isSpanHeaderHeight();let o=t.getParent();for(;o&&(o.getProvidedColumnGroup().getLevel()>i||s&&o.isPadding());)o=o.getParent();if(o)return s?{column:o,headerRowIndex:o.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:i}:{column:o,headerRowIndex:i,headerRowIndexWithoutSpan:i}}return{column:t,headerRowIndex:i,headerRowIndexWithoutSpan:i}}function zle(e,t,n){const i=t+1,s={column:e,headerRowIndex:i,headerRowIndexWithoutSpan:i};if(e instanceof Ih){if(i>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:i};let r=e.getDisplayedChildren()[0];if(r instanceof Ih&&r.isPadding()){const u=r.getDisplayedLeafColumns()[0];u.isSpanHeaderHeight()&&(r=u)}s.column=r,r instanceof Fl&&r.isSpanHeaderHeight()&&(s.headerRowIndex=n,s.headerRowIndexWithoutSpan=i)}return s}var jle=class extends ae{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(lie(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(nn(this.beans),V3)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=nn(this.beans);return this.isDomDataPresentInHierarchy(e,vm,!0)?!0:this.isDomDataPresentInHierarchy(e,Cm,!0)}isDomDataPresentInHierarchy(e,t,n){let i=e;for(;i;){const s=QN(this.gos,i,t);if(s)return s.destroyed&&n?(this.attemptToRecoverFocus(),!1):!0;i=i.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,s={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(s.isFullWidthCell=o.isFullWidth()),s}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:o=!1,sourceEvent:r}=e,l=this.colModel.getCol(t);if(!l){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:er(i),column:l};const u=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...u,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:s,preventScrollOnBrowserFocus:o,sourceEvent:r}),this.previousCellFocusParams=u}isCellFocused(e){return this.focusedCell==null?!1:BR(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:s,headerRowIndex:o}=this.focusedHeader;return t===s&&n===o&&i==s.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),cl(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:s,fromCell:o,rowWithoutSpanValue:r,scroll:l=!0}=e;let{headerPosition:u}=e;if(o&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(u);if(i){const d=this.focusedHeader,f=fo(this.beans);if(n){const g=this.gos.getCallback("tabToNextHeader");g&&(u=this.getHeaderPositionFromUserFunc({userFunc:g,direction:t,currentPosition:d,headerPosition:u,headerRowCount:f}))}else{const g=this.gos.getCallback("navigateToNextHeader");if(g&&s){const m={key:s.key,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:f,event:s};u=g(m)}}}return u?this.focusProvidedHeaderPosition({headerPosition:u,direction:t,event:s,fromCell:o,rowWithoutSpanValue:r,scroll:l}):!1}focusHeaderPositionFromUserFunc(e){if(cl(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:s}=e,o=this.focusedHeader,r=fo(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:r});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:s})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:s,headerRowCount:o}=e,l=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:s,headerRowCount:o});return l===!0?i:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:s,event:o,scroll:r=!0}=e,{column:l,headerRowIndex:u}=t,{filterManager:d,ctrlsSvc:f,headerNavigation:g}=this.beans;if(this.focusedHeader&&xie(e.headerPosition,this.focusedHeader))return!1;if(u===-1)return d?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:l,event:o});r&&g?.scrollToColumn(l,n);const v=f.getHeaderRowContainerCtrl(l.getPinned())?.focusHeader(t.headerRowIndex,l,o)||!1;return g&&v&&(s!=null||i)&&(g.currentHeaderRowWithoutSpan=s??-1),v}focusFirstHeader(){if(this.overlays?.exclusive&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=SV(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.exclusive&&this.focusOverlay(!0))return!0;const t=fo(this.beans)-1,n=Wt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===er(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Cl(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.exclusive)return n&&this.focusOverlay(t);if(lv(this.beans))return t&&!cl(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:pu(this.beans,t);const s=t?pie(this.beans):gie(this.beans);if(s){const o=e.column??this.focusedHeader?.column,{rowIndex:r,rowPinned:l}=s,u=lr(this.beans,s);if(!o||!u||r==null)return!1;if(o.isSuppressNavigable(u)){const d=this.gos.get("enableRtl");let f;return!i||i.key===ee.TAB?f=d?ee.LEFT:ee.RIGHT:f=i.key,this.beans.navigation?.navigateToNextCell(null,f,{rowIndex:r,column:o,rowPinned:l||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:r,column:o,rowPinned:l}),t&&this.rowRenderer.getRowByPosition(s)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(s,t)||(this.setFocusedCell({rowIndex:r,column:o,rowPinned:er(l),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:r,rowPinned:l,column:o})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:fo(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Ule=class extends ae{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){const{gos:e}=this;this.horizontalScrollShowing=e.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=e.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth();const t=this.updateScrollVisible.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,newColumnsLoaded:t})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:VR();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Wle=class extends ae{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},$le=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Dp=new Set(["gridPreDestroyed","fillStart","pasteStart"]),ix=$le.reduce((e,t)=>(e[t]=Pte(t),e),{}),su={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agExportingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agNoMatchingRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agBigIntColumnFilter:"BigIntFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agBigIntColumnFloatingFilter:"BigIntFilter",agDateColumnFloatingFilter:"DateFilter",agFormulaCellEditor:"Formula",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function OM(e){return`"${e}"`}var Kle=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),qle={allowFormula:"Formula",aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t,...n})=>{const i=n.groupRowEditable;return!!t||!!i?typeof e=="string"?su[e]??"CustomEditor":"CustomEditor":null},cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:su[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?su[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},Yle=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},allowFormula:{supportedRowModels:["clientSide"]},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return yo(262);if(t.smallLeft)return yo(263);if(t.smallRight)return yo(264)}return null}},sort:{validate:t=>eu(t.sort)||ea(t.sort)?null:`sort must be of type (SortDirection | SortDef), currently it is ${typeof t.sort=="object"?JSON.stringify(t.sort):Cp(t.sort)}`},initialSort:{validate:t=>eu(t.initialSort)||ea(t.initialSort)?null:`initialSort must be of non-null type (SortDirection | SortDef), currently it is ${typeof t.initialSort=="object"?JSON.stringify(t.initialSort):Cp(t.initialSort)}`},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(s=>!(eu(s)||ea(s)));if(i.length>0)return`sortingOrder must be an array of type non-null (SortDirection | SortDef)[], incorrect items are: [${i.map(s=>typeof s=="string"||s==null?Cp(s):JSON.stringify(s)).join(", ")}]`}else if(!Array.isArray(n)||!n.length)return`sortingOrder must be an array with at least one element, currently it is [${n}]`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(s=>typeof s!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:s,enableCellSpan:o,rowDragEntireRow:r,enableCellTextSelection:l})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":s?"colDef.spanRows is not supported with suppressRowTransform.":o?r?"colDef.spanRows is not supported with rowDragEntireRow.":l?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:n={}},i){const s=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),o=[];for(const r of t.groupHierarchy??[]){if(typeof r=="object"){i.validation?.validateColDef(r);continue}!s.has(r)&&!(r in n)&&o.push(OM(r))}if(o.length>0){const r=`The following parts of colDef.groupHierarchy are not recognised: ${o.join(", ")}.`,l=`Choose one of ${[...s].map(OM).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${r}
${l}`}return null}}}),Xle={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,groupRowEditable:void 0,groupRowValueSetter:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0,allowFormula:void 0},Qle=()=>Object.keys(Xle),Zle=()=>({objectName:"colDef",allProperties:Qle(),docsUrl:"column-properties/",deprecations:Kle(),validations:Yle()}),Jle=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],ece=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","activeOverlayParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","formulaDataSource","formulaFuncs","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],tce=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector","suppressOverlays"],RV=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipSwitchShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],nce=["theme","rowSelection"],ice=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],xV=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","refreshAfterGroupEdit","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows","animateColumnResizing"],sce=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","overlayComponent","loadingOverlayComponent","noRowsOverlayComponent","overlayComponentSelector","activeOverlay","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],oce=()=>[...tce,...ece,...Jle,...RV,...sce,...xV,...ice,...nce],rce=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function oo(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var ace={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",refreshAfterGroupEdit:["RowGrouping","TreeData"],rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},lce=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return oo("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return oo("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return oo("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,s=["autoHeight","normal","print"];return i&&!s.includes(i)?`domLayout must be one of [${s.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:s}){return n&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:s,pinnedBottomRowData:o}){return i&&(s||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:s,pinnedBottomRowData:o}){return i&&(s||o)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:n={}},i,s){for(const o of Object.keys(n))s.validation?.validateColDef(n[o]);return null}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return yo(262);if(n.smallLeft)return yo(263);if(n.smallRight)return yo(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return oo("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:n=>{if(typeof n.ssrmExpandAllAffectsAllRows=="boolean"){if(n.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(n.ssrmExpandAllAffectsAllRows&&typeof n.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return oo("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return oo("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return oo("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return oo("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>!Gs(o));if(s.length>0)return`sortingOrder must be an array of type (SortDirection | SortDef)[], incorrect items are: ${s.map(o=>typeof o=="string"||o==null?Cp(o):JSON.stringify(o))}]`}else if(!Array.isArray(i)||!i.length)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},tooltipSwitchShowDelay:{validate:n=>n.tooltipSwitchShowDelay&&n.tooltipSwitchShowDelay<0?"tooltipSwitchShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:s,treeDataParentIdField:o,getDataPath:r,getRowId:l}=n;if(!s&&!o&&!r)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(s){if(r)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(r)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const s=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:s}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return oo("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return oo("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const i=n.renderingMode,s=["default","legacy"];return i&&!s.includes(i)?`renderingMode must be one of [${s.join()}], currently it's ${i}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:n})=>{if(!n)return null;const i=["fitCellContents","fitGridWidth","fitProvidedWidth"],s=n.type;return s!=="fitCellContents"&&s!=="fitGridWidth"&&s!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${i.map(o=>'"'+o+'"').join(", ")}, currently it's ${s}`:s==="fitProvidedWidth"&&typeof n.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${n.width}`:null}}},t={};for(const n of xV)t[n]={expectedType:"boolean"};for(const n of RV)t[n]={expectedType:"number"};return pi(t,e),t},cce=()=>({objectName:"gridOptions",allProperties:[...oce(),...Object.values(ix)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:rce(),validations:lce()}),uce=0,dce=0,LM="__ag_grid_instance",hce=class extends ae{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=dce++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new fl,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=Dp.has(t);if(i&&!e||!i&&e||!fce(t))return;const s=(o,r)=>{const l=ix[o],u=this.gridOptions[l];typeof u=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>u(r))};if(this.gridReadyFired)s(t,n);else if(t==="gridReady"){s(t,n),this.gridReadyFired=!0;for(const o of this.queueEvents)s(o.eventName,o.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??VN[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return be(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addCommon(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:uce++,properties:[]},s=[],{gridOptions:o,validation:r}=this;for(const l of Object.keys(e)){const u=FR.applyGlobalGridOption(l,e[l]);r?.warnOnInitialPropertyUpdate(n,l);const d=t||typeof u=="object"&&n==="api",f=o[l];if(d||f!==u){o[l]=u;const g={type:l,currentValue:u,previousValue:f,changeSet:i,source:n};s.push(g)}}this.validateGridOptions(this.gridOptions),i.properties=s.map(l=>l.type);for(const l of s)ml(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let s=t[n];typeof s=="function"&&(s=s(e,this.gridOptions,this.beans)),s&&this.assertModuleRegistered(s,n)}}validateGridOptions(e){this.validateOptions(e,ace),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,qle),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||Lt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:MR(),rowModelType:this.get("rowModelType"),isUmd:jN()}}isModuleRegistered(e){return gS(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[LM]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const n=t[LM];if(be(n))return n===this.instanceId;t=t.parentElement}return!1}};function fce(e){return!!ix[e]}var gce=class extends ae{constructor(e,t){super(),this.column=e,this.eGui=t,this.lastMovingChanged=0}postConstruct(){this.addManagedElementListeners(this.eGui,{click:e=>e&&this.onClick(e)}),this.addManagedListeners(this.column,{movingChanged:()=>{this.lastMovingChanged=Date.now()}})}onClick(e){const{sortSvc:t,rangeSvc:n,gos:i}=this.beans;if(!(Jc(i)?e.altKey:!0))n?.handleColumnSelection(this.column,e);else if(this.column.isSortable()){const o=this.column.isMoving(),l=Date.now()-this.lastMovingChanged<50;o||l||t?.progressSortFromEvent(this.column,e)}}};function pce(e,t){const n={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:n},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:n},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[e?{tag:"span",ref:"eColRef",cls:"ag-header-col-ref"}:null,{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:n},t?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var mce=class extends wn{constructor(){super(...arguments),this.eFilter=Te,this.eFilterButton=Te,this.eSortIndicator=Te,this.eMenu=Te,this.eLabel=Te,this.eText=Te,this.eColRef=Te,this.eSortOrder=Te,this.eSortAsc=Te,this.eSortDesc=Te,this.eSortMixed=Te,this.eSortNone=Te,this.eSortAbsoluteAsc=Te,this.eSortAbsoluteDesc=Te,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||e.column.formulaRef!=this.currentRef||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};pi(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const{formula:n}=this.beans,i=e.template;return i?i?.trim?i.trim():i:pce(!!n?.active,t)}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:s}=this.beans,o=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),this.eLabel&&(this.mouseListener??(this.mouseListener=this.createManagedBean(new gce(e.column,this.eLabel)))),n?.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupColumnRefIndicator(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Nne(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Fu(t))}addInIcon(e,t,n){const i=Ii(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){sa(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=Yi(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const s=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=s,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(s)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:i,eMenu:s,eFilterButton:o}=this,r=t.column,l=Yi(n);if(e&&!l){if(i.menuSvc?.isFilterMenuInHeaderEnabled(r))return t.showFilter(o??s??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(s??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:s,eSortAsc:o,eSortDesc:r,eSortMixed:l,eSortNone:u,eSortAbsoluteAsc:d,eSortAbsoluteDesc:f}=this;i.attachCustomElements(s,o,r,l,u,d,f)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n)}setupColumnRefIndicator(){const{eColRef:e,beans:{editModelSvc:t},params:n}=this;e&&(this.currentRef=n.column.formulaRef,e.textContent=this.currentRef,Ut(e,!1),this.addManagedEventListeners({cellEditingStarted:()=>{const i=t?.getEditPositions(),s=!!this.currentRef&&!!i?.some(o=>o.column.isAllowFormula());Ut(e,s)},cellEditingStopped:()=>{Ut(e,!1)}}))}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();Ut(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return sa(t),!1;const s=this.params.column;return this.addInIcon(i,t,s),this.addManagedListeners(s,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent=this.destroyBean(this.innerHeaderComponent),this.mouseListener=this.destroyBean(this.mouseListener)}},vce=class extends ae{constructor(e,t){super(),this.eLabel=e,this.columnGroup=t,this.isSticky=!1,this.left=null,this.right=null}postConstruct(){const{columnGroup:e,beans:t}=this,{ctrlsSvc:n}=t;n.whenReady(this,()=>{const i=this.refreshPosition.bind(this);e.getPinned()==null&&this.addManagedEventListeners({bodyScroll:s=>{s.direction==="horizontal"&&this.updateSticky(s.left)}}),this.addManagedListeners(e,{leftChanged:i,displayedChildrenChanged:i}),this.addManagedEventListeners({columnResized:i}),this.refreshPosition()})}refreshPosition(){const{columnGroup:e,beans:t}=this,n=e.getLeft(),i=e.getActualWidth();if(n==null||i===0){this.left=null,this.right=null,this.setSticky(!1);return}this.left=n,this.right=n+i;const s=t.colViewport.getScrollPosition();s!=null&&this.updateSticky(s)}updateSticky(e){const{beans:t,left:n,right:i}=this;if(n==null||i==null){this.setSticky(!1);return}const{gos:s,visibleCols:o}=t,l=s.get("enableRtl")?o.bodyWidth-e:e;this.setSticky(n<l&&i>l)}setSticky(e){const{isSticky:t,eLabel:n}=this;t!==e&&(this.isSticky=e,n.classList.toggle("ag-sticky-label",e))}},Cce={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},wce=class extends wn{constructor(){super(Cce),this.agOpened=Te,this.agClosed=Te,this.agLabel=Te,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&fe(89)}workOutInnerHeaderGroupComponent(e,t){const n=Hne(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:{colGroupSvc:i}}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const s=u=>{if(ir(u))return;const d=!n.isExpanded();i.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(t,s),this.addTouchAndClickListeners(e,s);const o=u=>{wl(u)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:s}),this.updateIconVisibility();const r=n.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t){this.beans.touchSvc?.setupForHeaderGroupElement(this,e,t),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();Ut(e,i),Ut(t,!i)}else Ut(e,!1),Ut(t,!1)}addInIcon(e,t){const n=Ii(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ut(t,!1),Ut(n,!1)}}setupLabel(e){const{displayName:t,columnGroup:n}=e,{innerHeaderGroupComponent:i,isLoadingInnerComponent:s}=this,o=i||s;be(t)&&!o&&(this.agLabel.textContent=Fu(t)),n.getColGroupDef()?.suppressStickyLabel||this.createManagedBean(new vce(this.getGui(),n))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},yce={moduleName:"ColumnHeaderComp",version:we,userComponents:{agColumnHeader:mce},icons:{menu:"menu",menuAlt:"menu-alt"}},bce={moduleName:"ColumnGroupHeaderComp",version:we,userComponents:{agColumnGroupHeader:wce},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Sce=class extends ae{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&fe(92)}createTask(e,t,n,i,s=!1){this.verify();let o=n;i&&this.batchFrameworkComps&&(o="f1");const r={task:e,index:t,createOrder:++this.taskCount,deferred:s};this.addTaskToList(this[o],r),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:s,beans:o}=this,{ctrlsSvc:r,frameworkOverrides:l}=o,u=t.list,d=n.list,f=i.list,g=Date.now();let m=0;const v=e<=0,y=r.getScrollFeature();for(;v||m<e;){if(!y.scrollGridIfNeeded()){let R;if(u.length)this.sortTaskList(t),R=u.pop().task;else if(d.length)this.sortTaskList(n),R=d.pop().task;else if(f.length)l.wrapOutgoing(()=>{for(;(v||m<e)&&!y.scrollGridIfNeeded();){if(f.length)this.sortTaskList(i),R=f.pop().task,R();else break;m=Date.now()-g}}),R=()=>{};else if(s.length)R=s.pop();else break;R()}m=Date.now()-g}u.length||d.length||f.length||s.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);fr(this.beans,e)}isQueueEmpty(){return!this.ticking}},Rce={moduleName:"AnimationFrame",version:we,beans:[Sce]},xce=class extends ae{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return Ii(e,this.beans,t?.column)}},Ece=class extends ae{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ll())return;const t=(n,i,s)=>{const{rowCtrl:o,cellCtrl:r}=e.getControlsForEventTarget(s?.target??null);r?.column&&r.dispatchCellContextMenuEvent(s??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,s,o,r)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!ll()||sm("dblclick"))return!1;const i=Date.now(),s=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,s})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:s,eMenu:o,eFilterButton:r}=e,l=new $a(e.getGui(),!0);e.addDestroyFunc(()=>l.destroy());const u=e.shouldSuppressMenuHide(),d=u&&be(o)&&s.enableMenu;let f=l;if(d&&(f=new $a(o,!0),e.addDestroyFunc(()=>f.destroy())),s.enableMenu||i?.isHeaderContextMenuEnabled(s.column)){const g=d?"tap":"longTap",m=v=>s.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(f,{[g]:m}),e.addManagedListeners(l,{longTap:m})}if(s.enableSorting){const g=m=>{const v=m.touchStart.target;u&&(o?.contains(v)||r?.contains(v))||n?.progressSort(s.column,!1,"uiColumnSorted")};e.addManagedListeners(l,{tap:g})}if(s.enableFilterButton&&r){const g=new $a(r,!0);e.addManagedListeners(g,{tap:()=>s.showFilter(r)}),e.addDestroyFunc(()=>g.destroy())}}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new $a(t.eGridHeader,!0),i=s=>t.showColumnMenuAfterMouseClick(s.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new $a(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!ll())return;const i=new $a(t),s=o=>{Fh(this.beans,o.touchEvent)&&n(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(i,{longTap:s}),e.addDestroyFunc(()=>i.destroy())}},Tce={moduleName:"Touch",version:we,beans:[Ece]},Dce=class extends ae{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===ee.UP,i=e===ee.DOWN,s=e===ee.LEFT;let o,r;const{pageBounds:l,gos:u,visibleCols:d,pinnedRowModel:f}=this.beans,{rowPinned:g}=t;if(n||i)g&&f?n?r=0:r=g==="top"?f.getPinnedTopRowCount()-1:f.getPinnedBottomRowCount()-1:r=n?l.getFirstRow():l.getLastRow(),o=t.column;else{const m=u.get("enableRtl");r=t.rowIndex,o=(s!==m?d.allCols:[...d.allCols].reverse()).find(y=>this.isCellGoodToFocusOn({rowIndex:r,rowPinned:null,column:y}))}return o?{rowIndex:r,rowPinned:g,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case ee.UP:n=this.getCellAbove(n);break;case ee.DOWN:n=this.getCellBelow(n);break;case ee.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case ee.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,fe(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:s}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=s.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=eM(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=mm(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let s=e.rowIndex,o=e.rowPinned,r=t.getColAfter(e.column);if(!r){r=i[0];const l=eM(this.beans,e,!0);if(an(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:r,rowPinned:o}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,s=n.allCols;let o=e.rowIndex,r=e.rowPinned,l=n.getColBefore(e.column);if(!l){l=Wt(s);const u=mm(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(an(u)||!u.rowPinned&&!(i?.isRowInPage(u.rowIndex)??!0))return null;o=u?u.rowIndex:null,r=u?u.rowPinned:null}return{rowIndex:o,column:l,rowPinned:r}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function Pce(e){return e.focusSvc.getFocusedCell()}function Ace(e){return e.focusSvc.clearFocusedCell()}function Fce(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function Mce(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function kce(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function Ice(e,t,n=!1){const i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}function bl(e){const t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Oce=class extends ae{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new EV,this.rowValidations=new TV,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const n=this.getEditRow(e),i=e.pinnedSibling,s=t&&i&&this.getEditRow(i);if(!n&&!s)return;const o={...e.data},r=(l,u)=>l.forEach(({pendingValue:d},f)=>{d!==Kn&&(u[f.getColId()]=d)});return n&&r(n,o),s&&r(s,o),o}getEdit(e={},t){const{rowNode:n,column:i}=e,s=this.edits;if(this.suspendEdits||s.size===0||!n||!i)return;const o=s.get(n)?.get(i);if(o)return o;if(t?.checkSiblings){const r=n.pinnedSibling;if(r)return s.get(r)?.get(i)}}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,i)=>{const s=new Map;n.forEach(({editorState:o,...r},l)=>s.set(l,{...r})),t.set(i,s)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const i=new Map;t.forEach((s,o)=>i.set(o,{...s})),this.edits.set(n,i)})}setEdit(e,t){const n=this.edits;(n.size===0||!n.has(e.rowNode))&&n.set(e.rowNode,new Map);const i=this.getEdit(e),s={editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...i,...t};return this.getEditRow(e.rowNode).set(e.column,s),s}clearEditValue(e){const{rowNode:t,column:n}=e;if(!t)return;const i=o=>{o.editorValue=void 0,o.pendingValue=o.sourceValue,o.state="changed"};if(!n){this.getEditRow(t)?.forEach(i);return}const s=this.getEdit(e);s&&i(s)}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,i)=>{for(const s of n.keys()){const{editorState:o,...r}=n.get(s);t.push({rowNode:i,column:s,...r})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:i}=e,{withOpenEditor:s}=t;if(n){const o=this.getEditRow(n,t);return o?i?s?this.getEdit(e)?.state==="editing":o.has(i):o.size!==0?s?Array.from(o.values()).some(({state:r})=>r==="editing"):!0:!1:!1}return s?this.getEditPositions().some(({state:o})=>o==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{editorValue:void 0,pendingValue:Kn,sourceValue:this.beans.valueSvc.getValue(i,n,"data"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e,t,n){if(this.hasEdits(e))if(t){const i=this.getEditRow(e.rowNode)?.get(e.column);i&&(i.pendingValue===Kn||i.pendingValue===i.sourceValue)?this.removeEdits(e):i&&n&&(i.editorValue=void 0)}else this.removeEdits(e)}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},EV=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},TV=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function bm(e,t={}){const{rowIndex:n,rowId:i,rowCtrl:s,rowPinned:o}=t;if(s)return s;const{rowModel:r,rowRenderer:l}=e;let{rowNode:u}=t;return u||(i?u=mie(e,i,o):n!=null&&(u=r.getRow(n))),l.getRowCtrls(u?[u]:[])?.[0]}function Vt(e,t={}){const{cellCtrl:n,colId:i,columnId:s,column:o}=t;if(n)return n;const r=e.colModel.getCol(i??s??kS(o)),l=t.rowCtrl??bm(e,t),u=l?.getCellCtrl(r)??void 0;if(u)return u;const d=t.rowNode??l?.rowNode;if(d)return e.rowRenderer.getCellCtrls([d],[r])?.[0]}function _M(e){const{editSvc:t}=e;t?.isBatchEditing()?(Jr(e,{persist:!0}),nl(e)):t?.stopEditing(void 0,{source:"api"})}function Lce(e,t,n){const{gos:i,popupSvc:s}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;const o=r=>{const l=r.relatedTarget;if(bS(l)===null){_M(t);return}let u=n.some(d=>d.contains(l))&&i.isElementInThisInstance(l);u||(u=!!s&&(s.getActivePopups().some(d=>d.contains(l))||s.isElementWithinCustomPopup(l))),u||_M(t)};for(const r of n)e.addManagedElementListeners(r,{focusout:o})}function kS(e){if(e)return typeof e=="string"?e:e.getColId()}var Kn=Symbol("unedited"),_ce=(e,t={})=>{const n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns),i=new Array(n.length);let s=0;for(let o=0,r=n.length;o<r;++o){const u=n[o].comp?.getCellEditor();u&&(i[s++]=bl(u))}return i.length=s,i};function Nce(e,t,n,i,s,o){t.length===0&&n?.rowNode&&n?.column&&mu(e,n,{key:i,event:s,cellStartedEdit:o});const{valueSvc:r,editSvc:l,editModelSvc:u}=e,{rowNode:d,column:f}=n??{};for(const g of t){const{rowNode:m,column:v}=g,y=Vt(e,g);if(!y){if(m&&v){const R=r.getValue(v,m,"data"),D=(n?.rowNode===m&&n?.column===v&&i||void 0)??l?.getCellDataValue(g)??r.getValueForDisplay({column:v,node:m,from:"edit"})?.value??R??Kn;u?.setEdit(g,{pendingValue:vu(e,D,!1,v),sourceValue:R,state:"editing"})}continue}const S=o&&d===y.rowNode&&y.column===f;mu(e,{rowNode:d,column:y.column},{key:S?i:null,event:S?s:null,cellStartedEdit:S&&o})}}function zs({pendingValue:e,sourceValue:t}){return e===Kn&&(e=t),e!==t}function Vce(e){const t=new Map;for(const[n,i]of e){const s=new Map;for(const[o,r]of i)zs(r)&&s.set(o,r);s.size>0&&t.set(n,s)}return t}function mu(e,t,n){const{key:i,event:s,cellStartedEdit:o,silent:r}=n??{},{editModelSvc:l,editSvc:u,gos:d,userCompFactory:f}=e,g=Vt(e,t),m=g?.comp?.getCellEditor(),v=PV(e,t,i,o&&!r),y=l?.getEdit(t),S=v.value??y?.sourceValue;if(m){l?.setEdit(t,{editorValue:vu(e,S,!0,t.column),state:"editing"}),m.refresh?.(v);return}const R=t.column.getColDef(),x=b3(f,R,v);if(!x)return;const{popupFromSelector:T,popupPositionFromSelector:D}=x,M=T??!!R.cellEditorPopup,F=D??R.cellEditorPopupPosition;if(AV(x.params,s),!g)return;const{rangeFeature:I,rowCtrl:A,comp:O,onEditorAttachedFuncs:_}=g;l?.setEdit(t,{editorValue:vu(e,S,!0,t.column),state:"editing"}),g.editCompDetails=x,_.push(()=>I?.unsetComp()),O?.setEditDetails(x,M,F,d.get("reactiveCustomComponents")),A?.refreshRow({suppressFlash:!0});const B=l?.getEdit(t);!r&&!B?.editorState?.cellStartedEditing&&(u?.dispatchCellEvent(t,s,"cellEditingStarted",{value:S}),l?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}function DV(e,t,n){const i={editorValueExists:!1};if(sx(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return i;if(n?.isStopping){const o=t?.isCancelAfterEnd?.();if(o)return{...i,isCancelAfterEnd:o}}return{editorValue:t.getValue(),editorValueExists:!0}}function PV(e,t,n,i){const{valueSvc:s,gos:o,editSvc:r}=e,l=e.gos.get("enableGroupEdit"),u=Vt(e,t),d=t.rowNode?.rowIndex??void 0,f=r?.isBatchEditing(),g=e.colModel.getCol(t.column.getId()),{rowNode:m,column:v}=t,y=u.comp?.getCellEditor(),S=r?.getCellDataValue(t),R=S===void 0?y?DV(e,y)?.editorValue:void 0:S,x=R===Kn?s.getValueForDisplay({column:g,node:m,from:"edit"})?.value:R;let T=l?R:x;return v.isAllowFormula()&&e.formula?.isFormula(T)&&(T=e.formula?.normaliseFormula(T,!0)??T),ze(o,{value:T,eventKey:n??null,column:v,colDef:v.getColDef(),rowIndex:d,node:m,data:m.data,cellStartedEdit:!!i,onKeyDown:u?.onKeyDown.bind(u),stopEditing:D=>{r.stopEditing(t,{source:f?"ui":"api",suppressNavigateAfterEdit:D}),Lh(e,t,{})},eGridCell:u?.eGui,parseValue:D=>s.parseValue(g,m,D,u?.value),formatValue:u?.formatValue.bind(u),validate:()=>{r?.validateEdit()}})}function Pp(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((i,s)=>{i.forEach((o,r)=>{!t&&(o.state==="editing"||o.pendingValue===Kn)||!zs(o)&&(o.state!=="editing"||t)&&n?.removeEdits({rowNode:s,column:r})})})}function Hce(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:i,cellStartedEdit:s}=t.editCompDetails.params,{column:o}=t,r=PV(e,t,i,s),l=o.getColDef(),u=b3(e.userCompFactory,l,r);n.refresh(AV(u.params,i))}function AV(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Jr(e,t){for(const n of e.editModelSvc?.getEditPositions()??[]){const i=Vt(e,n);if(!i)continue;const s=i.comp?.getCellEditor();if(!s)continue;const{editorValue:o,editorValueExists:r,isCancelAfterEnd:l}=DV(e,s,t);l&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:l}}),jd(e,n,o,void 0,!r,t)}}function jd(e,t,n,i,s,o){const{editModelSvc:r,valueSvc:l}=e;if(!r)return;const{rowNode:u,column:d}=t;if(!(u&&d))return;let f=r.getEdit(t);if(f?.sourceValue===void 0){const g=f?vu(e,f.editorValue,!1,d):Kn,m={sourceValue:l.getValue(d,u,"data"),pendingValue:g};o?.persist&&(m.state="changed"),f=r.setEdit(t,m)}r.setEdit(t,{editorValue:s?vu(e,f.sourceValue,!0,d):n}),o?.persist&&Bce(e,t)}function vu(e,t,n,i){const{formula:s}=e;return i.isAllowFormula()&&s?.isFormula(t)?s?.normaliseFormula(t,n)??t:t}function Bce(e,t){const{editModelSvc:n}=e,i=n?.getEdit(t),o={pendingValue:vu(e,i?.editorValue,!1,t.column)};!i?.editorState?.cellStoppedEditing&&i?.state!=="editing"&&(o.state="changed"),n?.setEdit(t,o)}function nl(e,t,n={}){if(t||(t=e.editModelSvc?.getEditPositions()),t)for(const i of t)Lh(e,i,n)}function Lh(e,t,n,i=Vt(e,t)){const s=e.editModelSvc,o=s?.getEdit(t);let r;if(o&&o.state!=="editing"&&o.editorState?.cellStoppedEditing?r=o.state:r="changed",!i){o&&s?.setEdit(t,{state:r});return}const l=i.comp,u=l?.getCellEditor();if(l&&!u){if(i?.refreshCell(),o){s?.setEdit(t,{state:r});const f=e.gos.get("enableGroupEdit")?NM(o,n?.cancel):{valueChanged:!1,newValue:void 0,oldValue:o.sourceValue};VM(e,t,f,n)}return}if(sx(e)){const f=o&&u?.getValidationErrors?.(),g=s?.getCellValidationModel();f?.length?g?.setCellValidation(t,{errorMessages:f}):g?.clearCellValidation(t)}o&&s?.setEdit(t,{state:r}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),i?.refreshCell({force:!0,suppressFlash:!0});const d=s?.getEdit(t);if(d&&d.state!=="editing"){const f=n?.cancel,g=e.gos.get("enableGroupEdit")?NM(d,f):Gce(d,o,f);VM(e,t,g,n)}}function NM(e,t){const{sourceValue:n,pendingValue:i}=e;let s;return!t&&i!==Kn&&(s=i),{valueChanged:!t&&zs(e),newValue:s,oldValue:n,value:n}}function Gce(e,t,n){if(n||e.editorState.isCancelAfterEnd)return{valueChanged:!1,newValue:void 0,oldValue:e.sourceValue};let i=e.editorValue;return(i==null||i===Kn)&&(i=t?.pendingValue),i===Kn&&(i=void 0),{valueChanged:zs(e),newValue:i,oldValue:e.sourceValue}}function VM(e,t,n,{silent:i,event:s}={}){const{editSvc:o,editModelSvc:r}=e,l=r?.getEdit(t),{editorState:u}=l||{},{isCancelBeforeStart:d}=u||{};!i&&!d&&(o?.dispatchCellEvent(t,s,"cellEditingStopped",n),r?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function zce(e){if(!e)return!1;for(let t=0,n=e.length;t<n;++t){const i=e[t],s=i.cellEditorParams;if(!(!s||!i.editable&&!i.groupRowEditable)&&(s.minLength!==void 0||s.maxLength!==void 0||s.getValidationErrors!==void 0||s.min!==void 0||s.max!==void 0))return!0}return!1}function jce(e){const t=e.rowRenderer.getCellCtrls();for(let n=0,i=t.length;n<i;++n){const o=t[n].comp?.getCellEditor();if(o){const r=bl(o);if(r.getValidationElement||r.getValidationErrors)return!0}}return!1}function sx(e){return!!e.gos.get("getFullRowEditValidationErrors")||zce(e.colModel.getColumnDefs())||jce(e)}function Sl(e,t){if(!(t||sx(e)))return;const n=new EV,{ariaAnnounce:i,localeSvc:s,editModelSvc:o,gos:r}=e,l=r.get("editType")==="fullRow",d=LN(s)("ariaValidationErrorPrefix","Cell Editor Validation"),f=new Set;for(const g of e.rowRenderer.getCellCtrls()){const m=g.comp?.getCellEditor();if(!m)continue;const v=bl(m),{rowNode:y,column:S}=g,R=v.getValidationErrors?.()??[],x=v.getValidationElement?.(!1)||!v.isPopup?.()&&g.eGui;if(x){const T=R!=null&&R.length>0,D=T?R.join(". "):"";SR(x,T),T&&i.announceValue(`${d} ${R}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(D):x.classList.toggle("invalid",T)}R?.length>0&&n.setCellValidation({rowNode:y,column:S},{errorMessages:R}),f.add(g.rowCtrl)}if(Jr(e,{persist:!1}),o?.setCellValidationModel(n),l){const g=Uce(e);o?.setRowValidationModel(g)}for(const g of f.values()){g.rowEditStyleFeature?.applyRowStyles();for(const m of g.getAllCellCtrls())m.tooltipFeature?.refreshTooltip(!0),m.editorTooltipFeature?.refreshTooltip(!0),m.editStyleFeature?.applyCellStyles?.()}}var Uce=e=>{const t=new TV,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(const s of i.keys()){const o=i.get(s);if(!o)continue;const r=[],{rowIndex:l,rowPinned:u}=s;for(const f of o.keys()){const g=o.get(f);if(!g)continue;const{editorValue:m,pendingValue:v,sourceValue:y}=g,S=m??(v===Kn?void 0:v)??y;r.push({column:f,colId:f.getColId(),rowIndex:l,rowPinned:u,oldValue:y,newValue:S})}const d=n?.({editorsState:r})??[];d.length>0&&t.setRowValidation({rowNode:s},{errorMessages:d})}return t};function Wce(e){Sl(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((i,s)=>{i.forEach(({errorMessages:o},r)=>{n.push({column:r,rowIndex:s.rowIndex,rowPinned:s.rowPinned,messages:o??null})})}),n}function af(e){return!!(e.rowPinned&&e.pinnedSibling)}function hs(e,t,n,i){const s=t==="top";if(!n)return hs(e,t,s?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const u=s?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return hs(e,t,n,s?e.getPinnedTopRow(u-1):e.getPinnedBottomRow(u-1))}let o=!1,r=!1;const l=[];return e.forEachPinnedRow(t,u=>{if(u===n&&!o){o=!0,l.push(u);return}if(o&&u===i){r=!0,l.push(u);return}o&&!r&&l.push(u)}),l}function $ce(e,t,n,{rowNode:i,column:s},o){return ze(e.gos,{type:n,node:i,data:i.data,value:o,column:s,colDef:s.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function Kce(e,t=!1){return e===ee.DELETE?!0:!t&&e===ee.BACKSPACE?T3():!1}var qce=class extends ae{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case ee.ENTER:this.onEnterKeyDown(e);break;case ee.F2:this.onF2KeyDown(e);break;case ee.ESCAPE:this.onEscapeKeyDown(e);break;case ee.TAB:this.onTabKeyDown(e);break;case ee.BACKSPACE:case ee.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ee.DOWN:case ee.UP:case ee.RIGHT:case ee.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const s=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,s,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(e.key===ee.LEFT||e.key===ee.RIGHT?n?.ensureColumnVisible(i.column):n?.ensureRowVisible(i.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:s}=this,{gos:o,rangeSvc:r,eventSvc:l,editSvc:u}=i;if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),Kce(e,o.get("enableCellEditingOnBackspace"))&&!u?.isEditing(n,{withOpenEditor:!0})){if(r&&ra(o))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const d=i.valueSvc.getDeleteValue(n.column,s);s.setDataValue(n.column,d,"cellClear")}}else u?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:s}=n,o=i?.isEditing(t,{withOpenEditor:!0}),r=t.rowNode,l=i?.isRowEditing(r,{withOpenEditor:!0}),u=d=>{i?.startEditing(d,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(o||l){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(Sl(n),i?.checkNavWithValidation(void 0,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e,source:"edit"}):l&&!t.isCellEditable()?i?.stopEditing({rowNode:r},{event:e,source:"edit"}):u(t)}else if(n.gos.get("enterNavigatesVertically")){const d=e.shiftKey?ee.UP:ee.DOWN;s?.navigateToNextCell(null,d,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),u(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===ee.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(Sl(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),setTimeout(()=>{n?.stopEditing(t,{event:e,cancel:!0})})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:s}=this;if(n||i?.isEditing(s,{withOpenEditor:!0}))return;if(e.key===ee.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(s,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(s))return;i?.startEditing(s,{startedEdit:!0,event:e,source:"api",editable:!0}),!s.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&rl(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}},Yce=class extends ae{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!ir(t))switch(e){case"click":this.onCellClicked(t);break;case"pointerdown":case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:s,frameworkOverrides:o,gos:r}=this.beans,l=e.ctrlKey||e.metaKey,{cellCtrl:u}=this,{column:d,cellPosition:f,rowNode:g}=u,m=xp(r,d,g,e);n&&l&&!m&&n.getCellRangeCount(f)>1&&n.intersectLastRange(!0);const v=u.createEvent(e,"cellClicked");v.isEventHandlingSuppressed=m,t.dispatchEvent(v);const y=d.getColDef();if(y.onCellClicked&&window.setTimeout(()=>{o.wrapOutgoing(()=>{y.onCellClicked(v)})},0),!m&&s?.getState(u)!=="editing"){const S=i?.isEditing(),R=i?.isRangeSelectionEnabledWhileEditing(),x=s?.getCellValidationModel().getCellValidationMap().size??0,T=s?.getRowValidationModel().getRowValidationMap().size??0;if(S&&(R||x>0||T>0))return;i?.shouldStartEditing(u,e)?i?.startEditing(u,{event:e}):i?.shouldStopEditing(u,e)&&(this.beans.gos.get("editType")==="fullRow"?i?.stopEditing(u,{event:e,source:"edit"}):i?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:s,frameworkOverrides:o,editSvc:r,editModelSvc:l,gos:u}=n,d=xp(u,i.column,i.rowNode,e),f=t.getColDef(),g=i.createEvent(e,"cellDoubleClicked");if(g.isEventHandlingSuppressed=d,s.dispatchEvent(g),typeof f.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{f.onCellDoubleClicked(g)})},0),!d&&r?.shouldStartEditing(i,e)&&l?.getState(i)!=="editing"){const m=r?.isEditing(),v=r?.isRangeSelectionEnabledWhileEditing(),y=l?.getCellValidationModel().getCellValidationMap().size??0,S=l?.getRowValidationModel().getRowValidationMap().size??0;if(m&&(v||y>0||S>0))return;r?.startEditing(i,{event:e})}}onMouseDown(e){const{shiftKey:t}=e,n=e.target,{cellCtrl:i,beans:s}=this,{eventSvc:o,rangeSvc:r,rowNumbersSvc:l,focusSvc:u,gos:d,editSvc:f}=s,{column:g,rowNode:m,cellPosition:v}=i,y=xp(d,g,m,e),S=()=>{const D=i.createEvent(e,"cellMouseDown");D.isEventHandlingSuppressed=y,o.dispatchEvent(D)};if(y){S();return}if(this.isRightClickInExistingRange(e))return;const R=r&&!r.isEmpty(),x=this.containsWidget(n),T=tr(g);if(!(l&&T&&!l.handleMouseDownOnCell(v,e))){if(!t||!R){const D=f?.isEditing(i),F=d.get("enableCellTextSelection")&&e.defaultPrevented,I=(pa()||F)&&!D&&!Zd(n)&&!x;i.focusCell(I,e)}if(t&&R&&!u.isCellFocused(v)){e.preventDefault();const D=u.getFocusedCell();if(D){const{column:M,rowIndex:F,rowPinned:I}=D,A=!!f?.isRangeSelectionEnabledWhileEditing?.();f?.isEditing(D)&&!A&&f?.stopEditing(D),A||u.setFocusedCell({column:M,rowIndex:F,rowPinned:I,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}x||(r?.handleCellMouseDown(e,v),S())}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=Mte(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return sl(e,"ag-selection-checkbox",3)||sl(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},Xce=class extends ae{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();fa(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let s=e;const o=e.getPinned();for(let r=0;s&&r<n&&(i.push(s),s=this.beans.visibleCols.getColAfter(s),!(!s||an(s)||o!==s.getPinned()));r++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Wt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=al(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},Qce="ag-cell",Zce="ag-cell-auto-height",Jce="ag-cell-normal-height",eue="ag-cell-focus",tue="ag-cell-first-right-pinned",nue="ag-cell-last-left-pinned",iue="ag-cell-not-inline-editing",sue="ag-cell-wrap-text",oue=0,ou=class extends ae{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:s}=e;this.instanceId=s+"-"+oue++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new Xce(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this),this.mouseListener=new Yce(this,e,this.column),this.keyboardListener=new qce(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&ra(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(this)),tr(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Sl(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,s,o,r){this.comp=e,this.eGui=t,this.printLayout=s,r??(r=this),this.addDomData(r),this.addFeatures(),r.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,r),this.refreshFirstAndLastStyles(),this.checkFormulaError(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer();const l=o?this.isCellEditable():void 0,u=!l&&this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0});if(l||u?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0,editable:l}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const d of this.onCompAttachedFuncs)d();this.onCompAttachedFuncs=[]}}checkFormulaError(){const e=!!this.beans.formula?.getFormulaError(this.column,this.rowNode);this.eGui.classList.toggle("formula-error",e)}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:s}=e,o=t.getColDef(),r=this.createCellRendererParams();r.deferRender=!0;const l=JF(n,o,r);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let u;const d=new pt(g=>{u=g}),[f]=this.addManagedListeners(s,{bodyScrollEnd:()=>{u(),f()}});return{loadingComp:l,onReady:d}}return{loadingComp:l,onReady:pt.resolve()}}showValue(e,t){const{beans:n,column:i,rowNode:s,rangeFeature:o}=this,{userCompFactory:r}=n;let l=this.getValueToDisplay(),u;const d=s.stub&&s.groupData?.[i.getId()]==null,f=i.getColDef();if(d||this.isCellRenderer()){const g=this.createCellRendererParams();!d||tr(i)?u=ZF(r,f,g):u=JF(r,f,g)}if(!u&&!d&&n.findSvc?.isMatch(s,i)){const g=this.createCellRendererParams();u=ZF(r,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},g)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(s,{checkSiblings:!0})){const g=this.editSvc.prepDetailsDuringBatch(this,{compDetails:u,valueToDisplay:l});g&&(g.compDetails?u=g.compDetails:g.valueToDisplay&&(l=g.valueToDisplay))}this.comp.setRenderDetails(u,l,e),this.customRowDragComp?.refreshVisibility(),!t&&o&&fr(n,()=>o?.refreshRangeStyleAndHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let n="";return t&&(n=" ag-allow-overflow"),`${e}${n}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&af(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=am(t),s=ga(this.column);return n==="custom"&&i!=="selectionColumn"&&s?!1:e.checkboxSelection||s&&typeof t=="object"&&Zc(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||s}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:s,eGui:o,beans:{valueSvc:r,gos:l,editSvc:u}}=this;return ze(l,{value:e,valueFormatted:t,getValue:()=>r.getValueForDisplay({column:n,node:i,from:"edit"}).value,setValue:f=>u?.setDataValue({rowNode:i,column:n},f)||i.setDataValue(n,f),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:s.getParentOfValue(),registerRowDragger:(f,g,m,v)=>this.registerRowDragger(f,g,v),setTooltip:(f,g)=>{l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(f,g),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:n}=this;!n?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){const{editStyleFeature:i,customStyleFeature:s,rowCtrl:{rowEditStyleFeature:o},beans:{cellFlashSvc:r,filterManager:l},column:u,comp:d,suppressRefreshCell:f,tooltipFeature:g}=this;if(f)return;const{field:m,valueGetter:v,showRowGroup:y,enableCellChangeFlash:S}=u.getColDef(),R=m==null&&v==null&&y==null,x=e||R||n,T=!!d,D=this.updateAndFormatValue(T),M=x||D;if(T){if(M){this.showValue(!!n,!1);const F=l?.isSuppressFlashingCellsBecauseFiltering();!t&&!F&&S&&r?.flashCell(this),i?.applyCellStyles?.(),s?.applyUserStyles(),s?.applyClassesFromColDef(),o?.applyRowStyles(),this.checkFormulaError()}g?.refreshTooltip(),s?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:s}=this.beans.valueSvc.getValueForDisplay({column:this.column,node:this.rowNode,includeValueFormatted:!0,from:"edit"});return this.value=i,this.valueFormatted=s,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;vl(this.beans.gos,t,vm,this),e.addDestroyFunc(()=>vl(this.beans.gos,t,vm,null))}createEvent(e,t){const{rowNode:n,column:i,value:s,beans:o}=this;return $ce(o,e,t,{rowNode:n,column:i},s)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;N3(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);DN(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const s=()=>{if(!this.isAlive())return;const o=i.getFocusableElement();this.isCellFocused()&&o.focus({preventScroll:!0})};if(e){setTimeout(s,0);return}s()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(tr(this.column)&&(e=!0),ki(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(tue,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(nue,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(lv(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(eue,n),n&&(e?.forceBrowserFocus||!this.hasBrowserFocus()&&this.beans.focusSvc.shouldTakeFocus())){let s=this.comp.getFocusableElement();if(i){const r=nu(s,null,!0);r.length&&(s=r[0])}const o=e?e.preventScrollOnBrowserFocus:!0;s.focus({preventScroll:o}),_ee(t,s)}n&&this.focusEventWhileNotReady&&(this.focusEventWhileNotReady=null),n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:er(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(Qce,!0),e.toggleCss(iue,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(Zce,t),e.toggleCss(Jce,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(sue,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(nn(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}),i.refreshVisibility())}createRowDragComp(e,t,n){const i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function ox(e,t,n,i,s,o){if(n==null&&t==null)return;const r={},l={},u=(d,f)=>{for(const g of d.split(" "))g.trim()!=""&&f(g)};if(n){const d=Object.keys(n);for(let f=0;f<d.length;f++){const g=d[f],m=n[g];let v;typeof m=="string"?v=e?e.evaluate(m,i):!0:typeof m=="function"&&(v=m(i)),u(g,y=>{v?r[y]=!0:l[y]=!0})}}if(t&&o)for(const d of Object.keys(t))u(d,f=>{r[f]||(l[f]=!0)});o&&Object.keys(l).forEach(o),Object.keys(r).forEach(s)}function HM(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var rue=class extends ae{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=r=>{if(typeof r=="string")e.push(r);else if(Array.isArray(r))for(const l of r)e.push(l)},s=n.get("rowClass");s&&i(s);const o=n.getCallback("getRowClass");if(o){const r={data:t.data,node:t,rowIndex:t.rowIndex},l=o(r);i(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:s}=this.beans,o=ze(i,{data:e.data,node:e,rowIndex:e.rowIndex});ox(s,void 0,i.get("rowClassRules"),o,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let s;if(i){const o={data:e.data,node:e,rowIndex:e.rowIndex};s=i(o)}if(s||n)return Object.assign({},n,s)}},aue=0,Sm=class extends ae{constructor(e,t,n,i,s){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=s,this.focusEventWhileNotReady=null,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+aue++,this.rowId=Qd(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=HM(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=Qd(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){const{context:s,rowRenderer:o}=this.beans;i=of(this,s,i);const r={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(r),this.updateGui(n,r),this.initialiseRowComp(r);const l=this.rowNode,u=this.rowType==="FullWidthLoading"||l.stub,d=!l.data&&this.beans.rowModel.getType()==="infinite";!u&&!d&&!l.rowPinned&&o.dispatchFirstDataRenderedEvent(),this.setupFocus()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),rl(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,i=this.getInitialRowClasses(e.containerType);for(const s of i)n.toggleCss(s,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&dS(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),vl(t,e.element,Cm,this),e.compBean.addDestroyFunc(()=>vl(t,e.element,Cm,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=Qd(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(fS(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(fS(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,s=!!e||!i.isPinningLeft(),o=!!t,r=!!n||!i.isPinningRight();return s&&o&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const{rowNode:e,gos:t,beans:{colModel:n}}=this,i=e.stub&&!t.get("suppressServerSideFullWidthLoadingRow")&&!t.get("groupHideOpenParents"),s=this.isNodeFullWidthCell(),o=t.get("masterDetail")&&e.detail,r=n.isPivotMode(),l=t3(t,e,r);i?this.rowType="FullWidthLoading":o?this.rowType="FullWidthDetail":s?this.rowType="FullWidth":l?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new ou(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},s=(d,f,g)=>{g!=null?i.list.splice(g,0,f):i.list.push(f),i.map[d]=f},o=[];for(const d of t){const f=d.getInstanceId();let g=e.map[f];g&&!this.isCorrectCtrlForSpan(g)&&(g.destroy(),g=void 0),g||(g=this.getNewCellCtrl(d)),g&&s(f,g)}for(const d of e.list){const f=d.column.getInstanceId();if(i.map[f]!=null)continue;!this.isCellEligibleToBeRemoved(d,n)?o.push([f,d]):d.destroy()}if(o.length)for(const[d,f]of o){const g=i.list.findIndex(v=>v.column.getLeft()>f.column.getLeft()),m=g===-1?void 0:Math.max(g-1,0);s(d,f,m)}const{focusSvc:r,visibleCols:l}=this.beans,u=r.getFocusedCell();if(u&&u.column.getPinned()==n){const d=u.column.getInstanceId();if(!i.map[d]&&l.allCols.includes(u.column)){const g=this.createFocusedCellCtrl();if(g){const m=i.list.findIndex(y=>y.column.getLeft()>g.column.getLeft()),v=m===-1?void 0:Math.max(m-1,0);s(d,g,v)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const s=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(e,t){const{column:s}=e;if(s.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:o,editSvc:r}=this.beans,l=r?.isEditing(e),u=e.isCellFocused();return l||u?!(o.allCols.indexOf(s)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||ni(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=be(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),s=n.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=s}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=s}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(r,l)=>r?r.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(r.element,l).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),s=e(this.rightGui,"right");return t&&n&&i&&s}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:s,context:o,rowSpanSvc:r}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...i?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(s,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),r&&this.addManagedListeners(r,{spannedCellsUpdated:({pinned:l})=>{l&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,o),this.tooltipFeature=this.destroyBean(this.tooltipFeature,o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,o)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const u of this.allRowGuis)this.addRowDraggerToRow(u);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,o)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const n of this.getAllCellCtrls())n.refreshCell(e);for(const n of this.allRowGuis)this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",s=t==="below",o=t!=="none",r=n||s,l=this.rowNode.uiLevel,u=r&&l>0,d=u?l.toString():"0";for(const f of this.allRowGuis){const g=f.rowComp;g.toggleCss("ag-row-highlight-above",n),g.toggleCss("ag-row-highlight-inside",i),g.toggleCss("ag-row-highlight-below",s),g.toggleCss("ag-row-highlight-indent",u),o?f.element.style.setProperty("--ag-row-highlight-level",d):f.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:er(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const r=this.rowNode,{focusSvc:l,navigation:u}=this.beans,d=l.getFocusedCell(),f={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:d?.column??i};u?.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||ir(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,i=n===e.target,s=nn(this.beans);let o=!1;n&&s&&(o=n.contains(s)&&s.classList.contains("ag-cell"));let r=null;!i&&!o&&(r=Ml(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!r)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>qs(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)ki(n.element,"tabindex",t)}setupFocus(){this.isFullWidth()&&(this.restoreFullWidthFocus(!0),this.onFullWidthRowFocused(this.focusEventWhileNotReady??void 0))}restoreFullWidthFocus(e=!1){const{focusSvc:t,editSvc:n}=this.beans;if(n?.isEditing(this)||!t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)||!t.shouldTakeFocus())return;const i=this.getFullWidthRowGuiForFocus();if(!i)return;const s=()=>{this.isAlive()&&t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)&&i.element.focus({preventScroll:!0})};if(e){setTimeout(s,0);return}s()}getFullWidthRowGuiForFocus(e){if(this.fullWidthGui)return this.fullWidthGui;const t=this.beans.focusSvc.getFocusedCell(),n=this.beans.colModel.getCol(e?.column??t?.column);if(!n)return;const i=n?.pinned;return i==="right"?this.rightGui:i==="left"?this.leftGui:this.centerGui}setFullWidthRowFocusedClass(e,t){this.forEachGui(void 0,n=>{n.element.classList.toggle("ag-full-width-focus",t&&n===e)})}onFullWidthRowFocused(e){const{focusSvc:t}=this.beans;if(!(this.isFullWidth()&&t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))){this.setFullWidthRowFocusedClass(void 0,!1);return}const i=this.getFullWidthRowGuiForFocus(e);if(!i){e&&(this.focusEventWhileNotReady=e),this.setFullWidthRowFocusedClass(void 0,!1);return}this.setFullWidthRowFocusedClass(i,!0),this.focusEventWhileNotReady=null,e?.forceBrowserFocus&&i.element.focus({preventScroll:!0})}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const i of e.list)i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"pointerdown":case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return ze(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(ir(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=sl(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,r=s.element,l=e.target,u=this.rowNode;let d=e.defaultPrevented||pa();r&&r.contains(l)&&Zd(l)&&(d=!1),n.setFocusedCell({rowIndex:u.rowIndex,column:o,rowPinned:u.rowPinned,forceBrowserFocus:d})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const s=this.findFullWidthRowGui(e.target);return Tse(t,s?.rowComp.getFullWidthCellRendererParams(),n,e)}const i=ZR(t,e.target);return i!=null&&xp(t,i.column,n,e)}onRowClick(e){if(ir(e)||this.lastMouseDownOnDragger)return;const n=this.isSuppressMouseEvent(e),{eventSvc:i,selectionSvc:s}=this.beans,o=this.createRowEventWithSource("rowClicked",e);o.isEventHandlingSuppressed=n,i.dispatchEvent(o),!n&&s?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,s=ze(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,l,u,d)=>this.addFullWidthRowDragging(r,l,u,d),setTooltip:(r,l)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(r,l)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return jne(o,s);case"FullWidthGroup":{const{value:r,valueFormatted:l}=this.beans.valueSvc.getValueForDisplay({node:this.rowNode,includeValueFormatted:!0,from:"edit"});return s.value=r,s.valueFormatted=l,zne(o,s)}case"FullWidthLoading":return Gne(o,s);default:return Bne(o,s)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:s,context:o}=this.beans;if(!s||!this.isFullWidth())return;const r=s.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(r,o),this.addDestroyFunc(()=>{this.destroyBean(r,o)})}onUiLevelChanged(){const e=HM(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const i of this.allRowGuis)i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const t of e)for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:s}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(o.push("ag-row-pinned"),s.pinnedRowModel?.isManual()&&o.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&o.push("ag-row-pinned-source"),i.isSelected()&&o.push("ag-row-selected"),i.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),i.stub&&o.push("ag-row-loading"),n&&o.push("ag-full-width-row"),s.expansionSvc?.addExpandedCss(o,i),i.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:r}=s;return r&&(r.processClassesFromGridOptions(o,i),r.preProcessRowClassRules(o,i)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),n&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:s,gos:o}=this;n.addManagedListeners(t,{pointerenter:r=>{r.pointerType==="mouse"&&i.dispatchRowEvent("mouseEnter")},pointerleave:r=>{r.pointerType==="mouse"&&i.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(i,{mouseEnter:()=>{!s.dragSvc?.dragging&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=XN(this.gos)?oa(this.beans,this.rowNode).height:void 0,o=s?`${Math.min(n,s)-2}px`:void 0;this.forEachGui(e,r=>{r.element.style.height=`${t}px`,o&&r.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Qc(this.gos)&&!t.sticky)if(t.rowTop!=null){const s=this.roundRowTopToBounds(t.rowTop);this.setRowTop(s)}else for(const s of this.allRowGuis)s.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(nn(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const n of t.list)n.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&be(e)){const t=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,s=this.applyPaginationOffset(i);n=t.isRowPinned()?s:this.beans.rowContainerHeight.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const i of this.getAllCellCtrls())i.column==e&&(n=i);if(n!=null||t)return n;for(const i of this.getAllCellCtrls())i?.getColSpanningList().indexOf(e)>=0&&(n=i);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,s=n+this.rowNode.rowIndex+1;this.forEachGui(e,o=>{o.rowComp.setRowIndex(t),o.rowComp.toggleCss("ag-row-even",i),o.rowComp.toggleCss("ag-row-odd",!i),TN(o.element,s)})}},lue=class extends ae{constructor(){super(),this.beanName="navigation",this.onPageDown=jF(this.onPageDown,100),this.onPageUp=jF(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,s=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,r=boe(this.gos,e);let l=!1;switch(n){case ee.PAGE_HOME:case ee.PAGE_END:!s&&!i&&(this.onHomeOrEndKey(n),l=!0);break;case ee.LEFT:case ee.RIGHT:case ee.UP:case ee.DOWN:if(!r)return!1;s&&!i&&!o&&(this.onCtrlUpDownLeftRight(n,r),l=!0);break;case ee.PAGE_DOWN:case ee.PAGE_UP:!s&&!i&&(l=this.handlePageUpDown(n,r,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===ee.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:i,focusColumn:s,isAsync:o,rowPinned:r}){const{scrollFeature:l}=this.gridBodyCon;be(n)&&!n.isPinned()&&l.ensureColumnVisible(n),be(e)&&l.ensureIndexVisible(e,t),o||l.ensureIndexVisible(i);const{focusSvc:u,rangeSvc:d}=this.beans;u.setFocusedCell({rowIndex:i,column:s,rowPinned:r,forceBrowserFocus:!0}),d?.setRangeToCell({rowIndex:i,rowPinned:r,column:s})}onPageDown(e){const t=this.beans,n=sb(t),i=this.getViewportHeight(),{pageBounds:s,rowModel:o,rowAutoHeight:r}=t,l=s.getPixelOffset(),u=n.top+i,d=o.getRowIndexAtPixel(u+l);r?.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,n=sb(t),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,r=i.getPixelOffset(),l=n.top,u=s.getRowIndexAtPixel(l+r);o?.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:s}=this.beans,o=this.getViewportHeight(),r=i.getFirstRow(),l=i.getLastRow(),u=i.getPixelOffset(),d=s.getRow(e.rowIndex),f=n?d?.rowHeight-o-u:o-u,g=d?.rowTop+f;let m=s.getRowIndexAtPixel(g+u);if(m===e.rowIndex){const y=n?-1:1;t=m=e.rowIndex+y}let v;n?(v="bottom",m<r&&(m=r),t<r&&(t=r)):(v="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(s.getRow(m))&&(t=m,v="top"),this.navigateTo({scrollIndex:t,scrollType:v,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:s,rowModel:o}=this.beans,r=s.getLastRow();let l=0,u=e.rowIndex;for(;u>=0&&u<=r;){const d=o.getRow(u);if(d){const f=d.rowHeight??0;if(l+f>i)break;l+=f}u+=n}return Math.max(0,Math.min(u,r))}getViewportHeight(){const e=this.beans,t=sb(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),i=this.getNormalisedPosition(n),{rowIndex:s,rowPinned:o,column:r}=i??n,l=r;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l,rowPinned:o})}onHomeOrEndKey(e){const t=e===ee.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:s}=this.beans,o=n.allCols,r=t?i.getFirstRow():i.getLastRow(),l=s.getRow(r);if(!l)return;const u=(t?o:[...o].reverse()).find(d=>!d.isSuppressNavigable(l));u&&this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:u,focusIndex:r,focusColumn:u})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),s=this.beans,{ctrlsSvc:o,pageBounds:r,focusSvc:l,gos:u}=s;if(i!==!1){i?t.preventDefault():i===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:d,rowPinned:f}=e.getRowPosition();(f?d===0:d===r.getFirstRow())&&(u.get("headerHeight")===0||cl(s)?pu(s,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof ou&&e.focusCell(!0),(l.focusOverlay(!1)||pu(s,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:s}=n,o=i.getFocusedCell();if(!o)return!1;let r=Vc(n,o);return!r&&(r=s.getRowByPosition(o),!r?.isFullWidth())?!1:!!this.tabToNextCellCommon(r,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){const{editSvc:s,focusSvc:o}=this.beans;let r;const l=e instanceof ou?e:e.getAllCellCtrls()?.[0];return s?.isEditing()?r=s?.moveToNextCell(l,t,n,i):r=this.moveToNextCellNotEditing(e,t,n),r===null?r:r||!!o.focusedHeader}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let s;if(e instanceof Sm){if(s={...e.getRowPosition(),column:t?i[0]:Wt(i)},this.gos.get("embedFullWidthRows")&&n){const r=e.findFullWidthInfoForEvent(n);r&&(s.column=r.column)}}else s=e.getFocusedCellPosition();const o=this.findNextCellToFocusOn(s,{backwards:t,startEditing:!1});if(o===!1)return null;if(o instanceof ou)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return be(o)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let s=e;const o=this.beans,{cellNavigation:r,gos:l,focusSvc:u,rowRenderer:d,rangeSvc:f}=o;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=r.getNextTabbedCell(s,t);const g=l.getCallback("tabToNextCell");if(be(g)){const S=g({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:s||null});if(S===!0)s=e;else{if(S===!1)return!1;s={rowIndex:S.rowIndex,column:S.column,rowPinned:S.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const y=fo(o);return u.focusHeaderPosition({headerPosition:{headerRowIndex:y+s.rowIndex,column:s.column},fromCell:!0}),null}const m=l.get("editType")==="fullRow";if(n&&(!m||i)&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const v=Vc(o,s);if(!v){const y=d.getRowByPosition(s);if(!y||!y.isFullWidth()||n)continue;return{...y.getRowPosition(),column:s?.column}}if(!r.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(s),f?.setRangeToCell(s),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let s=n,o=!1;const r=this.beans,{cellNavigation:l,focusSvc:u,gos:d}=r;for(;s&&(s===n||!this.isValidNavigateCell(s));)d.get("enableRtl")?t===ee.LEFT&&(s=this.getLastCellOfColSpan(s)):t===ee.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=l.getNextCellToFocus(t,s),o=an(s);if(o&&e&&e.key===ee.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){const g=d.getCallback("navigateToNextCell");if(be(g)){const v=g({key:t,previousCellPosition:n,nextCellPosition:s||null,event:e});be(v)?s={rowPinned:v.rowPinned,rowIndex:v.rowIndex,column:v.column}:s=null}}if(!s)return;if(s.rowIndex<0){const g=fo(r);u.focusHeaderPosition({headerPosition:{headerRowIndex:g+s.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(s);f?this.focusPosition(f):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=Vc(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:s,eventSvc:o}=this.beans,r=n.allCols;if(!i.getRowByPosition(e)?.isFullWidth())return!1;const u=s.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Wt(r):r[0])};this.focusPosition(d);const f=t??(u!=null&&hie(d,u));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!lr(this.beans,e)}getLastCellOfColSpan(e){const t=Vc(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Wt(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=ZN(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:s}=this.gridBodyCon;!i&&an(e.rowPinned)&&s.ensureIndexVisible(e.rowIndex),e.column.isPinned()||s.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function sb(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var cue={moduleName:"KeyboardNavigation",version:we,beans:[lue,Dce,Ble],apiFunctions:{getFocusedCell:Pce,clearFocusedCell:Ace,setFocusedCell:Fce,setFocusedHeader:Ice,tabToNextCell:Mce,tabToPreviousCell:kce}},uue=class extends ae{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},due=class extends ae{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const s=n.getRowBounds(t);s&&(s.rowIndex=t),this.bottomRowBounds=s,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},hue=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",fue=class extends ae{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Ut(n,t),wo(n,e))}},gue=class extends ae{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=ni(e,"print"),s=i?0:t.getColsLeftWidth(),o=i?0:t.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ph(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:s,hasLockedPinned:o}=n;let r=s;!r.length&&!o||(i&&(r=i({columns:r,viewportWidth:t})),r?.length&&(r=r.filter(l=>!tr(l)),this.setColsPinned(r,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new fue(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:s,visibleCols:o,gos:r}=this.beans;if(!i.cols||!e?.length)return;if(ni(r,"print")){fe(37);return}s?.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const u=[];for(const d of e){if(!d)continue;const f=i.getCol(d);f&&f.getPinned()!==l&&(this.setColPinned(f,l),u.push(f))}u.length&&(o.refresh(n),g3(this.eventSvc,u,n)),s?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const s=()=>{const o=n?this.leftWidth:this.rightWidth;if(o==null)return;const r=o==0,l=e.hidden!==r,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),g=t.verticalScrollShowing&&(u&&n||!u&&i)?o+d:o;e.comp.setPinnedContainerWidth(`${g}px`),e.comp.setDisplayed(!r),l&&(e.hidden=r,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:s,rightPinnedWidthChanged:s,scrollVisibilityChanged:s,scrollbarWidthChanged:s})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:s}=this,o=Ph(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+s+e>o)if(o>i+s)e=o-i-s;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let s=!1;if(i<e)return{columns:[],hasLockedPinned:s};const{visibleCols:o}=this.beans,r=[...o.leftCols],l=[...o.rightCols];let u=0,d=0;const f=0,g=[];let m=i-f-e;for(;(d<r.length||u<l.length)&&m>0;){if(u<l.length){const v=l[u++];if(v.colDef.lockPinned){s=!0;continue}m-=v.getActualWidth(),g.push(v)}if(d<r.length&&m>0){const v=r[d++];if(v.colDef.lockPinned){s=!0;continue}m-=v.getActualWidth(),g.push(v)}}return{columns:g,hasLockedPinned:s}}},pue={moduleName:"PinnedColumn",version:we,beans:[gue],css:[hue]},mue=class extends bi{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=$n(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Bn(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),xN(n,"polite"),bee(n,"additions text"),yee(n,!0),e.eRootDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Li(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},vue=class extends mue{},Cue={moduleName:"Aria",version:we,beans:[vue]},wue=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",BM="ag-delay-render",yue=class extends ae{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(BM)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(BM),this.alreadyRevealed=!0}},bue={moduleName:"ColumnDelayRender",version:we,beans:[yue],css:[wue]};function Sue(e){e.overlays?.showLoadingOverlay()}function Rue(e){e.overlays?.showNoRowsOverlay()}function xue(e){e.overlays?.hideOverlay()}var Eue=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{pointer-events:all}.ag-overlay-exporting-center,.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);display:flex;padding:var(--ag-spacing)}",Tue={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},FV=class extends wn{constructor(){super(Tue),this.eOverlayWrapper=Te,this.activeOverlay=null,this.activePromise=null,this.activeCssClass=null,this.elToFocusAfter=null,this.overlayExclusive=!1,this.oldWrapperPadding=null,this.registerCSS(Eue)}handleKeyDown(e){if(e.key!==ee.TAB||e.defaultPrevented||ir(e))return;const{beans:t,eOverlayWrapper:n}=this;if(n&&Ml(t,n,!1,e.shiftKey))return;let s=!1;e.shiftKey?s=t.focusSvc.focusGridView({column:Wt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):s=pu(t,!1),s&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper;if(!n)return;const i=n.classList,{AUTO_HEIGHT:s,NORMAL:o,PRINT:r}=Rp;i.toggle(s,t.autoHeight),i.toggle(o,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new QR(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setWrapperComp(this,!1),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)}),this.addManagedEventListeners({gridSizeChanged:this.refreshWrapperPadding.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper?.classList;if(!t){this.activeCssClass=null;return}this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n){if(this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,this.overlayExclusive=n,!e)return this.refreshWrapperPadding(),pt.resolve();if(this.setWrapperTypeClass(t),this.setDisplayed(!0,{skipAriaHidden:!0}),this.refreshWrapperPadding(),n&&this.isGridFocused()){const i=nn(this.beans);i&&!wR(this.beans)&&(this.elToFocusAfter=i)}return e.then(i=>{const s=this.eOverlayWrapper;if(!s){this.destroyBean(i);return}if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}this.activePromise=null,i&&(this.activeOverlay!==i&&(s.appendChild(i.getGui()),this.activeOverlay=i),n&&this.isGridFocused()&&Cl(s))}),e}refreshWrapperPadding(){if(!this.eOverlayWrapper){this.oldWrapperPadding=null;return}const e=!!this.activeOverlay||!!this.activePromise;let t=0;e&&!this.overlayExclusive&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),t!==this.oldWrapperPadding&&(this.oldWrapperPadding=t,this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`))}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e){this.overlayExclusive=!1,this.elToFocusAfter=null,this.refreshWrapperPadding();return}let t=this.elToFocusAfter;this.elToFocusAfter=null,this.activeOverlay=null,this.overlayExclusive=!1,t&&!this.isGridFocused()&&(t=null),this.destroyBean(e);const n=this.eOverlayWrapper;n&&Li(n),t?.focus?.({preventScroll:!0}),this.refreshWrapperPadding()}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=nn(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setWrapperComp(this,!0),super.destroy(),this.eOverlayWrapper=null}},Due={selector:"AG-OVERLAY-WRAPPER",component:FV},Pue=["refresh"],lf=e=>({name:e,optionalMethods:Pue}),Ya={id:"agLoadingOverlay",overlayType:"loading",comp:lf("loadingOverlayComponent"),wrapperCls:"ag-overlay-loading-wrapper",exclusive:!0,compKey:"loadingOverlayComponent",paramsKey:"loadingOverlayComponentParams",isSuppressed:e=>{const t=e.get("loading");return t===!1||e.get("suppressLoadingOverlay")===!0&&t!==!0}},zc={id:"agNoRowsOverlay",overlayType:"noRows",comp:lf("noRowsOverlayComponent"),wrapperCls:"ag-overlay-no-rows-wrapper",compKey:"noRowsOverlayComponent",paramsKey:"noRowsOverlayComponentParams",isSuppressed:e=>e.get("suppressNoRowsOverlay")},rx={id:"agNoMatchingRowsOverlay",overlayType:"noMatchingRows",comp:lf("noMatchingRowsOverlayComponent"),wrapperCls:"ag-overlay-no-matching-rows-wrapper"},Rm={id:"agExportingOverlay",overlayType:"exporting",comp:lf("exportingOverlayComponent"),wrapperCls:"ag-overlay-exporting-wrapper",exclusive:!0},Ap={id:"activeOverlay",comp:lf("activeOverlay"),wrapperCls:"ag-overlay-modal-wrapper",exclusive:!0},Aue=e=>e?{agLoadingOverlay:Ya,agNoRowsOverlay:zc,agNoMatchingRowsOverlay:rx,agExportingOverlay:Rm}[e]??Ap:null,Fue=e=>e?{loading:Ya,noRows:zc,noMatchingRows:rx,exporting:Rm}[e]:null,Mue=class extends ae{constructor(){super(...arguments),this.beanName="overlays",this.eWrapper=void 0,this.exclusive=!1,this.oldExclusive=!1,this.currentDef=null,this.showInitialOverlay=!0,this.userForcedNoRows=!1,this.exportsInProgress=0,this.newColumnsLoadedCleanup=null}postConstruct(){const e=this.gos;this.showInitialOverlay=En(e);const t=()=>{this.userForcedNoRows||this.updateOverlay(!1)},[n,i,s,o]=this.addManagedEventListeners({newColumnsLoaded:t,rowCountReady:()=>{this.disableInitialOverlay(),t(),i()},rowDataUpdated:t,modelUpdated:t});this.newColumnsLoadedCleanup=n,this.addManagedPropertyListeners(["loading","activeOverlay","activeOverlayParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams"],r=>this.onPropChange(new Set(r.changeSet?.properties)))}destroy(){this.doHideOverlay(),super.destroy(),this.eWrapper=void 0}setWrapperComp(e,t){this.isAlive()&&(t?this.eWrapper===e&&(this.eWrapper=void 0):this.eWrapper=e,this.updateOverlay(!1))}isVisible(){return!!this.currentDef}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos;if(!this.eWrapper||e.get("activeOverlay")||this.isDisabled(Ya))return;const t=e.get("loading");!t&&t!==void 0||this.doShowOverlay(Ya)}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;!this.eWrapper||e.get("activeOverlay")||e.get("loading")||this.isDisabled(zc)||(this.userForcedNoRows=!0,this.doShowOverlay(zc))}async showExportOverlay(e){const{gos:t,beans:n}=this;if(!this.eWrapper||t.get("activeOverlay")||t.get("loading")||this.isDisabled(Rm)||this.userForcedNoRows&&this.currentDef===zc){e();return}const i=this.getDesiredDefWithOverride(Rm);if(!i){e();return}this.exportsInProgress++,this.focusedCell=n.focusSvc.getFocusedCell(),await this.doShowOverlay(i),await new Promise(o=>setTimeout(()=>o()));const s=Date.now();try{e()}finally{const o=Date.now()-s,r=Math.max(0,300-o),l=()=>{this.exportsInProgress--,this.exportsInProgress===0&&(this.updateOverlay(!1),yie(n,this.focusedCell),this.focusedCell=null)};r>0?setTimeout(()=>l(),r):l()}}hideOverlay(){const e=this.gos;this.showInitialOverlay=!1;const t=this.userForcedNoRows;if(this.userForcedNoRows=!1,e.get("loading")){fe(99);return}if(e.get("activeOverlay")){fe(296);return}if(this.currentDef===rx){fe(297);return}this.doHideOverlay(),t&&this.getOverlayDef()!==zc&&this.updateOverlay(!1)}getOverlayWrapperSelector(){return Due}getOverlayWrapperCompClass(){return FV}onPropChange(e){const t=e.has("activeOverlay");if((t||e.has("loading"))&&this.updateOverlay(t))return;const n=this.currentDef,i=this.eWrapper?.activeOverlay;if(i&&n){const s=e.has("activeOverlayParams");if(n===Ap)s&&i.refresh?.(this.makeCompParams(!0));else{const o=n.paramsKey;(e.has("overlayComponentParams")||o&&e.has(o))&&i.refresh?.(this.makeCompParams(!1,o,n.overlayType))}}}updateOverlay(e){const t=this.eWrapper;if(!t)return this.currentDef=null,!1;const n=this.getDesiredDefWithOverride(),i=this.currentDef,s=n===Ap&&e;return n!==i?n?(this.doShowOverlay(n),!0):(this.disableInitialOverlay(),this.doHideOverlay()):s&&n?(t.hideOverlay(),this.doShowOverlay(n),!0):(n||this.disableInitialOverlay(),!1)}getDesiredDefWithOverride(e){const{gos:t}=this;let n=Aue(t.get("activeOverlay"));return n||(n=e??this.getOverlayDef(),n&&this.isDisabled(n)&&(n=null)),n}getOverlayDef(){const{gos:e,beans:t}=this,{rowModel:n}=t,i=e.get("loading");if(i!==void 0){if(this.disableInitialOverlay(),i)return Ya}else if(this.showInitialOverlay){if(!this.isDisabled(Ya)&&(!e.get("columnDefs")||!e.get("rowData")))return Ya;this.disableInitialOverlay()}else this.disableInitialOverlay();const o=n.getOverlayType();return Fue(o)}disableInitialOverlay(){this.showInitialOverlay=!1,this.newColumnsLoadedCleanup?.(),this.newColumnsLoadedCleanup=null}doShowOverlay(e){const{gos:t,beans:n}=this,{userCompFactory:i}=n;this.currentDef=e;const s=e!==Ap,o=!!e.exclusive;this.exclusive=o;let r;(e.paramsKey&&t.get(e.paramsKey)||e.compKey&&t.get(e.compKey))&&(r=e.paramsKey);let l;s&&(t.get("overlayComponent")||t.get("overlayComponentSelector"))&&(l=i.getCompDetailsFromGridOptions({name:"overlayComponent",optionalMethods:["refresh"]},void 0,this.makeCompParams(!1,e.paramsKey,e.overlayType))),l??(l=i.getCompDetailsFromGridOptions(e.comp,s?e.id:void 0,this.makeCompParams(!s,r,e.overlayType),!1));const u=l?.newAgStackInstance()??null,d=this.eWrapper?this.eWrapper.showOverlay(u,e.wrapperCls,o):pt.resolve();return this.eWrapper?.refreshWrapperPadding(),this.setExclusive(o),d}makeCompParams(e,t,n){const{gos:i}=this,s=e?i.get("activeOverlayParams"):{...i.get("overlayComponentParams"),...t&&i.get(t)||null,overlayType:n};return ze(i,s??{})}doHideOverlay(){let e=!1;this.currentDef&&(this.currentDef=null,e=!0),this.exclusive=!1;const t=this.eWrapper;return t&&(t.hideOverlay(),t.refreshWrapperPadding(),this.setExclusive(!1)),e}setExclusive(e){this.oldExclusive!==e&&(this.oldExclusive=e,this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"}))}isDisabled(e){const{gos:t}=this;return e.overlayType&&t.get("suppressOverlays")?.includes(e.overlayType)||e.isSuppressed?.(t)===!0}},kue={moduleName:"Overlay",version:we,userComponents:{agLoadingOverlay:Hie,agNoRowsOverlay:jie,agNoMatchingRowsOverlay:Gie,agExportingOverlay:Nie},apiFunctions:{showLoadingOverlay:Sue,showNoRowsOverlay:Rue,hideOverlay:xue},icons:{overlayLoading:"loading",overlayExporting:"loading"},beans:[Mue]},Iue=class extends ae{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=oie(),ml(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;ml(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},Oue=400,Lue=class extends ae{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const o of this.getAllCellCtrls())o.onCellSelectionChanged()},t=()=>{for(const o of this.getAllCellCtrls())o.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},i=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ra(this.gos)?n():i()}),ra(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:s})=>{(!s&&i||s&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.columns;i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=ni(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new _ue(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const n=u=>{for(const d of this.getAllCellCtrls())d.column===t&&u(d)},i=()=>{n(u=>u.onLeftChanged())},s=()=>{n(u=>u.onWidthChanged())},o=()=>{n(u=>u.onFirstRightPinnedChanged())},r=()=>{n(u=>u.onLastLeftPinnedChanged())},l=()=>{n(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",s),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",r),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",s),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",r),t.__removeEventListener("colDefChanged",l)})}}onDomLayoutChanged(){const e=ni(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];for(const n of this.getAllRowCtrls()){const i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:s,printLayout:o}=this,r=Object.fromEntries(e.map(u=>[u.rowNode.id,u]));i?.forEachPinnedRow(t,(u,d)=>{const f=e[d];f&&i.getPinnedRowById(f.rowNode.id,t)===void 0&&(f.destroyFirstPass(),f.destroySecondPass()),u.id in r&&n?(e[d]=r[u.id],delete r[u.id]):e[d]=new Sm(u,s,!1,!1,o)});const l=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=l}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const s=i[e.rowIndex];s&&s.rowNode===e&&(s.destroyFirstPass(),s.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const i of e??[])this.redrawRow(i,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&Qc(this.gos),s=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o,gos:r}=this;if(o){o.checkStickyRows();const l=o.extraTopHeight+o.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(s,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(r.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(yo(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:fo(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(ze(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=mm(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const s=this.getRowByPosition(i);if(s?.isAlive())return{...s.getRowPosition(),column:e.column};i=mm(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const s=t[i].getAllCellCtrls(),o=s.length;for(let r=0;r<o;r++)e.push(s[r])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){const s={force:n,newData:!1,suppressFlash:i};for(const o of this.getCellCtrls(e,t))o.refreshOrDestroyCell(s);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=IS(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const s=i.rowNode;return OS(s,t)})}getCellCtrls(e,t){let n;be(t)&&(n={},t.forEach(s=>{const o=this.colModel.getCol(s);be(o)&&(n[o.getId()]=!0)}));const i=[];for(const s of this.getRowCtrls(e))for(const o of s.getAllCellCtrls()){const r=o.column.getId();n&&!n[r]||i.push(o)}return i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let s;const o=this.stickyRowFeature;o&&(s=t?.getFocusCellToUseAfterRefresh()||void 0);const r=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let u=!1;if(o){u=o.checkStickyRows();const f=o.extraTopHeight+o.extraBottomHeight;f&&this.updateContainerHeights(f)}const d=this.firstRenderedRow!==r||this.lastRenderedRow!==l;if(!(i&&!u&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!u),s!=null)){const f=t?.getFocusCellToUseAfterRefresh();s!=null&&f==null&&(n?.flushAllFrames(),this.restoreFocusedCell(s))}}removeRowCompsNotToDraw(e,t){const n={};for(const o of e)n[o]=!0;const s=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=[];for(let r=this.firstRenderedRow;r<=this.lastRenderedRow;r++)t.push(r);const n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const s=r=>{const l=r.rowNode.rowIndex;l==null||l===i||(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(l)};for(const r of Object.values(this.rowCtrlsByRowIndex))s(r);if(e)for(const r of Object.values(e))s(r);t.sort((r,l)=>r-l);const o=[];for(let r=0;r<t.length;r++){const l=t[r],u=this.rowModel.getRow(l);u&&!u.sticky&&o.push(l)}return o}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);for(const s of i)this.createOrUpdateRowCtrl(s,e,t,n);if(e){const{animationFrameSvc:s}=this.beans;s?.active&&n&&!this.printLayout?s.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=IS(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!OS(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let s,o=this.rowCtrlsByRowIndex[e];if(o||(s=this.rowModel.getRow(e),be(s)&&be(t)&&t[s.id]&&s.alreadyRendered&&(o=t[s.id],t[s.id]=null)),!o)if(s||(s=this.rowModel.getRow(e)),be(s))o=this.createRowCon(s,n,i);else return;s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const s=i.instanceId;this.zombieRowCtrls[s]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[s]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const i of n)i()},Oue))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=al(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,s;if(!n.isRowsToRender())i=0,s=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),s=t.getLastRow();else{const f=this.getRowBufferInPixels(),g=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let v=!1,y,S;do{const M=t.getPixelOffset(),{pageFirstPixel:F,pageLastPixel:I}=t.getCurrentPagePixelRange(),A=e.divStretchOffset,O=g.getVScrollPosition(),_=O.top,B=O.bottom;m?(y=F+A,S=I+A):(y=Math.max(_+M-f,F)+A,S=Math.min(B+M+f,I)+A),this.firstVisibleVPixel=Math.max(_+M,F)+A,this.lastVisibleVPixel=Math.min(B+M,I)+A,v=this.ensureAllRowsInRangeHaveHeightsCalculated(y,S)}while(v);let R=n.getRowIndexAtPixel(y),x=n.getRowIndexAtPixel(S);const T=t.getFirstRow(),D=t.getLastRow();R<T&&(R=T),x>D&&(x=D),i=R,s=x}const o=ni(this.gos,"normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);o&&!r&&s-i>l&&(s=i+l);const u=i!==this.firstRenderedRow,d=s!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=i,this.lastRenderedRow=s,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:s}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,fr(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:s,rowModel:o}=this,r=o.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(r||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||r||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,s=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),o=this.editSvc?.isEditing(e),r=i.detail;return s||o||r?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;const s=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new Sm(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},_ue=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],xo(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],xo(this.entriesList,e)}getEntries(){return this.entriesList}};function IS(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}return t}function OS(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var Nue=class extends ae{constructor(){super(...arguments),this.beanName="rowNodeSorter",this.accentedSort=!1,this.primaryColumnsSortGroups=!1,this.pivotActive=!1}postConstruct(){this.firstLeaf=En(this.gos)?wm:Vue,this.addManagedPropertyListeners(["accentedSort","autoGroupColumnDef","treeData"],this.updateOptions.bind(this));const e=this.updatePivotModeState.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,columnPivotChanged:e}),this.updateOptions(),e()}updateOptions(){this.accentedSort=!!this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Zo(this.gos)}updatePivotModeState(){this.pivotActive=this.beans.colModel.isPivotActive()}doFullSortInPlace(e,t){return e.sort((n,i)=>this.compareRowNodes(t,n,i))}compareRowNodes(e,t,n){if(t===n)return 0;const i=this.accentedSort;for(let s=0,o=e.length;s<o;++s){const r=e[s],l=r.sort==="desc";let u=this.getValue(t,r.column),d=this.getValue(n,r.column),f;const g=this.getComparator(r,t);if(g?f=g(u,d,t,n,l):(r.type==="absolute"&&(u=GM(u),d=GM(d)),f=hee(u,d,i)),f)return r.sort==="asc"?f:-f}return 0}getComparator(e,t){const n=e.column.getColDef(),i=this.getComparatorFromColDef(n,e);if(i)return i;if(!n.showRowGroup)return;const s=!t.group&&n.field;if(!s)return;const o=this.beans.colModel.getColDefCol(s);if(o)return this.getComparatorFromColDef(o.getColDef(),e)}getComparatorFromColDef(e,t){const n=e.comparator;if(n!=null)return typeof n=="object"?n[ar(t.type)]:n}getValue(e,t){const n=this.beans;if(this.primaryColumnsSortGroups){if(e.rowGroupColumn===t)return this.getGroupDataValue(e,t);if(e.group&&t.getColDef().showRowGroup)return}const i=n.valueSvc.getValue(t,e,"data");if(t.isAllowFormula()){const s=n.formula;if(s?.isFormula(i))return s.resolveValue(t,e)}return i}getGroupDataValue(e,t){if(e3(this.gos,this.pivotActive)){const i=this.firstLeaf(e);return i&&this.beans.valueSvc.getValue(t,i,"data")}const n=this.beans.showRowGroupCols?.getShowRowGroupCol(t.getId());return n?e.groupData?.[n.getId()]:void 0}},Vue=e=>{if(e.data)return e;let t=e.childrenAfterGroup;for(;t?.length;){const n=t[0];if(n.data)return n;t=n.childrenAfterGroup}},GM=e=>{if(!e)return e;if(typeof e=="bigint")return e<0n?-e:e;const t=Number(e);return isNaN(t)?e:Math.abs(t)};function Hue(e){e.sortSvc?.onSortChanged("api")}var za=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),Bue={tag:"span",cls:"ag-sort-indicator-container",children:[za("Order","order"),za("Asc","ascending-icon"),za("Desc","descending-icon"),za("Mixed","mixed-icon"),za("AbsoluteAsc","absolute-ascending-icon"),za("AbsoluteDesc","absolute-descending-icon"),za("None","none-icon")]},ax=class extends wn{constructor(e){super(),this.eSortOrder=Te,this.eSortAsc=Te,this.eSortDesc=Te,this.eSortMixed=Te,this.eSortNone=Te,this.eSortAbsoluteAsc=Te,this.eSortAbsoluteDesc=Te,e||this.setTemplate(Bue)}attachCustomElements(e,t,n,i,s,o,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=s,this.eSortAbsoluteAsc=o,this.eSortAbsoluteDesc=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("sortAbsoluteAscending",this.eSortAbsoluteAsc,e),this.addInIcon("sortAbsoluteDescending",this.eSortAbsoluteDesc,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=Ii(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortAbsoluteAsc:n,eSortAbsoluteDesc:i,eSortNone:s,column:o,gos:r,beans:l}=this,{isDefaultSortAllowed:u,isAbsoluteSortAllowed:d,isAbsoluteSort:f,isDefaultSort:g,isAscending:m,isDescending:v,direction:y}=_te(o,l);if(e&&Ut(e,m&&g&&u,{skipAriaHidden:!0}),t&&Ut(t,v&&g&&u,{skipAriaHidden:!0}),s){const S=!o.getColDef().unSortIcon&&!r.get("unSortIcon");Ut(s,!S&&!y,{skipAriaHidden:!0})}n&&Ut(n,m&&f&&d,{skipAriaHidden:!0}),i&&Ut(i,v&&f&&d,{skipAriaHidden:!0})}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Zo(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)?.direction==="mixed";Ut(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),s=n.getDisplaySortIndexForColumn(t)??-1,o=i.some(l=>n.getDisplaySortIndexForColumn(l)??!1),r=s>=0&&o;Ut(e,r,{skipAriaHidden:!0}),s>=0?e.textContent=(s+1).toString():Li(e)}},Gue={selector:"AG-SORT-INDICATOR",component:ax},zue=class extends ae{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){const{gos:s,showRowGroupCols:o}=this.beans,r=Zo(s);let l=[e];if(r&&e.getColDef().showRowGroup){const g=o?.getSourceColumnsForGroupColumn?.(e)?.filter(m=>m.isSortable());g&&(l=[e,...g])}for(const f of l)this.setColSort(f,t,i);const u=(n||s.get("alwaysMultiSort"))&&!s.get("suppressMultiSort"),d=[];if(!u){const f=this.clearSortBarTheseColumns(l,i);d.push(...f)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(i,d)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,s=Zo(t),o=i?.getShowRowGroupCol(e.getId()),r=s&&o||e,l=this.getColumnsWithSortingOrdered();n.forAllCols(f=>this.setColSortIndex(f,null));const u=l.filter(f=>s&&f.getColDef().showRowGroup?!1:f!==r);(r.getSortDef()?[...u,r]:u).forEach((f,g)=>this.setColSortIndex(f,g))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{if(t.getSortDef())return e=!0,!0}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSortDef()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getSortingOrder(),n=e.getSortDef();let s=t.findIndex(o=>bp(o,n))+1;return s>=t.length&&(s=0),Gs(t[s])}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let s=[];if(t.forAllCols(d=>{d.getSortDef()&&s.push(d)}),t.isPivotMode()){const d=Zo(e);s=s.filter(f=>{const g=!!f.getAggFunc(),m=!f.isPrimary(),v=d?n?.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return g||m||v})}const o=i?.columns.filter(d=>!!d.getSortDef())??[],r={};s.forEach((d,f)=>r[d.getId()]=f),s.sort((d,f)=>{const g=d.getSortIndex(),m=f.getSortIndex();if(g!=null&&m!=null)return g-m;if(g==null&&m==null){const v=r[d.getId()],y=r[f.getId()];return v>y?1:-1}else return m==null?-1:1});const l=Zo(e)&&!!o.length;l&&(s=[...new Set(s.map(d=>n?.getShowRowGroupCol(d.getId())??d))]);const u=new Map;if(s.forEach((d,f)=>u.set(d,f)),l)for(const d of o){const f=n.getShowRowGroupCol(d.getId());u.set(d,u.get(f))}return u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}collectSortItems(e=!1){const t=[],n=this.getColumnsWithSortingOrdered();for(const i of n){const s=i.getSortDef()?.direction;if(!s)continue;const o=ar(i.getSortDef()?.type),r={sort:s,type:o};e?r.colId=i.getId():r.column=i,t.push(r)}return t}getSortModel(){return this.collectSortItems(!0)}getSortOptions(){return this.collectSortItems()}canColumnDisplayMixedSort(e){const t=Zo(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSortDef();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=i[0].getSortDef();return i.every(r=>bp(r.getSortDef(),s))?s:{type:ar(e.getSortDef()?.type),direction:"mixed"}}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t){const n=()=>{const{type:i,direction:s}=Gs(t.getSortDef());if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-abs-asc",i==="absolute"&&s==="asc"),e.toggleCss("ag-header-cell-sorted-abs-desc",i==="absolute"&&s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>s==u.getSortDef()?.direction);e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:n,columnPinned:n,columnRowGroupChanged:n,displayedColumnsChanged:n})}initCol(e){const{sortIndex:t,initialSortIndex:n}=e.colDef,i=l3(e.colDef);i&&e.setSortDef(i,!0),t!==void 0?t!==null&&(e.sortIndex=t):n!==null&&(e.sortIndex=n)}updateColSort(e,t,n){t!==void 0&&this.setColSort(e,Gs(t),n)}setColSort(e,t,n){bp(e.getSortDef(),t)||(e.setSortDef(Gs(t),t===void 0),e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new ax(e)}getSortIndicatorSelector(){return Gue}},MV={moduleName:"Sort",version:we,beans:[zue,Nue],apiFunctions:{onSortChanged:Hue},userComponents:{agSortIndicator:ax},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",sortAbsoluteAscending:"aasc",sortAbsoluteDescending:"adesc"}},jue=class extends ae{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),ml(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,tu(e.source))}}},Uue="paste",Wue=class extends ae{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;En(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===Uue||t.get("suppressChangeDetection"))return;const i=e.node,s=[i],o=this.clientSideRowModel,r=o?.rootNode;if(r&&!i.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),u=new Oh(l,r);u.addParentNode(i.parent,[e.column]),o.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{s.push(d),d.sibling&&s.push(d.sibling)})}n.refreshCells({rowNodes:s})}},$ue=class extends ae{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Lt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Lt(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},Kue=class extends ae{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},que={moduleName:"ValueCache",version:we,beans:[Kue],apiFunctions:{expireValueCache:Oie}},Yue={moduleName:"Expression",version:we,beans:[$ue]},Xue={moduleName:"ChangeDetection",version:we,beans:[Wue]},Que={moduleName:"CellApi",version:we,apiFunctions:{getCellValue:Lie}},Zue=class extends ae{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.formulaDataSvc=e.formulaDataSvc}postConstruct(){this.initialised||this.init()}init(){const{gos:e,valueCache:t}=this;this.executeValueGetter=t?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Mu(e),this.cellExpressions=e.get("enableCellExpressions"),this.isTreeData=e.get("treeData"),this.initialised=!0;const n=i=>this.callColumnCellValueChangedHandler(i);this.eventSvc.addListener("cellValueChanged",n,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",n,!0)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e){const t=this.beans,n=e.column,i=e.node,s=t.showRowGroupColValueSvc,o=!n&&i.group,r=n?.colDef.showRowGroup,l=!this.isTreeData||i.footer;if(s&&l&&(o||r)){const m=s.getGroupValue(i,n,this.displayIgnoresAggData(i));return m==null?{value:null,valueFormatted:null}:{value:m.value,valueFormatted:e.includeValueFormatted?s.formatAndPrefixGroupColValue(m,n,e.exporting):null}}if(!n)return{value:i.key,valueFormatted:null};let u=this.getValue(n,i,e.from,this.displayIgnoresAggData(i)),d=u;const f=t.formula;n.isAllowFormula()&&f?.isFormula(u)&&(e.useRawFormula?(u=f.normaliseFormula(u,!0),d=f.resolveValue(n,i)):(u=f.resolveValue(n,i),d=u));const g=e.includeValueFormatted&&!(e.exporting&&n.colDef.useValueFormatterForExport===!1);return{value:u,valueFormatted:g?this.formatValue(n,i,d):null}}getValue(e,t,n,i=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef();if(!t.group){const u=s.pivotValueColumn;u&&(e=u)}const o=this.editSvc?.getPendingEditValue(t,e,n);if(o!==void 0)return o;const r=s.showRowGroup;if(typeof r=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(r)??-1)>t.level)return null;let l=this.resolveValue(e,t,i);if(this.cellExpressions&&BF(l)){const u=l.substring(1);l=this.executeValueGetter(u,t.data,e,t)}return l}getFormulaFromDataSource(e,t){const n=this.formulaDataSvc;if(!n?.hasDataSource()||!e.isAllowFormula())return;const i=n.getFormula({column:e,rowNode:t});return BF(i)?i:void 0}displayIgnoresAggData(e){return!e.group||!e.expanded||e.footer||e.leafGroup&&this.colModel.isPivotMode()?!1:!!e.sibling&&!this.gos.get("groupSuppressBlankHeader")}resolveValue(e,t,n){const i=e.getColDef(),s=e.getColId(),o=this.isTreeData,r=this.getFormulaFromDataSource(e,t);if(r!==void 0)return r;const l=!n&&t.aggData&&t.aggData[s]!==void 0;if(o&&l)return t.aggData[s];const u=t.data,d=i.field;if(o&&i.valueGetter)return this.executeValueGetter(i.valueGetter,u,e,t);if(o&&d&&u)return ih(u,d,e.isFieldContainsDots());const f=t.groupData;if(f&&s in f)return t.groupData[s];if(l)return t.aggData[s];const m=i.showRowGroup,v=typeof m!="string"||!t.group,y=this.isSsrm&&n&&!!i.aggFunc,S=this.isSsrm&&t.footer&&t.field&&(m===!0||m===t.field);if(i.valueGetter&&!y)return v?this.executeValueGetter(i.valueGetter,u,e,t):void 0;if(S)return ih(u,t.field,e.isFieldContainsDots());if(d&&u&&!y)return v?ih(u,d,e.isFieldContainsDots()):void 0}parseValue(e,t,n,i){const s=e.getColDef();if(s.allowFormula&&this.beans.formula?.isFormula(n))return n;const o=s.valueParser;if(be(o)){const r=ze(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:s,column:e});return typeof o=="function"?o(r):this.expressionSvc?.evaluate(o,r)}return n}getDeleteValue(e,t){return be(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay({column:e,node:t,from:"edit"}).value)??null:null}formatValue(e,t,n,i,s=!0){const{expressionSvc:o}=this.beans;let r=null,l;const u=e.getColDef();if(i?l=i:s&&(l=u.valueFormatter),l){const d=t?t.data:null,f=ze(this.gos,{value:n,node:t,data:d,colDef:u,column:e});typeof l=="function"?r=l(f):r=o?o.evaluate(l,f):null}else if(u.refData)return u.refData[n]||"";return r==null&&Array.isArray(n)&&(r=n.join(", ")),r}setValue(e,t,n,i){const s=t.getColDef();if(!e.data&&this.canCreateRowNodeData(e,s)&&(e.data={}),!this.isSetValueSupported({column:t,newValue:n,colDef:s}))return!1;const o=this.getValue(t,e,"data"),r=ze(this.gos,{node:e,data:e.data,oldValue:o,newValue:n,colDef:s,column:t}),l=e.group?s.groupRowValueSetter:void 0;let u=!1,d=!1;if(e.data){const f=this.handleExternalFormulaChange({column:t,eventSource:i,newValue:n,setterParams:r,rowNode:e});if(f!==null)return f;u=this.computeValueChange({column:t,rowNode:e,newValue:n,params:r,rowData:e.data,valueSetter:s.valueSetter,field:s.field})??!0}return l&&(d=l(ze(this.gos,{node:e,data:e.data,oldValue:o,newValue:n,colDef:s,column:t,eventSource:i,valueChanged:u||n!==o,aggregatedChildren:this.beans.aggStage?.getAggregatedChildren(e,t)??[]}))??!0),!u&&!d?!1:this.finishValueChange(e,t,r,i)}canCreateRowNodeData(e,t){return e.group?!(t.groupRowValueSetter!=null||t.groupRowEditable!=null||t.pivotValueColumn):!0}finishValueChange(e,t,n,i){e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const s=this.getValue(t,e,"data");return this.dispatchCellValueChangedEvent(e,n,s,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,n,s,i),!0}isSetValueSupported(e){const{column:t,newValue:n,colDef:i}=e,{field:s,valueSetter:o}=i,r=this.beans.formula,l=t.isAllowFormula()&&r?.isFormula(n),u=!!this.formulaDataSvc?.hasDataSource();return an(s)&&an(o)&&!(u&&l)?(fe(17),!1):this.dataTypeSvc&&!this.dataTypeSvc.checkType(t,n)?(fe(135),!1):!0}handleExternalFormulaChange(e){const{column:t,rowNode:n,newValue:i,eventSource:s,setterParams:o}=e,r=this.beans.formula,l=this.formulaDataSvc;if(!l?.hasDataSource()||!t.isAllowFormula())return null;const u=r?.isFormula(i),d=l.getFormula({column:t,rowNode:n});if(u){if(!(d!==i))return!1;l.setFormula({column:t,rowNode:n,formula:i});const g=r?.resolveValue(t,n),m=t.getColDef();if(be(m.valueSetter)||!an(m.field)){const v={...o,newValue:g};this.computeValueChange({column:t,rowNode:n,newValue:g,params:v,rowData:n.data,valueSetter:m.valueSetter,field:m.field})}return this.finishValueChange(n,t,o,s)}return d!==void 0&&l.setFormula({column:t,rowNode:n,formula:void 0}),null}computeValueChange(e){const{valueSetter:t,params:n,rowData:i,field:s,column:o,newValue:r}=e;return be(t)?typeof t=="function"?t(n):this.expressionSvc?.evaluate(t,n):!!i&&this.setValueUsingField(i,s,r,o.isFieldContainsDots())}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let s=!1;if(!i)s=e[t]===n,s||(e[t]=n);else{const o=t.split(".");let r=e;for(;o.length>0&&r;){const l=o.shift();o.length===0?(s=r[l]===n,s||(r[l]=n)):r=r[l]}}return!s}executeValueGetterWithValueCache(e,t,n,i){const s=n.getColId(),o=this.valueCache.getValue(i,s);if(o!==void 0)return o;const r=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,s,r),r}executeValueGetterWithoutValueCache(e,t,n,i){const s=ze(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:r=>this.getValueCallback(i,r)});let o;return typeof e=="function"?o=e(s):o=this.expressionSvc?.evaluate(e,s),o}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e,"data"):null}getKeyForNode(e,t){const n=this.getValue(e,t,"data"),i=e.getColDef().keyCreator;let s=n;if(i){const o=ze(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});s=i(o)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&fe(121)),s}},Jue={moduleName:"CommunityCore",version:we,beans:[Wle,Qse,wae,wne,Iue,bre,Hle,hce,xre,due,uue,Lue,Zue,jle,Nle,Ule,bae,jue,hae,fae,xce],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Zse,destroy:Jse,isDestroyed:eoe,getGridOption:toe,setGridOption:noe,updateGridOptions:J3,isModuleRegistered:ioe},dependsOn:[uae,Joe,rre,MV,yce,Rre,bce,kue,Xue,Rce,cue,pue,Cue,Tce,mae,dae,Yue,Pre,bue]};function LS(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:s}=e;let o=(n??[]).map((u,d)=>({value:u,relevance:ede(t,u),idx:d}));if(o.sort((u,d)=>u.relevance-d.relevance),i&&(o=o.filter(u=>u.relevance<Math.max(u.value.length,t.length))),o.length>0&&s&&s>0){const d=o[0].relevance*s;o=o.filter(f=>d-f.relevance<0)}const r=[],l=[];for(const u of o)r.push(u.value),l.push(u.idx);return{values:r,indices:l}}function ede(e,t){const n=e.length,i=t.length;if(i===0)return n||0;let s=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),r;e.length<t.length&&(r=o,o=s,s=r,r=t,t=e,e=r);let l=new Uint16Array(i+1),u=new Uint16Array(i+1);for(let g=0;g<=i;g++)l[g]=g;let d=0;const f=n/2-10;for(let g=1;g<=n;g++){const m=e[g-1],v=s[g-1];u[0]=g;for(let y=1;y<=i;y++){const S=t[y-1],R=o[y-1];if(v!==R){const x=u[y-1],T=l[y],D=l[y-1];let M=x<T?x:T;D<M&&(M=D),u[y]=M+1|0;continue}if(d++,m===S&&d++,g>1&&y>1){const x=e[g-2],T=s[g-2],D=t[y-2],M=o[y-2];T===M&&(d++,x===D&&d++)}g<f&&d++,u[y]=l[y-1]}r=l,l=u,u=r}return l[i]/(d+1)}var kV={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1,Formula:1},ob=["TextFilter","NumberFilter","BigIntFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],tde={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:ob,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...ob,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...ob,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},nde={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function ide(e,t){const n=[];for(const i of Array.isArray(e)?e:[e]){const s=tde[i];if(s)for(const o of s){const r=nde[o];(!r||r===t)&&n.push(o)}else n.push(i)}return n}var IV=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,sde=e=>{const t=e.map(i=>`import { ${sh(i)} } from '${kV[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>sh(i,!0)).join(", ")} ]); 

For more info see: ${Xc}/modules/`};function sh(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function ode(e,t){const n=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines");let i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>kV[o])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function OV({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var zM=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:s,additionalText:o,isUmd:r})=>{const l=ide(t,s),u=typeof e=="string"?e:cde[e];if(r)return ode(u,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),f=d.length>0?`${d.map(m=>sh(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${l.length>1?"one of "+l.map(m=>sh(m)).join(", "):sh(l[0])} is not registered${n?" for gridId: "+i:""}. ${f} Check if you have registered the module:
`}
${sde(l)}`+(o?` 

${o}`:"")},jM=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,rde=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,ade={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${rde(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const s=[],o=[...Object.keys(n??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(i??[]).filter(l=>!!i[l])],r=LS({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return s.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),r.length>0&&s.push(`         Did you mean: [${r.slice(0,3)}]?
`),s.push("If using a custom component check it has been registered correctly."),s},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Xc}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=LS({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:zM,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Xc}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>jM("IntegratedChartsModule"),258:()=>jM("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:s})=>zM({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:su[t],gridId:i,gridScoped:n,rowModelType:s}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Xc}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>IV(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:OV,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`,293:()=>"The grid was initialised detached from the DOM and was then inserted into a Shadow Root. Theme styles are probably broken. Pass the themeStyleContainer grid option to let the grid know where in the document to insert theme CSS.",294:()=>"When using the `agRichSelectCellEditor` setting `filterListAsync = true` requires `allowTyping = true` and the `values()` callback must return a Promise of filtered values.",295:({blockedService:e})=>`colDef.allowFormula is not supported with ${e}. Formulas has been turned off.`,296:()=>"Since v35, `api.hideOverlay()` does not hide the overlay when `activeOverlay` is set. Set `activeOverlay=null` instead.",297:()=>'`api.hideOverlay()` does not hide the no matching rows overlay as it is only controlled by grid state. Set `suppressOverlays=["noMatchingRows"] to not show it.'};function lde(e,t){const n=ade[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),o=`
See ${qN(e,t)}`;return Array.isArray(i)?i.concat(o):[i,o]}var cde={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},LV=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${HN}/${this.frameworkName}-data-grid`,ute(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}},UM=new WeakMap,WM=new WeakMap,ude=1,dde=class{create(e,t,n,i,s,o){const r=FR.applyGlobalGridOptions(t),l=r.gridId??String(ude++),u=this.getRegisteredModules(s,l,r.rowModelType),d=this.createBeansList(r.rowModelType,u,l),f=this.createProvidedBeans(e,r,s);if(!d)return;const m={providedBeanInstances:f,beanClasses:d,id:l,beanInitComparator:pse,beanDestroyComparator:mse,derivedBeans:[fse],destroyCallback:()=>{WM.delete(y),UM.delete(e),ste(l),o?.()}},v=new hse(m);this.registerModuleFeatures(v,u),n(v),v.getBean("syncSvc").start(),i?.(v);const y=v.getBean("gridApi");return UM.set(e,y),WM.set(y,e),y}getRegisteredModules(e,t,n){return Mh(Jue,void 0,!0),e?.modules?.forEach(i=>Mh(i,t)),ote(t,$M(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");for(const s of t){n.registerModule(s);const o=s.apiFunctions;if(o){const r=Object.keys(o);for(const l of r)i?.addFunction(l,o[l])}}}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;an(i)&&(i=new LV);const s={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n?.providedBeanInstances&&Object.assign(s,n.providedBeanInstances),s}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},s=$M(e),o=i[s];if(!o){Gd(201,{rowModelType:s},`Unknown rowModelType ${s}.`);return}if(!lte()){Gd(272,void 0,IV());return}if(!e){const l=Object.entries(i).filter(([u,d])=>gS(d,n,u));if(l.length==1){const[u,d]=l[0];if(u!==s){const f={moduleName:d,rowModelType:u};Gd(275,f,OV(f));return}}}if(!gS(o,n,s)){const l=jN(),u=`rowModelType = '${s}'`,d=`Missing module ${o}Module for rowModelType ${s}.`;Gd(200,{reasonOrId:u,moduleName:o,gridScoped:MR(),gridId:n,rowModelType:s,isUmd:l},d);return}const r=new Set;for(const l of t)for(const u of l.beans??[])r.add(u);return Array.from(r)}};function $M(e){return e??"clientSide"}function hde(e,t=!1){const n=[],i=[],s=[],o=[],r=[],l=[],u=[],d=[],f=[];let g=0;for(let m=0;m<e.length;m++){const{colId:v,sort:y,sortType:S,sortIndex:R,rowGroup:x,rowGroupIndex:T,aggFunc:D,pivot:M,pivotIndex:F,pinned:I,hide:A,width:O,flex:_}=e[m];f.push(v),y&&(n[R??g++]={colId:v,sort:y,type:S}),x&&(i[T??0]=v),typeof D=="string"&&s.push({colId:v,aggFunc:D}),M&&(o[F??0]=v),I&&(I==="right"?l:r).push(v),A&&u.push(v),(_!=null||O)&&d.push({colId:v,flex:_??void 0,width:O===null?void 0:O})}return{sort:n.length?{sortModel:rb(n)}:void 0,rowGroup:i.length?{groupColIds:rb(i)}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:rb(o)}:void 0,columnPinning:r.length||l.length?{leftColIds:r,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:f.length?{orderedColIds:f}:void 0}}function rb(e){return e.filter(t=>t!=null)}function fde(e){const t=[];for(const{groupId:n,open:i}of e)i&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var gde=class extends ae{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){Lt(18),t||Lt(20);return}if(this.isGridApi(i))return i;const s=i;return"current"in s?s.current?.api:(s.api||Lt(19),s.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":fe(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const n of e.columnGroups){let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let n=null;const i=this.beans,{colResize:s,ctrlsSvc:o,colModel:r}=i;if(t&&(n=r.getColDefCol(t.getColId())),t&&!n)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const g=e.api.getColumnState().map(m=>({colId:m.colId}));Ws(i,{state:g,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const g=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));Ws(i,{state:g},"alignedGridChanged")}break;case"columnPinned":{const g=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));Ws(i,{state:g},"alignedGridChanged")}break;case"columnResized":{const f=e,g={};for(const m of l)g[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()};for(const m of f.flexColumns??[])g[m.getId()]&&delete g[m.getId()];s?.setColumnWidths(Object.values(g),!1,f.finished,"alignedGridChanged");break}}const d=o.getGridBodyCtrl().isVerticalScrollShowing();for(const f of this.getAlignedGridApis())f.setGridOption("alwaysShowVerticalScroll",d)}},pde={moduleName:"AlignedGrids",version:we,beans:[gde],dependsOn:[lV]};function mde(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function _V(e,t,n,i,s){t&&(i&&t.parent&&t.parent.level!==-1&&_V(e,t.parent,n,i,s),t.setExpanded(n,void 0,s))}function vde(e,t){return e.rowModel.getRowNode(t)}function Cde(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function wde(e){return e.rowRenderer.getRenderedNodes()}function yde(e,t,n){e.rowModel.forEachNode(t,n)}function bde(e){return e.rowRenderer.firstRenderedRow}function Sde(e){return e.rowRenderer.lastRenderedRow}function Rde(e,t){return e.rowModel.getRow(t)}function xde(e){return e.rowModel.getRowCount()}function Ede(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Tde(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function NV(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function VV(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function Dde(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}var Pde={moduleName:"RowApi",version:we,apiFunctions:{redrawRows:mde,setRowNodeExpanded:_V,getRowNode:vde,addRenderedRowListener:Cde,getRenderedNodes:wde,forEachNode:yde,getFirstDisplayedRowIndex:bde,getLastDisplayedRowIndex:Sde,getDisplayedRowAtIndex:Rde,getDisplayedRowCount:xde}},Ade={moduleName:"ScrollApi",version:we,apiFunctions:{getVerticalPixelRange:Ede,getHorizontalPixelRange:Tde,ensureColumnVisible:NV,ensureIndexVisible:VV,ensureNodeVisible:Dde}};function Fde(e){e.expansionSvc?.expandAll(!0)}function Mde(e){e.expansionSvc?.expandAll(!1)}function HV(e){e.rowModel?.onRowHeightChanged()}function BV(e){if(e.rowAutoHeight?.active){fe(3);return}e.rowModel?.resetRowHeights()}function kde(e,t,n){const i=Xie(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Lt(238);return}i.setRowCount(t,n);return}Lt(28);return}dv(e)?.setRowCount(t,n)}function Ide(e){return Mu(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function Ode(e){return e.rowModel.isLastRowIndexKnown()}var Lde={moduleName:"CsrmSsrmSharedApi",version:we,apiFunctions:{expandAll:Fde,collapseAll:Mde}},_de={moduleName:"RowModelSharedApi",version:we,apiFunctions:{onRowHeightChanged:HV,resetRowHeights:BV}},Nde={moduleName:"SsrmInfiniteSharedApi",version:we,apiFunctions:{setRowCount:kde,getCacheBlockState:Ide,isLastRowIndexKnown:Ode}},Vde=class extends ae{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},KM(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){this.dispatchRowDataUpdateStarted(e),this.destroyAllNodes();const t=KM(this.rootNode),n=new Array(e.length);t._leafs=n;let i=0;const s=this.beans.groupStage?.getNestedDataGetter(),o=s?new Set:null,r=(l,u)=>{const d=l.level+1;for(let f=0,g=u.length;f<g;++f){const m=u[f];if(!m)continue;const v=this.createRowNode(m,d,i);if(n[i++]=v,o&&!o.has(m)){o.add(m),v.treeParent=l;const y=s(m);y&&r(v,y)}}};r(t,e),n.length=i}destroyAllNodes(){const{selectionSvc:e,pinnedRowModel:t,groupStage:n}=this.beans;e?.reset("rowDataChanged"),t?.isManual()&&t.reset(),n?.clearNonLeafs();const i=this.rootNode._leafs;if(i)for(let s=0,o=i.length;s<o;++s)i[s]._destroy(!1);this.allNodesMap=Object.create(null),this.nextId=0}setImmutableRowData(e,t){const{rootNode:n,gos:i}=this;this.dispatchRowDataUpdateStarted(t);const s=hu(i),o=e.changedRowNodes,{adds:r,updates:l}=o,u=new Set,d=[],f=this.beans.groupStage?.getNestedDataGetter();let g=i.get("suppressMaintainUnsortedOrder")?void 0:!1,m=-1,v=!1;const y=(x,T)=>{if(!g&&g!==void 0){const D=x.sourceRowIndex;g=D<=m,m=D}x.data!==T&&(x.updateData(T),r.has(x)||l.add(x),!x.selectable&&x.isSelected()&&d.push(x))},S=(x,T,D)=>{for(let M=0,F=T.length;M<F;++M){const I=T[M];if(!I)continue;let A=this.getRowNode(s({data:I,level:D}));if(A?(y(A,I),v||(v=!!f&&A.treeParent!==x)):(A=this.createRowNode(I,D),r.add(A)),!f||u.has(A)){u.add(A);continue}u.add(A),A.treeParent=x;const O=f(I);O&&S(A,O,D+1)}};S(n,t,0);const R=this.deleteUnusedNodes(u,o,d,!!e.animate)||g||r.size>0;if(R){const x=n._leafs??(n._leafs=[]);g===void 0?jde(x,u,o):zde(x,u)&&(o.reordered=!0)}(R||v||l.size)&&(e.rowDataUpdated=!0,this.deselect(d))}deleteUnusedNodes(e,{removals:t},n,i){const s=this.rootNode._leafs;for(let o=0,r=s.length;o<r;o++){const l=s[o];e.has(l)||this.destroyNode(l,i)&&(t.push(l),l.isSelected()&&n.push(l))}return t.length>0}updateRowData(e,t,n){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return fe(268),{remove:[],update:[],add:[]};const i=[],s=hu(this.gos),o=this.executeRemove(s,e,t,i,n),r=this.executeUpdate(s,e,t,i),l=this.executeAdd(e,t);return this.deselect(i),{remove:o,update:r,add:l}}executeRemove(e,{remove:t},{adds:n,updates:i,removals:s},o,r){const l=this.rootNode._leafs,u=l?.length,d=t?.length;if(!d||!u)return[];let f=0,g=u,m=0;const v=new Array(d);for(let y=0;y<d;++y){const S=this.lookupNode(e,t[y]);if(!S)continue;const R=S.sourceRowIndex;R<g&&(g=R),R>m&&(m=R),v[f++]=S,this.destroyNode(S,r)&&(S.isSelected()&&o.push(S),n.delete(S)||(i.delete(S),s.push(S)))}return v.length=f,f&&Gde(l,g,m),v}executeUpdate(e,{update:t},{adds:n,updates:i},s){const o=t?.length;if(!o)return[];const r=new Array(o);let l=0;for(let u=0;u<o;u++){const d=t[u],f=this.lookupNode(e,d);f&&(f.updateData(d),!f.selectable&&f.isSelected()&&s.push(f),r[l++]=f,n.has(f)||i.add(f))}return r.length=l,r}executeAdd(e,t){var n;const i=(n=this.rootNode)._leafs??(n._leafs=[]),s=i.length,o=e.add,r=o?.length;if(!r)return[];const l=s+r;let u=this.sanitizeAddIndex(i,e.addIndex);if(u<s){for(let g=s-1,m=l-1;g>=u;--g){const v=i[g];v.sourceRowIndex=m,i[m--]=v}t.reordered=!0}i.length=l;const d=new Array(r),f=t.adds;for(let g=0;g<r;g++){const m=this.createRowNode(o[g],0,u);f.add(m),i[u]=m,d[g]=m,u++}return d}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){const t="rowDataChanged",n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t,n){const i=new la(this.beans);i.parent=this.rootNode,i.level=t,i.group=!1,i.expanded=!1,n!=null&&(i.sourceRowIndex=n),i.setDataAndId(e,String(this.nextId++));const s=i.id,o=this.allNodesMap;return o[s]&&fe(2,{nodeId:s}),o[s]=i,i}destroyNode(e,t){if(!e._destroy(t))return!1;const n=e.id,i=this.allNodesMap;return i[n]===e&&delete i[n],!0}lookupNode(e,t){if(!e)return Bde(this.rootNode._leafs,t);const n=e({data:t,level:0}),i=this.allNodesMap[n];return i||(Lt(4,{id:n}),null)}sanitizeAddIndex(e,t){const n=e.length;if(typeof t!="number"||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);const i=this.gos;return t>0&&i.get("treeData")&&i.get("getDataPath")&&(t=Hde(e,t)),t}},Hde=(e,t)=>{for(let n=0,i=e.length;n<i;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},KM=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);const t=[],n=[],i=[],s=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=i,e.childrenAfterFilter=s;const o=e.sibling;return o&&(o.childrenAfterGroup=t,o.childrenAfterSort=n,o.childrenAfterAggFilter=i,o.childrenAfterFilter=s,o.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},Bde=(e,t)=>{if(e)for(let n=0,i=e.length;n<i;n++){const s=e[n];if(s.data===t)return s}return Lt(5,{data:t}),null},Gde=(e,t,n)=>{t=Math.max(0,t);for(let i=t,s=e.length;i<s;++i){const o=e[i];i<=n&&o.destroyed||(o.sourceRowIndex=t,e[t++]=o)}e.length=t},zde=(e,t)=>{const n=t.size;e.length=n;let i=0,s=!1,o=!1;for(const r of t){const l=r.sourceRowIndex;l===i?o||(o=s):(l>=0?o=!0:s=!0,r.sourceRowIndex=i,e[i]=r),++i}return o},jde=(e,t,{adds:n})=>{const i=e.length,s=t.size;s>i&&(e.length=s);let o=0;for(let r=0;r<i;++r){const l=e[r];l.destroyed||(o!==r&&(l.sourceRowIndex=o,e[o]=l),++o)}for(const r of n)r.sourceRowIndex<0&&(r.sourceRowIndex=o,e[o++]=r);e.length=o};function _S(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var Ude=class extends ae{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){const t=!!this.filterManager?.isChildFilterPresent();this.beans.formula?.active?this.softFilter(t,e):this.filterNodes(t,e)}filterNodes(e,t){const n=(i,s)=>{i.hasChildren()&&e&&!s?i.childrenAfterFilter=i.childrenAfterGroup.filter(o=>{const r=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,l=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return r||l}):i.childrenAfterFilter=i.childrenAfterGroup,_S(i)};if(this.doingTreeDataFiltering()){const i=(o,r)=>{if(o.childrenAfterGroup)for(let l=0;l<o.childrenAfterGroup.length;l++){const u=o.childrenAfterGroup[l],d=r||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(o.childrenAfterGroup[l],d):n(u,d)}n(o,r)},s=o=>i(o,!1);t.executeFromRootNode(s)}else{const i=s=>n(s,!1);t.forEachChangedNodeDepthFirst(i,!0)}}softFilter(e,t){const n=i=>{if(i.childrenAfterFilter=i.childrenAfterGroup,i.hasChildren())for(const s of i.childrenAfterGroup)s.softFiltered=e&&!(s.data&&this.filterManager.doesRowPassFilter({rowNode:s}));_S(i)};t.forEachChangedNodeDepthFirst(n,!0)}doingTreeDataFiltering(){const{gos:e}=this;return e.get("treeData")&&!e.get("excludeChildrenWhenTreeDataFiltering")}},Wde=4,$de=(e,t,n,i,s)=>{const o=t.childrenAfterSort,r=t.childrenAfterAggFilter;if(!r)return o&&o.length>0?o:[];const l=r.length;if(l<=1)return o?.length===l&&(l===0||o[0]===r[0])?o:r.slice();if(!o||l<=Wde)return e.doFullSortInPlace(r.slice(),s);const u=new Map,{updates:d,adds:f}=n,g=[];for(let v=0;v<l;++v){const y=r[v];d.has(y)||f.has(y)||!i.canSkip(y)?(u.set(y,~v),g.push(y)):u.set(y,v)}const m=g.length;return m===0?l===o.length?o:qde(o,u,g):(g.sort((v,y)=>e.compareRowNodes(s,v,y)||~u.get(v)-~u.get(y)),m===l?g:Kde(e,s,g,o,u,l))},Kde=(e,t,n,i,s,o)=>{const r=new Array(o);let l=0,u=n[l],d,f=-1,g=0,m=0;const v=n.length,y=i.length;for(;;){if(f<0){if(g>=y)break;if(d=i[g++],f=s.get(d)??-1,f<0)continue}if((e.compareRowNodes(t,u,d)||~s.get(u)-f)<0){if(r[m++]=u,++l>=v)break;u=n[l]}else r[m++]=d,f=-1}for(;l<v;)r[m++]=n[l++];if(f<0)return r;for(r[m++]=d;g<y;){const S=i[g++];s.get(S)>=0&&(r[m++]=S)}return r},qde=(e,t,n)=>{let i=0;n.length=t.size;for(let s=0,o=e.length;s<o;++s){const r=e[s];t.has(r)&&(n[i++]=r)}return n.length=i,n},GV=e=>{const t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),!!t)for(let i=0,s=t.length-1;i<=s;i++){const o=t[i],r=i===0,l=i===s;o.firstChild!==r&&(o.firstChild=r,o.dispatchRowEvent("firstChildChanged")),o.lastChild!==l&&(o.lastChild=l,o.dispatchRowEvent("lastChildChanged")),o.childIndex!==i&&(o.childIndex=i,o.dispatchRowEvent("childIndexChanged"))}},Yde=class extends ae{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e,t){const n=this.beans.sortSvc.getSortOptions(),i=n.length>0&&!!t&&this.gos.get("deltaSort"),{gos:s,colModel:o,rowGroupColsSvc:r,rowNodeSorter:l,rowRenderer:u,showRowGroupCols:d}=this.beans,f=s.get("groupMaintainOrder"),g=o.getCols().some(T=>T.isRowGroupActive()),m=r?.columns,v=o.isPivotMode(),y=s.getCallback("postSortRows");let S=!1,R;const x=T=>{const D=v&&T.leafGroup;let M=f&&g&&!T.leafGroup;M&&(R??(R=this.shouldSortContainsGroupCols(n)),M&&(M=!R));let F=null;if(M){let I=!1;if(m){const A=T.level+1;A<m.length&&(I=m[A].wasSortExplicitlyRemoved)}I||(F=Xde(T))}else!n.length||D||(i&&t?F=$de(l,T,t,e,n):F=l.doFullSortInPlace(T.childrenAfterAggFilter.slice(),n));if(F||(F=T.childrenAfterAggFilter?.slice()??[]),S||(S=T.childrenAfterSort?.[0]!==F[0]),T.childrenAfterSort=F,GV(T),y){const I={nodes:T.childrenAfterSort};y(I)}};if(e?.forEachChangedNodeDepthFirst(x),S&&s.get("groupHideOpenParents")){const T=d?.columns;T?.length&&u.refreshCells({columns:T,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(Zo(this.gos)){for(let n=0;n<t;++n){const i=e[n].column;if(i.isPrimary()&&i.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},Xde=e=>{const t=e.childrenAfterSort,n=e.childrenAfterAggFilter,i=t?.length,s=n?.length;if(!i||!s)return null;const o=new Array(s),r=new Set;for(let u=0;u<s;++u)r.add(n[u]);let l=0;for(let u=0;u<i;++u){const d=t[u];r.delete(d)&&(o[l++]=d)}if(r.size===0&&l===i)return t;for(const u of r)o[l++]=u;return o.length=l,o},Qde=class extends ae{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.formulaRows=[],this.stages=null,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingData=!1,this.rowDataUpdatedPending=!1,this.refreshingModel=!1,this.pendingNewData=!1,this.noKeepRenderedRows=!1,this.noKeepUndoRedoStack=!1,this.noAnimate=!1,this.rowNodesCountReady=!1,this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=$n(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new la(e);this.rootNode=t,this.nodeManager=this.createBean(new Vde(t));const n=()=>{this.beans.groupStage?.invalidateGroupCols(),this.refreshModel({step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")})};this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:()=>this.refreshModel({step:"pivot"}),columnPivotModeChanged:()=>this.refreshModel({step:"group"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),stylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(i=>!!i);this.stages=n;for(let i=n.length-1;i>=0;--i){const s=n[i];for(const o of s.refreshProps)t.set(o,i)}this.addManagedPropertyListeners([...t.keys(),"rowData"],i=>{const s=i.changeSet?.properties;s&&this.onPropChange(s)}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let s,o=!1;do{s=!1;const r=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(r,n),d=Math.min(l,i);for(let f=u;f<=d;f++){const g=this.getRow(f);if(g.rowHeightEstimated){const m=oa(this.beans,g);g.setRowHeight(m.height),s=!0,o=!0}}s&&this.setRowTopAndRowIndex()}while(s);return o}onPropChange(e){const{nodeManager:t,gos:n,beans:i}=this,s=i.groupStage;if(!t)return;const o=new Set(e),r=s?.onPropChange(o);let l;o.has("rowData")?l=n.get("rowData"):r&&(l=s?.extractData()),l&&!Array.isArray(l)&&(l=null,fe(1));const u={step:"nothing",changedProps:o};if(l){const f=!r&&!this.isEmpty()&&l.length>0&&n.exists("getRowId")&&!n.get("resetRowDataOnUpdate");this.refreshingData=!0,f?(u.keepRenderedRows=!0,u.animate=!n.get("suppressAnimationFrame"),u.changedRowNodes=new Ep,t.setImmutableRowData(u,l)):(u.rowDataUpdated=!0,u.newData=!0,t.setNewRowData(l),this.rowNodesCountReady=!0)}const d=u.rowDataUpdated?"group":this.getRefreshedStage(e);d&&(u.step=d,this.refreshModel(u))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:n}=this;if(!t)return null;const i=t.length;let s=i;for(let o=0,r=e.length;o<r&&s;++o)s=Math.min(s,n.get(e[o])??s);return s<i?t[s].step:null}setRowTopAndRowIndex(e){const{beans:t,rowsToDisplay:n}=this,i=t.environment.getDefaultRowHeight();let s=0;const o=ni(this.gos,"normal");for(let r=0,l=n.length;r<l;++r){const u=n[r],d=u.id;if(d!=null&&e?.add(d),u.rowHeight==null){const f=oa(t,u,o,i);u.setRowHeight(f.height,f.estimated)}u.setRowTop(s),u.setRowIndex(r),s+=u.rowHeight}if(this.beans.formula?.active){const r=this.formulaRows;for(let l=0,u=r.length;l<u;++l){const d=r[l];d.formulaRowIndex=l}}}clearRowTopAndRowIndex(e,t){const n=e.active,i=r=>{r?.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},s=r=>{i(r),i(r.detailNode),i(r.sibling);const l=r.childrenAfterGroup;if(!r.hasChildren()||!l)return;const u=r.level==-1;if(!(n&&!u&&!r.expanded))for(let f=0,g=l.length;f<g;++f)s(l[f])},o=this.rootNode;o&&s(o)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const i=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+i}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:n,rowsToDisplay:i}=this;if(!n||!i.length||i[0]===n)return e;const o=n.childrenAfterSort,r=u=>{let d=o[u];if(this.gos.get("groupHideOpenParents"))for(;d.expanded&&d.childrenAfterSort&&d.childrenAfterSort.length>0;)d=d.childrenAfterSort[0];return d.rowIndex},l=t.footerSvc;return l?l?.getTopDisplayIndex(i,e,o,r):r(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let s=this.getRow(e);s.footer&&(s=s.sibling);let o=s.parent;for(;o&&o!==t;)s=o,o=s.parent;const r=t.childrenAfterSort?.indexOf(s)??-1;return r>=0?r:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:Qc(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const i=t.length===0||t.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:Qc(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:Qc(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Oh(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.length||t.adds.size)}reMapRows(){if(this.refreshingModel||this.refreshingData){this.noKeepRenderedRows=!0,this.noKeepUndoRedoStack=!0,this.noAnimate=!0;return}this.refreshModel({step:"map",keepRenderedRows:!1,keepUndoRedoStack:!1,animate:!1})}refreshModel(e){const{nodeManager:t,eventSvc:n,started:i}=this;if(!t)return;const s=!!e.rowDataUpdated,o=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&s));if(i&&s&&n.dispatchEvent({type:"rowDataUpdated"}),this.deferRefresh(e)){this.setPendingRefreshFlags(e),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=s);return}this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.updateRefreshParams(e);let r=!1;this.refreshingModel=!0;try{this.executeRefresh(e,o,s),r=!0}finally{this.refreshingData=!1,this.refreshingModel=!1,r||this.setPendingRefreshFlags(e)}this.clearPendingRefreshFlags(),n.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}executeRefresh(e,t,n){const{beans:i}=this;switch(i.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&i.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(t,e.changedRowNodes);case"map":this.doRowsToDisplay()}const s=new Set;this.setRowTopAndRowIndex(s),this.clearRowTopAndRowIndex(t,s),this.updateRefreshParams(e)}deferRefresh(e){return this.refreshingModel||this.beans.colModel.changeEventsDispatching?!0:this.isSuppressModelUpdateAfterUpdateTransaction(e)?(this.started&&(this.refreshingData=!1),!0):!this.started}setPendingRefreshFlags(e){this.pendingNewData||(this.pendingNewData=!!e.newData),this.noKeepRenderedRows||(this.noKeepRenderedRows=!e.keepRenderedRows),this.noKeepUndoRedoStack||(this.noKeepUndoRedoStack=!e.keepUndoRedoStack),this.noAnimate||(this.noAnimate=!e.animate)}clearPendingRefreshFlags(){this.pendingNewData=!1,this.noKeepRenderedRows=!1,this.noKeepUndoRedoStack=!1,this.noAnimate=!1}updateRefreshParams(e){e.newData=this.pendingNewData||!!e.newData,e.keepRenderedRows=!this.noKeepRenderedRows&&!!e.keepRenderedRows,e.keepUndoRedoStack=!this.noKeepUndoRedoStack&&!!e.keepUndoRedoStack,e.animate=!this.noAnimate&&!!e.animate}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getOverlayType(){const{beans:e,gos:t}=this;if(this.rootNode?._leafs?.length){if(e.filterManager?.isAnyFilterPresent()&&this.getRowCount()===0)return"noMatchingRows"}else if(this.rowCountReady||(t.get("rowData")?.length??0)==0)return"noRows";return null}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const s=[],o=kh(this.gos);return this.forEachNodeAfterFilterAndSort(r=>{if(i)return;if(n&&(r===t||r===e)&&(i=!0,o&&r.group)){zV(s,r);return}if(!n){if(r!==t&&r!==e)return;n=!0,t===e&&(i=!0)}(!r.group||!o)&&s.push(r)}),s}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}getFormulaRow(e){return this.formulaRows[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let i=0,s=n-1;if(e<=0)return 0;if(t[s].rowTop<=e)return s;let r=-1,l=-1;for(;;){const u=Math.floor((i+s)/2),d=t[u];if(this.isRowInPixel(d,e)||(d.rowTop<e?i=u+1:d.rowTop>e&&(s=u-1),r===i&&l===s))return u;r=i,l=s}}isRowInPixel(e,t){const n=e.rowTop,i=n+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){const t=this.rootNode?._leafs;if(t)for(let n=0,i=t.length;n<i;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let n=0,i=t.length;n<i;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t,n){const{colModel:i,rowGroupColsSvc:s}=this.beans;if(!i.isPivotMode())return;if(!s?.columns.length){e(this.rootNode,0);return}const o=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,r=>r.leafGroup?null:r[o])}depthFirstSearchRowNodes(e,t=!1,n=o=>o.childrenAfterGroup,i=this.rootNode,s=0){let o=s;if(!i)return o;const r=i===this.rootNode;if(r||e(i,o++),i.hasChildren()&&!i.footer){const l=n(i);if(l){const u=this.beans.footerSvc;o=u?.addTotalRows(o,i,e,t,r,"top")??o;for(const d of l)o=this.depthFirstSearchRowNodes(e,t,n,d,o);return u?.addTotalRows(o,i,e,t,r,"bottom")??o}}return o}doAggregate(e){this.rootNode&&this.beans.aggStage?.execute(e)}doFilterAggregates(e){const t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute(e);return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const n=this.beans.sortStage;if(n){n.execute(e,t);return}e.forEachChangedNodeDepthFirst(i=>{i.childrenAfterSort=i.childrenAfterAggFilter.slice(0),GV(i)})}doGrouping(e){const t=this.rootNode;if(!t)return;const i=this.beans.groupStage?.execute(e);if(i===void 0){const s=t._leafs;t.childrenAfterGroup=s,t.updateHasChildren();const o=t.sibling;o&&(o.childrenAfterGroup=s)}(i||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute(e);return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterFilter=n.childrenAfterGroup,_S(n)},!0)}doPivot(e){this.beans.pivotStage?.execute(e)}getRowNode(e){const t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:this.beans.groupStage?.getNonLeaf(e)}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const n=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),n)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){const{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:i}=this;if(!e)return;t.valueCache?.onDataChanged();const s=[],o=[],r=new Ep,l=!this.gos.get("suppressAnimationFrame");for(const{rowDataTransaction:u,callback:d}of i??[]){this.rowNodesCountReady=!0,this.refreshingData=!0;const f=e.updateRowData(u,r,l);s.push(f),d&&o.push(d.bind(null,f))}this.commitTransactions(r,l),o.length>0&&setTimeout(()=>{for(let u=0,d=o.length;u<d;u++)o[u]()},0),s.length>0&&n.dispatchEvent({type:"asyncTransactionsFlushed",results:s}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){const t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const n=new Ep,i=!this.gos.get("suppressAnimationFrame");this.refreshingData=!0;const s=t.updateRowData(e,n,i);return this.commitTransactions(n,i),s}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:t,changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{rootNode:e,beans:t}=this;if(t.formula?.active){const s=e?.childrenAfterSort??[];this.formulaRows=s,this.rowsToDisplay=s.filter(o=>!o.softFiltered);for(const o of this.rowsToDisplay)o.setUiLevel(0);return}const n=t.flattenStage;if(n){this.rowsToDisplay=n.execute();return}const i=this.rootNode.childrenAfterSort??[];for(const s of i)s.setUiLevel(0);this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);const i=t.sibling;i?.setRowHeight(i.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,this.stages=null,this.stagesRefreshProps.clear(),clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},zV=(e,t)=>{const n=t.childrenAfterGroup;if(n)for(let i=0,s=n.length;i<s;++i){const o=n[i];o.data&&e.push(o),o.group&&zV(e,o)}};function Zde(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function Jde(e,t){const n=gr(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function ehe(e){return gr(e)?.isEmpty()??!0}function the(e,t){gr(e)?.forEachLeafNode(t)}function nhe(e,t){gr(e)?.forEachNodeAfterFilter(t)}function ihe(e,t){gr(e)?.forEachNodeAfterFilterAndSort(t)}function she(e,t){return e.frameworkOverrides.wrapIncoming(()=>gr(e)?.updateRowData(t))}function ohe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>gr(e)?.batchUpdateRowData(t,n))}function rhe(e){e.frameworkOverrides.wrapIncoming(()=>gr(e)?.flushAsyncTransactions())}function ahe(e){return e.selectionSvc?.getBestCostNodeSelection()}var lhe={moduleName:"ClientSideRowModel",version:we,rowModels:["clientSide"],beans:[Qde,Yde],dependsOn:[MV]},che={moduleName:"ClientSideRowModelApi",version:we,apiFunctions:{onGroupExpandedOrCollapsed:Zde,refreshClientSideRowModel:Jde,isRowDataEmpty:ehe,forEachLeafNode:the,forEachNodeAfterFilter:nhe,forEachNodeAfterFilterAndSort:ihe,applyTransaction:she,applyTransactionAsync:ohe,flushAsyncTransactions:rhe,getBestCostNodeSelection:ahe,resetRowHeights:BV,onRowHeightChanged:HV},dependsOn:[Lde,_de]},uhe=":where(.ag-ltr) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,left .2s ease-in-out}}:where(.ag-rtl) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,right .2s ease-in-out}}";function dhe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function jV({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:"api"})}function hhe(e,t){t&&typeof t=="object"?jV(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var fhe=class extends ae{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let n=!1;const i=t.type;if(i==="fitGridWidth"||i==="fitProvidedWidth")n=!0;else if(i==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const s=e.get("rowData");n=s!=null&&s.length>0&&En(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(i)}}autoSizeCols(e){const{eventSvc:t,visibleCols:n,colModel:i}=this.beans;Od(this.beans,!0),this.innerAutoSizeCols(e).then(s=>{const o=f=>fu(t,Array.from(f),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return Od(this.beans,!1),o(s);const r=qM(this.beans),l=f=>n.leftCols.some(g=>th(g,f)),u=f=>n.rightCols.some(g=>th(g,f)),d=e.colKeys.filter(f=>!i.getCol(f)?.getColDef().suppressAutoSize&&!tr(f)&&!l(f)&&!u(f));this.sizeColumnsToFit(r,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(f=>({...f,key:f.colId})),colKeys:d,onlyScaleUp:!0,animate:!1}),Od(this.beans,!1),o(s)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));const{colKeys:i,skipHeader:s,skipHeaderGroups:o,stopAtGroup:r,defaultMaxWidth:l,defaultMinWidth:u,columnLimits:d=[],source:f="api"}=e,{animationFrameSvc:g,renderStatus:m,colModel:v,autoWidthCalc:y,visibleCols:S}=this.beans;if(g?.flushAllFrames(),this.timesDelayed<5&&m&&(!m.areHeaderCellsRendered()||!m.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;const R=new Set;let x=-1;const T=Object.fromEntries(d.map(({colId:F,...I})=>[F,I])),D=s??this.gos.get("skipHeaderOnAutoSize"),M=o??D;for(;x!==0;){x=0;const F=[];for(const I of i){if(!I||Hte(I))continue;const A=v.getCol(I);if(!A||R.has(A)||A.getColDef().suppressAutoSize)continue;const O=y.getPreferredWidthForColumn(A,D);if(O>0){const _=T[A.colId]??{};_.minWidth??(_.minWidth=u),_.maxWidth??(_.maxWidth=l);const B=ghe(A,O,_);A.setActualWidth(B,f),R.add(A),x++}F.push(A)}F.length&&S.refresh(f)}M||this.autoSizeColumnGroupsByColumns(i,f,r),t(R)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:s}=this.beans,o=new Set,r=i.getColsForKeys(e);for(const u of r){let d=u.getParent();for(;d&&d!=n;)d.isPadding()||o.add(d),d=d.getParent()}let l;for(const u of o){for(const d of s.getHeaderRowContainerCtrls())if(l=d.getHeaderCtrlForColumn(u),l)break;l?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const s=new $a(e);return s.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),s.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),s=()=>{const o=[],r=t.getDisplayedLeafColumns();for(const l of r)l.getColDef().suppressAutoSize||o.push(l.getColId());o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",s),()=>e.removeEventListener("dblclick",s)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const n=qM(this.beans);if(n>0){this.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):fe(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const{beans:s}=this,o=i?.animate??!0;o&&Od(s,!0);const r={};for(const{key:x,...T}of i?.columnLimits??[])r[typeof x=="string"?x:x.getColId()]=T;const l=s.visibleCols.allCols;if(e<=0||!l.length)return;const u=Qo(l);if(i?.onlyScaleUp&&u>e||e===u&&l.every(T=>{if(T.colDef.suppressSizeToFit)return!0;const D=r?.[T.getId()],M=D?.minWidth??i?.defaultMinWidth,F=D?.maxWidth??i?.defaultMaxWidth,I=T.getActualWidth();return(M==null||I>=M)&&(F==null||I<=F)}))return;const f=[],g=[];for(const x of l){const T=i?.colKeys?.some(D=>th(x,D))??!0;x.getColDef().suppressSizeToFit||!T?g.push(x):f.push(x)}const m=f.slice(0);let v=!1;const y=x=>{xo(f,x),g.push(x)},S={};for(const x of f){i?.onlyScaleUp&&(S[x.getColId()]=x.getActualWidth()),x.resetActualWidth(t);const T=r?.[x.getId()],D=T?.minWidth??i?.defaultMinWidth??-1/0,M=T?.maxWidth??i?.defaultMaxWidth??1/0,F=x.getActualWidth(),I=Math.max(Math.min(F,M),D);I!=F&&x.setActualWidth(I,t,!0)}for(;!v;){v=!0;const x=e-Qo(g);if(x<=0)for(const T of f){const D=r?.[T.getId()]?.minWidth??i?.defaultMinWidth??T.minWidth;T.setActualWidth(D,t,!0)}else{const T=x/Qo(f);let D=x;for(let M=f.length-1;M>=0;M--){const F=f[M],I=F.getColId(),A=S[I],O=r?.[I],_=O?.minWidth??i?.defaultMinWidth??A,B=O?.maxWidth??i?.defaultMaxWidth,z=Math.max(_??-1/0,F.getMinWidth()),q=Math.min(B??1/0,F.getMaxWidth());let oe=Math.round(F.getActualWidth()*T);oe<z?(oe=z,y(F),v=!1):oe>q?(oe=q,y(F),v=!1):M===0&&(oe=D),F.setActualWidth(oe,t,!0),D-=oe}}}for(const x of m)x.fireColumnWidthChangedEvent(t);const R=s.visibleCols;R.setLeftValues(t),R.updateBodyWidths(),!n&&(fu(this.eventSvc,m,!0,t),o&&Od(s,!1))}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get("autoSizeStrategy");n?.type!=="fitGridWidth"&&n?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const i=n.type;if(i==="fitGridWidth"){const{columnLimits:s,defaultMinWidth:o,defaultMaxWidth:r}=n,l=s?.map(({colId:u,minWidth:d,maxWidth:f})=>({key:u,minWidth:d,maxWidth:f}));this.sizeColumnsToFitGridBody({defaultMinWidth:o,defaultMaxWidth:r,columnLimits:l})}else i==="fitProvidedWidth"&&this.sizeColumnsToFit(n.width,"sizeColumnsToFit");t?.revealColumns(i)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;const n="autosizeColumns";e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function ghe(e,t,n={}){const i=n.minWidth??e.getMinWidth();t<i&&(t=i);const s=n.maxWidth??e.getMaxWidth();return t>s&&(t=s),t}function qM({ctrlsSvc:e,scrollVisibleSvc:t}){const n=e.getGridBodyCtrl(),s=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return Ph(n.eGridBody)-s}var YM="ag-animate-autosize";function Od({ctrlsSvc:e,gos:t},n){if(!t.get("animateColumnResizing")||t.get("enableRtl")||!e.isAlive())return;const i=e.getGridBodyCtrl().eGridBody.classList;n?i.add(YM):i.remove(YM)}var phe={moduleName:"ColumnAutoSize",version:we,beans:[fhe],apiFunctions:{sizeColumnsToFit:dhe,autoSizeColumns:jV,autoSizeAllColumns:hhe},dependsOn:[rV],css:[uhe]};function mhe(e,t){return!!e.colHover?.isHovered(t)}var vhe=class extends ae{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:s,element:o,columns:r}=this,l=i.colHover;if(n??!!s.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:l.setMouseOver.bind(l,r),mouseout:l.clearMouseOver.bind(l)});else{for(const d of this.destroyManagedListeners)d();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Che="ag-column-hover",whe=class extends ae{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(Che,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const s=()=>{const o=this.isHovered(n);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:s}),s()}createHoverFeature(e,t,n){e.createManagedBean(new vhe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},yhe={moduleName:"ColumnHover",version:we,beans:[whe],apiFunctions:{isColumnHovered:mhe}},bhe=class extends ae{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:s,exportRowNumbers:o}=t,r=this.getColumnsToExport({allColumns:n,skipRowGroups:s,columnKeys:i,exportRowNumbers:o});return[this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t)].reduce((l,u)=>u(l),e).parse()}processRow(e,t,n,i){const s=t.shouldRowBeSkipped||(()=>!1),r=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!r,u=this.colModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,f=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&wte(this.gos,i);if(!u&&!d&&(t.skipRowGroups||f||l)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!u&&!d||s(ze(this.gos,{node:i})))return;const v=e.onNewBodyRow(i);if(n.forEach((y,S)=>{v.onColumn(y,S,i)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(ze(this.gos,{node:i}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new aV,{colGroupSvc:s}=this.beans,o=s?s.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((s,o)=>{i.onColumn(s,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel?.getPinnedTopRow(s.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{const i=this.rowModel,s=En(this.gos),o=Mu(this.gos),r=!s&&e.onlySelected,l=this.processRow.bind(this,n,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,f)=>d.rowIndex-f.rowIndex).map(d=>i.getRow(d.rowIndex)).forEach(l);else if(this.colModel.isPivotMode())s?i.forEachPivotNode(l,!0,u==="filteredAndSorted"):o?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);else if(e.onlySelectedAllPages||r){const d=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(d),d.forEach(l)}else u==="all"?i.forEachNode(l):s||o?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),s=(o,r)=>o.rowIndex!=null&&r.rowIndex!=null?o.rowIndex-r.rowIndex:o.level===r.level?o.parent?.id===r.parent?.id?n.compareRowNodes(i,o,r)||(o.rowIndex??-1)-(r.rowIndex??-1):s(o.parent,r.parent):o.level>r.level?s(o.parent,r):s(o,r.parent);e.sort(s)}processPinnedBottomRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>this.pinnedRowModel?.getPinnedBottomRow(s.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:s}=e,{colModel:o,gos:r,visibleCols:l}=this,u=o.isPivotMode(),d=m=>ga(m)?!1:!tr(m)||i;if(s?.length)return o.getColsForKeys(s).filter(d);const f=r.get("treeData");let g=[];return t&&!u?g=o.getCols():g=l.allCols,g=g.filter(m=>d(m)&&(n&&!f?!LR(m):!0)),g}recursivelyAddHeaderGroups(e,t,n){const i=[];for(const s of e){const o=s;if(o.getChildren)for(const r of o.getChildren()??[])i.push(r)}e.length>0&&xn(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let s=0;for(const o of t){const r=o;let l;n?l=n(ze(this.gos,{columnGroup:r})):l=this.beans.colNames.getDisplayNameForColumnGroup(r,"header");const d=(r.isExpandable()?r.getLeafColumns():[]).reduce((f,g,m,v)=>{let y=Wt(f);return g.getColumnGroupShow()==="open"?(!y||y[1]!=null)&&(y=[m],f.push(y)):y&&y[1]==null&&(y[1]=m-1),m===v.length-1&&y&&y[1]==null&&(y[1]=m),f},[]);i.onColumn(r,l||"",s++,r.getLeafColumns().length-1,d)}}},She={moduleName:"SharedExport",version:we,beans:[bhe]},Rhe=class extends ae{getFileName(e){const t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){return this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}};function xhe(e,t){const n=document.defaultView||window;if(!n){fe(52);return}const i=document.createElement("a"),s=n.URL.createObjectURL(t);i.setAttribute("href",s),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),i.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(s)},0)}var Ehe=class{constructor(e){this.valueFrom="data";const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:s,gos:o,processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,valueFrom:f}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=s,this.gos=o,this.processCellCallback=r,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d,f&&(this.valueFrom=f)}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e){const{column:t,node:n,currentColumnIndex:i,accumulatedRowIndex:s,type:o,useRawFormula:r}=e,l=i===0&&t3(this.gos,n,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||n.group)&&(t.isRowGroupDisplayed(n.rowGroupColumn?.getColId()??"")||l))return{value:this.processRowGroupCallback(ze(this.gos,{column:t,node:n}))??""};if(this.processCellCallback)return{value:this.processCellCallback(ze(this.gos,{accumulatedRowIndex:s,column:t,node:n,value:this.valueSvc.getValueForDisplay({column:t,node:n,from:this.valueFrom}).value,type:o,parseValue:y=>this.valueSvc.parseValue(t,n,y,this.valueSvc.getValue(t,n,this.valueFrom)),formatValue:y=>this.valueSvc.formatValue(t,n,y)??y}))??""};const u=this.gos.get("treeData"),d=this.valueSvc,f=n.level===-1&&n.footer,g=t.colDef.showRowGroup===!0&&(n.group||u);if(!f&&(l||g)){let y="",S=n;for(;S&&S.level!==-1;){const{value:R,valueFormatted:x}=d.getValueForDisplay({column:l?void 0:t,node:S,includeValueFormatted:!0,exporting:!0,from:this.valueFrom});y=` -> ${x??R??""}${y}`,S=S.parent}return{value:y,valueFormatted:y}}const{value:m,valueFormatted:v}=d.getValueForDisplay({column:t,node:n,includeValueFormatted:!0,exporting:!0,useRawFormula:r,from:this.valueFrom});return{value:m??"",valueFormatted:v}}getHeaderName(e,t){return e?e(ze(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}},XM=`\r
`,The=class extends Ehe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,XM),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue({column:e,node:n,currentColumnIndex:t,accumulatedRowIndex:t,type:"csv",useRawFormula:!1});this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(fe(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=XM),this.isFirstLine=!1}},Dhe=class extends Rhe{constructor(){super(...arguments),this.beanName="csvCreator"}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){fe(51);return}const t=()=>{const i=this.getMergedParams(e),s=this.getData(i),o=new Blob(["\uFEFF",s],{type:"text/plain"}),r=i.fileName,l=typeof r=="function"?r(ze(this.gos,{})):r;xhe(this.getFileName(l),o)},{overlays:n}=this.beans;n?n.showExportOverlay(t):t()}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:s,gos:o}=this.beans,{processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:f,columnSeparator:g,valueFrom:m}=e;return new The({colModel:t,colNames:n,valueSvc:s,gos:o,processCellCallback:r||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:f||!1,columnSeparator:g||",",rowGroupColsSvc:i,valueFrom:m})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function Phe(e,t){return e.csvCreator?.getDataAsCsv(t)}function Ahe(e,t){e.csvCreator?.exportDataAsCsv(t)}var Fhe={moduleName:"CsvExport",version:we,beans:[Dhe],apiFunctions:{getDataAsCsv:Phe,exportDataAsCsv:Ahe},dependsOn:[She]},UV=class extends bi{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Mhe=1e3,khe=1e3,QM=100,ZM,Jg=!1,Ihe=class extends bi{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return this.tooltipCtrl[`getTooltip${e}DelayOverride`]?.()??this.getGridOptionsTooltipDelay(`tooltip${e}Delay`)}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ll()&&(Jg?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},QM):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Jg)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?this.getTooltipDelay("SwitchShow"):this.getTooltipDelay("Show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-ZM<Mhe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!be(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),ZM=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const s=this.getLocaleTextFunc(),o=this.popupSvc?.addPopup({eChild:i,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const r=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:r}),this.setEventHandlers(r)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Bn(this.beans),{keydown:r=>{i.contains(r?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=nn(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?khe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Jg=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},QM)}unlockService(){Jg=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("Hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},Ohe=class extends UV{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},Lhe=class extends $R{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,n=this.getGui();n.textContent=Fu(t);const i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},_he=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip),&:where(.ag-cell-formula-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",ep=0,Nhe=200,Vhe=class extends bi{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.addManagedEventListeners({stylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:s,eventSource:o,alignSide:r="left",position:l="over",type:u}=e,d=o.getBoundingClientRect(),f=this.getParentRect();this.setAlignedTo(o,t);const g=()=>{let m=d.left-f.left;r==="right"&&(m-=t.offsetWidth-d.width);let v;return l==="over"?(v=d.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,f,e.nudgeY||0)==="under"?v=d.top-f.top+d.height:v=d.top-t.offsetHeight-(i||0)*2-f.top),{x:m,y:v}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:s,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,u,t,o,null)})}positionPopupForMenu(e){const{eventSource:t,ePopup:n,event:i}=e,s=t.getBoundingClientRect(),o=this.getParentRect();this.setAlignedTo(t,n);let r=!1;const l=()=>{const u=this.keepXYWithinBounds(n,s.top-o.top,0),d=n.clientWidth>0?n.clientWidth:200;r||(n.style.minWidth=`${d}px`,r=!0);const g=o.right-o.left-d;let m;return this.gos.get("enableRtl")?(m=y(),m<0&&(m=v(),this.setAlignedStyles(n,"left")),m>g&&(m=0,this.setAlignedStyles(n,"right"))):(m=v(),m>g&&(m=y(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),{x:m,y:u};function v(){return s.right-o.left-2}function y(){return s.left-o.left-d}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:l,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,"subMenu",n,t,i instanceof MouseEvent?i:void 0)})}shouldRenderUnderOrAbove(e,t,n,i){const s=n.bottom-t.bottom,o=t.top-n.top,r=e.offsetHeight+i;return s>r?"under":o>r||o>s?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:s}=i;if(!s)return;const o=["right","left","over","above","under"];for(const r of o)s.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`);t&&(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:s,skipObserver:o,updatePosition:r}=e,l={width:0,height:0},u=(d=!1)=>{let{x:f,y:g}=r();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,i&&(f+=i),s&&(g+=s),n&&(f=this.keepXYWithinBounds(t,f,1),g=this.keepXYWithinBounds(t,g,0)),t.style.left=`${f}px`,t.style.top=`${g}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!o){const d=hr(this.beans,t,()=>u(!0));setTimeout(()=>d(),Nhe)}}getParentRect(){const e=Bn(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),MN(t)}keepXYWithinBounds(e,t,n){const i=n===0,s=i?"clientHeight":"clientWidth",o=i?"top":"left",r=i?"height":"width",l=i?"scrollTop":"scrollLeft",u=Bn(this.beans),d=u.documentElement,f=this.getPopupParent(),g=e.getBoundingClientRect(),m=f.getBoundingClientRect(),v=u.documentElement.getBoundingClientRect(),y=f===u.body,S=Math.ceil(g[r]);let x=y?(i?FN:em)(d)+d[l]:f[s];y&&(x-=Math.abs(v[o]-m[o]));const T=x-S;return Math.min(Math.max(t,0),Math.max(T,0))}addPopup(e){const{eChild:t,ariaLabel:n,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:r}=e,l=this.getPopupIndex(t);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(t);const u=this.createPopupWrapper(t,!!s,n,i),d=this.addEventListenersToPopup({...e,wrapperEl:u});return o&&o(),this.addPopupToPopupList(t,u,d,r),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();be(e.style.top)||(e.style.top=`${n.top*-1}px`),be(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,i){const s=this.getPopupParent(),{environment:o,gos:r}=this.beans,l=pl({tag:"div"});return o.applyThemeClasses(l),l.classList.add("ag-popup"),e.classList.add(r.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||gl(e,"dialog"),n?du(e,n):i&&(e.id||(e.id=`popup-component-${ep}`),GF(i,e.id)),l.appendChild(e),s.appendChild(l),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),l}addEventListenersToPopup(e){const t=this.beans,n=Bn(t),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:r,closeOnEsc:l,modal:u,ariaOwns:d}=e;let f=!1;const g=S=>{if(!i.contains(nn(t)))return;S.key===ee.ESCAPE&&!this.isStopPropagation(S)&&y({keyboardEvent:S})},m=S=>y({mouseEvent:S}),v=S=>y({touchEvent:S}),y=(S={})=>{const{mouseEvent:R,touchEvent:x,keyboardEvent:T,forceHide:D}=S;!D&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:x},s)||f)||(f=!0,i.remove(),n.removeEventListener("keydown",g),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",v),n.removeEventListener("contextmenu",m),this.eventSvc.removeListener("dragStarted",m),o&&o(R||x||T),this.removePopupFromPopupList(s,d))};return r&&r({hidePopup:y}),window.setTimeout(()=>{l&&n.addEventListener("keydown",g),u&&(n.addEventListener("mousedown",m),this.eventSvc.addListener("dragStarted",m),n.addEventListener("touchstart",v),n.addEventListener("contextmenu",m))},0),y}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:ep,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i),ep=ep+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=s,i.isAnchored=!0,s}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&GF(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:s}=e,o=i.getBoundingClientRect(),r=g=>Number.parseInt(g.substring(0,g.length-1),10),l=(g,m)=>{const v=n[g]-o[g],y=r(s.style[g]);return{initialDiff:v,lastDiff:v,initial:y,last:y,direction:m}},u=l("top",0),d=l("left",1),f=this.beans.frameworkOverrides;return new pt(g=>{f.wrapIncoming(()=>{dne(()=>{const m=t.getBoundingClientRect(),v=i.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const S=(R,x)=>{const T=r(s.style[x]);R.last!==T&&(R.initial=T,R.last=T);const D=m[x]-v[x];if(D!=R.lastDiff){const M=this.keepXYWithinBounds(s,R.initial+R.initialDiff-D,R.direction);s.style[x]=`${M}px`,R.last=M}R.lastDiff=D};S(u,"top"),S(d,"left")},200).then(m=>{g(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,s=n||i;if(!s)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let r=o;r<this.popupList.length;r++){const l=this.popupList[r];if(Hee(l.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=Bn(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,s=this.getWrapper(e);if(!s||i<=1||!t.contains(e))return;const o=[],r=[];for(const m of n)m!==s&&(m.classList.contains("ag-always-on-top")?r.push(m):o.push(m));const l=[],u=r.length,g=s.classList.contains("ag-always-on-top")||!u?[...o,...r,s]:[...o,s,...r];for(let m=0;m<=i;m++){const v=g[m];if(n[m]===g[m]||v===s)continue;const y=v.querySelectorAll("div");for(const S of y)S.scrollTop!==0&&l.push([S,S.scrollTop]);m===0?t.prepend(v):g[m-1].after(v)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}},Hhe=class extends Vhe{getDefaultPopupParent(){return this.beans.ctrlsSvc.get("gridCtrl").getGui()}callPostProcessPopup(e,t,n,i,s){const o=this.gos.getCallback("postProcessPopup");if(o){const{column:r,rowNode:l}=e??{};o({column:r,rowNode:l,ePopup:n,type:t,eventSource:i,mouseEvent:s})}}getActivePopups(){return this.popupList.map(e=>e.element)}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return ir(e)}},gv={moduleName:"Popup",version:we,beans:[Hhe]};function NS(e){return e.get("tooltipShowMode")==="whenTruncated"}var Bhe=(e,t)=>{const n=e;return typeof n.getTranslatedMessage=="function"?n.getTranslatedMessage(t):e.message},VS=(e,t,n)=>{const{editModelSvc:i}=e,s=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,o=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,r=s||o;return r?.length?r.join(n("tooltipValidationErrorSeparator",". ")):void 0},Ghe=(e,t)=>{if(NS(e.gos)){if(t.isCellRenderer()){const i=t.column.getColDef();return!!i.showRowGroup||i.cellRenderer==="agGroupCellRenderer"?Ah(()=>{const o=t.eGui;return o.querySelector(".ag-group-value")||o.querySelector(".ag-cell-value")||o}):void 0}return Ah(()=>{const i=t.eGui;return i.children.length===0?i:i.querySelector(".ag-cell-value")})}},zhe=(e,t,n)=>{const{editSvc:i}=e,{column:s}=t,o=Ghe(e,t),r=()=>i?.isEditing(t)?!1:o?s.isTooltipEnabled()?o():!1:!0;return{shouldDisplayDefault:r,shouldDisplayColumnTooltip:r,shouldDisplayCustomTooltip:n??r}},jhe=({beans:e,ctrl:t,value:n,displayFunctions:i,translate:s})=>{const{editSvc:o,formula:r,gos:l}=e,{column:u,rowNode:d}=t;if(r?.active&&u.isAllowFormula()){const R=r.getFormulaError(u,d);if(R)return{value:Bhe(R,s),location:"cellFormula",shouldDisplay:()=>!!r?.getFormulaError(u,d)}}if(!!!o?.isEditing(t)){const R=VS(e,t,s);if(R)return{value:R,location:"cellEditor",shouldDisplay:()=>!o?.isEditing(t)&&!!VS(e,t,s)}}const{shouldDisplayCustomTooltip:g,shouldDisplayColumnTooltip:m}=i;if(n!=null)return{value:n,location:"cell",shouldDisplay:g};const v=u.getColDef(),y=d.data;if(v.tooltipField&&be(y))return{value:ih(y,v.tooltipField,u.isTooltipFieldContainsDots()),location:"cell",shouldDisplay:m};const S=v.tooltipValueGetter;return S?{value:S(ze(l,{location:"cell",colDef:u.getColDef(),column:u,rowIndex:t.cellPosition.rowIndex,node:d,data:d.data,value:t.value,valueFormatted:t.valueFormatted})),location:"cell",shouldDisplay:m}:null},Uhe=class extends ae{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const s=this.gos,o=NS(s),{column:r,eGui:l}=t,u=r.getColDef();!i&&o&&!u.headerComponent&&(i=Ah(()=>l.querySelector(".ag-header-cell-text")));const d="header",g=this.beans.colNames.getDisplayNameForColumn(r,"header",!0),m=n??g,v={getGui:()=>l,getLocation:()=>d,getTooltipValue:()=>n??u?.headerTooltipValueGetter?.(ze(s,{location:d,colDef:u,column:r,value:m,valueFormatted:g}))??u?.headerTooltip,shouldDisplayTooltip:i,getAdditionalParams:()=>({column:r,colDef:r.getColDef()})};let y=this.createTooltipFeature(v);return y&&(y=t.createBean(y),t.setRefreshFunction("tooltip",()=>y.refreshTooltip())),y}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const s=this.gos,o=NS(s),{column:r,eGui:l}=t,u=r.getColGroupDef();!i&&o&&!u?.headerGroupComponent&&(i=Ah(()=>l.querySelector(".ag-header-group-text")));const d="headerGroup",g=this.beans.colNames.getDisplayNameForColumnGroup(r,"header"),m=n??g,v={getGui:()=>l,getLocation:()=>d,getTooltipValue:()=>n??u?.headerTooltipValueGetter?.(ze(s,{location:d,colDef:u,column:r,value:m,valueFormatted:g}))??u?.headerTooltip,shouldDisplayTooltip:i,getAdditionalParams:()=>{const S={column:r};return u&&(S.colDef=u),S}},y=this.createTooltipFeature(v);return y&&t.createBean(y)}enableCellTooltipFeature(e,t,n){const{beans:i}=this,{column:s,rowNode:o}=e,r=zhe(i,e,n),l=this.getLocaleTextFunc();let u=null;const d=()=>(u=jhe({beans:i,ctrl:e,value:t,displayFunctions:r,translate:l}),u),g={getGui:()=>e.eGui,getLocation:()=>u?.location??"cell",getTooltipValue:()=>d()?.value,shouldDisplayTooltip:()=>{const m=u??d();return m?m.shouldDisplay?m.shouldDisplay():!0:!1},getAdditionalParams:()=>({column:s,colDef:s.getColDef(),rowIndex:e.cellPosition.rowIndex,node:o,data:o.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(g,i)}setupFullWidthRowTooltip(e,t,n,i){const s={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},o=this.beans,r=o.context;e&&t.destroyBean(e,r);const l=this.createTooltipFeature(s,o);if(l)return t.createBean(l,r)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:i}=n,s=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!s)return;const o={getGui:()=>s,getTooltipValue:()=>VS(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:l}=n,u=l?.getRowValidationModel()?.getRowValidationMap(),d=l?.getCellValidationModel()?.getCellValidationMap(),f=!!u&&u.size>0,g=!!d&&d.size>0;return f||g}},r=this.createTooltipFeature(o,n);if(r)return e.createBean(r,i)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=be(t.tooltipField)||be(t.tooltipValueGetter)||be(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},Whe=class extends Ihe{createTooltipComp(e,t){$ne(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},WV={moduleName:"Tooltip",version:we,beans:[Uhe],dynamicBeans:{tooltipFeature:UV,highlightTooltipFeature:Ohe,tooltipStateManager:Whe},userComponents:{agTooltipComponent:Lhe},dependsOn:[gv],css:[_he]},Fc=class{constructor(e){this.cellValueChanges=e}},ab=class extends Fc{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},$he=10,JM=class{constructor(e){this.actionStack=[],this.maxStackSize=e||$he,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Khe=class extends ae{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&BR(this.activeCellEdit,t),i=this.activeRowEdit!==null&&fie(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:r,column:l,oldValue:u,value:d}=e,f={rowPinned:o,rowIndex:r,columnId:l.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new JM(n),this.redoStack=new JM(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:s=>{s.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,s=>{this.gridBodyCtrl=s.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const s=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:s})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const s=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:s})}undoRedo(e,t,n,i,s){if(!e)return!1;const o=e.pop();return o?.cellValueChanges?(this.processAction(o,r=>r[i],s),o instanceof ab?this.processRange(o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0):!1}processAction(e,t,n){for(const i of e.cellValueChanges){const{rowIndex:s,rowPinned:o,columnId:r}=i,l={rowIndex:s,rowPinned:o},u=lr(this.beans,l);u.displayed&&u.setDataValue(r,t(i),n)}}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,s)=>{if(!i)return;const o=i.startRow,r=i.endRow;s===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,s={rowIndex:n,rowPinned:i},o=lr(this.beans,s),r={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:s,focusSvc:o,rangeSvc:r}=this.beans,l=s.getCol(n);if(!l)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:i};o.setFocusedCell({...d,forceBrowserFocus:!0}),r?.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Fc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Fc(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Fc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new ab(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&ra(n)?e=new ab(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Fc(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;const n=new Fc(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},qhe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) .ag-text-area-input{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",Yhe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},Xhe=class extends cv{constructor(){super(Yhe,[qR]),this.eEditor=Te}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=iv(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},cr=class extends tl{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=be(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}setCustomValidity(e){const t=this.eInput,n=e.length>0;t.setCustomValidity(e),n&&t.reportValidity(),SR(t,n)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{U3(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{n.clipboardData?.getData("text")?.split("").some(s=>!e.test(s))&&n.preventDefault()}})}},pv={selector:"AG-INPUT-TEXT-FIELD",component:cr},Qhe=class extends cr{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=pa();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){nn(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?mi(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,ki(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?mi(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,ki(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,ki(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Ci(this.getValue())??void 0}setDate(e,t){this.setValue(mi(e??null,this.includeTime),t)}},$V={selector:"AG-INPUT-DATE-FIELD",component:Qhe},mv=class extends cv{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Te}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:i,eventKey:s,suppressPreventDefault:o}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let r,l=!0;i?(this.focusAfterAttached=!0,s===ee.BACKSPACE||s===ee.DELETE?r="":s&&s.length===1?o?l=!1:r=s:(r=t.getStartValue(),s!==ee.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=t.getStartValue()),l&&r!=null&&n.setStartValue(r),this.addGuiEventListener("keydown",u=>{const{key:d}=u;(d===ee.PAGE_UP||d===ee.PAGE_DOWN)&&u.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;pa()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},Zhe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},Jhe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return Zhe}getAgComponents(){return[$V]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:s,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),s!=null&&e.setStep(s),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:s,getValidationErrors:o}=n;let r=[];const l=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){const u=i instanceof Date?i:new Date(i);if(t<u){const d=u.toLocaleDateString();r.push(l("minDateValidation",`Date must be after ${d}`,[d]))}}if(s){const u=s instanceof Date?s:new Date(s);if(t>u){const d=u.toLocaleDateString();r.push(l("maxDateValidation",`Date must be before ${d}`,[d]))}}}return r.length||(r=null),o?o({value:t,cellEditorParams:n,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!be(n)&&!be(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return mi(e,this.includeTime??!1)}},efe=class extends mv{constructor(){super(new Jhe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},tfe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},nfe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return tfe}getAgComponents(){return[$V]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:s,colDef:o}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),s!=null&&e.setStep(s),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(o.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:s,max:o,getValidationErrors:r}=t;let l=[];if(i){const u=new Date(i),d=this.getLocaleTextFunc();if(s){const f=new Date(s);if(u<f){const g=f.toLocaleDateString();l.push(d("minDateValidation",`Date must be after ${g}`,[g]))}}if(o){const f=new Date(o);if(u>f){const g=f.toLocaleDateString();l.push(d("maxDateValidation",`Date must be before ${g}`,[g]))}}}return l.length||(l=null),r?r({value:this.getValue(),cellEditorParams:t,internalErrors:l}):l}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!be(n)&&!be(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return mi(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ci(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):mi(e??null,this.includeTime??!1)??void 0}},ife=class extends mv{constructor(){super(new nfe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},sfe=class extends tl{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},ofe={selector:"AG-INPUT-TEXT-AREA",component:sfe},rfe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},afe=class extends cv{constructor(){super(rfe,[ofe]),this.eEditor=Te}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:i,maxLength:s,cols:o,rows:r}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(r||10);let l;n?(this.focusAfterAttached=!0,i===ee.BACKSPACE||i===ee.DELETE?l="":i&&i.length===1?l=i:(l=this.getStartValue(e),i!==ee.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(e)),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===ee.LEFT||t===ee.UP||t===ee.RIGHT||t===ee.DOWN||e.shiftKey&&t===ee.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,i=this.getLocaleTextFunc();e.setInputAriaLabel(i("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!be(i)&&!be(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),s=this.getValue();let o=[];return typeof s=="string"&&t!=null&&s.length>t&&o.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:s,internalErrors:o,cellEditorParams:e}):o}},lx=class extends cr{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=Number.parseFloat(e.value),r=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:s}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(e){nn(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const s=Number.parseFloat(e).toFixed(n);return Number.parseFloat(s).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,ki(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,ki(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,ki(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(be(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const s=this.normalizeValue(n);i=n!=s}if(i)return t(n)}return e(n)}getValue(e=!1){const t=this.eInput;if(!t.validity.valid&&!e)return;const n=t.value;return this.isScientificNotation(n)?this.adjustPrecision(n,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},lfe={selector:"AG-INPUT-NUMBER-FIELD",component:lx},cfe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},ufe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return cfe}getAgComponents(){return[lfe]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:i,precision:s,step:o}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),s!=null&&e.setPrecision(s),o!=null&&e.setStep(o);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,o=this.eEditor.getInputElement().valueAsNumber,r=this.getLocaleTextFunc();let l=[];return typeof o=="number"&&(t!=null&&o<t&&l.push(r("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&o>n&&l.push(r("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),l.length||(l=null),i?i({value:o,cellEditorParams:e,internalErrors:l}):l}preventStepping(e){(e.key===ee.UP||e.key===ee.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!be(n)&&!be(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){pa()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},dfe=class extends mv{constructor(){super(new ufe(()=>this.getLocaleTextFunc()))}},hfe=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",ffe="ag-active-item",gfe=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",cls:`ag-list-item-text ag-${e}-list-item-text`,ref:"eText",children:t}]}),pfe=class extends ku{constructor(e,t,n){super(gfe(e,t)),this.label=t,this.value=n,this.eText=Te}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(ffe,e),PN(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const n=this.getGui();xee(n,e),Ree(n,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>kN(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},mfe=class extends ku{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(hfe)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case ee.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const n=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(n)}break;case ee.DOWN:case ee.UP:e.preventDefault(),this.navigate(t);break;case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAGE_HOME:case ee.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();Li(this.getGui()),this.listItems=[],this.refreshAriaRole()}updateOptions(e){const t=this.options!==e;return t&&(this.clearOptions(),this.addOptions(e)),t}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!qs(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const n=this.getGui(),{scrollTop:i,clientHeight:s}=n,{offsetTop:o,offsetHeight:r}=t;(o+r>i+s||o<i)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const n=new pfe(this.cssIdentifier,t,e);n.setParentComponent(this);const i=this.createManagedBean(n);this.listItems.push(i),this.getGui().appendChild(i.getGui())}navigate(e){const t=e===ee.DOWN;let n;const{listItems:i,highlightedItem:s}=this;if(!s)n=t?i[0]:Wt(i);else{let r=i.indexOf(s)+(t?1:-1);r=Math.min(Math.max(r,0),i.length-1),n=i[r]}this.highlightItem(n)}navigateToPage(e){const{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),s=this.options.length-1,o=t[0].getHeight(),r=Math.floor(this.getGui().clientHeight/o);let l=-1;e===ee.PAGE_HOME?l=0:e===ee.PAGE_END?l=s:e===ee.PAGE_DOWN?l=Math.min(i+r,s):e===ee.PAGE_UP&&(l=Math.max(i-r,0)),l!==-1&&this.highlightItem(t[l])}refreshAriaRole(){gl(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((n,i)=>{n.setIndex(i+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},vfe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}.ag-picker-field-wrapper:where(.ag-picker-has-focus),.ag-picker-field-wrapper:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}.ag-picker-field-wrapper:disabled{opacity:.5}",Cfe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},wfe=class extends H3{constructor(e){if(super(e,e?.template||Cfe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Te,this.eWrapper=Te,this.eDisplayField=Te,this.eIcon=Te,this.registerCSS(vfe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:s,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),s!=null&&this.setPickerMinWidth(s),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const s=this.beans.iconSvc.createIconNoSpan(n);s&&this.eIcon.appendChild(s)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),dS(e,!1),this.ariaRole&&gl(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ee.UP:case ee.DOWN:case ee.ENTER:case ee.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ee.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:s=!0},maxPickerHeight:o,minPickerWidth:r,maxPickerWidth:l,variableWidth:u,beans:d,eWrapper:f}=this,g={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const S=wR(d);this.beforeHidePicker(),S&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:f};e.style.position="absolute";const m=d.popupSvc,v=m.addPopup(g);u?(r&&(e.style.minWidth=r),e.style.width=TR(em(f)),l&&(e.style.maxWidth=l)):im(e,l??em(f));const y=o??`${RR(m.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),v.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:s,pickerComponent:o}=this,r=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:s,ePopup:o.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();dS(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return im(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},yfe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}.ag-select:where(:not(.ag-cell-editor,.ag-label-align-top)){min-height:var(--ag-list-item-height)}:where(.ag-select){.ag-picker-field-wrapper{cursor:default;padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where(.ag-ltr) .ag-select-list-item{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-select-list-item{padding-right:var(--ag-spacing)}.ag-select-list-item-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",cx=class extends wfe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(yfe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Ah(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new mfe("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),kee(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===ee.TAB&&this.hidePicker(),t){case ee.ENTER:case ee.UP:case ee.DOWN:case ee.PAGE_UP:case ee.PAGE_DOWN:case ee.PAGE_HOME:case ee.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case ee.ESCAPE:super.onKeyDown(e);break;case ee.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}updateOptions(e){return this.listComponent?.updateOptions(e)&&this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:s},eDisplayField:o,tooltipFeature:r}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let u=i.getDisplayValue();return u==null&&s&&(u=s),o.textContent=u,r?.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},bfe={selector:"AG-SELECT",component:cx},Sfe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},Rfe=class extends cv{constructor(){super(Sfe,[bfe]),this.eEditor=Te,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:i}=this,{values:s,value:o,eventKey:r}=e;if(an(s)){fe(58);return}this.startedByEnter=r!=null?r===ee.ENTER:!1;let l=!1;s.forEach(g=>{const m={value:g},v=n.formatValue(e.column,null,g),y=v!=null;m.text=y?v:g,t.addOption(m),l=l||o===g}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:f}=e;u!=null&&t.setPickerGap(u),f!=null&&t.setPickerMaxHeight(f),d!=null&&t.setPickerMaxWidth(d),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue();let s=[];if(t&&!t.includes(i)){const o=this.getLocaleTextFunc();s.push(o("invalidSelectionValidation","Invalid selection."))}else s=null;return n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},xfe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},Efe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return xfe}getAgComponents(){return[pv]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),s=this.getLocaleTextFunc();let o=[];return t!=null&&typeof i=="string"&&i.length>t&&o.push(s("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),o.length||(o=null),n?n({value:i,cellEditorParams:e,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!be(n)&&!be(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){pa()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),n=be(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},ek=class extends mv{constructor(){super(new Efe(()=>this.getLocaleTextFunc()))}};function Tfe(e){e.undoRedo?.undo("api")}function Dfe(e){e.undoRedo?.redo("api")}function Pfe(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function Afe(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,s)=>{const{rowIndex:o,rowPinned:r}=s;i.forEach((l,u)=>{const{editorValue:d,pendingValue:f,sourceValue:g,state:m}=l,v=zs(l);let y=d??f;y===Kn&&(y=void 0);const S={newValue:y,oldValue:g,state:m,column:u,colId:u.getColId(),colKey:u.getColId(),rowIndex:o,rowPinned:r},R=m==="editing";(R||!R&&v)&&n.push(S)})}),n}function Ffe(e,t=!1){const{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(const i of e.editModelSvc?.getEditPositions()??[])i.state==="editing"&&n.revertSingleCellEdit(i);else Jr(e,{persist:!0});nl(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function Mfe(e,t){const n=Vt(e,t);return!!e.editSvc?.isEditing(n)}function kfe(e,t){const{key:n,colKey:i,rowIndex:s,rowPinned:o}=t,{editSvc:r,colModel:l}=e,u=l.getCol(i);if(!u){fe(12,{colKey:i});return}const f=lr(e,{rowIndex:s,rowPinned:o||null});if(!f){fe(290,{rowIndex:s,rowPinned:o});return}if(!r?.isCellEditable({rowNode:f,column:u},"api"))return;o==null&&VV(e,s),NV(e,i),r?.startEditing({rowNode:f,column:u},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api",editable:!0})}function Ife(e){return e.editSvc?.validateEdit()||null}function Ofe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function Lfe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var _fe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},Nfe=class extends $R{constructor(e){super(_fe),this.params=e}postConstruct(){vl(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{TS(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}};function Vfe(e,{column:t},n,i,s="ui"){if(n instanceof KeyboardEvent&&(n.key===ee.TAB||n.key===ee.ENTER||n.key===ee.F2||n.key===ee.BACKSPACE&&i))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const r=t?.getColDef(),l=Hfe(e.gos,r),u=n?.type;return u==="click"&&n?.detail===1&&l===1||u==="dblclick"&&n?.detail===2&&l===2?!0:s==="api"?!!i:!1}function Hfe(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function lb(e,t){return e.editModelSvc?.hasEdits(t,{withOpenEditor:!0})??!1}function HS(e,t){const n=t.column,i=t.rowNode,s=n.getColDef();if(!i)return lb(e,t);const o=s.editable;if(i.group){const r=s.groupRowEditable;if(r!=null)return n.isColumnFunc(i,r)?!0:lb(e,t)}return n.isColumnFunc(i,o)?!0:lb(e,t)}function Bfe(e,t,n="ui"){const i=HS(e,t);if(i||n==="ui")return i;const{rowNode:s,column:o}=t;for(const r of e.colModel.getCols())if(r!==o&&HS(e,{rowNode:s,column:r}))return!0;return!1}var xm=(e,t=!1)=>{if(e!==void 0)return zs(e)||t&&e.state==="editing"};function KV(e,t,n=!1){return xm(e.editModelSvc?.getEdit(t),n)}var qV=(e,t,n)=>{if(e)for(let i=0,s=e.length;i<s;++i){const o=e[i];if(o.data&&(xm(t?.getEdit({rowNode:o,column:n}))||xm(t?.getEdit({rowNode:o.pinnedSibling,column:n})))||qV(o.childrenAfterGroup,t,n))return!0}};function YV(e,t){const{column:n,rowNode:i}=t;return e.gos.get("groupTotalRow")&&!i?.footer?!1:qV(i?.childrenAfterGroup,e.editModelSvc,n)}function XV(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return xm(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var Gfe=class extends ae{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const s=KV(n,e)||YV(n,e)||XV(n,e);this.applyBatchingStyle(s)}else this.applyBatchingStyle(!1);const i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},zfe=class extends ae{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let i=e.rowNode,s=t?.getEditRow(i);const o=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!s&&i.pinnedSibling&&(i=i.pinnedSibling,s=t?.getEditRow(i)),s){const r=Array.from(s.keys()).some(l=>{const u={rowNode:i,column:l};return KV(n,u,!0)||YV(n,u)||XV(n,u)});this.applyStyle(o,r);return}this.applyStyle(o)}applyStyle(e=!1,t=!1){const n=!!this.editSvc?.isBatchEditing(),i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:s})=>{s.toggleCss("ag-row-editing",i&&t),s.toggleCss("ag-row-batch-edit",i&&t&&n),s.toggleCss("ag-row-inline-editing",t),s.toggleCss("ag-row-not-inline-editing",!t),s.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},jfe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{const s=new Set;e.forEachNode(o=>i.has(o)&&s.add(o)),t?.forEachPinnedRow("top",o=>i.has(o)&&s.add(o)),t?.forEachPinnedRow("bottom",o=>i.has(o)&&s.add(o));for(const o of i)s.has(o)||n.removeEdits({rowNode:o});return s},Ufe=({editModelSvc:e},t,n)=>{for(const i of t)e?.getEditRow(i)?.forEach((s,o)=>!n.has(o)&&e.removeEdits({rowNode:i,column:o}))},Wfe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());Ufe(e,jfe(e,i),t)},$fe=new Set(["undo","redo","paste","bulk","rangeSvc"]),Kfe=new Set(["ui","api"]),QV={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},qfe=new Set(Object.keys(QV)),Yfe=new Set(["paste","rangeSvc","cellClear","redo","undo"]),cb={cancel:!0,source:"api"},Xfe={cancel:!1,source:"api"},ja={checkSiblings:!0},Sc={force:!0,suppressFlash:!0},Qfe=class extends ae{constructor(){super(...arguments),this.beanName="editSvc",this.committing=!1,this.batch=!1,this.batchStartDispatched=!1,this.stopping=!1,this.rangeSelectionWhileEditing=0}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,cb),this.createStrategy(i)});const t=Wfe(e),n=()=>{const i=this.model.getCellValidationModel().getCellValidationMap().size>0,s=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||s?this.stopEditing(void 0,cb):this.isEditing()&&(this.batch?nl(e,this.model.getEditPositions()):this.stopEditing(void 0,Xfe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}startBatchEditing(){this.batch||(this.batch=!0,this.batchStartDispatched=!1,this.stopEditing(void 0,cb))}stopBatchEditing(e){this.batch&&(e&&this.stopEditing(void 0,e),this.batchStartDispatched&&this.dispatchBatchStopped(new Map,!1),this.batch=!1,this.batchStartDispatched=!1)}ensureBatchStarted(){!this.batch||this.batchStartDispatched||(this.batchStartDispatched=!0,this.dispatchBatchEvent("batchEditingStarted",new Map))}createStrategy(e){const{beans:t,gos:n,strategy:i}=this,s=tk(n,e);if(i){if(i.beanName===s)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(s,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){const s=Vfe(this.beans,e,t,n,i);return s&&(this.strategy??(this.strategy=this.createStrategy())),s}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return Wce(this.beans)}isEditing(e,t){return this.model.hasEdits(e??void 0,t??ja)}isRowEditing(e,t){return!!e&&this.model.hasRowEdits(e,t)}enableRangeSelectionWhileEditing(){this.beans.rangeSvc&&this.gos.get("cellSelection")&&this.rangeSelectionWhileEditing++}disableRangeSelectionWhileEditing(){this.rangeSelectionWhileEditing=Math.max(0,this.rangeSelectionWhileEditing-1)}isRangeSelectionEnabledWhileEditing(){return this.rangeSelectionWhileEditing>0}startEditing(e,t){const{startedEdit:n=!0,event:i=null,source:s="ui",ignoreEventKey:o=!1,silent:r}=t;if(this.strategy??(this.strategy=this.createStrategy()),!(t.editable??this.isCellEditable(e,"api")))return;const u=Vt(this.beans,e);if(u&&!u.comp){t.editable=void 0,u.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const d=this.shouldStartEditing(e,i,n,s);if(d===!1&&s!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,s)&&!t.continueEditing&&this.stopEditing(void 0,{source:s}),d&&this.ensureBatchStarted(),this.strategy.start({position:e,event:i,source:s,ignoreEventKey:o,startedEdit:n,silent:r})}stopEditing(e,t){const n=this.prepareStopContext(e,t);if(!n)return!1;this.stopping=!0;let i=!1,{edits:s}=n;try{const o=this.processStopRequest(n);return i||(i=o.res),s=o.edits,this.finishStopEditing({...n,edits:s,params:t,position:e,res:i}),i}finally{this.rangeSelectionWhileEditing=0,this.stopping=!1}}prepareStopContext(e,t){const{event:n=null,cancel:i=!1,source:s="ui",forceCancel:o=!1,forceStop:r=!1,commit:l=!1}=t||{};if(qfe.has(s)&&this.batch)return this.bulkRefresh(e),null;const u=this.committing?QV[s]:s;if(!(this.committing||this.isEditing(e)||this.batch&&this.model.hasEdits(e,ja))||!this.strategy||this.stopping)return null;const f=Vt(this.beans,e);f&&(f.onEditorAttachedFuncs=[]);const g=!i&&(!!this.shouldStopEditing(e,n,u)||(this.committing||s==="paste")&&!this.batch)||r,m=i&&!!this.shouldCancelEditing(e,n,u)||o;return{cancel:i,cellCtrl:f,edits:this.model.getEditMap(!0),event:n??null,forceCancel:o,forceStop:r,commit:l,position:e,source:s,treatAsSource:u,willCancel:m,willStop:g}}processStopRequest(e){const{event:t,position:n,willCancel:i,willStop:s}=e;return s||i?this.handleStopOrCancel(e):this.shouldHandleMidBatchKey(t,n)?{res:!1,edits:this.handleMidBatchKey(t,n,e)}:(Jr(this.beans,{persist:!0}),this.batch&&this.strategy?.cleanupEditors(n),{res:!1,edits:this.model.getEditMap()})}handleStopOrCancel(e){const{beans:t,model:n}=this,{cancel:i,commit:s,edits:o,event:r,source:l,willCancel:u,willStop:d}=e,f=!this.batch||!u;Jr(t,{persist:f,isCancelling:u||i,isStopping:d});const g=n.getEditMap(),v=!u&&(!this.batch||s)?this.processEdits(g,l):[];i?this.strategy?.stopCancelled(e.forceCancel):this.strategy?.stopCommitted(r,s),this.clearValidationIfNoOpenEditors();for(const y of v)n.clearEditValue(y);this.bulkRefresh(void 0,o);for(const y of n.getEditPositions(g)){const S=Vt(t,y),R=zs(y);S?.refreshCell({force:!0,suppressFlash:!R})}return{res:d,edits:g}}shouldHandleMidBatchKey(e,t){return e instanceof KeyboardEvent&&this.batch&&!!this.strategy?.midBatchInputsAllowed(t)&&this.isEditing(t,{withOpenEditor:!0})}handleMidBatchKey(e,t,n){const{beans:i,model:s}=this,{cellCtrl:o,edits:r}=n,{key:l}=e,u=l===ee.ENTER,d=l===ee.ESCAPE,f=l===ee.TAB;if(u||f||d){if(u||f)Jr(i,{persist:!0});else if(d&&o){const{rowNode:g,column:m}=o;if(this.batch&&g&&m){const v={rowNode:g,column:m};nl(i,[v],{silent:!0}),this.model.stop(v,!0,!0),Vt(i,v)?.refreshCell(Sc)}else this.revertSingleCellEdit(o)}return this.batch?this.strategy?.cleanupEditors():nl(i,s.getEditPositions(),{event:e,cancel:d}),e.preventDefault(),this.bulkRefresh(t,r,{suppressFlash:!0}),s.getEditMap()}return r}finishStopEditing({cellCtrl:e,edits:t,params:n,position:i,res:s,commit:o,forceCancel:r,willCancel:l,willStop:u}){const d=this.beans;s&&i&&(!this.batch||o)&&this.model.removeEdits(i),this.navigateAfterEdit(n,e?.cellPosition),Pp(d),this.clearValidationIfNoOpenEditors(),this.bulkRefresh();const{rowRenderer:f,formula:g}=d;if(l&&f.refreshRows({rowNodes:Array.from(t.keys())}),this.batch){g?g.refreshFormulas(!0):f.refreshRows({suppressFlash:!0,force:!0});const m=u&&o;(m||l&&r)&&this.dispatchBatchStopped(t,m)}}dispatchBatchStopped(e,t){let n;t&&(n=Vce(e),n.size>0&&this.ensureBatchStarted()),this.batchStartDispatched&&(this.batchStartDispatched=!1,this.dispatchBatchEvent("batchEditingStopped",n??new Map))}clearValidationIfNoOpenEditors(){this.model.hasEdits(void 0,{withOpenEditor:!0})||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap())}navigateAfterEdit(e,t){if(!e||!t)return;const{event:n,suppressNavigateAfterEdit:i}=e;if(!(n instanceof KeyboardEvent)||i)return;const{key:o,shiftKey:r}=n,l=this.gos.get("enterNavigatesVerticallyAfterEdit");if(o!==ee.ENTER||!l)return;const u=r?ee.UP:ee.DOWN;this.beans.navigation?.navigateToNextCell(null,u,t,!1)}processEdits(e,t){const n=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const r=e.get(o);for(const l of r.keys()){const u=r.get(l),d={rowNode:o,column:l};if(zs(u)&&!i){const f=Vt(this.beans,d);this.setNodeDataValue(o,l,u.pendingValue,f,t)||s.push(d)}}}return s}setNodeDataValue(e,t,n,i,s="edit"){const o=Kfe.has(s)?"edit":s;i&&(i.suppressRefreshCell=!0),this.committing=!0;try{return e.setDataValue(t,n,o)}finally{this.committing=!1,i&&(i.suppressRefreshCell=!1)}}syncEditAfterCommit(e,t){const n=this.model.getEdit(e);n&&n.state!=="editing"&&(t?this.beans.editModelSvc?.setEdit(e,{sourceValue:this.valueSvc.getValue(e.column,e.rowNode,"data")}):this.model.clearEditValue(e))}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=Sc;t?.forceRefreshOfEditCellsOnly&&(n={...Zfe(e),...Sc}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:i,sourceValue:s}=n,{rowIndex:o,rowPinned:r,data:l}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:o,rowPinned:r,column:t,source:"api",data:l,newValue:i,oldValue:s,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:i,gos:s}=this,{editModelSvc:o,rowModel:r}=i;En(s)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&o?.getEditMap(!1)?.forEach((l,u)=>{for(const d of l.keys())this.refCell({rowNode:u,column:d},l.get(d),n)}))}refCell({rowNode:e,column:t},n,i={}){const{beans:s,gos:o}=this,r=new Set([e]),l=new Set,u=e.pinnedSibling;u&&r.add(u);const d=e.sibling;d&&l.add(d);let f=e.parent;for(;f;)f.sibling?.footer&&o.get("groupTotalRow")||!f.parent&&f.sibling&&o.get("grandTotalRow")?l.add(f.sibling):l.add(f),f=f.parent;for(const g of r)this.dispatchEditValuesChanged({rowNode:g,column:t},n);for(const g of r)Vt(s,{rowNode:g,column:t})?.refreshCell(i);for(const g of l)Vt(s,{rowNode:g,column:t})?.refreshCell(i)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{gos:n,beans:i}=this,s=e.rowNode,o=e.column.getColDef();if(s.group&&o.groupRowEditable==null){if(n.get("treeData")){if(!s.data&&!n.get("enableGroupEdit"))return!1}else if(!n.get("enableGroupEdit"))return!1}const r=tk(n)==="fullRow"?Bfe(i,e,t):HS(i,e);return r&&(this.strategy??(this.strategy=this.createStrategy())),r}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const i=Vt(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(i&&!i.hasBrowserFocus()&&i.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(i&&this.revertSingleCellEdit(i),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=Vt(this.beans,e);n?.comp?.getCellEditor()&&(nl(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),mu(this.beans,e,{silent:!0}),Sl(this.beans),n?.refreshCell(Sc),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Sl(this.beans);const t=Vt(this.beans,e);t&&(t.refreshCell(Sc),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let s;const o=this.isEditing(),r=o&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof ou&&o&&(s=this.strategy?.moveToNextEditingCell(e,t,n,i,r)),s===null||(s=s||!!this.beans.focusSvc.focusedHeader,s===!1&&!r&&this.stopEditing()),s}getPendingEditValue(e,t,n){if(n==="data"||n==="batch"&&!this.batch)return;const i=this.model.getEdit({rowNode:e,column:t},ja);if(!i||this.stopping&&!this.batch&&!i.editorState?.cellStartedEditing)return;if(n==="edit"){const o=i.editorValue;if(o!=null&&o!==Kn)return o}const s=i.pendingValue;if(s!==Kn)return s}getCellDataValue(e){const t=this.model.getEdit(e,ja);if(t){const n=t.pendingValue;if(n!==Kn)return n;const i=t.sourceValue;if(i!=null)return i}return this.valueSvc.getValue(e.column,e.rowNode,"data")}addStopEditingWhenGridLosesFocus(e){Lce(this,this.beans,e)}createPopupEditorWrapper(e){return new Nfe(e)}batchResetToSourceValue(e){if(!this.batch)return!1;const t=this.model.getEdit(e);if(!t)return!1;const{pendingValue:n,sourceValue:i,state:s}=t;return n===i||s==="editing"?!1:(this.dispatchEditValuesChanged(e,{...t,pendingValue:i}),this.beans.editModelSvc?.removeEdits(e),this.bulkRefresh(e),!0)}setDataValue(e,t,n){try{const i=this.batch,s=this.isEditing(i?void 0:e);if((!s||this.committing)&&!Yfe.has(n)||!s&&!i&&n==="paste")return;const o=this.beans;this.strategy??(this.strategy=this.createStrategy());let r;if(i?r="ui":this.committing?r=n??"api":r="api",!n||$fe.has(n))return this.applyDirectValue(e,t,n);const l=this.applyExistingEdit(e,t,n,r);return l!==void 0?l:(jd(o,e,t,n,void 0,{persist:!0}),this.ensureBatchStarted(),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0)}finally{this.committing=!1}}applyExistingEdit(e,t,n,i){const s=this.model.getEdit(e);if(s)return s.pendingValue===t?!1:s.sourceValue!==t?(jd(this.beans,e,t,n,void 0,{persist:!0}),this.ensureBatchStarted(),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0):(this.beans.editModelSvc?.removeEdits(e),this.ensureBatchStarted(),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0)}applyDirectValue(e,t,n){const i=this.beans;if(this.batch)return jd(i,e,t,n,void 0,{persist:!0}),this.cleanupEditors(),Pp(i),this.ensureBatchStarted(),this.bulkRefresh(),!0;jd(i,e,t,n,void 0,{persist:!0});const s=Vt(i,e),o=this.setNodeDataValue(e.rowNode,e.column,t,s,n);return this.syncEditAfterCommit(e,o),Vt(i,e)?.refreshCell(Sc),o}handleColDefChanged(e){Hce(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){const{model:n}=this;if(!this.batch||!n.hasRowEdits(e.rowNode,ja))return;const{rowNode:s}=e,{compDetails:o,valueToDisplay:r}=t;if(o){const{params:l}=o;return l.data=n.getEditRowDataValue(s,ja),{compDetails:o}}return{valueToDisplay:r}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return ze(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:i,rangeSvc:s,valueSvc:o}=this,{formula:r}=i;Jr(i,{persist:!0});const l=this.model.getEditMap(!0);let u=l.get(e)?.get(t)?.pendingValue,d=!1;this.batch||(this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),d=!0);const f=r?.isFormula(u)??!1;n.forEach(m=>{const v=m.columns.some(y=>y?.isAllowFormula());if(s?.forEachRowInRange(m,y=>{const S=lr(i,y);if(S===void 0)return;const R=l.get(S)??new Map;let x=u;for(const T of m.columns){if(!T)continue;const D=!!f&&T.isAllowFormula();if(this.isCellEditable({rowNode:S,column:T},"api")){const M=o.getValue(T,S,"data",!0);let F=o.parseValue(T,S??null,x,M);Number.isNaN(F)&&(F=null),R.set(T,{editorValue:void 0,pendingValue:F,sourceValue:M,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}D&&(x=r?.updateFormulaByOffset({value:x,columnDelta:1}))}R.size>0&&l.set(S,R),f&&v&&(u=r?.updateFormulaByOffset({value:u,rowDelta:1}))}),this.setEditMap(l),this.batch){this.cleanupEditors(),Pp(i),this.ensureBatchStarted(),this.bulkRefresh();return}this.committing=!0;try{this.stopEditing(void 0,{source:"bulk"})}finally{this.committing=!1,d&&this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(l)})}}),this.bulkRefresh();const g=Vt(i,{rowNode:e,column:t});g&&g.focusCell(!0)}createCellStyleFeature(e){return new Gfe(e,this.beans)}createRowStyleFeature(e){return new zfe(e,this.beans)}setEditingCells(e,t){const{beans:n}=this,{colModel:i,valueSvc:s}=n,o=new Map;for(let{colId:r,column:l,colKey:u,rowIndex:d,rowPinned:f,newValue:g,state:m}of e){const v=r?i.getCol(r):u?i.getCol(u):l;if(!v)continue;const y=lr(n,{rowIndex:d,rowPinned:f});if(!y)continue;const S=s.getValue(v,y,"data",!0);if(!t?.forceRefreshOfEditCellsOnly&&!zs({pendingValue:g,sourceValue:S})&&m!=="editing")continue;let R=o.get(y);R||(R=new Map,o.set(y,R)),g===void 0&&(g=Kn),R.set(v,{editorValue:void 0,pendingValue:g,sourceValue:S,state:m??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(o,t)}onCellFocused(e){const t=Vt(this.beans,e);if(!t||!this.isEditing(t,ja))return;const n=this.model.getEdit(t);if(!n||!zs(n))return;const s=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(s,"pendingChange")}allowedFocusTargetOnValidation(e){return Vt(this.beans,e)}};function Zfe(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function tk(e,t){return t??e.get("editType")??"singleCell"}var ZV=class extends ae{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:i,beans:s}=this,o=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=Vt(s,n));const{gos:r,editModelSvc:l}=s,u=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){const{column:d,rowIndex:f,rowPinned:g}=e,m={column:d,rowNode:lr(s,{rowIndex:f,rowPinned:g})},v=r.get("invalidEditValueMode")==="block";if(v)return;const y=!v,S=!!l?.getCellValidationModel().hasCellValidation(m),R=y&&S;!(n||u)||i.stopEditing(void 0,{cancel:R,source:u&&y?"api":void 0,event:o})||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stopCancelled(e){const t=this.editSvc.isBatchEditing()&&!e;for(const n of this.model.getEditPositions())Lh(this.beans,n,{cancel:!0},Vt(this.beans,n)),this.model.stop(n,t,!0);return!0}stopCommitted(e,t){const n=this.model.getEditPositions(),i={all:[],pass:[],fail:[]};for(const r of n)i.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0?i.fail.push(r):i.pass.push(r);const s=this.processValidationResults(i),o=this.editSvc.isBatchEditing()&&!t;for(const r of s.destroy)Lh(this.beans,r,{event:e},Vt(this.beans,r)),this.model.stop(r,o,!1);for(const r of s.keep){const l=Vt(this.beans,r);!this.editSvc.cellEditingInvalidCommitBlocks()&&l&&this.editSvc.revertSingleCellEdit(l)}return!0}cleanupEditors({rowNode:e}={},t){Jr(this.beans,{persist:!1});const n=this.model.getEditPositions(),i=[];if(e)for(const s of n)s.rowNode!==e&&i.push(s);else for(const s of n)i.push(s);nl(this.beans,i),Pp(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:i,position:s,cells:o=this.model.getEditPositions()}=e,r=t instanceof KeyboardEvent&&!n&&t.key||void 0;Nce(this.beans,o,s,r,t,i)}dispatchCellEvent(e,t,n,i){const s=Vt(this.beans,e);s&&this.eventSvc.dispatchEvent({...s.createEvent(t??null,n),...i})}dispatchRowEvent(e,t,n){if(n)return;const i=bm(this.beans,e);i&&this.eventSvc.dispatchEvent(i.createRowEvent(t))}shouldStop(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&(n==="ui"||n==="edit")?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===ee.ENTER:null}shouldCancel(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===ee.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((i,s)=>{i.forEach((o,r)=>{o.state==="editing"&&n.push({...o,rowNode:s,column:r})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const i=n.at(-1),s=i.pendingValue===Kn?void 0:i.pendingValue;this.start({position:i,event:new KeyboardEvent("keydown",{key:s}),source:"api"});const o=Vt(this.beans,i);o&&this.setFocusInOnEditor(o)}}destroy(){this.cleanupEditors(),super.destroy()}},Jfe=class extends ZV{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,n="ui"){const{rowNode:i}=e||{};if(!bm(this.beans,{rowNode:this.rowNode}))return!0;const o=super.shouldStop({rowNode:this.rowNode},t,n);return o!==null?o:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:i,event:s,ignoreEventKey:o}=e,{rowNode:r}=t;this.rowNode!==r&&super.cleanupEditors(t);const l=this.beans.visibleCols.allCols,u=[],d=[];for(const f of l)f.isCellEditable(r)&&d.push(f);if(d.length!=0){this.dispatchRowEvent({rowNode:r},"rowEditingStarted",n),this.startedRows.push(r);for(const f of d){const g={rowNode:r,column:f};u.push(g),this.model.hasEdits(g)||this.model.start(g)}this.rowNode=r,this.setupEditors({cells:u,position:t,startedEdit:i,event:s,ignoreEventKey:o})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stopCancelled(e){const{rowNode:t}=this;return t&&!this.model.hasRowEdits(t)?!1:(super.stopCancelled(e),this.cleanupEditors({rowNode:t},!0),this.rowNode=void 0,!0)}stopCommitted(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const i=[];if(this.model.getEditMap().forEach((s,o)=>{if(!(!s||s.size===0)){for(const r of s.values())if(zs(r)){i.push(o);break}}}),Sl(this.beans),this.editSvc.checkNavWithValidation({rowNode:n})==="block-stop")return!1;if(super.stopCommitted(e,t),t||!this.editSvc.isBatchEditing())for(const s of i)this.dispatchRowEvent({rowNode:s},"rowValueChanged");return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent||this.beans.editSvc?.isRangeSelectionEnabledWhileEditing())return;const i=Vt(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&i&&(this.model.getCellValidationModel().getCellValidation(i)||this.model.getRowValidationModel().getRowValidation(i))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const n of this.startedRows)this.dispatchRowEvent({rowNode:n},"rowEditingStopped"),this.destroyEditorsForRow(n);this.startedRows.length=0}destroyEditorsForRow(e){const t=bm(this.beans,{rowNode:e});if(!t)return;const n={};for(const i of t.getAllCellCtrls())i.comp?.getCellEditor()&&Lh(this.beans,i,n,i)}moveToNextEditingCell(e,t,n,i="ui",s=!1){const o=e.cellPosition;let r;this.model.suspend(!0);try{r=this.beans.navigation?.findNextCellToFocusOn(o,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(r===!1)return null;if(r==null)return!1;const l=r.cellPosition,u=e.isCellEditable(),d=r.isCellEditable(),f=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;u&&this.setFocusOutOnEditor(e),this.restoreEditors();const g=this.gos.get("suppressStartEditOnTab");return d&&!s?g?r.focusCell(!0,n):(r.comp?.getCellEditor()||mu(this.beans,r,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(r),r.focusCell(!1,n)):(d&&s&&this.setFocusInOnEditor(r),r.focusCell(!0,n)),!f&&!s&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n,forceStop:!0}),this.editSvc?.isRowEditing(e.rowNode,{withOpenEditor:!0})&&this.cleanupEditors(r,!0),g?r.focusCell(!0,n):this.editSvc.startEditing(r,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0,editable:d||void 0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},i)=>{if(n!=="editing")return;const s=Vt(this.beans,{rowNode:t,column:i});s&&!s.comp?.getCellEditor()&&mu(this.beans,s,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},ege=class extends ZV{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const i=super.shouldStop(e,t,n);if(i!==null)return i;const s=e?.rowNode,o=e?.column,r=this.rowNode,l=this.column;return(!r||!l)&&s&&o?null:r!==s||l!==o?!0:!r&&!l?this.model.hasEdits(void 0,{withOpenEditor:!0}):!1}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:i,ignoreEventKey:s}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:i,ignoreEventKey:s})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stopCancelled(e){return super.stopCancelled(e),this.clearPosition()}stopCommitted(e,t){return super.stopCommitted(e,t),this.clearPosition()}clearPosition(){return this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:s,rowPinned:o}=e,r=lr(this.beans,{rowIndex:i,rowPinned:o}),l=kS(s),u=t.getCol(l),d=e.previousParams;if(d){const f=kS(d.column);if(d?.rowIndex===i&&f===l&&d?.rowPinned===o)return}e.type=="cellFocused"&&(n?.isRangeSelectionEnabledWhileEditing()||n?.isEditing({rowNode:r,column:u},{withOpenEditor:!0}))||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui",s=!1){const o=this.beans.focusSvc.getFocusedCell();o&&(e=Vc(this.beans,o)??e);const r=e.cellPosition;let l;const u=this.beans.gos.get("editType")==="fullRow";u&&this.model.suspend(!0),s||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{l=this.beans.navigation?.findNextCellToFocusOn(r,{backwards:t,startEditing:!0})}finally{u&&this.model.suspend(!1)}if(l===!1)return null;if(l==null)return!1;const d=l.cellPosition,f=e.isCellEditable(),g=l.isCellEditable(),m=d&&r.rowIndex===d.rowIndex&&r.rowPinned===d.rowPinned;f&&!s&&this.setFocusOutOnEditor(e);const v=this.gos.get("suppressStartEditOnTab");if(!m&&!s&&(super.cleanupEditors(l,!0),v?l.focusCell(!0,n):this.editSvc.startEditing(l,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0,editable:g})),g&&!s){if(l.focusCell(!1,n),v)l.focusCell(!0,n);else if(!l.comp?.getCellEditor()){const y=this.editSvc?.isEditing(l,{withOpenEditor:!0});mu(this.beans,l,{event:n,cellStartedEdit:!0,silent:y}),this.setFocusInOnEditor(l),this.cleanupEditors(l)}}else g&&s&&this.setFocusInOnEditor(l),l.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},va={moduleName:"EditCore",version:we,beans:[Oce,Qfe],apiFunctions:{getEditingCells:Afe,getEditRowValues:Pfe,getCellEditorInstances:_ce,startEditingCell:kfe,stopEditing:Ffe,isEditing:Mfe,validateEdit:Ife},dynamicBeans:{singleCell:ege,fullRow:Jfe},dependsOn:[gv,WV],css:[qhe]},tge={moduleName:"UndoRedoEdit",version:we,beans:[Khe],apiFunctions:{undoCellEditing:Tfe,redoCellEditing:Dfe,getCurrentUndoSize:Ofe,getCurrentRedoSize:Lfe},dependsOn:[va]},nge={moduleName:"TextEditor",version:we,userComponents:{agCellEditor:ek,agTextCellEditor:ek},dependsOn:[va]},ige={moduleName:"NumberEditor",version:we,userComponents:{agNumberCellEditor:{classImp:dfe}},dependsOn:[va]},sge={moduleName:"DateEditor",version:we,userComponents:{agDateCellEditor:efe,agDateStringCellEditor:ife},dependsOn:[va]},oge={moduleName:"CheckboxEditor",version:we,userComponents:{agCheckboxCellEditor:Xhe},dependsOn:[va]},rge={moduleName:"SelectEditor",version:we,userComponents:{agSelectCellEditor:Rfe},dependsOn:[va]},age={moduleName:"LargeTextEditor",version:we,userComponents:{agLargeTextCellEditor:afe},dependsOn:[va]},lge={moduleName:"CustomEditor",version:we,dependsOn:[va]},JV={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agBigIntColumnFilter:"agBigIntColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},cge=new Set(Object.values(JV));function zr(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const i=n.create(n.refreshed),s=n;return s.created=!0,s.promise=i,i}function uge(e,t,n,i,s,o,r){return t.refresh?.({...n,model:i,source:o,additionalEventAttributes:r}),e().then(l=>{if(l){const{filter:u,filterParams:d}=l;e5(u,d,i,s,o,r)}})}function e5(e,t,n,i,s,o){e?.refresh?.({...t,model:n,state:i,source:s,additionalEventAttributes:o})}function t5(e,t,n,i){const s=e();s?.created&&s.promise.then(o=>{const r=t();e5(o,s.filterParams,r,n()??{model:r},"ui",i)})}function nk(e){let t,n=!1,i;const{action:s,filterParams:o,getFilterUi:r,getModel:l,getState:u,updateState:d,updateModel:f,processModelToApply:g}=e;switch(s){case"apply":{const m=u();i=m?.model??null,g&&(i=g(i)),t={state:m?.state,model:i},n=!0;break}case"clear":{t={model:null},o?.buttons?.includes("apply")||(n=!0,i=null);break}case"reset":{t={model:null},n=!0,i=null;break}case"cancel":{t={model:l()};break}}d(t),n?f(i):t5(r,l,u,{fromAction:s})}function Wn(e,t){return e[t]??null}var dge=class extends WR{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,i,s){this.comp=e;const o=of(this,this.beans.context,s);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o);const r=()=>this.onColDefChanged(o);o.addManagedListeners(this.column,{colDefChanged:r}),o.addManagedEventListeners({filterSwitched:({column:l})=>{l===this.column&&r()}}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return ze(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Ii("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new nf(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();du(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(nn(t)===this.eGui)return;const s=Ml(t,this.eGui,null,e.shiftKey);if(s){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ee.UP:case ee.DOWN:case ee.LEFT:case ee.RIGHT:if(t)return;wl(e);case ee.ENTER:t&&Cl(this.eGui)&&e.preventDefault();break;case ee.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&sl(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const s=this.lastFocusEvent,o=!!(s&&s.key===ee.TAB);if(s&&o){const r=s.shiftKey;Cl(this.eGui,r)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new UR(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Yi(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:i}=this,s=o=>{if(o?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const r=this.comp.getFloatingFilterComp();r&&r.then(l=>{if(l){if(i.get("enableFilterHandlers")){const f=o;let g="filter";f?.afterFloatingFilter?g="ui":f?.afterDataChange?g="dataChanged":o?.source==="api"&&(g="api"),this.updateFloatingFilterParams(this.userCompDetails,g);return}const u=t?.getCurrentFloatingFilterParentModel(n),d=o?{...o,columns:o.columns??[],source:o.source==="api"?"api":"columnFilter"}:null;l.onParentModelChanged(u,d)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:s}),t?.isFilterActive(n)&&s(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.beans.colFilter,s=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,o=this.comp.getFloatingFilterComp();!o||!s?this.updateCompDetails(e,s,n):o.then(r=>{!r||i?.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,n):this.updateFloatingFilterParams(s,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Wn(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function hge(e,t){const n=e.colModel.getCol(t);if(!n){Lt(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function fge(e){e.menuSvc?.hidePopupMenu()}var gge=class extends ae{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(sk(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){sk(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Yi(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&aa(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(ll()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Yi(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Yi(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Yi(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:s,onClosedCallback:o}=t,r=t.column;if(s==="button"){const{buttonElement:l}=t;e?.showMenuAfterButtonClick(r,l,n,o,i)}else if(s==="mouse"){const{mouseEvent:l}=t;e?.showMenuAfterMouseEvent(r,l,n,o,i)}else if(r){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(r,"auto"),fr(l,()=>{const d=u.getHeaderRowContainerCtrl(r.getPinned())?.getHeaderCtrlForColumn(r);d&&e?.showMenuAfterButtonClick(r,d.getAnchorElementForMenu(i),n,o,i)})}}};function ik(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function sk(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:i}=e;return t&&Yi(i)?t:n}var pge={moduleName:"SharedMenu",version:we,beans:[gge],apiFunctions:{showColumnMenu:hge,hidePopupMenu:fge}},mge=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;:where(.ag-set-filter-group-closed-icon),:where(.ag-set-filter-group-indeterminate-icon),:where(.ag-set-filter-group-opened-icon){cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper{min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>:where(.ag-date-floating-filter-wrapper),>:where(.ag-floating-filter-input),>:where(.ag-input-field){flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(.ag-input-field-input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:var(--ag-widget-container-vertical-padding);:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function vge(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function Cge(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function wge(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function yge(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function bge(e){return e.filterManager?.getFilterModel()??{}}function Sge(e,t,n){const{gos:i,colModel:s,colFilter:o}=e;n&&!i.get("enableFilterHandlers")&&(fe(288),n=!1);const r=s.getColDefCol(t);return r?o?.getModelForColumn(r,n)??null:null}function Rge(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function xge(e,t){const n=e.colModel.getCol(t);if(!n){Lt(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function Ege(e){e.menuSvc?.hideFilterMenu()}function Tge(e,t){const n=e.colModel.getCol(t);if(!n){Lt(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function Dge(e,t){const{colModel:n,colFilter:i,gos:s}=e;if(!s.get("enableFilterHandlers")){fe(287);return}const{colId:o,action:r}=t;if(o){const l=n.getColById(o);l&&i?.updateModel(l,r)}else i?.updateAllModels(r)}var ok={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},rk=["january","february","march","april","may","june","july","august","september","october","november","december"];function Pge(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function Age(e,t){if(e==null)return-1;if(t==null)return 1;const n=_i(e),i=_i(t);return n!=null&&i!=null?n===i?0:n>i?1:-1:String(e).localeCompare(String(t))}function ak(e){return e instanceof Date&&!isNaN(e.getTime())}var BS={number:()=>{},bigint:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:ak}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&ak(e.dateParser(t))}),dateTime:e=>BS.date(e),dateTimeString:e=>BS.dateString(e),object:()=>{},text:()=>{}},GS={number:()=>({comparator:Pge}),bigint:()=>({comparator:Age}),boolean:({t:e})=>({valueFormatter:t=>be(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return be(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){const s=rk[Number(n)-1];return t(s,ok[s])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>Zg(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{const s=e(i);return be(s)?s:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>Zg(t.dateParser(i??void 0),!1),treeListFormatter:(i,s)=>{if(s===1&&i!=null){const o=rk[Number(i)-1];return n(o,ok[o])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{const t=GS.date(e);return t.treeListPathGetter=Zg,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=GS.dateString(e);return n.treeListPathGetter=i=>Zg(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return be(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function Fge(e,t,n,i,s,o,r){let l=t,u=n;const d=e==="agSetColumnFilter";!u&&i.baseDataType==="object"&&!d&&(u=({column:v,node:y})=>s({column:v,node:y,value:o.valueSvc.getValue(v,y,"data")}));const g=(d?GS:BS)[i.baseDataType],m=g({dataTypeDefinition:i,formatValue:s,t:r});return l=typeof t=="object"?{...m,...t}:m,{filterParams:l,filterValueGetter:u}}var Mge={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",bigint:"agBigIntColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},kge={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",bigint:"agBigIntColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Ige(e,t=!1){return(t?kge:Mge)[e??"text"]}function Oge(e,t,n){if(t==null)return null;let i=null;const{compName:s,jsComp:o,fwComp:r}=S3(e,t);return s?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agBigIntColumnFilter:"agBigIntColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:o==null&&r==null&&t.filter===!0&&(i=n()),i}var Lge={filterHandler:()=>({doesFilterPass:()=>!0})};function lk(e,t,n,i){if(!e.isPrimary())return!0;const o=!n;return!e.isValueActive()||!o?!1:t?!0:i}var _ge=class extends ae{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...JV},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.addManagedPropertyListener("pivotMode",this.onPivotModeChanged.bind(this));const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",n){const{colModel:i,dataTypeSvc:s,filterManager:o}=this.beans;if(s?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const r=[],l=this.getModel(!0);if(e){const u=new Set(Object.keys(e));this.allColumnFilters.forEach((d,f)=>{const g=e[f];r.push(this.setModelOnFilterWrapper(d,g)),u.delete(f)}),u.forEach(d=>{const f=i.getColDefCol(d)||i.getCol(d);if(!f){fe(62,{colId:d});return}if(!f.isFilterAllowed()){fe(63,{colId:d});return}const g=this.getOrCreateFilterWrapper(f,!0);if(!g){fe(64,{colId:d});return}r.push(this.setModelOnFilterWrapper(g,e[d],!0))})}else this.model={},this.allColumnFilters.forEach(u=>{r.push(this.setModelOnFilterWrapper(u,null))});pt.all(r).then(()=>{const u=this.getModel(!0),d=[];this.allColumnFilters.forEach((f,g)=>{const m=l?l[g]:null,v=u?u[g]:null;Eh(m,v)||d.push(f.column)}),d.length>0?o?.onFilterChanged({columns:d,source:t}):n&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:n,initialModel:i,beans:{colModel:s}}=this;if(n.forEach((o,r)=>{const l=this.getModelFromFilterWrapper(o);be(l)&&(t[r]=l)}),!e)for(const o of Object.keys(i)){const r=i[o];be(r)&&!n.has(o)&&s.getCol(o)?.isFilterAllowed()&&(t[o]=r)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const i of Object.keys(t)){const s=t[i];this.state.set(i,{model:Wn(this.model,i),state:s})}this.setModel(e,n,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((i,s)=>{const o=i.state;o!=null&&(n=!0,t[s]=o)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Wn(this.model,n);const i=e.filter;return i?typeof i.getModel!="function"?(fe(66),null):i.getModel():Wn(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(fe(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!rm(n),s=[],o=[],r=(u,d,f)=>{d&&(lk(u,t.isPivotMode(),t.isPivotActive(),i)?s.push(f):o.push(f))},l=[];return this.allColumnFilters.forEach(u=>{const d=u.column,f=d.getColId();if(u.isHandler)l.push(pt.resolve().then(()=>{r(d,this.isHandlerActive(d),{colId:f,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const g=zr(u);g&&l.push(g.then(m=>{r(d,e(m),{colId:f,isHandler:!1,comp:m})}))}}),pt.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(i=>{const s=i.column;if(i.isHandler)n.push(pt.resolve().then(()=>{this.setColFilterActive(s,this.isHandlerActive(s),e,t)}));else{const o=zr(i);o&&n.push(o.then(r=>{this.setColFilterActive(s,r.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),pt.all(n)}doFiltersPass(e,t,n){const{data:i,aggData:s}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,r=n?s:i,l=this.model;for(let u=0;u<o.length;u++){const d=o[u],{colId:f,isHandler:g}=d;if(f!==t)if(g){const{handler:m,handlerParams:v}=d;if(!m.doesFilterPass({node:e,data:r,model:Wn(l,f),handlerParams:v}))return!1}else{const m=d.comp;if(typeof m.doesFilterPass!="function"){Lt(91);continue}if(!m.doesFilterPass({node:e,data:r}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(s=>{const{column:o,isHandler:r}=s;i!==o.getColId()&&(r&&s.handler.onAnyFilterChanged?.(),zr(s,r)?.then(l=>{typeof l?.onAnyFilterChanged=="function"&&l.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();const s=zr(n,i);s&&t.push(s.then(o=>{o.onNewRowsLoaded?.()}))}),pt.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:i}=this.beans;return(s,o)=>{const r=o?i.getCol(o):e;return r?n.getValue(r,s,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Wn(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=be(Wn(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?zr(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=zr(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return Tte(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Ige(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,s,o){const r=()=>{const d=this.createFilterCompParams(e,s,o),f=i(d,s);return Une(this.beans.userCompFactory,t,f,n)},l=r();return l?{compDetails:l,createFilterUi:d=>(d?r():l).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){const s=this.beans.selectableFilter;s?.isSelectable(t)&&(t=s.getFilterDef(e,t));const{handler:o,handlerParams:r,handlerGenerator:l}=this.createHandler(e,t,n)??{},u=this.createFilterComp(e,t,n,i,!!o,"init");if(!u)return{compDetails:null,createFilterUi:null,handler:o,handlerGenerator:l,handlerParams:r};const{compDetails:d,createFilterUi:f}=u;return this.isGlobalButtons&&(d.params?.buttons?.length||fe(281,{colId:e.getColId()})),{compDetails:d,handler:o,handlerGenerator:l,handlerParams:r,createFilterUi:f}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:i}=this.beans;return ze(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:s=>n?.doesRowPassOtherFilters(e.getColId(),s)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){const s=this.filterChangedCallbackFactory(e),o=this.createBaseFilterParams(e,i);if(o.filterChangedCallback=s,o.filterModifiedCallback=i?()=>{}:r=>this.filterModified(e,r),t){const r=o,l=e.getColId(),u=Wn(this.model,l);r.model=u,r.state=this.state.get(l)??{model:u},r.onModelChange=(d,f)=>{this.updateStoredModel(l,d),this.refreshHandlerAndUi(e,d,"ui",!1,f).then(()=>{s({...f,source:"columnFilter"})})},r.onStateChange=d=>{this.updateState(e,d),this.updateOrRefreshFilterUi(e)},r.onAction=(d,f,g)=>{this.updateModel(e,d,f),this.dispatchLocalEvent({type:"filterAction",column:e,action:d,event:g})},r.getHandler=()=>this.getHandler(e,!0),r.onUiChange=d=>this.filterUiChanged(e,d),r.source=n}return o}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const i=t(),s={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),s}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:i,handlerParams:s,createFilterUi:o}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),l=>l),r=e.getColId();if(n)return delete this.initialModel[r],n.init?.({...s,source:"init",model:Wn(this.model,r)}),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:s,filterUi:this.createFilterUiForHandler(t,o)};if(o){const l={column:e,filterUi:null,isHandler:!1};return l.filterUi=this.createFilterUiLegacy(t,o,u=>{l.filter=u??void 0}),l}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){const{gos:i,frameworkOverrides:s,registry:o}=this.beans;let r;const l=v=>{const y=v.filter;if(w3(y)){const S=y.handler;return S||(r=y.doesFilterPass,r?()=>({doesFilterPass:r}):void 0)}return typeof y=="string"?y:void 0},u=i.get("enableFilterHandlers"),d=u?l(t):void 0,f=v=>()=>this.createBean(o.createDynamicBean(v,!0));let g,m;if(typeof d=="string"){const v=i.get("filterHandlers")?.[d];v!=null?g=v:cge.has(d)&&(g=f(d),m=d)}else g=d;if(!g){let v;const{compName:y,jsComp:S,fwComp:R}=S3(s,t);y?v=y:S==null&&R==null&&t.filter===!0&&(v=n),m=this.handlerMap[v],m&&(g=f(m))}return g?{filterHandler:g,handlerNameOrCallback:r??m}:u?(En(i)&&fe(277,{colId:e.getColId()}),Lge):void 0}createHandler(e,t,n){const i=this.createHandlerFunc(e,t,n);if(!i)return;const s=Iy(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:o,filterHandler:r}=i,{handler:l,handlerParams:u}=this.createHandlerFromFunc(e,r,s);return{handler:l,handlerParams:u,handlerGenerator:o??r}}createHandlerFromFunc(e,t,n){const i=e.getColDef(),s=t(ze(this.gos,{column:e,colDef:i})),o=this.createHandlerParams(e,n);return{handler:s,handlerParams:o}}createHandlerParams(e,t){const n=e.getColDef(),i=e.getColId(),s=this.filterChangedCallbackFactory(e);return ze(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:o=>this.beans.filterManager?.doesRowPassOtherFilters(i,o)??!0,onModelChange:(o,r)=>{this.updateStoredModel(i,o),this.refreshHandlerAndUi(e,o,"handler",!1,r).then(()=>{s({...r,source:"columnFilter"})})},onModelAsStringChange:()=>{e.dispatchColEvent("filterChanged","filterChanged"),this.dispatchLocalEvent({type:"filterModelAsStringChanged",column:e})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((o,r)=>{let l;o.column.isPrimary()?l=t.getColDefCol(r):l=t.getCol(r),!(l&&l===o.column)&&(e.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(r))});const s=i&&e.every(o=>i.isGroupFilter(o));e.length>0&&!s&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:i,selectableFilter:s,gos:o}=this.beans,r=v=>{this.getOrCreateFilterUi(e)?.then(S=>{v(bl(S))})},l=e.getColDef(),u=s?.isSelectable(l)?s.getFilterDef(e,l):l,d=Oge(i,u,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",f=o.get("enableFilterHandlers"),g=Iy(n,u,this.createFilterCompParams(e,f,"init",!0)),m=ze(o,{column:e,filterParams:g,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t});if(f){const v=m,y=e.getColId(),S=this.filterChangedCallbackFactory(e);v.onUiChange=R=>this.floatingFilterUiChanged(e,R),v.model=Wn(this.model,y),v.onModelChange=(R,x)=>{this.updateStoredModel(y,R),this.refreshHandlerAndUi(e,R,"floating",!0,x).then(()=>{S({...x,source:"columnFilter"})})},v.getHandler=()=>this.getHandler(e,!0),v.source="init"}return Kne(n,l,m,d)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){const s="paramsUpdated";if(e.isHandler){const o=t.getColId();delete this.initialModel[o],this.state.delete(o);const r=e.filterUi,l=this.createFilterUiForHandler(n,i);e.filterUi=l;const u=this.eventSvc;r?.created?r.promise.then(d=>{this.destroyBean(d),u.dispatchEvent({type:"filterDestroyed",source:s,column:t})}):u.dispatchEvent({type:"filterHandlerDestroyed",source:s,column:t})}else this.destroyFilter(t,s)}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(s=>{s&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:i,isHandler:s,filterUi:o}=e,r=i.getColId();s&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[r],this.state.delete(r));const l=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(r),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(o){if(o.created)return o.promise.then(u=>(n=s?n:!!u?.isFilterActive(),this.destroyBean(u),l(),n));l()}return pt.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const i=this.beans,s=n.column,o=s.getColDef(),r=s.isFilterAllowed(),l=this.getDefaultFilter(s),u=i.selectableFilter,d=u?.isSelectable(o)?u.getFilterDef(s,o):o,f=r?this.createHandlerFunc(s,d,this.getDefaultFilter(s)):void 0,g=!!f,m=n.isHandler;if(m!=g){this.destroyFilter(s,"paramsUpdated");return}const{compDetails:v,createFilterUi:y}=(r?this.createFilterComp(s,d,l,R=>R,g,"colDef"):null)??{compDetails:null,createFilterUi:null},S=v?.params??Iy(i.userCompFactory,d,this.createFilterCompParams(s,g,"colDef"));if(m){const R=f?.handlerNameOrCallback??f?.filterHandler,x=Wn(this.model,e);if(n.handlerGenerator!=R){const T=n.handler,{handler:D,handlerParams:M}=this.createHandlerFromFunc(s,f.filterHandler,S);n.handler=D,n.handlerParams=M,n.handlerGenerator=R,delete this.model[e],D.init?.({...M,source:"init",model:null}),this.destroyBean(T),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[s],source:t})}else{const T=this.createHandlerParams(s,v?.params);n.handlerParams=T,n.handler.refresh?.({...T,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,v)||!n.filterUi||!v){this.destroyFilterUi(n,s,v,y);return}n.filterUi.filterParams=S,zr(n,m)?.then(R=>{(R?.refresh?R.refresh(S):!0)===!1?this.destroyFilterUi(n,s,v,y):this.dispatchLocalEvent({type:"filterParamsChanged",column:s,params:S})})}refreshHandlerAndUi(e,t,n,i,s){const o=this.cachedFilter(e);if(!o)return i&&this.getOrCreateFilterWrapper(e,!0),pt.resolve();if(!o.isHandler)return pt.resolve();const{filterUi:r,handler:l,handlerParams:u}=o;return uge(()=>{if(r){const{created:d,filterParams:f}=r;if(d)return r.promise.then(g=>g?{filter:g,filterParams:f}:void 0);r.refreshed=!0}return pt.resolve(void 0)},l,u,t,this.state.get(e.getColId())??{model:t},n,s)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(s=>{i(bl(s))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:i,model:s}=this,o=e.getColId(),r=i.get(o);return r?r.model??null:Wn(s,o)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const i=new Promise(s=>{n=s});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:Wn(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):pt.resolve()}setColDefPropsForDataType(e,t,n){const i=e.filter,s=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof s!="string")return;let o,r;const l=this.beans,{filterParams:u,filterValueGetter:d}=e;s==="agMultiColumnFilter"?{filterParams:o,filterValueGetter:r}=l.multiFilter?.getParamsForDataType(u,d,t,n)??{}:{filterParams:o,filterValueGetter:r}=Fge(s,u,d,t,n,l,this.getLocaleTextFunc()),e.filterParams=o,r&&(e.filterValueGetter=r)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new pt(i=>{if(e.isHandler){const o=e.column,r=o.getColId(),l=this.model[r];if(this.updateStoredModel(r,t),n&&t===l){i();return}this.refreshHandlerAndUi(o,t,"api").then(()=>i());return}const s=zr(e);if(s){s.then(o=>{if(typeof o?.setModel!="function"){fe(65),i();return}(o.setModel(t)||pt.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){be(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const i=e.getColId(),s=this.cachedFilter(e),o=()=>s?.filterUi;nk({action:t,filterParams:s?.filterUi?.filterParams,getFilterUi:o,getModel:()=>Wn(this.model,i),getState:()=>this.state.get(i),updateState:r=>this.updateState(e,r),updateModel:r=>o()?.filterParams?.onModelChange(r,{...n,fromAction:t}),processModelToApply:s?.isHandler?s.handler.processModelToApply?.bind(s.handler):void 0})}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((i,s)=>{const o=this.beans.colModel.getColDefCol(s);o&&nk({action:e,filterParams:i.filterUi?.filterParams,getFilterUi:()=>i.filterUi,getModel:()=>Wn(this.model,s),getState:()=>this.state.get(s),updateState:r=>this.updateState(o,r),updateModel:r=>{this.updateStoredModel(s,r),this.dispatchLocalEvent({type:"filterAction",column:o,action:e}),n.push(this.refreshHandlerAndUi(o,r,"ui"))},processModelToApply:i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0})}),n.length&&pt.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();t5(()=>this.cachedFilter(e)?.filterUi,()=>Wn(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const s of n)if(s.source==="COLUMN_MENU")return!1;let i=!1;for(const s of e.keys()){const o=e.get(s);if(o.valid===!1)return!1;(o.model??null)!==Wn(t,s)&&(i=!0)}return i}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Wn(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}onPivotModeChanged(e){const{colModel:t,pivotColsSvc:n}=this.beans,i=!!rm(this.gos),s=e.currentValue,o=s?this.activeColumnFilters:this.activeAggregateFilters,r=s?this.activeAggregateFilters:this.activeColumnFilters,l=[];for(const u of o){const d=t.getColById(u.colId),f=s&&!!n?.columns.length;d&&s===lk(d,s,f,i)&&(r.push(u),l.push(u))}dee(o,l)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function Nge(e){return!!e.filterManager?.isAnyFilterPresent()}function Vge(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var Hge=class extends ae{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){rm(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):pt.resolve()).then(()=>{const s={source:t,type:"filterChanged",columns:i};n&&pi(s,n),this.eventSvc.dispatchEvent(s),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!rm(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){fe(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},Bge=class extends ae{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,s=>{this.popupSvc?.positionPopupUnderMouseEvent({additionalParams:{column:e},type:n,mouseEvent:t,ePopup:s})},n,t.target,Yi(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let s=-1,o="left";const r=Yi(this.gos);!r&&this.gos.get("enableRtl")&&(s=1,o="right");const l=r?void 0:4*s,u=r?void 0:4;this.showPopup(e,d=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:l,nudgeY:u,alignSide:o,keepWithinBounds:!0,position:"under",additionalParams:{column:e}})},n,t,r,i)}showPopup(e,t,n,i,s,o){const r=e?this.createBean(new tie(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!r?.hasFilter()||!e){Lt(57);return}const l=Qi({tag:"div",cls:`ag-menu${s?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:S=>this.trapFocusWithin(S,l)}),l.appendChild(r?.getGui());let u;const d=()=>r?.afterGuiDetached(),f=Dte(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,g=S=>{ik(e,!1,"contextMenu");const R=S instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),R&&i&&qs(i)&&F3(i)?.focus({preventScroll:!0}),d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),o?.()},m=this.getLocaleTextFunc(),v=s&&n!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),y=this.popupSvc?.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:g,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:v});y&&(this.hidePopup=u=y.hideFunc),r.afterInit().then(()=>{t(l),r.afterGuiAttached({container:n,hidePopup:u})}),ik(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==ee.TAB||e.defaultPrevented||Ml(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Cl(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},Gge=class extends ae{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const i=e.getColDef(),{selectableFilter:s,valueSvc:o,formula:r}=this.beans,l=n??s?.getFilterValueGetter(e.getColId())??i.filterValueGetter;if(l)return this.executeFilterValueGetter(l,t.data,e,t,i);const u=o.getValue(e,t,"data");return e.isAllowFormula()&&r?.isFormula(u)?r.resolveValue(e,t):u}executeFilterValueGetter(e,t,n,i,s){const{expressionSvc:o,valueSvc:r}=this.beans,l=ze(this.gos,{data:t,node:i,column:n,colDef:s,getValue:r.getValueCallback.bind(r,i)});return typeof e=="function"?e(l):o?.evaluate(e,l)}},zge={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},jge=class extends wn{constructor(){super(zge,[pv]),this.eFloatingFilterText=Te}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,i=n.getHandler();if(i.getModelAsString){const s=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(s)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},Uge=class extends KR{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},ux=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const n=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(o=>t[o]!=null)?!0:(fe(72,{keys:s}),!1);if(!n.every(i)){this.filterOptions=e.filter(s=>s===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;fe(73)}else fe(74)}getCustomOption(e){return this.customFilterOptions[e]}};function oh(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function Em(e){return e==null||typeof e=="string"&&e.trim().length===0}function Wge(e){return e==="AND"||e==="OR"?e:"AND"}function $ge(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(s=>s==null))return i(t,n)}function Kge(e,t){let n=e.length;return n>t&&(e.splice(t),fe(78),n=t),n}var qge=new Set(["empty","notBlank","blank","today","yesterday","tomorrow","thisWeek","lastWeek","nextWeek","thisMonth","lastMonth","nextMonth","thisQuarter","lastQuarter","nextQuarter","thisYear","lastYear","nextYear","yearToDate","last7Days","last30Days","last90Days","last6Months","last12Months","last24Months"]);function Rl(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&qge.has(e)?0:e==="inRange"?2:1}var vv=class extends uie{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new ux;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=Wge(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions(),ki(this.getGui(),"tabindex",this.isReadOnly()?"-1":null)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let o;if(n){const r=e,l=t;o=this.areSimpleModelsEqual(r,l)}else{const r=e,l=t;o=r.operator===l.operator&&fa(r.conditions,l.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return o}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),pt.resolve();if(e.operator){const i=e;let s=i.conditions;s==null&&(s=[],fe(77));const o=Kge(s,this.maxNumConditions),r=this.getNumConditions();if(o<r)this.removeConditionsAndOperators(o);else if(o>r)for(let u=r;u<o;u++)this.createJoinOperatorPanel(),this.createOption();const l=i.operator==="OR";this.eJoinAnds.forEach(u=>u.setValue(!l,!0)),this.eJoinOrs.forEach(u=>u.setValue(l,!0)),s.forEach((u,d)=>{this.eTypes[d].setValue(u.type,!0),this.setConditionIntoUi(u,d)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),pt.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(fe(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(fe(80),n=1),n>t&&(fe(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new cx);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const e=Qi({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const i=this.eJoinPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,s),this.resetJoinOperatorOr(n,i,s),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new Uge);e.push(i);const s="ag-filter-condition-operator";return i.addCss(s),i.addCss(`${s}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,s=n-i;s>0&&this.removeConditionsAndOperators(i,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,s)=>{const o=this.isConditionDisabled(s,e);i.setDisabled(o||this.filterListOptions.length<=1),s===1&&(Dh(this.eJoinPanels[0],o),this.eJoinAnds[0].setDisabled(o),this.eJoinOrs[0].setDisabled(o))}),this.eConditionBodies.forEach((i,s)=>{Ut(i,this.isConditionBodyVisible(s))});const n=(t??this.getJoinOperator())==="OR";for(const i of this.eJoinAnds)i.setValue(!n,!0);for(const i of this.eJoinOrs)i.setValue(n,!0);this.forEachInput((i,s,o,r)=>{this.setElementDisplayed(i,s<r),this.setElementDisabled(i,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinPanels:s,eJoinAnds:o,eJoinOrs:r}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);const l=Math.max(e-1,0);this.removeElements(s,l,t),this.removeComponents(o,l,t),this.removeComponents(r,l,t)}removeElements(e,t,n){const i=oh(e,t,n);for(const s of i)sa(s)}removeComponents(e,t,n){const i=oh(e,t,n);for(const s of i)sa(s.getGui()),this.destroyBean(s)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof tl&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}shouldKeepInvalidInputState(){return!1}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column)||this.shouldKeepInvalidInputState())return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1;const s=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))t===-1&&(t=r,n=r);else{const l=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),u=r<t;(l||u)&&(this.removeConditionsAndOperators(r,1),i=!0,u&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,s),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}resetPlaceholder(){const e=this.getLocaleTextFunc(),{filterPlaceholder:t,eTypes:n}=this;this.forEachInput((i,s,o,r)=>{if(!(i instanceof tl))return;const l=s===0&&r>1?"inRangeStart":s===0?"filterOoo":"inRangeEnd",u=s===0&&r>1?e("ariaFilterFromValue","Filter from value"):s===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value"),d=n[o].getValue(),f=R3(this,t,l,d);i.setInputPlaceholder(f),i.setInputAriaLabel(u)})}setElementValue(e,t,n){e instanceof tl&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){XF(e)&&Ut(e.getGui(),t)}setElementDisabled(e,t){XF(e)&&Dh(e.getGui(),t)}attachElementOnChange(e,t){e instanceof tl&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=Rl(t,this.optionsFactory),s=this.getInputs(e);for(let o=0;o<s.length;o++){const r=s[o];r!=null&&n(r,o,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Rl(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null)||this.positionHasInvalidInputs(e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,s){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,s,o)=>{o===t&&this.setElementValue(i,n[s]!=null?n[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}positionHasInvalidInputs(e){return!1}isReadOnly(){return!!this.params.readOnly}},dx=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function zS(e){return e?.allowedCharPattern??null}function n5(e,t){const{filter:n,filterTo:i,type:s}=e||{};return[_i(n),_i(i)].slice(0,Rl(s,t))}var Yge=class extends vv{constructor(){super("bigintFilter",n5,dx),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="bigint",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!gu()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const{bigintParser:i}=this.params,s=this.getParsedValue(e,i),o=this.getParsedValue(t,i),r=this.isInvalidValue(e,s),l=this.isInvalidValue(t,o),u=n?e:t,d=n?t:e,f=n?r:l,g=n?l:r;let m="";if(f)m=this.getLocaleTextFunc()("invalidBigInt","Invalid BigInt");else if(!r&&!l){const v=Xge(s,o,n);v&&(m=this.translate(v,[String(n?t.getValue():e.getValue())]))}u.setCustomValidity(m),g||d.setCustomValidity(""),m.length>0&&this.beans.ariaAnnounce.announceValue(m,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:i}=e,s=this.state,o=i?.fromAction;return(o&&o!="apply"||n.model!==s.model||!this.areStatesEqual(n.state,s.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){super.setElementValue(e,t,n),t===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,i=zS(e),s=Qi({tag:"div",cls:"ag-filter-body",role:"presentation"}),o=this.createFromToElement(s,t,"from",i),r=this.createFromToElement(s,n,"to",i),l=(f,g,m)=>()=>this.refreshInputPairValidation(f,g,m),u=l(o,r,!0);o.onValueChange(u),o.addGuiEventListener("focusin",u);const d=l(o,r,!1);return r.onValueChange(d),r.addGuiEventListener("focusin",d),s}createFromToElement(e,t,n,i){const s=this.createManagedBean(i?new cr({allowedCharPattern:i}):new cr);return s.addCss(`ag-filter-${n}`),s.addCss("ag-filter-filter"),t.push(s),e.appendChild(s.getGui()),s}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,s,o)=>{i<o&&t.push(_i(n.getValue()??null))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=String(i[0])),i.length>1&&(n.filterTo=String(i[1])),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}getParsedValue(e,t){const n=e.getValue();return n==null||typeof n=="string"&&n.trim()===""?null:t?t(n):_i(n)}isInvalidValue(e,t){const n=e.getValue();return n!=null&&String(n).trim()!==""&&t===null}};function Xge(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var i5=class extends ae{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new ux;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,i=[];if(n){const r=t;i.push(...r.conditions??[])}else i.push(t);const s=n&&n==="OR"?"some":"every",o=this.params.getValue(e.node);return i[s](r=>this.individualConditionPasses(e,r,o))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let o=x3(t)?t.conditions:[t];const r=n?.map(f=>typeof f=="string"?f:f.displayKey)??this.defaultOptions;if(!(!o||o.every(f=>r.find(g=>g===f.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let u=!1;const d=this.filterType;if((o&&!o.every(f=>f.filterType===d)||t.filterType!==d)&&(o=o.map(f=>({...f,filterType:d})),u=!0),typeof i=="number"&&o&&o.length>i&&(o=o.slice(0,i),u=!0),u){const f=o.length>1?{...t,filterType:d,conditions:o}:{...o[0],filterType:d};this.params={...e,model:f},e.onModelChange(f)}}individualConditionPasses(e,t,n){const i=this.optionsFactory,s=this.mapValuesFromModel(t,i),o=i.getCustomOption(t.type),r=$ge(o,s,n);return r??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,n,t,e))}},hx=class extends i5{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:s,includeBlanksInRange:o}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(s)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const s=this.comparator(),o=e[0]!=null?s(e[0],t):0;switch(i){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const r=s(e[1],t);return this.params.filterParams.inRangeInclusive?o>=0&&r<=0:o>0&&r<0}case"blank":return Em(t);case"notBlank":return!Em(t);default:return fe(76,{filterModelType:i}),!0}}},fx={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},Qge={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},Cv=class extends ae{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?Bs(this,"filterSummaryInactive"):null;if(e.operator!=null){const o=e,l=(o.conditions??[]).map(d=>this.getModelAsString(d,t)),u=o.operator==="AND"?"andCondition":"orCondition";return l.join(` ${Bs(this,u)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?Bs(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const o=e,r=this.optionsFactory.getCustomOption(o.type),{displayKey:l,displayName:u,numberOfInputs:d}=r||{};return l&&u&&d===0?n(l,u):this.conditionToString(o,i,o.type==="inRange"||d===2,l,u)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,s,o){let r;const l=this.getTypeKey(e);return l&&(r=Bs(this,l)),s&&o&&(r=this.getLocaleTextFunc()(s,o)),r!=null?t?`${r} ${Bs(this,"filterSummaryInRangeValues",[n(),i()])}`:`${r} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},s5=class extends Cv{constructor(e,t){super(e,t,t.bigintFormatter),this.filterTypeKeys=fx}conditionToString(e,t,n,i,s){const{filter:o,filterTo:r,type:l}=e,u=this.formatValue.bind(this),d=_i(o),f=_i(r);if(t){const g=this.conditionForToolPanel(l,n,()=>u(d),()=>u(f),i,s);if(g!=null)return g}return n?`${u(d)}-${u(f)}`:o!=null?u(d):`${l}`}},Zge=class extends hx{constructor(){super(n5,dx),this.filterType="bigint",this.FilterModelFormatterClass=s5}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return _i(e)!==null}},gx=class extends ae{constructor(e){super(),this.params=e,this.eInput=Te,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new cr(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){const{eInput:i}=this;i.setInputAriaLabel(e),t!==void 0&&i.setAutoComplete(t),i.toggleCss("ag-floating-filter-search-icon",!!n),i.setInputPlaceholder(n)}};function jS(e){const t=e?.trim();return t===""?e:t}function o5(e,t){const{filter:n,filterTo:i,type:s}=e||{};return[n||null,i||null].slice(0,Rl(s,t))}var r5=class extends wn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new ux;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:i,model:s}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(s)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}isTypeEditable(e){return!!e&&!this.readOnly&&Rl(e,this.optionsFactory)===1}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},Jge={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},px=class extends r5{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Te,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(Jge)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const{inputSvc:t,defaultDebounceMs:n,readOnly:i}=this,{filterPlaceholder:s,column:o,browserAutoComplete:r,filterParams:l}=e,u=this.lastType??this.optionsFactory.defaultOption,d=e.filterParams.filterPlaceholder,f=s===!0?R3(this,d,"filterOoo",u):s||void 0;if(t.setParams({ariaLabel:this.getAriaLabel(o),autoComplete:r??!1,placeholder:f}),this.applyActive=av(l),!i){const g=NR(l,n);t.setValueChangedListener($n(this,this.syncUpWithParentFilter.bind(this),g))}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Li(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===ee.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:i,params:s,lastType:o}=this;let r=i.getValue();if(s.filterParams.trimInput&&(r=jS(r),i.setValue(r,!0)),n){const l=s,u=l.model,d=this.convertValue(r),f=d==null?null:{...u??{filterType:this.filterType,type:o??this.optionsFactory.defaultOption},filter:d};l.onModelChange(f,{afterFloatingFilter:!0})}else s.parentFilterInstance(l=>{l?.onFloatingFilterChanged(o||null,r||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},epe=class extends px{constructor(){super(...arguments),this.FilterModelFormatterClass=s5,this.filterType="bigint",this.defaultOptions=dx}updateParams(e){const t=e.filterParams;zS(t)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),this.bigintParser=t?.bigintParser,super.updateParams(e)}createFloatingFilterInputService(e){const t=e.filterParams;this.allowedCharPattern=zS(t),this.bigintParser=t?.bigintParser;const n=this.allowedCharPattern?{allowedCharPattern:this.allowedCharPattern}:void 0;return this.createManagedBean(new gx({config:n}))}convertValue(e){return e==null||e===""?null:this.bigintParser?this.bigintParser(e):_i(e)}},ck=".ag-input-field-input",a5=class{constructor(e,t,n,i,s,o){this.context=e,this.eParent=s,this.alive=!0,this.debouncedReport=$n({isAlive:()=>this.alive},uk,500),this.timeoutHandle=null,Wne(t,n,i)?.newAgStackInstance().then(l=>{if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;s.appendChild(l.getGui()),l?.afterGuiAttached?.();const{tempValue:u,disabled:d}=this;u&&l.setDate(u),d!=null&&l.setDisabled?.(d),o?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Ut(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}setCustomValidity(e,t=!1){const n=this.dateComp?.getGui().querySelector(ck);if(n&&"setCustomValidity"in n){const i=e.length>0;n.setCustomValidity(e),i?t?this.timeoutHandle=this.debouncedReport(n):uk(n):this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),SR(n,i)}}getValidity(){return this.dateComp?.getGui().querySelector(ck)?.validity}};function uk(e){e.reportValidity()}var mx=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function l5(e,t){const{dateFrom:n,dateTo:i,type:s}=e||{};return[n&&Ci(n,void 0,!0)||null,i&&Ci(i,void 0,!0)||null].slice(0,Rl(s,t))}var dk=1e3,hk=1/0,tpe=class extends vv{constructor(){super("dateFilter",l5,mx),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=dk,this.maxValidYear=hk,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!gu()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(u,d)=>{const f=e[u];if(f!=null)if(isNaN(f))fe(82,{param:u});else return f==null?d:Number(f);return d},n=t("minValidYear",dk),i=t("maxValidYear",hk);this.minValidYear=n,this.maxValidYear=i,n>i&&fe(83);const{minValidDate:s,maxValidDate:o}=e,r=s instanceof Date?s:Ci(s);this.minValidDate=r;const l=o instanceof Date?o:Ci(o);this.maxValidDate=l,r&&l&&r>l&&fe(84)}refreshInputValidation(){for(let e=0;e<this.dateConditionFromComps.length;e++)this.refreshInputPairValidation(e,!1,!0)}refreshInputPairValidation(e,t=!1,n=!1){const{dateConditionFromComps:i,dateConditionToComps:s,beans:o}=this,r=i[e],l=s[e],u=r.getDate(),d=l.getDate(),f=npe(u,d,t),g=f?this.translate(f,[String(t?d:u)]):"",m=!gu()&&!n;(t?r:l).setCustomValidity(g,m),(t?l:r).setCustomValidity("",m),g.length>0&&o.ariaAnnounce.announceValue(g,"dateFilter")}createDateCompWrapper(e,t,n){const{beans:{userCompFactory:i,context:s,gos:o},params:r}=this,l=n==="from",u=new a5(s,i,r.colDef,ze(o,{onDateChanged:()=>{this.refreshInputPairValidation(t,l),this.onUiChanged()},onFocusIn:()=>this.refreshInputPairValidation(t,l),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>u.destroy()),u}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}setElementValue(e,t){e.setDate(t),t||e.setCustomValidity("")}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Qi({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const s=Qi({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s,t.length-1,i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),oh(this.eConditionPanelsFrom,e,t),oh(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){const i=oh(e,t,n);for(const s of i)s.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:s}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>s)return!1;return!0}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=t.getDate()!=null&&!(t.getValidity()?.valid??!0))),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!(n.getValidity()?.valid??!0))),t}canApply(e){return!this.hasInvalidInputs()}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachPositionInput(e,(n,i,s,o)=>{!t||i>=o||t&&(t=this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},{params:i,filterType:s}=this,o=this.getValues(e),r=i.useIsoSeparator?"T":" ";return o.length>0&&(n.dateFrom=mi(o[0],!0,r)),o.length>1&&(n.dateTo=mi(o[1],!0,r)),{dateFrom:null,dateTo:null,filterType:s,type:t,...n}}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,s,o)=>{i<o&&t.push(n.getDate())}),t}translate(e,t){let n=e;return e==="lessThan"?n="before":e==="greaterThan"&&(n="after"),super.translate(n,t)}};function npe(e,t,n){return e!=null&&t!=null&&e>=t?`${n?"max":"min"}DateValidation`:null}var c5=class extends Cv{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:i,valueSvc:s}=this.beans,o=t.column,r=i?.getDateFormatterFunction(o),l=r?r(n??void 0):n;return s.formatValue(o,null,l)}),this.filterTypeKeys=fx}conditionToString(e,t,n,i,s){const{type:o}=e,r=Ci(e.dateFrom),l=Ci(e.dateTo),u=this.filterParams.inRangeFloatingFilterDateFormat,d=t?this.formatValue.bind(this):m=>eae(m,u),f=()=>r!==null?d(r):"null",g=()=>l!==null?d(l):"null";if(r==null&&l==null)return Bs(this,o);if(t){const m=this.conditionForToolPanel(o,n,f,g,i,s);if(m!=null)return m}return n?`${f()}-${g()}`:r!=null?d(r):`${o}`}};function ipe(e,t){const n=t;return n<e?-1:n>e?1:0}var spe=class extends hx{constructor(){super(l5,mx),this.filterType="date",this.FilterModelFormatterClass=c5,this.filterTypeToRangeCache=new Map}getOrRefreshRangeCacheItem(e,t){const{filterTypeToRangeCache:n}=this,i=Date.now();let s=n.get(e);if(s&&s.expires<i&&(s=void 0),!s){const[o,r]=t(new Date(i),new Date(i));s={from:o,to:r,expires:Es(new Date(i)).getTime()-i},n.set(e,s)}return s}comparator(){return this.params.filterParams.comparator??ipe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}evaluateNonNullValue(e,t,n){const i=n.type,s=this.comparator();if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const o=i,r=xpe[o];if(r){const{from:l,to:u}=this.getOrRefreshRangeCacheItem(o,r);return s(l,t)>=0&&s(u,t)<0}return super.evaluateNonNullValue(e,t,n)}},ope=1,tp=null,rpe=()=>{if(tp!=null)return tp;let e;const t=typeof navigator>"u"?void 0:navigator.languages?.[0]??navigator.language;if(t&&typeof Intl<"u"&&typeof Intl.Locale=="function")try{e=new Intl.Locale(t).getWeekInfo?.()?.firstDay}catch{e=void 0}return tp=e==null?ope:e%7,tp},ts=e=>(e.setHours(0,0,0,0),e),wv=e=>{const t=e.getDay(),n=rpe(),i=(t-n+7)%7;return e.setDate(e.getDate()-i),ts(e)},yv=(e,t=1)=>(e.setDate(e.getDate()-t),e),Es=e=>(e.setDate(e.getDate()+1),ts(e)),u5=e=>(wv(e),e.setDate(e.getDate()+6),Es(e)),bv=e=>(e.setDate(1),ts(e)),vx=e=>(e.setDate(1),e.setMonth(e.getMonth()+1),ts(e)),Cx=e=>{const t=Math.floor(e.getMonth()/3);return e.setMonth(t*3),bv(e)},d5=e=>{const t=Math.floor(e.getMonth()/3);return e.setMonth(t*3+2),vx(e)},wx=e=>(e.setMonth(0,1),ts(e)),h5=e=>(e.setMonth(12,0),Es(e)),Cu=e=>yv(e),US=e=>Cu(wv(e)),WS=e=>Cu(bv(e)),$S=e=>Cu(Cx(e)),yx=(e,t)=>[ts(e),Es(t)],ape=(e,t)=>yx(Cu(e),Cu(t)),bx=(e,t)=>[wv(e),u5(t)],lpe=(e,t)=>bx(US(e),US(t)),Sx=(e,t)=>[bv(e),vx(t)],cpe=(e,t)=>Sx(WS(e),WS(t)),Rx=(e,t)=>[Cx(e),d5(t)],upe=(e,t)=>Rx($S(e),$S(t)),xx=(e,t)=>[wx(e),h5(t)],dpe=(e,t)=>[wx(e),Es(t)],hpe=(e,t)=>[ts(yv(e,7)),Es(t)],fpe=(e,t)=>[ts(yv(e,30)),Es(t)],gpe=(e,t)=>[ts(yv(e,90)),Es(t)],ppe=(e,t)=>(e.setFullYear(e.getFullYear()-1),e.setMonth(e.getMonth()+6),[ts(e),Es(t)]),mpe=(e,t)=>(e.setFullYear(e.getFullYear()-1),[ts(e),Es(t)]),vpe=(e,t)=>(e.setFullYear(e.getFullYear()-2),[ts(e),Es(t)]),Cpe=(e,t)=>(e.setFullYear(e.getFullYear()-1),t.setFullYear(t.getFullYear()-1),xx(e,t)),wpe=(e,t)=>(e.setFullYear(e.getFullYear()+1),t.setFullYear(t.getFullYear()+1),xx(e,t)),ype=(e,t)=>(e.setMonth(e.getMonth()+3),t.setMonth(t.getMonth()+3),Rx(e,t)),bpe=(e,t)=>(e.setMonth(e.getMonth()+1),t.setMonth(t.getMonth()+1),Sx(e,t)),Spe=(e,t)=>(e.setDate(e.getDate()+7),t.setDate(t.getDate()+7),bx(e,t)),Rpe=(e,t)=>(e.setDate(e.getDate()+1),t.setDate(t.getDate()+1),yx(e,t)),xpe={today:yx,yesterday:ape,tomorrow:Rpe,thisWeek:bx,lastWeek:lpe,nextWeek:Spe,thisMonth:Sx,lastMonth:cpe,nextMonth:bpe,thisQuarter:Rx,lastQuarter:upe,nextQuarter:ype,thisYear:xx,lastYear:Cpe,nextYear:wpe,yearToDate:dpe,last7Days:hpe,last30Days:fpe,last90Days:gpe,last6Months:ppe,last12Months:mpe,last24Months:vpe,setStartOfDay:ts,setStartOfWeek:wv,setStartOfNextDay:Es,setStartOfNextWeek:u5,setStartOfMonth:bv,setStartOfNextMonth:vx,setStartOfQuarter:Cx,setStartOfNextQuarter:d5,setStartOfYear:wx,setStartOfNextYear:h5,setPreviousDay:Cu,setPreviousWeek:US,setPreviousMonth:WS,setPreviousQuarter:$S},Epe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Tpe=class extends r5{constructor(){super(Epe,[pv]),this.eReadOnlyText=Te,this.eDateWrapper=Te,this.FilterModelFormatterClass=c5,this.filterType="date",this.defaultOptions=mx}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Ci(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ut(this.eDateWrapper,e),Ut(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,i=mi(e),s=i==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:i};t.onModelChange(s,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=NR(e,this.defaultDebounceMs);return ze(this.gos,{onDateChanged:$n(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:{column:i}}=this;this.dateComp=new a5(e,t,i.getColDef(),this.getDateComponentParams(),n,s=>{s.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Dpe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Ppe=class extends wn{constructor(){super(Dpe,[pv]),this.eDateInput=Te,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this),focusin:this.handleFocusIn.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}handleFocusIn(){this.params.onFocusIn?.()}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&pa();const{minValidYear:i,maxValidYear:s,minValidDate:o,maxValidDate:r,buttons:l,includeTime:u,colDef:d}=e.filterParams||{},f=this.beans.dataTypeSvc,g=u??f?.getDateIncludesTimeFlag?.(d.cellDataType)??!1;n?g?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text";const m=fk(o,i,!0),v=fk(r,s,!1);m&&v&&m.getTime()>v.getTime()&&fe(87),m&&(t.min=mi(m,g)),v&&(t.max=mi(v,g)),this.isApply=e.location==="floatingFilter"&&!!l?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ci(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(mi(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}};function fk(e,t,n){return e&&t&&fe(n?85:86),e instanceof Date?e:e?Ci(e):t?Ci(`${t}-${n?"01-01":"12-31"}`):null}var Ex=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function KS(e){return e?.allowedCharPattern??null}function Tm(e){return e==null||isNaN(e)?null:e}function f5(e,t){const{filter:n,filterTo:i,type:s}=e||{};return[Tm(n),Tm(i)].slice(0,Rl(s,t))}var Ape=class extends vv{constructor(){super("numberFilter",f5,Ex),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!gu()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const i=this.params.numberParser,s=gk(i,e),o=gk(i,t),r=Fpe(s,o,n),l=r?this.translate(r,[String(n?o:s)]):"";(n?e:t).setCustomValidity(l),(n?t:e).setCustomValidity(""),l.length>0&&this.beans.ariaAnnounce.announceValue(l,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:i}=e,s=this.state,o=i?.fromAction;return(o&&o!="apply"||n.model!==s.model||!this.areStatesEqual(n.state,s.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){const{numberFormatter:i}=this.params,s=!n&&i?i(t??null):t;super.setElementValue(e,s),s===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,i=KS(e),s=Qi({tag:"div",cls:"ag-filter-body",role:"presentation"}),o=this.createFromToElement(s,t,"from",i),r=this.createFromToElement(s,n,"to",i),l=(f,g,m)=>()=>this.refreshInputPairValidation(f,g,m),u=l(o,r,!0);o.onValueChange(u),o.addGuiEventListener("focusin",u);const d=l(o,r,!1);return r.onValueChange(d),r.addGuiEventListener("focusin",d),s}createFromToElement(e,t,n,i){const s=this.createManagedBean(i?new cr({allowedCharPattern:i}):new lx);return s.addCss(`ag-filter-${n}`),s.addCss("ag-filter-filter"),t.push(s),e.appendChild(s.getGui()),s}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,s,o)=>{i<o&&t.push(Tm(g5(this.params.numberParser,n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}};function g5(e,t){if(typeof t=="number")return t;let n=er(t);return n!=null&&n.trim()===""&&(n=null),e?e(n):n==null||n.trim()==="-"?null:Number.parseFloat(n)}function gk(e,t){return Tm(g5(e,t.getValue(!0)))}function Fpe(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var p5=class extends Cv{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=fx}conditionToString(e,t,n,i,s){const{filter:o,filterTo:r,type:l}=e,u=this.formatValue.bind(this);if(t){const d=this.conditionForToolPanel(l,n,()=>u(o),()=>u(r),i,s);if(d!=null)return d}return n?`${u(o)}-${u(r)}`:o!=null?u(o):`${l}`}},Mpe=class extends hx{constructor(){super(f5,Ex),this.filterType="number",this.FilterModelFormatterClass=p5}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},kpe=class extends ae{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new lx),this.eTextInput=this.createManagedBean(new cr),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){this.setAriaLabel(e),t!==void 0&&this.setAutoComplete(t),this.setPlaceholder(this.eNumberInput,n),this.setPlaceholder(this.eTextInput,n)}setPlaceholder(e,t){e.toggleCss("ag-floating-filter-search-icon",!!t),e.setInputPlaceholder(t)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Ipe=class extends px{constructor(){super(...arguments),this.FilterModelFormatterClass=p5,this.filterType="number",this.defaultOptions=Ex}updateParams(e){KS(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=KS(e.filterParams),this.allowedCharPattern?this.createManagedBean(new gx({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new kpe)}convertValue(e){return e?Number(e):null}},Tx=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],Ope=class extends vv{constructor(){super("textFilter",o5,Tx),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,s,o)=>{i<o&&t.push(er(n.getValue()))}),t}createEValue(){const e=Qi({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new cr);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=o=>this.removeComponents(o,e,t),{eValuesFrom:i,eValuesTo:s}=this;n(i),n(s)}},m5=class extends Cv{constructor(){super(...arguments),this.filterTypeKeys=Qge}conditionToString(e,t,n,i,s){const{filter:o,filterTo:r,type:l}=e;if(t){const u=f=>()=>Bs(this,"filterSummaryTextQuote",[f]),d=this.conditionForToolPanel(l,n,u(o),u(r),i,s);if(d!=null)return d}return n?`${o}-${r}`:o!=null?`${o}`:`${l}`}},Lpe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.includes(n);case"notContains":return!t.includes(n);case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},_pe=e=>e,Npe=e=>e==null?null:e.toString().toLowerCase(),Vpe=class extends i5{constructor(){super(o5,Tx),this.filterType="text",this.FilterModelFormatterClass=m5}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??Lpe,this.formatter=t.textFormatter??(t.caseSensitive?_pe:Npe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const s=e.map(m=>this.formatter(m))||[],o=this.formatter(t),{api:r,colDef:l,column:u,context:d,filterParams:{textFormatter:f}}=this.params;if(n.type==="blank")return Em(t);if(n.type==="notBlank")return!Em(t);const g={api:r,colDef:l,column:u,context:d,node:i.node,data:i.data,filterOption:n.type,value:o,textFormatter:f};return s.some(m=>this.matcher({...g,filterText:m}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=n=>{const i={...n},{filter:s,filterTo:o}=n;return s&&(i.filter=jS(s)??null),o&&(i.filterTo=jS(o)??null),i};return x3(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},Hpe=class extends px{constructor(){super(...arguments),this.FilterModelFormatterClass=m5,this.filterType="text",this.defaultOptions=Tx}createFloatingFilterInputService(){return this.createManagedBean(new gx)}};function Bpe(e){return!!e.quickFilter?.isFilterPresent()}function Gpe(e){return e.quickFilter?.getText()}function zpe(e){e.quickFilter?.resetCache()}var jpe=class extends ae{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,s=t.isPivotMode(),o=e?.getColumns(),r=t.getColDefCols();let l=(s&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:r)??[];o&&(l=l.concat(o)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?l:l.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return be(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){fe(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return be(i)&&i.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:s}=this;return s(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const s=ze(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(s)}return be(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];for(const n of this.colsToUse){const i=this.getTextForColumn(n,e);be(i)&&t.push(i)}return t.join(`
`)}},Upe={moduleName:"ClientSideRowModelFilter",version:we,rowModels:["clientSide"],beans:[Ude]},Dx={moduleName:"FilterCore",version:we,beans:[Hge],apiFunctions:{isAnyFilterPresent:Nge,onFilterChanged:Vge},css:[mge],dependsOn:[Upe]},v5={moduleName:"FilterValue",version:we,beans:[Gge]},cf={moduleName:"ColumnFilter",version:we,beans:[_ge,Bge],dynamicBeans:{headerFilterCellCtrl:dge},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:vge,getColumnFilterInstance:Cge,destroyFilter:wge,setFilterModel:yge,getFilterModel:bge,getColumnFilterModel:Sge,setColumnFilterModel:Rge,showColumnFilter:xge,hideColumnFilter:Ege,getColumnFilterHandler:Tge,doFilterAction:Dge},dependsOn:[Dx,gv,v5,pge]},Wpe={moduleName:"CustomFilter",version:we,userComponents:{agReadOnlyFloatingFilter:jge},dependsOn:[cf]},$pe={moduleName:"TextFilter",version:we,dependsOn:[cf],userComponents:{agTextColumnFilter:{classImp:Ope,params:{useForm:!0}},agTextColumnFloatingFilter:Hpe},dynamicBeans:{agTextColumnFilterHandler:Vpe}},Kpe={moduleName:"NumberFilter",version:we,dependsOn:[cf],userComponents:{agNumberColumnFilter:{classImp:Ape,params:{useForm:!0}},agNumberColumnFloatingFilter:Ipe},dynamicBeans:{agNumberColumnFilterHandler:Mpe}},qpe={moduleName:"BigIntFilter",version:we,dependsOn:[cf],userComponents:{agBigIntColumnFilter:{classImp:Yge,params:{useForm:!0}},agBigIntColumnFloatingFilter:epe},dynamicBeans:{agBigIntColumnFilterHandler:Zge}},Ype={moduleName:"DateFilter",version:we,dependsOn:[cf],userComponents:{agDateColumnFilter:{classImp:tpe,params:{useForm:!0}},agDateInput:Ppe,agDateColumnFloatingFilter:Tpe},dynamicBeans:{agDateColumnFilterHandler:spe}},Xpe={moduleName:"QuickFilterCore",version:we,rowModels:["clientSide"],beans:[jpe],dependsOn:[Dx,v5]},Qpe={moduleName:"QuickFilter",version:we,apiFunctions:{isQuickFilterPresent:Bpe,getQuickFilter:Gpe,resetQuickFilter:zpe},dependsOn:[Xpe]},Zpe={moduleName:"ExternalFilter",version:we,dependsOn:[Dx]},Jpe=class extends ae{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:s}=this;for(let o=0;o<e;o++){const r=n+o,l=new la(i);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(r),l.setRowTop(t*r),s.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){be(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(an(this.params.datasource.getRows)){fe(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:s},gos:o}=this;return ze(o,{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:s})}forEachNode(e,t,n){this.rowNodes.forEach((i,s)=>{this.startRow+s<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((s,o)=>{const r=e.rowData?e.rowData[o]:void 0;!s.id&&s.alreadyRendered&&r&&(t[o]=new la(n),t[o].setRowIndex(s.rowIndex),t[o].setRowTop(s.rowTop),t[o].setRowHeight(s.rowHeight),s._destroy(!0)),this.setDataAndId(t[o],r,this.startRow+o)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){const e=this.rowNodes;for(let t=0,n=e.length;t<n;t++)e[t]._destroy(!1);e.length=0,super.destroy()}},eme=2,tme=class extends ae{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new Jpe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(ml(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(r=>r!=e),n=(r,l)=>l.lastAccessed-r.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,s=i?this.params.maxBlocksInCache-1:null,o=eme-1;t.forEach((r,l)=>{const u=r.state==="needsLoading"&&l>=o,d=i?l>=s:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(r)||this.isBlockFocused(r))return;this.removeBlockFromCache(r)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,o=(e.id+1)*n+i;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,be(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,s=!1;const o={value:0};let r=!1;for(const u of this.getBlocksInOrder())if(!r){if(s&&i+1!==u.id){r=!0;continue}i=u.id,u.forEachNode(d=>{const f=d===e||d===t;(s||f)&&n.push(d),f&&(s=!s)},o,this.rowCount)}return r||s?[]:n}},nme=class extends ae{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new la(e);this.rootNode=t,t.level=-1,this.rowHeight=al(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=al(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Eh(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getOverlayType(){return this.infiniteCache?.getRowCount()===0?this.beans.filterManager?.isAnyFilterPresent()?"noMatchingRows":"noRows":null}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;hu(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:s,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:al(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new tme(this.cacheParams)),s.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function ime(e){dv(e)?.refreshCache()}function sme(e){dv(e)?.purgeCache()}function ome(e){return dv(e)?.getRowCount()}var rme=class extends ae{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=yte(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=$n(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){xo(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){ml(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const n of t)n.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){ml(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},ame={moduleName:"InfiniteRowModelCore",version:we,rowModels:["infinite"],beans:[nme,rme]},lme={moduleName:"InfiniteRowModel",version:we,apiFunctions:{refreshInfiniteCache:ime,purgeInfiniteCache:sme,getInfiniteRowCount:ome},dependsOn:[ame,Nde]},cme=class extends ae{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,i=!Dp.has(e),s=i?this.asyncListeners:this.syncListeners;s.has(e)||s.set(e,new Set),s.get(e).add(n),this.eventSvc.addListener(e,n,i)}removeListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,s=!!this.asyncListeners.get(e)?.delete(n);s||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,s)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(o,r)=>{Dp.has(o)&&t(o,r)},i=(o,r)=>{Dp.has(o)||t(o,r)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const s=this.eventSvc;s.addGlobalListener(n,!1),s.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,s=n?.unwrapGlobal(e)??e;if(i.has(s)){const{syncListener:r,asyncListener:l}=i.get(s);t.removeGlobalListener(r,!1),t.removeGlobalListener(l,!0),i.delete(e)}else this.syncGlobalListeners.delete(s),t.removeGlobalListener(s,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(s=>this.eventSvc.removeListener(i,s,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function ume(e,t,n){e.apiEventSvc?.addListener(t,n)}function dme(e,t,n){e.apiEventSvc?.removeListener(t,n)}function hme(e,t){e.apiEventSvc?.addGlobalListener(t)}function fme(e,t){e.apiEventSvc?.removeGlobalListener(t)}var gme={moduleName:"EventApi",version:we,apiFunctions:{addEventListener:ume,addGlobalListener:hme,removeEventListener:dme,removeGlobalListener:fme},beans:[cme]},pme=class extends ae{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?Kee(t):qee(e.get("localeText"))}},mme={moduleName:"Locale",version:we,beans:[pme]};function vme(e){return e.stateSvc?.getState()??{}}function Cme(e,t,n){return e.stateSvc?.setState(t,n)}function pk(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=wme(e)),e.version=we,e}function wme(e){return e.cellSelection=yme(e,"rangeSelection"),e}function yme(e,t){if(e&&typeof e=="object")return e[t]}var bme=class extends ae{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=$n(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=$n(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=$n(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=En(e);const i=pk(e.get("initialState")??{}),s=i.partialColumnState;delete i.partialColumnState,this.cachedState=i;const o=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>o(()=>this.setupStateOnGridReady(i))),(i.columnOrder||i.columnVisibility||i.columnSizing||i.columnPinning||i.columnGroup)&&n?.hideColumns("columnState");const[r,l,u]=this.addManagedEventListeners({newColumnsLoaded:({source:d})=>{d==="gridInitializing"&&(r(),o(()=>{this.setupStateOnColumnsInitialised(i,!!s),n?.revealColumns("columnState")}))},rowCountReady:()=>{l?.(),o(()=>this.setupStateOnRowCountReady(i))},firstDataRendered:()=>{u?.(),o(()=>this.setupStateOnFirstDataRendered(i))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=pk(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const i="api",s=t?new Set(t):void 0;this.setGridReadyState(n,i,s),this.setColumnsInitialisedState(n,i,!!s,s),this.setRowCountState(n,i,s),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,s),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:i,rowGroupExpansion:s,ssrmRowGroupExpansion:o,rowSelection:r,pagination:l,rowPinning:u}=e,d=(g,m)=>!n?.has(g)&&(m||t==="api");d("filter",i)&&this.setFilterState(i),d("rowGroupExpansion",s)&&this.setRowGroupExpansionState(o,s,t),d("rowSelection",r)&&this.setRowSelectionState(r,t),d("pagination",l)&&this.setPaginationState(l,t),d("rowPinning",u)&&this.setRowPinningState(u);const f=this.updateCachedState.bind(this);f("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(f("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),f("rowGroupExpansion",void 0)):(f("rowGroupExpansion",this.getRowGroupExpansionState()),f("ssrmRowGroupExpansion",void 0)),f("rowSelection",this.getRowSelectionState()),f("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},i=()=>t("filter",this.getFilterState()),{gos:s,colFilter:o,selectableFilter:r}=this.beans;this.addManagedEventListeners({filterChanged:i,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(s.get("groupDefaultExpanded")!==0||s.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:l=>{(l.newPage||l.newPageSize)&&t("pagination",this.getPaginationState())},pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())}),o&&this.addManagedListeners(o,{filterStateChanged:i}),r&&this.addManagedListeners(r,{selectedFilterChanged:i})}setFirstDataRenderedState(e,t,n){const{scroll:i,cellSelection:s,focusedCell:o,columnOrder:r}=e,l=(f,g)=>!n?.has(f)&&(g||t==="api");l("focusedCell",o)&&this.setFocusedCellState(o),l("cellSelection",s)&&this.setCellSelectionState(s),l("scroll",i)&&this.setScrollState(i),this.setColumnPivotState(!!r?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();u("rangeSelection",d),u("cellSelection",d),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:i=>{if(i.finished){const s=this.getRangeSelectionState();t("rangeSelection",s),t("cellSelection",s)}},bodyScrollEnd:()=>t("scroll",this.getScrollState())})}getColumnState(){const e=this.beans;return hde(fm(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){const{sort:s,rowGroup:o,aggregation:r,pivot:l,columnPinning:u,columnVisibility:d,columnSizing:f,columnOrder:g}=e;let m=!1;const v=(z,q)=>{const oe=!i?.has(z)&&!!(q||t==="api");return m||(m=oe),oe},y={},S=z=>{let q=y[z];return q||(q={colId:z},y[z]=q,q)},R={},x=v("sort",s);x&&s?.sortModel.forEach(({colId:z,sort:q},oe)=>{const ce=S(z);ce.sort=q,ce.sortIndex=oe}),(x||!n)&&(R.sort=null,R.sortIndex=null);const T=v("rowGroup",o);T&&o?.groupColIds.forEach((z,q)=>{const oe=S(z);oe.rowGroup=!0,oe.rowGroupIndex=q}),(T||!n)&&(R.rowGroup=null,R.rowGroupIndex=null);const D=v("aggregation",r);D&&r?.aggregationModel.forEach(({colId:z,aggFunc:q})=>{S(z).aggFunc=q}),(D||!n)&&(R.aggFunc=null);const M=v("pivot",l);M&&(l?.pivotColIds.forEach((z,q)=>{const oe=S(z);oe.pivot=!0,oe.pivotIndex=q}),this.gos.updateGridOptions({options:{pivotMode:!!l?.pivotMode},source:t})),(M||!n)&&(R.pivot=null,R.pivotIndex=null);const F=v("columnPinning",u);if(F){for(const z of u?.leftColIds??[])S(z).pinned="left";for(const z of u?.rightColIds??[])S(z).pinned="right"}(F||!n)&&(R.pinned=null);const I=v("columnVisibility",d);if(I)for(const z of d?.hiddenColIds??[])S(z).hide=!0;(I||!n)&&(R.hide=null);const A=v("columnSizing",f);if(A)for(const{colId:z,flex:q,width:oe}of f?.columnSizingModel??[]){const ce=S(z);ce.flex=q??null,ce.width=oe}(A||!n)&&(R.flex=null);const O=g?.orderedColIds,_=!!O?.length&&!i?.has("columnOrder"),B=_?O.map(z=>S(z)):Object.values(y);(B.length||m)&&(this.columnStates=B,Ws(this.beans,{state:B,applyOrder:_,defaultState:R},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const s=this.beans,{pivotResultCols:o,colGroupSvc:r}=s;if(o?.isPivotResultColsPresent()){if(n){const l=[];for(const u of n)o.getPivotResultCol(u.colId)&&l.push(u);Ws(s,{state:l,applyOrder:e},t)}i&&r?.setColumnGroupState(i,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return fde(t)}setColumnGroupState(e,t,n){const i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const s=new Set(e.columnGroup?.openColumnGroupIds),r=i.getColumnGroupState().map(({groupId:l})=>{const u=s.has(l);return u&&s.delete(l),{groupId:l,open:u}});for(const l of s)r.push({groupId:l,open:!0});r.length&&(this.columnGroupStates=r),i.setColumnGroupState(r,t)}getFilterState(){const{filterManager:e,selectableFilter:t}=this.beans;let n=e?.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);const i=e?.getFilterState(),s=e?.getAdvFilterModel()??void 0,o=t?.getState();return n||s||i||o?{filterModel:n,columnFilterState:i,advancedFilterModel:s,selectableFilters:o}:void 0}setFilterState(e){const{filterManager:t,selectableFilter:n}=this.beans,{filterModel:i,columnFilterState:s,advancedFilterModel:o,selectableFilters:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};r!==void 0&&n?.setState(r??{}),(i!==void 0||s!==void 0)&&t?.setFilterState(i??null,s??null,"columnFilter"),o!==void 0&&t?.setAdvFilterModel(o??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:i,startRow:s,endRow:o,columns:r,startColumn:l}=t;return{id:n,type:i,startRow:s,endRow:o,colIds:r.map(u=>u.getColId()),startColId:l.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:s}=this.beans;if(!ra(t)||!n)return;const o=[];for(const r of e?.cellRanges??[]){const l=[];for(const d of r.colIds){const f=i.getCol(d);f&&l.push(f)}if(!l.length)continue;let u=i.getCol(r.startColId);if(!u){const d=s.allCols,f=new Set(l);u=d.find(g=>f.has(g))}o.push({...r,columns:l,startColumn:u})}n.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:s,animationFrameSvc:o,ctrlsSvc:r}=this.beans;i.wrapIncoming(()=>{r.get("center").setCenterViewportScrollLeft(n),r.getScrollFeature()?.setVerticalScrollPosition(t),s.redraw({afterScroll:!0}),o?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:i,rowIndex:s,rowPinned:o}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:s,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){const{pagination:n,gos:i}=this.beans;if(!n)return;const{pageSize:s,page:o}=e??{page:0,pageSize:i.get("paginationPageSize")},r=t==="gridInitializing";s&&!i.get("paginationAutoPageSize")&&n.setPageSize(s,r?"initialState":"pageSizeSelector"),typeof o=="number"&&(r?n.setPage(o):n.goToPage(o))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){const i=this.beans.expansionSvc;if(!i)return;const s=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};i.setExpansionState(s,n)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const s of Object.keys(t)){const o=t[s];Eh(o,i[s])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Eh(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},Sme={moduleName:"GridState",version:we,beans:[bme],apiFunctions:{getState:vme,setState:Cme}};function Rme(e){return e.rowModel.isLastRowIndexKnown()}function xme(e){return e.pagination?.getPageSize()??100}function Eme(e){return e.pagination?.getCurrentPage()??0}function Tme(e){return e.pagination?.getTotalPages()??1}function Dme(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Pme(e){e.pagination?.goToNextPage()}function Ame(e){e.pagination?.goToPreviousPage()}function Fme(e){e.pagination?.goToFirstPage()}function Mme(e){e.pagination?.goToLastPage()}function kme(e,t){e.pagination?.goToPage(t)}var Ime=class extends ae{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(al(t),1),s=Math.floor(e/i);t.pagination.setPageSize(s,"autoCalculated")};this.isBodyRendered?$n(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function Ome(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),s=n("decimalSeparator",".");return e.toString().replace(".",s).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var Ld="paginationPageSizeSelector",Lme={tag:"span",cls:"ag-paging-page-size"},_me=class extends wn{constructor(){super(Lme),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Ld,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Li(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Ld)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const s=this.gos.exists("paginationPageSize"),o=this.gos.get(Ld)!==!0;fe(94,{pageSizeSet:s,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||fe(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Ld}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(fa(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),s=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new cx).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Ld);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Nme={selector:"AG-PAGE-SIZE-SELECTOR",component:_me},Vme=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;flex-wrap:wrap-reverse;gap:calc(var(--ag-spacing)*4);justify-content:flex-end;min-height:var(--ag-pagination-panel-height);padding:calc(var(--ag-spacing)*.5) var(--ag-cell-horizontal-padding);row-gap:calc(var(--ag-spacing)*.5);@container (width < 600px){justify-content:center}}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel,.ag-paging-row-summary-panel{margin:calc(var(--ag-spacing)*.5)}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-paging-description{line-height:0}",Hme=class extends qse{constructor(){super(),this.btFirst=Te,this.btPrevious=Te,this.btNext=Te,this.btLast=Te,this.lbRecordCount=Te,this.lbFirstRowOnPage=Te,this.lbLastRowOnPage=Te,this.lbCurrent=Te,this.lbTotal=Te,this.pageSizeComp=Te,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Vme)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Nme]);const{btFirst:t,btPrevious:n,btNext:i,btLast:s}=this;this.activateTabIndex([t,n,i,s]),t.insertAdjacentElement("afterbegin",Ii(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Ii(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Ii(e?"previous":"next",this.beans)),s.insertAdjacentElement("afterbegin",Ii(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):wie(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===ee.ENTER||i.key===ee.SPACE)&&(i.preventDefault(),n())}})}Cie(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Ome(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),s=e===n-1;this.nextButtonDisabled=s||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){See(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,s=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let r,l;this.isZeroPagesToDisplay()?r=l=0:(r=o*s+1,l=r+o-1,e&&l>i&&(l=i));const u=r+o-1,d=!e&&n<u,f=this.formatNumber(r);this.lbFirstRowOnPage.textContent=f;let g;const m=this.getLocaleTextFunc();d?g=m("pageLastRowUnknown","?"):g=this.formatNumber(l),this.lbLastRowOnPage.textContent=g;const y=t>0?s+1:0,S=this.formatNumber(y);this.lbCurrent.textContent=S;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(i);else{const T=m("more","more");R=T,x=T}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(f,g,x,S,R)}announceAriaStatus(e,t,n,i,s){const o=this.getLocaleTextFunc(),r=o("page","Page"),l=o("to","to"),u=o("of","of"),d=`${e} ${l} ${t} ${u} ${n}`,f=`${r} ${i} ${u} ${s}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnounce?.announceValue(d,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,this.ariaAnnounce?.announceValue(f,"paginationPage"))}},Bme={selector:"AG-PAGINATION",component:Hme},Gme=100,zme=class extends ae{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Bme}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return be(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:be(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:be(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:be(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:Gme}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const s=this.currentPage,o=n*s;let r=n*(s+1)-1;if(r>i&&(r=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),r===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},jme={moduleName:"Pagination",version:we,beans:[zme,Ime],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:Rme,paginationGetPageSize:xme,paginationGetCurrentPage:Eme,paginationGetTotalPages:Tme,paginationGetRowCount:Dme,paginationGoToNextPage:Pme,paginationGoToPreviousPage:Ame,paginationGoToFirstPage:Fme,paginationGoToLastPage:Mme,paginationGoToPage:kme},dependsOn:[gv]},Ume=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function Wme(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function $me(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function Kme(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function qme(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function Yme(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var Xme={moduleName:"PinnedRow",version:we,beans:[ase],css:[Ume],apiFunctions:{getPinnedTopRowCount:Wme,getPinnedBottomRowCount:$me,getPinnedTopRow:Kme,getPinnedBottomRow:qme,forEachPinnedRow:Yme},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},Qme="",Zme="",Jme={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},eve=class extends wn{constructor(){super(Jme),this.eValue=Te,this.eDelta=Te,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),s=be(i)?i:n,o=t>=0,r=this.eDelta;o?r.textContent=Qme+s:r.textContent=Zme+s,r.classList.toggle("ag-value-change-delta-up",o),r.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Li(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:i}=e,{eValue:s,lastValue:o,beans:r}=this;if(n===o||(be(i)?s.textContent=i:be(n)?s.textContent=n:Li(s),r.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const l=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,u=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o;if(l===u)return!1;if(typeof l=="number"&&typeof u=="number"){const d=l-u;this.showDelta(e,d)}return o&&s.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},tve=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",nve={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},ive=class extends wn{constructor(){super(nve),this.eCurrent=Te,this.refreshCount=0,this.registerCSS(tve)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious?.remove();const{beans:t,eCurrent:n}=this,i=Qi({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(an(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return be(e.valueFormatted)?i.textContent=e.valueFormatted:be(e.value)?i.textContent=n:Li(i),!0}},sve=class extends ae{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const s=this.animations[t];s.delete(e);const o=Date.now(),r=o+n,l=o+n+i,u={phase:"flash",flashEndTime:r,fadeEndTime:l};s.set(e,u);const d=`ag-cell-${t}`,f=`${d}-animation`,{comp:g,eGui:{style:m}}=e;g.toggleCss(d,!0),g.toggleCss(f,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),this.nextAnimationTime&&r+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=r)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],s=`ag-cell-${n}`,o=`${s}-animation`;for(const[r,l]of i){if(!r.isAlive()||!r.comp){i.delete(r);continue}const{phase:u,flashEndTime:d,fadeEndTime:f}=l,g=u==="flash"?d:f;if(!(e+15>=g)){t=Math.min(g,t??1/0);continue}const{comp:v,eGui:{style:y}}=r;switch(u){case"flash":v.toggleCss(s,!1),v.toggleCss(o,!0),y.transition=`background-color ${f-d}ms`,y.transitionDelay=`${d-e}ms`,t=Math.min(f,t??1/0),l.phase="fade";break;case"fade":v.toggleCss(s,!1),v.toggleCss(o,!1),y.removeProperty("transition"),y.removeProperty("transition-delay"),i.delete(r);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=die(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function ove(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(const i of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(i,t)})}var rve={moduleName:"HighlightChanges",version:we,beans:[sve],userComponents:{agAnimateShowChangeCellRenderer:eve,agAnimateSlideCellRenderer:ive},apiFunctions:{flashCells:ove}};function ave(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,s=`aria-${t}`;n===null?i.removeAttribute(s):i.setAttribute(s,n)}function lve(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function cve(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function uve(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function dve(e){e.animationFrameSvc?.flushAllFrames()}function hve(e){return{rowHeight:al(e),headerHeight:sf(e)}}function fve(e,t={}){const n=[];for(const o of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const r=o.getCellRenderer();r!=null&&n.push(bl(r))}if(t.columns?.length)return n;const i=[],s=IS(t.rowNodes);for(const o of e.rowRenderer.getAllRowCtrls()){if(s&&!OS(o.rowNode,s)||!o.isFullWidth())continue;const r=o.getFullWidthCellRenderers();for(let l=0;l<r.length;l++){const u=r[l];u!=null&&i.push(bl(u))}}return[...i,...n]}var gve={moduleName:"RenderApi",version:we,apiFunctions:{setGridAriaProperty:ave,refreshCells:lve,refreshHeader:cve,isAnimationFrameQueueEmpty:uve,flushAllAnimationFrames:dve,getSizesForCurrentTheme:hve,getCellRendererInstances:fve}},pve=class extends ae{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=$n(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,s=e.autoHeightCols;let o=!1;const r=l=>{const u=l.__autoHeights;let d=oa(this.beans,l).height;for(const f of s){let g=u?.[f.getColId()];const m=n?.getCellSpan(f,l);if(m){if(m.getLastNode()!==l)continue;if(g=n?.getCellSpan(f,l)?.getLastNodeAutoHeight(),!g)return}if(g==null){if(this.colSpanSkipCell(f,l))continue;return}d=Math.max(g,d)}d!==l.rowHeight&&(l.setRowHeight(d),o=!0)};i?.forEachPinnedRow?.("top",r),i?.forEachPinnedRow?.("bottom",r),t.forEachDisplayedNode?.(r),o&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:s}=this.beans;if(!n.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=s.getLeftColsForRow(t);break;case"right":o=s.getRightColsForRow(t);break;case null:o=i.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:s,column:o}=e,r=this.beans,l=f=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:g,paddingBottom:m,borderBottomWidth:v,borderTopWidth:y}=Al(i),S=g+m+v+y,x=t.offsetHeight+S;if(f<5){const D=!Bn(r)?.contains(t),M=x==0;if(D||M){window.setTimeout(()=>l(f+1),0);return}}this.setRowAutoHeight(s,x,o)},u=()=>l(0);u();const d=hr(r,t,u);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(s,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(s=>s.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const s=n.__autoHeights[i.getColId()];if(!s||n.rowHeight<s)return!1}}return!0}},mve={moduleName:"RowAutoHeight",version:we,beans:[pve]},vve=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(const n of this.spannedNodes)n!==this.lastNode&&(t+=n.rowHeight);return e-t}},Cve=class extends ae{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:s,valueSvc:o,pagination:r}}=this,{colDef:l}=t,u=this.getNodeMap(e),d=new Map,f=n.getCallback("isFullWidthRow"),g=l.equals,m=l.spanRows,v=typeof m=="function";let y=null,S=null,R;const x=(D,M)=>{y=D,S=null,R=M},T=D=>{const M=!D.isExpandable()&&!D.group&&!D.detail&&(f?!f({rowNode:D}):!0);if(D.rowIndex==null||!M){x(null,null);return}if(y==null||D.level!==y.level||D.footer||S&&D.rowIndex-1!==S?.getLastNode().rowIndex){x(D,o.getValue(t,D,"data"));return}const F=o.getValue(t,D,"data");if(v){const I=ze(n,{valueA:R,nodeA:y,valueB:F,nodeB:D,column:t,colDef:l});if(!m(I)){x(D,F);return}}else if(g?!g(R,F):R!==F){x(D,F);return}if(!S){const I=u?.get(y);I?.firstNode===y?(I.reset(),S=I):S=new vve(t,y),d.set(y,S)}S.addSpannedNode(D),d.set(D,S)};switch(e){case"center":s.forEachDisplayedNode?.(D=>{(!r||r.isRowInPage(D.rowIndex))&&T(D)}),this.centerValueNodeMap=d;break;case"top":i?.forEachPinnedRow("top",T),this.topValueNodeMap=d;break;case"bottom":i?.forEachPinnedRow("bottom",T),this.bottomValueNodeMap=d;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},wve=class extends ae{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=$n(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=$n(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new Cve(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,s=e.rowIndex,o=this.spanningColumns.get(i);if(!o)return;let r;switch(e.rowPinned){case"top":r=t?.getPinnedTopRow(s);break;case"bottom":r=t?.getPinnedBottomRow(s);break;default:r=n.getRow(s)}if(r)return o.getCellSpan(r)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const s=i.getCellSpan(e);t(n,s)}}destroy(){super.destroy(),this.spanningColumns.clear()}},yve=class extends ou{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,s,o,r){this.eWrapper=n,super.setComp(e,t,n,i,s,o,r),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||TN(e,t.rowIndex)}setAriaRowSpan(){Tee(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(lv(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},bve=class extends Sm{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new yve(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},Sve=class extends ae{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),i=n.size,s=this.getAllRelevantRowControls(e),o=new Map;let r=!1;for(const u of s)u.isAlive()&&t?.forEachSpannedColumn(u.rowNode,(d,f)=>{if(o.has(f.firstNode))return;const g=n.get(f.firstNode);if(g){o.set(f.firstNode,g),n.delete(f.firstNode);return}r=!0;const m=new bve(f.firstNode,this.beans,!1,!1,!1);o.set(f.firstNode,m)});this.setCtrlsMap(e,o);const l=o.size===i;if(!(!r&&l)){for(const u of n.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const i=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},Rve={moduleName:"CellSpan",version:we,beans:[wve,Sve]},xve=class extends ae{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,tu(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Gte(e))}createColumns(e,t){const n=()=>{dm(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,o=(this.columns?.treeDepth??-1)==i,r=this.generateSelectionCols();if(Bte(r,this.columns?.list??[])&&o)return;n();const{colGroupSvc:u}=this.beans,d=u?.findDepth(e.tree)??0,f=u?.balanceTreeForAutoCols(r,d)??[];this.columns={list:r,tree:f,treeDepth:d,map:{}},t(m=>{if(!m)return null;const v=m.filter(y=>!ga(y));return[...r,...v]})}updateColumns(e){const t=tu(e.source),{beans:n}=this;for(const i of this.columns?.list??[]){const s=this.createSelectionColDef(e.currentValue);i.setColDef(s,null,t),Ws(n,{state:[jte(s,i.colId)]},t)}}getColumn(e){return this.columns?.list.find(t=>th(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!rl(e))return!1;const i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const s=!!Zc(n),o=wp(n);return s||o}createSelectionColDef(e){const{gos:t}=this,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:s,spanRows:o,...r}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,u,d,f){const g=d.isSelected(),m=f.isSelected();return g===m?0:g?1:-1},editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,pinned:null,...r,colId:o3,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Fl(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?Zc(t):void 0,s=e&&typeof e!="string"?Zc(e):void 0,o=i!==s,r=t&&typeof t!="string"?wp(t):void 0,l=e&&typeof e!="string"?wp(e):void 0,u=r!==l,d=am(e),f=am(t);(o||u||d!==f)&&this.beans.colModel.refreshAll(n)}destroy(){dm(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const i=e.length+t.length+n.length;if(i===0)return;const s=this.columns.list[0];if(!s.isVisible())return;const o=()=>{let u;switch(s.pinned){case"left":case!0:u=e;break;case"right":u=n;break;default:u=t}u&&xo(u,s)};(this.beans.rowNumbersSvc?.getColumn(r3)?2:1)===i&&o()}},Eve=':where(.ag-selection-checkbox) .ag-checkbox-input-wrapper:before{content:"";cursor:pointer;inset:-8px;position:absolute}';function Tve(e,t){if(!t.nodes.every(r=>r.rowPinned&&!af(r)?(fe(59),!1):r.id===void 0?(fe(60),!1):!0))return;const{nodes:i,source:s,newValue:o}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:s??"api",newValue:o})}function Dve(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function Pve(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function Ave(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function Fve(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function Mve(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function kve(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Ive(e){return e.selectionSvc?.getSelectedNodes()??[]}function Ove(e){return e.selectionSvc?.getSelectedRows()??[]}var Lve={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},_ve=class extends wn{constructor(){super(Lve,[qR]),this.eCheckbox=Te}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),s=iv(e,i),[o,r]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(o,r);n.setValue(i,!0),n.setInputAriaLabel(`${l} (${s})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getWrapperElement(),{dblclick:wl,click:i=>{wl(i),!this.eCheckbox.isDisabled()&&this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:s})=>{const o=typeof i=="object"?ky(i):void 0,r=typeof s=="object"?ky(s):void 0;o!==r&&this.onSelectableChanged()}),vS(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this,s=t.selectable,o=this.getIsVisible();let r;if(typeof o=="function"){const g=n?.callbackParams;if(!e)r=o({...g,node:t,data:t.data});else{const m=e.createColumnFunctionCallbackParams(t);r=o({...g,...m})}}else r=o??!1;const l=s&&!r||!s&&r,u=s||r,d=i.get("rowSelection"),f=d&&typeof d!="string"?!ky(d):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(u&&(l?f:!0)),this.setDisplayed(u&&(l?f:!0)),u&&this.eCheckbox.setDisabled(l),n?.removeHidden&&this.setDisplayed(u)}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Zc(t):this.column?.getColDef()?.checkboxSelection}},Nve=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(s=>s.id===e.id);if(i>-1){const s=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:s,discard:o}:{keep:o,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&s.push(o)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(s=>s.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return hs(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const s=hs(n,"bottom",void 0,e),o=i.getRowCount(),r=i.getRow(o-1);return(i.getNodesInRangeForSelection(t,r)??[]).concat(s)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return hs(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const s=hs(n,"top",t,void 0),o=hs(n,"bottom",void 0,e),r=i.getRow(0),l=i.getRow(i.getRowCount()-1);return s.concat(i.getNodesInRangeForSelection(r,l)??[]).concat(o)}if(!e.rowPinned&&t.rowPinned==="top")return hs(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const s=hs(n,"top",e,void 0),o=hs(n,"bottom",void 0,t),r=i.getRow(0),l=i.getRow(i.getRowCount()-1);return s.concat(i.getNodesInRangeForSelection(r,l)??[]).concat(o)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return hs(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const s=hs(n,"bottom",void 0,t),o=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,o)??[]).concat(s)}return null}},Vve=class extends ae{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(nn(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new KR);this.cbSelectAll=t,t.addCss("ag-header-select-all"),gl(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:s})=>{const o=r=>typeof r=="string"||!r||r.mode==="singleRow"?void 0:r.selectAll;o(i)!==o(s)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const s=t.hasNodesToSelect(e);n.setDisabled(!s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:s}=this,o=i.getValue(),r=iv(t,o),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",s?`${l} (${r})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return cm(this.gos)?!0:(fe(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return En(t)||Mu(t)?!0:(fe(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},s=this.beans.selectionSvc;e?s.selectAllRowNodes(i):s.deselectAllRowNodes(i)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,o=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return C5(n,e)&&this.checkRightRowModelType(o)&&this.checkSelectionType(o)}getSelectAllMode(){const e=i3(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function C5({gos:e,selectionColSvc:t},n){const i=e.get("rowSelection"),s=n.getColDef(),{headerCheckboxSelection:o}=s;let r=!1;if(typeof i=="object"){const u=ga(n),d=LR(n);(am(i)==="autoGroupColumn"&&d||u&&t?.isSelectionColumnEnabled())&&(r=wp(i))}else typeof o=="function"?r=o(ze(e,{column:n,colDef:s})):r=!!o;return r}var Hve=class extends ae{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Nve(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=vS(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=vS(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new _ve}createSelectAllFeature(e){if(C5(this.beans,e))return new Vve(e)}isMultiSelect(){return cm(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,s=>{s.rowComp.toggleCss("ag-row-selected",i);const o=s.element;PN(o,i),o.contains(nn(this.beans))&&t(s)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;const s=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(s,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!af(e)||!rl(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(kh(this.gos)){const s=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:s??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const s=e.childrenAfterGroup[i];let o=s.isSelected();if(!s.selectable){const r=this.calculateSelectedFromChildren(s);if(r===null)continue;o=r}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){if(t&&e.destroyed)return!1;const s=!e.selectable&&t,o=e.__selected===t;if(s||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const r=e.sibling;r&&r.footer&&r.__localEventService&&r.dispatchRowEvent("rowSelected");const l=e.pinnedSibling;return l?.rowPinned&&l.__localEventService&&l.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...Zie(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=ga(e)&&Zc(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:s,selectionCtx:o}=this,r=e.isSelected(),l=kh(s),u=Ste(s),d=Rte(s),f=this.isMultiSelect(),g=i==="rowClicked";if(g&&!(u||d))return null;if(t&&n&&f){const m=o.getRoot();if(m)if(m.isSelected()){const v=o.isInRange(e)?o.truncate(e):o.extend(e,l);return{deselect:v.discard,select:v.keep,reset:!1}}else{const v=o.extend(e,l);return{select:[],deselect:v.keep,reset:!1}}else return null}else if(t&&f){const m=o.selectAll?this.beans.rowModel.getRow(0):void 0,v=o.getRoot(m),y=o.isInRange(e)?o.truncate(e):o.extend(e,l);return{select:y.keep,deselect:y.discard,reset:o.selectAll||!!(v&&!v.isSelected())}}else if(n){if(g){const m=!r;return m&&!u||!m&&!d?null:(o.setRoot(e),{node:e,newValue:m,clearSelection:!1})}return o.setRoot(e),{node:e,newValue:!r,clearSelection:!f}}else{o.setRoot(e);const m=xte(s),v=um(s)==="filteredDescendants",y=g&&(!m||!u);if(v&&r===void 0&&En(s))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!f||y};if(g){const S=r?!m:u;return S===r&&!y||S&&!u||!S&&!d?null:{node:e,newValue:S,clearSelection:!f||y,keepDescendants:e.group&&l}}return{node:e,newValue:!r,clearSelection:!f||y}}}},Bve=class extends Hve{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=lm(e),this.groupSelectsDescendants=kh(e),this.groupSelectsFiltered=um(e)==="filteredDescendants",this.masterSelectsDetail=KF(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=kh(e),n=lm(e),i=um(e)==="filteredDescendants";this.masterSelectsDetail=KF(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(i==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in i)return i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n);{const s=i.checkFilteredNodes?y5(i.node):i.newValue;return this.setNodesSelected({nodes:[i.node],newValue:s,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:s,source:o,keepDescendants:r=!1}){if(i.length===0)return 0;const{gos:l}=this;if(!rl(l)&&e)return fe(132),0;if(i.length>1&&!this.isMultiSelect())return fe(130),0;let u=0;for(let d=0;d<i.length;d++){const f=i[d],g=Rc(f);if(g.rowPinned&&!af(g)){fe(59);continue}if(g.id===void 0){fe(60);continue}if(e&&f.destroyed)continue;this.groupSelectsFiltered&&g.group&&!l.get("treeData")||this.selectRowNode(g,e,s,o)&&(this.detailSelection.delete(g.id),u++),this.groupSelectsDescendants&&g.childrenAfterGroup?.length&&(u+=this.selectChildren(g,e,o))}return n||(i.length===1&&o==="api"&&this.selectionCtx.setRoot(Rc(i[0])),e&&(t||!this.isMultiSelect())&&(u+=this.clearOtherNodes(Rc(i[0]),r,o)),u>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),u}selectRange(e,t,n){let i=0;return e.forEach(s=>{const o=Rc(s);if(o.group&&this.groupSelectsDescendants)return;this.selectRowNode(o,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!En(n))return!1;const s=i.rootNode;if(!s)return!1;t||(t=new Oh(!0,s),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==s){const l=this.calculateSelectedFromChildren(r);o=this.selectRowNode(r,l===null?!1:l,void 0,e)||o}}),o}clearOtherNodes(e,t,n){const i=new Map;let s=0;return this.selectedNodes.forEach(o=>{const r=o.id==e.id;if((t?!zve(e,o):!0)&&!r){const u=this.selectedNodes.get(o.id);s+=this.setNodesSelected({nodes:[u],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&o.parent&&i.set(o.parent.id,o.parent)}}),i.forEach(o=>{const r=this.calculateSelectedFromChildren(o);this.selectRowNode(o,r===null?!1:r,void 0,n)}),s}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new la(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!En(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function s(o){for(let r=0,l=o.length;r<l;r++){const u=o[r];u.isSelected()?i.push(u):u.group&&u.childrenAfterGroup&&s(u.childrenAfterGroup)}}return s(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=En(this.gos);let i=!1;const s=o=>{const r=this.selectRowNode(Rc(o),!1,void 0,e);i||(i=r)};if(t==="currentPage"||t==="filtered"){if(!n){Lt(102);return}this.getNodesToSelect(t).forEach(s)}else this.selectedNodes.forEach(s),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(e);i||(i=o)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return w5(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=s=>t.push(s);if(e==="currentPage")return this.forEachNodeOnPage(s=>{if(!s.group){n(s);return}if(!s.expanded&&!s.footer){const o=r=>{n(r),r.childrenAfterFilter?.forEach(o)};o(s);return}this.groupSelectsDescendants||n(s)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),s=t.getLastRow();for(let o=i;o<=s;o++){const r=n.getRow(o);r&&e(r)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!rl(t)){fe(132);return}if(bte(t)&&!cm(t)){fe(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:s}=e;let o=!1;if(this.getNodesToSelect(s).forEach(r=>{const l=this.selectRowNode(Rc(r),!0,void 0,i);o||(o=l)}),n.selectAll=!0,En(t)&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(i);o||(o=r)}o&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Lt(103);return}const i=new Set(e),s=[];this.beans.rowModel.forEachNode(o=>{i.has(o.id)&&s.push(o)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:s,source:t})}canSelectAll(){return En(this.beans.gos)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!rl(t))return;const i="selectableChanged",s=e!==void 0,o=En(t)&&this.groupSelectsDescendants,r=[],l=u=>{if(s&&!u.group)return;if(o&&u.group){const f=u.childrenAfterGroup?.some(g=>g.selectable)??!1;this.setRowSelectable(u,f,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&r.push(u)};if(o){if(e===void 0){const u=n.rootNode;e=u?new Oh(!1,u):void 0}e?.forEachChangedNodeDepthFirst(l,!s,!s)}else n.forEachNode(l);r.length&&this.setNodesSelected({nodes:r,newValue:!1,source:i}),!s&&o&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const i=Gve(n);e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),i||this.detailSelection.set(e.id,new Set(n.getSelectedNodes().map(o=>o.id)))}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!cm(t)){fe(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const s=[];for(const o of i){const r=n.getRowNode(o);r&&s.push(r)}n.setNodesSelected({nodes:s,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Rc(e){return af(e)?e.pinnedSibling:e.footer?e.sibling:e}function Gve(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),w5(t,n)}function w5(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function zve(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function y5(e){const t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(y5)??!1;return t||n}var jve={moduleName:"SharedRowSelection",version:we,beans:[xve],css:[Eve],apiFunctions:{setNodesSelected:Tve,selectAll:Dve,deselectAll:Pve,selectAllFiltered:Ave,deselectAllFiltered:Fve,selectAllOnCurrentPage:Mve,deselectAllOnCurrentPage:kve,getSelectedNodes:Ive,getSelectedRows:Ove}},Uve={moduleName:"RowSelection",version:we,rowModels:["clientSide","infinite","viewport"],beans:[Bve],dependsOn:[jve]},Wve=class extends ae{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,s=this.getCellClassParams(e,n);ox(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,s,o=>t.toggleCss(o,!0),o=>t.toggleCss(o,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const s=this.getCellClassParams(e,t);i=n(s)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);for(const o of this.staticClasses)t.toggleCss(o,!1);const s=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=s;for(const o of s)t.toggleCss(o,!0)}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return ze(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},$ve=class extends ae{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){ox(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e){return new Wve(e,this.beans)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(s=>{n(s)})}},Kve={moduleName:"CellStyle",version:we,beans:[$ve]},qve={moduleName:"RowStyle",version:we,beans:[rue]},Yve={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,overlayComponent:!0,suppressOverlays:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},Mi="clientSide",oi="serverSide",xc="infinite",Xve={onGroupExpandedOrCollapsed:[Mi],refreshClientSideRowModel:[Mi],isRowDataEmpty:[Mi],forEachLeafNode:[Mi],forEachNodeAfterFilter:[Mi],forEachNodeAfterFilterAndSort:[Mi],resetRowHeights:[Mi,oi],applyTransaction:[Mi],applyTransactionAsync:[Mi],flushAsyncTransactions:[Mi],getBestCostNodeSelection:[Mi],getServerSideSelectionState:[oi],setServerSideSelectionState:[oi],applyServerSideTransaction:[oi],applyServerSideTransactionAsync:[oi],applyServerSideRowData:[oi],retryServerSideLoads:[oi],flushServerSideAsyncTransactions:[oi],refreshServerSide:[oi],getServerSideGroupLevelState:[oi],refreshInfiniteCache:[xc],purgeInfiniteCache:[xc],getInfiniteRowCount:[xc],isLastRowIndexKnown:[xc,oi],expandAll:[Mi,oi],collapseAll:[Mi,oi],onRowHeightChanged:[Mi,oi],setRowCount:[xc,oi],getCacheBlockState:[xc,oi]},Qve={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Zve(e,t,n){const i=Qve[e];if(i){const{version:o,new:r,old:l,message:u}=i,d=l??e;return(...f)=>{const g=r?`Please use ${r} instead. `:"";return eh(`Since ${o} api.${d} is deprecated. ${g}${u??""}`),t.apply(t,f)}}const s=Xve[e];return s?(...o)=>{const r=n.rowModel.getType();if(!s.includes(r)){Yc(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,o)}:t}var Jve={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agBigIntColumnFilterHandler:"BigIntFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},eCe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,aasc:1,adesc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},tCe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",overlayLoading:"Overlay",overlayExporting:"Overlay",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",richSelectLoading:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortAbsoluteAscending:["MenuCore","Sort"],sortAbsoluteDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},nCe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),iCe=class extends ae{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,cte(lde)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Yve[t]&&fe(22,{key:t})}processGridOptions(e){this.processOptions(e,cce())}validateApiFunction(e,t){return Zve(e,t,this.beans)}missingUserComponent(e,t,n,i){const s=su[t];s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):fe(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){const t=Jve[e];return t?yo(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){oCe.has(e)&&fe(10,{eventType:e})}validateIcon(e){if(nCe.has(e)&&fe(43,{iconName:e}),eCe[e])return;const t=tCe[e];if(t){Lt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:MR(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}fe(134,{iconName:e})}isProvidedUserComp(e){return!!su[e]}validateColDef(e){this.processOptions(e,Zle())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:s,propertyExceptions:o,objectName:r,docsUrl:l}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(i)],s,r,l);const u=new Set;if(Object.keys(e).forEach(f=>{const g=i[f];if(g){const{message:T,version:D}=g;u.add(`As of v${D}, ${String(f)} is deprecated. ${T??""}`)}const m=e[f];if(m==null||m===!1)return;const v=n[f];if(!v)return;const{dependencies:y,validate:S,supportedRowModels:R,expectedType:x}=v;if(x){const T=typeof m;if(T!==x){u.add(`${String(f)} should be of type '${x}' but received '${T}' (${m}).`);return}}if(R){const T=this.gridOptions.rowModelType??"clientSide";if(!R.includes(T)){u.add(`${String(f)} is not supported with the '${T}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(y){const T=this.checkForRequiredDependencies(f,y,e);if(T){u.add(T);return}}if(S){const T=S(e,this.gridOptions,this.beans);if(T){u.add(T);return}}}),u.size>0)for(const f of u)eh(f)}checkForRequiredDependencies(e,t,n){const s=Object.entries(t).filter(([o,r])=>{const l=n[o];return!r.required.includes(l)});return s.length===0?null:s.map(([o,r])=>`'${String(e)}' requires '${o}' to be one of [${r.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${r.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,s){const o=["__ob__","__v_skip","__metadata__"],r=sCe(Object.getOwnPropertyNames(e),[...o,...t,...n],n),l=Object.keys(r);for(const u of l){const d=r[u];let f=`invalid ${i} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(f+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),eh(f)}if(l.length>0&&s){const u=this.beans.frameworkOverrides.getDocLink(s);eh(`to see all the valid ${i} properties please check: ${u}`)}}};function sCe(e,t,n){const i={},s=e.filter(o=>!t.some(r=>r===o));if(s.length>0)for(const o of s)i[o]=LS({inputValue:o,allSuggestions:n}).values;return i}var oCe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),rCe={moduleName:"Validation",version:we,beans:[iCe]},Px={moduleName:"AllCommunity",version:we,dependsOn:[lhe,Fhe,lme,rCe,nge,ige,sge,oge,rge,age,lge,tge,$pe,Kpe,qpe,Ype,Wpe,Qpe,Zpe,Sme,pde,jme,lV,Pde,Ade,gve,phe,Foe,Xme,Uve,que,Kve,yhe,qve,gme,Que,rve,WV,mme,mve,Aoe,che,Rve]},aCe=class{wrap(e,t,n,i){const s=this.createWrapper(e,i);for(const o of t??[])this.createMethod(s,o,!0);for(const o of n??[])this.createMethod(s,o,!1);return s}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&fe(49,{methodName:t}),null)}}},lCe=class extends Q3{constructor(e){super(e,HR)}},ci=he.createContext({}),b5=he.createContext("default"),uf=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const o=e.newAgStackInstance();let r,l,u=!1;return o.then(d=>{if(u){t.destroyBean(d);return}r=d,l=r.getGui(),n.appendChild(l),mk(i,r)}),()=>{u=!0,r&&(l?.remove(),t.destroyBean(r),i&&mk(i,void 0))}},mk=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},ps=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),ws=class S5{constructor(...t){this.classesMap={};for(const n of t)this.classesMap[n]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const s=new S5;return s.classesMap={...this.classesMap},s.classesMap[t]=n,s}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Ou=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},qS=he.version?.split(".")[0],R5=qS==="16"||qS==="17";function cCe(){return qS==="19"}var Fp=!1;function uCe(e){return Fp||setTimeout(()=>Fp=!1,0),Fp=!0,e()}var _h=(e,t)=>{!R5&&e&&!Fp?U0.flushSync(t):t()},dCe=e=>{R5?e():he.startTransition(e)};function hCe(e,t,n){return he.useSyncExternalStore?he.useSyncExternalStore(e,t):n}function Dm(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],s=[],o=new Map,r=new Map;for(let l=0;l<t.length;l++){const u=t[l];r.set(u.instanceId,u)}for(let l=0;l<e.length;l++){const u=e[l];o.set(u.instanceId,u),r.has(u.instanceId)&&i.push(u)}for(let l=0;l<t.length;l++){const u=t[l],d=u.instanceId;o.has(d)||s.push(u)}return i.length===e.length&&s.length===0?e:i.length===0&&s.length===t.length?t:i.length===0?s:s.length===0?i:[...i,...s]}var x5=C.forwardRef((e,t)=>{const{registry:n,context:i}=C.useContext(ci),s=C.useRef(null),o=C.useRef(null),r=C.useRef(null),l=C.useRef(null),u=C.useRef(null),d=C.useRef(),[f,g]=C.useState(),[m,v]=C.useState(),[y,S]=C.useState(),[R,x]=C.useState(()=>new ws),[T,D]=C.useState(()=>new ws("ag-hidden")),[M,F]=C.useState(()=>new ws("ag-hidden")),[I,A]=C.useState(()=>new ws("ag-invisible"));C.useImperativeHandle(t,()=>({refresh(){return!1}})),C.useLayoutEffect(()=>uf(f,i,o.current),[f]);const O=C.useCallback($=>{if(s.current=$,!$||i.isDestroyed()){d.current=i.destroyBean(d.current);return}const N={setInnerRenderer:(ie,L)=>{g(ie),S(L)},setChildCount:ie=>v(ie),toggleCss:(ie,L)=>x(j=>j.setClass(ie,L)),setContractedDisplayed:ie=>F(L=>L.setClass("ag-hidden",!ie)),setExpandedDisplayed:ie=>D(L=>L.setClass("ag-hidden",!ie)),setCheckboxVisible:ie=>A(L=>L.setClass("ag-invisible",!ie)),setCheckboxSpacing:ie=>A(L=>L.setClass("ag-group-checkbox-spacing",ie))},X=n.createDynamicBean("groupCellRendererCtrl",!0);X&&(d.current=i.createBean(X),d.current.init(N,$,r.current,l.current,u.current,x5,e))},[]),_=C.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),B=C.useMemo(()=>`ag-group-expanded ${T.toString()}`,[T]),z=C.useMemo(()=>`ag-group-contracted ${M.toString()}`,[M]),q=C.useMemo(()=>`ag-group-checkbox ${I.toString()}`,[I]),oe=f?.componentFromFramework,ce=oe?f.componentClass:void 0,Y=f==null&&y!=null,V=Fu(y);return he.createElement("span",{className:_,ref:O,...e.colDef?{}:{role:d.current?.getCellAriaRole()}},he.createElement("span",{className:B,ref:l}),he.createElement("span",{className:z,ref:u}),he.createElement("span",{className:q,ref:r}),he.createElement("span",{className:"ag-group-value",ref:o},Y?V:oe?he.createElement(ce,{...f.params}):null),he.createElement("span",{className:"ag-group-child-count"},m))}),vk=x5,Ax=C.createContext({setMethods:()=>{}}),fCe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:s}=e,[{key:o,...r},l]=C.useState(t);return C.useEffect(()=>{n(u=>l(u))},[]),he.createElement(Ax.Provider,{value:{setMethods:s}},he.createElement(i,{key:o,...r}))},gCe=C.memo(fCe),pCe=0;function Ck(){return`agPortalKey_${++pCe}`}var E5=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Ck(),this.portalKey=Ck(),this.instanceCreated=this.isStatelessComponent()?pt.resolve(!1):new pt(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new pt(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=qh.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return C.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Sv(e,t,n){for(const i of e){const s=t[i];s&&(n[i]=s)}}var Ts=class extends E5{constructor(){super(...arguments),this.awaitUpdateCallback=new pt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=gCe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new pt(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Sv(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new pt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},mCe=class extends Ts{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},vCe=class extends Ts{refresh(e){this.sourceParams=e,this.refreshProps()}},CCe=class extends Ts{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},wCe=class extends Ts{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},yCe=class extends Ts{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new pt(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new pt(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},bCe=class extends Ts{constructor(){super(...arguments),this.awaitSetMethodsCallback=new pt(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function T5(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||pt.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var SCe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Sv(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),T5(this.floatingFilterParams,e)}},RCe=class extends Ts{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),T5(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},xCe=class extends Ts{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},ECe=class extends Ts{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},TCe=class extends Ts{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},DCe=class extends Ts{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},PCe=class extends Ts{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Fx(){fe(231)}var ACe=1e3,FCe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||ACe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){_h(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},MCe=he.createContext([]),kCe=he.createContext(void 0),ICe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=C.useContext(ci),[i,s]=C.useState(),[o,r]=C.useState(),l=C.useRef(),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),g=C.useRef(),m=C.useRef();t&&!m.current&&(m.current=new tf(()=>u.current));const v=C.useCallback(x=>{if(u.current=x,!x||!e.isAlive()||n.isDestroyed()){l.current=n.destroyBean(l.current);return}l.current=n.createBean(new Iu);const T=()=>{const M=e.getSelectAllGui();M&&(d.current?.insertAdjacentElement("afterend",M),l.current.addDestroyFunc(()=>M.remove()))},D={setWidth:M=>{u.current&&(u.current.style.width=M)},toggleCss:(M,F)=>m.current.toggleCss(M,F),setUserStyles:M=>r(M),setAriaSort:M=>{u.current&&(M?Aee(u.current,M):Fee(u.current))},setUserCompDetails:M=>s(M),getUserCompInstance:()=>g.current||void 0,refreshSelectAllGui:T,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(D,x,d.current,f.current,l.current),T()},[]);C.useLayoutEffect(()=>uf(i,n,f.current,g),[i]),C.useEffect(()=>{e.setDragSource(u.current)},[i]);const y=C.useMemo(()=>!!(i?.componentFromFramework&&Ou(i.componentClass)),[i]),S=i?.componentFromFramework,R=i?.componentClass;return he.createElement("div",{ref:v,style:o,className:"ag-header-cell",role:"columnheader"},he.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),he.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},S?y?he.createElement(R,{...i.params}):he.createElement(R,{...i.params,ref:g}):null))},OCe=C.memo(ICe),LCe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Sv(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},_Ce=({ctrl:e})=>{const{context:t,gos:n}=C.useContext(ci),[i,s]=C.useState(),[o,r]=C.useState(()=>new ws("ag-header-cell","ag-floating-filter")),[l,u]=C.useState(()=>new ws),[d,f]=C.useState(()=>new ws("ag-floating-filter-button","ag-hidden")),[g,m]=C.useState("false"),[v,y]=C.useState(),[,S]=C.useState(1),R=C.useRef(),x=C.useRef(null),T=C.useRef(null),D=C.useRef(null),M=C.useRef(null),F=C.useRef(),I=C.useRef(),A=ie=>{ie!=null&&F.current?.(ie)},O=C.useCallback(ie=>{if(x.current=ie,!ie||!e.isAlive()||t.isDestroyed()){R.current=t.destroyBean(R.current);return}R.current=t.createBean(new Iu),I.current=new pt(j=>{F.current=j});const L={toggleCss:(j,Q)=>r(re=>re.setClass(j,Q)),setUserStyles:j=>s(j),addOrRemoveBodyCssClass:(j,Q)=>u(re=>re.setClass(j,Q)),setButtonWrapperDisplayed:j=>{f(Q=>Q.setClass("ag-hidden",!j)),m(j?"false":"true")},setWidth:j=>{x.current&&(x.current.style.width=j)},setCompDetails:j=>y(j),getFloatingFilterComp:()=>I.current?I.current:null,setMenuIcon:j=>M.current?.appendChild(j)};e.setComp(L,ie,M.current,T.current,R.current)},[]);C.useLayoutEffect(()=>uf(v,t,T.current,A),[v]);const _=C.useMemo(()=>o.toString(),[o]),B=C.useMemo(()=>l.toString(),[l]),z=C.useMemo(()=>d.toString(),[d]),q=C.useMemo(()=>!!(v&&v.componentFromFramework&&Ou(v.componentClass)),[v]),oe=C.useMemo(()=>n.get("reactiveCustomComponents"),[]),ce=C.useMemo(()=>n.get("enableFilterHandlers"),[]),[Y,V]=C.useState();C.useEffect(()=>{if(v?.componentFromFramework)if(oe){const ie=ce?LCe:SCe,L=new ie(v.params,()=>S(j=>j+1));A(L),V(L)}else Fx()},[v]);const $=Y?.getProps(),N=v?.componentFromFramework,X=v?.componentClass;return he.createElement("div",{ref:O,style:i,className:_,role:"gridcell"},he.createElement("div",{ref:T,className:B,role:"presentation"},N?oe?$&&he.createElement(Ax.Provider,{value:{setMethods:ie=>Y.setMethods(ie)}},he.createElement(X,{...$})):he.createElement(X,{...v.params,ref:q?()=>{}:A}):null),he.createElement("div",{ref:D,"aria-hidden":g,className:z,role:"presentation"},he.createElement("button",{ref:M,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},NCe=C.memo(_Ce),VCe=({ctrl:e})=>{const{context:t}=C.useContext(ci),[n,i]=C.useState(),[s,o]=C.useState(()=>new ws),[r,l]=C.useState(()=>new ws),[u,d]=C.useState("false"),[f,g]=C.useState(),[m,v]=C.useState(),y=C.useRef(),S=C.useRef(null),R=C.useRef(null),x=C.useRef(null),T=C.useRef(),D=C.useCallback(_=>{if(S.current=_,!_||!e.isAlive()||t.isDestroyed()){y.current=t.destroyBean(y.current);return}y.current=t.createBean(new Iu);const B={setWidth:z=>{S.current&&(S.current.style.width=z)},toggleCss:(z,q)=>o(oe=>oe.setClass(z,q)),setUserStyles:z=>i(z),setHeaderWrapperHidden:z=>{const q=x.current;q&&(z?q.style.setProperty("display","none"):q.style.removeProperty("display"))},setHeaderWrapperMaxHeight:z=>{const q=x.current;q&&(z!=null?q.style.setProperty("max-height",`${z}px`):q.style.removeProperty("max-height"),q.classList.toggle("ag-header-cell-comp-wrapper-limited-height",z!=null))},setUserCompDetails:z=>v(z),setResizableDisplayed:z=>{l(q=>q.setClass("ag-hidden",!z)),d(z?"false":"true")},setAriaExpanded:z=>g(z),getUserCompInstance:()=>T.current||void 0};e.setComp(B,_,R.current,x.current,y.current)},[]);C.useLayoutEffect(()=>uf(m,t,x.current),[m]),C.useEffect(()=>{S.current&&e.setDragSource(S.current)},[m]);const M=C.useMemo(()=>!!(m?.componentFromFramework&&Ou(m.componentClass)),[m]),F=C.useMemo(()=>"ag-header-group-cell "+s.toString(),[s]),I=C.useMemo(()=>"ag-header-cell-resize "+r.toString(),[r]),A=m?.componentFromFramework,O=m?.componentClass;return he.createElement("div",{ref:D,style:n,className:F,role:"columnheader","aria-expanded":f},he.createElement("div",{ref:x,className:"ag-header-cell-comp-wrapper",role:"presentation"},A?M?he.createElement(O,{...m.params}):he.createElement(O,{...m.params,ref:T}):null),he.createElement("div",{ref:R,"aria-hidden":u,className:I}))},HCe=C.memo(VCe),BCe=({ctrl:e})=>{const{gos:t,context:n}=C.useContext(ci),{topOffset:i,rowHeight:s}=C.useMemo(()=>e.getTopAndHeight(),[]),o=C.useMemo(()=>t.get("tabIndex"),[]),[r,l]=C.useState(()=>e.getAriaRowIndex()),u=e.headerRowClass,[d,f]=C.useState(()=>s+"px"),[g,m]=C.useState(()=>i+"px"),v=C.useRef(null),[y,S]=C.useState(()=>e.getUpdatedHeaderCtrls()),R=C.useRef(),x=C.useRef(null),T=C.useCallback(F=>{if(x.current=F,!F||!e.isAlive()||n.isDestroyed()){R.current=n.destroyBean(R.current);return}R.current=n.createBean(new Iu);const I={setHeight:A=>f(A),setTop:A=>m(A),setHeaderCtrls:(A,O,_)=>{const B=v.current,z=Dm(B,A,O);z!==B&&(v.current=z,_h(_,()=>S(z)))},setWidth:A=>{x.current&&(x.current.style.width=A)},setRowIndex:A=>{l(A)}};e.setComp(I,R.current,!1)},[]),D=C.useMemo(()=>({height:d,top:g}),[d,g]),M=C.useCallback(F=>{switch(e.type){case"group":return he.createElement(HCe,{ctrl:F,key:F.instanceId});case"filter":return he.createElement(NCe,{ctrl:F,key:F.instanceId});default:return he.createElement(OCe,{ctrl:F,key:F.instanceId})}},[]);return he.createElement("div",{ref:T,className:u,role:"row",style:D,tabIndex:o,"aria-rowindex":r},y.map(M))},GCe=C.memo(BCe),zCe=({pinned:e})=>{const[t,n]=C.useState(!0),[i,s]=C.useState([]),{context:o}=C.useContext(ci),r=C.useRef(null),l=C.useRef(null),u=C.useRef(),d=e==="left",f=e==="right",g=!d&&!f,m=C.useCallback(S=>{if(r.current=S,!S||o.isDestroyed()){u.current=o.destroyBean(u.current);return}u.current=o.createBean(new Iie(e));const R={setDisplayed:n,setCtrls:x=>s(x),setCenterWidth:x=>{l.current&&(l.current.style.width=x)},setViewportScrollLeft:x=>{r.current&&(r.current.scrollLeft=x)},setPinnedContainerWidth:x=>{r.current&&(r.current.style.width=x,r.current.style.minWidth=x,r.current.style.maxWidth=x)}};u.current.setComp(R,r.current)},[]),v=t?"":"ag-hidden",y=()=>i.map(S=>he.createElement(GCe,{ctrl:S,key:S.instanceId}));return d?he.createElement("div",{ref:m,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},y()):f?he.createElement("div",{ref:m,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},y()):g?he.createElement("div",{ref:m,className:"ag-header-viewport "+v,role:"rowgroup",tabIndex:-1},he.createElement("div",{ref:l,className:"ag-header-container",role:"presentation"},y())):null},ub=C.memo(zCe),jCe=()=>{const[e,t]=C.useState(()=>new ws),[n,i]=C.useState(),{context:s}=C.useContext(ci),o=C.useRef(null),r=C.useRef(),l=C.useCallback(f=>{if(o.current=f,!f||s.isDestroyed()){r.current=s.destroyBean(r.current);return}r.current=s.createBean(new Eie);const g={toggleCss:(m,v)=>t(y=>y.setClass(m,v)),setHeightAndMinHeight:m=>i(m)};r.current.setComp(g,f,f)},[]),u=C.useMemo(()=>"ag-header "+e.toString(),[e]),d=C.useMemo(()=>({height:n,minHeight:n}),[n]);return he.createElement("div",{ref:l,className:u,style:d,role:"presentation"},he.createElement(ub,{pinned:"left"}),he.createElement(ub,{pinned:null}),he.createElement(ub,{pinned:"right"}))},UCe=C.memo(jCe),WCe=(e,t)=>{C.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const s=document.createComment(e);return i.insertBefore(s,n),()=>{s.remove()}}}},[e])},Xa=WCe,$Ce=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new pt(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Sv(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},KCe=e=>{const t=C.useRef(e),n=C.useRef(),i=C.useRef(!1),s=C.useRef(!1),[,o]=C.useState(0);i.current&&(s.current=!0),C.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),o(r=>r+1),()=>{s.current&&n.current?.()}),[])},qCe=e=>{const[t,n]=C.useState(),i=C.useContext(ci),{context:s,popupSvc:o,gos:r,editSvc:l}=i,{editDetails:u,cellCtrl:d,eParentCell:f}=e;return KCe(()=>{const{compDetails:g}=u,m=r.get("stopEditingWhenCellsLoseFocus");let v,y;if(!s.isDestroyed()){y=s.createBean(l.createPopupEditorWrapper(g.params));const S=y.getGui();if(e.jsChildComp){const F=e.jsChildComp.getGui();F&&S.appendChild(F)}const{column:R,rowNode:x}=d,T={column:R,rowNode:x,type:"popupCellEditor",eventSource:f,ePopup:S,position:u.popupPosition,keepWithinBounds:!0},D=o?.positionPopupByComponent.bind(o,T),M=o?.addPopup({modal:m,eChild:S,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:f,positionCallback:D,ariaOwns:f});v=M?M.hideFunc:void 0,n(y),e.jsChildComp?.afterGuiAttached?.()}return()=>{v?.(),s.destroyBean(y)}}),C.useLayoutEffect(()=>()=>{d.isCellFocused()&&t?.getGui().contains(nn(i))&&f.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?qh.createPortal(e.wrappedContent,t.getGui()):null},wk=C.memo(qCe),YCe=(e,t,n)=>{const{compProxy:i}=e;n(i);const s=i.getProps(),o=Ou(t);return he.createElement(Ax.Provider,{value:{setMethods:r=>i.setMethods(r)}},o?he.createElement(t,{...s}):he.createElement(t,{...s,ref:r=>i.setRef(r)}))},yk=(e,t,n)=>e.compProxy?YCe(e,t,n):he.createElement(t,{...e.compDetails.params,ref:n}),XCe=(e,t,n,i,s)=>{const o=e.compDetails,r=o.componentClass,l=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,d=!o.componentFromFramework&&e.popup;return l?yk(e,r,t):u?he.createElement(wk,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:yk(e,r,t)}):d&&s?he.createElement(wk,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:s}):null},QCe=(e,t,n,i,s,o,r=!1)=>{const{context:l}=C.useContext(ci),u=C.useCallback(()=>{const d=s.current;if(!d)return;const f=d.getGui();f&&f.parentElement&&f.remove(),l.destroyBean(d),s.current=void 0},[]);C.useEffect(()=>{const d=e!=null&&!r,f=e?.compDetails&&!e.compDetails.componentFromFramework,g=t&&n==null;if(!(d&&f&&!g)){u();return}const v=e.compDetails;if(s.current){const S=s.current,x=S.refresh!=null&&e.force==!1?S.refresh(v.params):!1;if(x===!0||x===void 0)return;u()}v.newAgStackInstance().then(S=>{if(!S)return;const R=S.getGui();if(!R)return;(t?n:o.current).appendChild(R),s.current=S})},[e,t,i,r]),C.useEffect(()=>u,[])},D5=QCe,ZCe=({cellCtrl:e,parent:t})=>{const n=C.useRef(),i=C.useMemo(()=>{const{loadingComp:s}=e.getDeferLoadingCellRenderer();return s?{value:void 0,compDetails:s,force:!1}:void 0},[e]);if(D5(i,!1,void 0,1,n,t),i?.compDetails?.componentFromFramework){const s=i.compDetails.componentClass;return he.createElement(s,{...i.compDetails.params})}return he.createElement(he.Fragment,null)},JCe=({cellCtrl:e,printLayout:t,editingCell:n})=>{const i=C.useContext(ci),{context:s}=i,{column:{colIdSanitised:o},instanceId:r}=e,l=C.useRef(),[u,d]=C.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,g]=C.useState(),[m,v]=C.useState(1),[y,S]=C.useState(),[R,x]=C.useState(!1),[T,D]=C.useState(!1),[M,F]=C.useState(!1),[I,A]=C.useState(),O=C.useMemo(()=>e.isForceWrapper(),[e]),_=C.useMemo(()=>e.getCellAriaRole(),[e]),B=C.useRef(null),z=C.useRef(null),q=C.useRef(null),oe=C.useRef(),ce=C.useRef(),Y=C.useRef(),V=C.useRef([]),$=C.useRef(),N=C.useRef(),[X,ie]=C.useState(0),L=C.useCallback(Le=>{N.current=Le,ie(Je=>Je+1)},[]),j=u!=null&&(R||M||T)&&(f==null||!!f.popup),Q=O||j,re=C.useMemo(()=>e.getCellValueClass(),[e]),me=C.useCallback(Le=>{if(ce.current=Le,Le){const Je=Le.isCancelBeforeStart&&Le.isCancelBeforeStart();setTimeout(()=>{Je?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(Le))})}},[e]),Ce=C.useRef();Ce.current||(Ce.current=new tf(()=>B.current));const pe=!!f&&!f.popup;D5(u,Q,N.current,X,oe,B,pe);const Ue=C.useRef();C.useLayoutEffect(()=>{const Le=Ue.current,Je=u;if(Ue.current=u,Le==null||Le.compDetails==null||Je==null||Je.compDetails==null)return;$.current?.refreshVisibility();const nt=Le.compDetails,st=Je.compDetails;if(nt.componentClass!=st.componentClass||q.current?.refresh==null)return;q.current.refresh(st.params)!=!0&&v(et=>et+1)},[u]),C.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework)||s.isDestroyed())return;const Je=f.compDetails,nt=f.popup===!0,st=Je.newAgStackInstance();return st.then(xe=>{if(!xe)return;const et=xe.getGui();me(xe),nt||((O?Y:B).current?.appendChild(et),xe.afterGuiAttached?.()),A(xe)}),()=>{st.then(xe=>{const et=xe.getGui();e.disableEditorTooltipFeature(),s.destroyBean(xe),me(void 0),A(void 0),et?.remove()})}},[f]);const qe=C.useCallback(Le=>{if(Y.current=Le,!Le||s.isDestroyed()||!e.isAlive()){const st=V.current;V.current=[];for(const xe of st)xe();return}let Je;const nt=st=>{st&&(Le.insertAdjacentElement("afterbegin",st.getGui()),V.current.push(()=>{sa(st.getGui()),s.destroyBean(st),$.current===Je&&($.current=void 0)}))};R&&nt(e.createSelectionCheckbox()),M&&nt(e.createDndSource()),T&&(Je=e.createRowDragComp(),$.current=Je,Je&&(nt(Je),Je.refreshVisibility()))},[e,s,M,T,R]),Ve=C.useCallback(()=>{const Le=!e.isCellSpanning()||z.current,Je=B.current;if(!Je||!Le||!e||!e.isAlive()||s.isDestroyed()){l.current=s.destroyBean(l.current);return}l.current=s.createBean(new Iu);const nt={toggleCss:(xe,et)=>Ce.current.toggleCss(xe,et),setUserStyles:xe=>S(xe),getFocusableElement:()=>B.current,setIncludeSelection:xe=>x(xe),setIncludeRowDrag:xe=>D(xe),setIncludeDndSource:xe=>F(xe),getCellEditor:()=>ce.current??null,getCellRenderer:()=>q.current??oe.current,getParentOfValue:()=>N.current??Y.current??B.current,setRenderDetails:(xe,et,yt)=>{const Ye=()=>{d(it=>it?.compDetails!==xe||it?.value!==et||it?.force!==yt?{value:et,compDetails:xe,force:yt}:it)};if(xe?.params?.deferRender&&!e.rowNode.group){const{loadingComp:it,onReady:Ht}=e.getDeferLoadingCellRenderer();if(it){d({value:void 0,compDetails:it,force:!1}),Ht.then(()=>dCe(Ye));return}}Ye()},setEditDetails:(xe,et,yt,Ye)=>{if(xe){let it;xe.componentFromFramework&&(Ye?it=new $Ce(xe.params,()=>v(Ht=>Ht+1)):Fx()),g({compDetails:xe,popup:et,popupPosition:yt,compProxy:it}),et||d(void 0)}else e.hasBrowserFocus()&&nt.getFocusableElement().focus({preventScroll:!0}),ce.current=void 0,g(void 0)},refreshEditStyles:(xe,et)=>{if(!B.current)return;const{current:yt}=Ce;yt.toggleCss("ag-cell-value",!Q),yt.toggleCss("ag-cell-inline-editing",!!xe&&!et),yt.toggleCss("ag-cell-popup-editing",!!xe&&!!et),yt.toggleCss("ag-cell-not-inline-editing",!xe||!!et)}},st=Y.current||void 0;e.setComp(nt,Je,z.current??void 0,st,t,n,l.current)},[]),mt=C.useCallback(Le=>{B.current=Le,Ve()},[]),Ne=C.useCallback(Le=>{z.current=Le,Ve()},[]),at=C.useMemo(()=>!!(u?.compDetails?.componentFromFramework&&Ou(u.compDetails.componentClass)),[u]);C.useLayoutEffect(()=>{if(!B.current)return;const{current:Le}=Ce;Le.toggleCss("ag-cell-value",!Q),Le.toggleCss("ag-cell-inline-editing",!!f&&!f.popup),Le.toggleCss("ag-cell-popup-editing",!!f&&!!f.popup),Le.toggleCss("ag-cell-not-inline-editing",!f||!!f.popup)});const Dt=()=>{const{compDetails:Le,value:Je}=u;if(!Le)return Je?.toString?.()??Je;if(Le.componentFromFramework){const nt=Le.componentClass;return he.createElement(C.Suspense,{fallback:he.createElement(ZCe,{cellCtrl:e,parent:B})},at?he.createElement(nt,{...Le.params,key:m}):he.createElement(nt,{...Le.params,key:m,ref:q}))}},It=()=>{const Le=()=>u==null?null:Q?he.createElement("span",{role:"presentation",id:`cell-${r}`,className:re,ref:L},Dt()):Dt(),Je=nt=>XCe(nt,me,B.current,e,I);return f!=null?f.popup?he.createElement(he.Fragment,null,Le(),Je(f)):Je(f):Le()},Ot=()=>he.createElement("div",{ref:mt,style:y,role:_,"col-id":o},Q?he.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:qe},It()):It());return e.isCellSpanning()?he.createElement("div",{ref:Ne,className:"ag-spanned-cell-wrapper",role:"presentation"},Ot()):Ot()},ewe=C.memo(JCe),twe=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i,editSvc:s}=C.useContext(ci),o=C.useContext(b5)==="default",r=C.useRef(),l=C.useRef(e.getDomOrder()),u=e.isFullWidth(),d=e.rowNode.displayed,[f,g]=C.useState(()=>d?e.rowNode.getRowIndexString():null),[m,v]=C.useState(()=>e.rowId),[y,S]=C.useState(()=>e.businessKey),[R,x]=C.useState(()=>e.rowStyles),T=C.useRef(null),[D,M]=C.useState(()=>null),[F,I]=C.useState(),[A,O]=C.useState(()=>d?e.getInitialRowTop(t):void 0),[_,B]=C.useState(()=>d?e.getInitialTransform(t):void 0),z=C.useRef(null),q=C.useRef(),oe=C.useRef(),ce=C.useRef(!1),[Y,V]=C.useState(0);C.useEffect(()=>{if(ce.current||!F||Y>10)return;const Ve=z.current?.firstChild;Ve?(e.setupDetailRowAutoHeight(Ve),ce.current=!0):V(mt=>mt+1)},[F,Y]);const $=C.useRef();$.current||($.current=new tf(()=>z.current));const N=C.useRef(()=>{}),X=C.useCallback(Ve=>(N.current=Ve,()=>{N.current=()=>{}}),[]),ie=hCe(X,()=>T.current,[]),L=o?ie:D,j=C.useCallback(Ve=>{if(z.current=Ve,r.current=Ve?n.createBean(new Iu):n.destroyBean(r.current),!Ve){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;const mt={setTop:O,setTransform:B,toggleCss:(Ne,at)=>$.current.toggleCss(Ne,at),setDomOrder:Ne=>l.current=Ne,setRowIndex:g,setRowId:v,setRowBusinessKey:S,setUserStyles:x,setCellCtrls:(Ne,at)=>{const Dt=T.current,It=Dm(Dt,Ne,l.current);It!==Dt&&(T.current=It,o?N.current():_h(at,()=>M(It)))},showFullWidth:Ne=>{oe.current=Ne.params,I(Ne)},getFullWidthCellRenderer:()=>q.current,getFullWidthCellRendererParams:()=>oe.current,refreshFullWidth:Ne=>{const at=Ne();return oe.current=at,pe.current?(I(Dt=>({...Dt,params:at})),!0):!q.current||!q.current.refresh?!1:q.current.refresh(at)}};e.setComp(mt,Ve,t,r.current)},[]);C.useLayoutEffect(()=>uf(F,n,z.current,q),[F]);const Q=C.useMemo(()=>{const Ve={top:A,transform:_};return Object.assign(Ve,R),Ve},[A,_,R]),re=u&&F?.componentFromFramework,me=!u&&L!=null,Ce=C.useMemo(()=>!!(F?.componentFromFramework&&Ou(F.componentClass)),[F]),pe=C.useRef(!1);C.useEffect(()=>{pe.current=Ce&&!!F&&!!i.get("reactiveCustomComponents")},[Ce,F]);const Ue=()=>L?.map(Ve=>he.createElement(ewe,{cellCtrl:Ve,editingCell:s?.isEditing(Ve,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:Ve.instanceId})),qe=()=>{const Ve=F.componentClass;return Ce?he.createElement(Ve,{...F.params}):he.createElement(Ve,{...F.params,ref:q})};return he.createElement("div",{ref:j,role:"row",style:Q,"row-index":f,"row-id":m,"row-business-key":y},me?Ue():re?qe():null)},bk=C.memo(twe),nwe=({name:e})=>{const{context:t,gos:n}=C.useContext(ci),i=C.useMemo(()=>rf(e),[e]),s=C.useRef(null),o=C.useRef(null),r=C.useRef(null),l=C.useRef([]),u=C.useRef([]),[d,f]=C.useState(()=>[]),g=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,m=C.useRef([]),v=C.useRef([]),[y,S]=C.useState(()=>[]),R=C.useRef(!1),x=C.useRef(),T=C.useMemo(()=>ps("ag-viewport",K3(e)),[e]),D=C.useMemo(()=>ps(q3(e)),[e]),M=C.useMemo(()=>ps("ag-spanning-container",Mse(e)),[e]),F=i.type==="center"||g,I=F?s:o;Xa(" AG Row Container "+e+" ",I);const A=C.useCallback(()=>{const Y=!F||s.current!=null,V=o.current!=null,$=!g||r.current!=null;return Y&&V&&$},[]),O=C.useCallback(()=>s.current==null&&o.current==null&&r.current==null,[]),_=C.useCallback(()=>{if(O()&&(x.current=t.destroyBean(x.current)),!t.isDestroyed()&&A()){const Y=N=>{const X=Dm(u.current,l.current,R.current);X!==u.current&&(u.current=X,_h(N,()=>f(X)))},V=N=>{const X=Dm(v.current,m.current,R.current);X!==v.current&&(v.current=X,_h(N,()=>S(X)))},$={setHorizontalScroll:N=>{s.current&&(s.current.scrollLeft=N)},setViewportHeight:N=>{s.current&&(s.current.style.height=N)},setRowCtrls:({rowCtrls:N,useFlushSync:X})=>{const ie=!!X&&l.current.length>0&&N.length>0;l.current=N,Y(ie)},setSpannedRowCtrls:(N,X)=>{const ie=!!X&&m.current.length>0&&N.length>0;m.current=N,V(ie)},setDomOrder:N=>{R.current!=N&&(R.current=N,Y(!1))},setContainerWidth:N=>{o.current&&(o.current.style.width=N)},setOffsetTop:N=>{o.current&&(o.current.style.transform=`translateY(${N})`)}};x.current=t.createBean(new Gse(e)),x.current.setComp($,o.current,r.current??void 0,s.current)}},[A,O]),B=C.useCallback(Y=>{o.current=Y,_()},[_]),z=C.useCallback(Y=>{r.current=Y,_()},[_]),q=C.useCallback(Y=>{s.current=Y,_()},[_]),oe=()=>he.createElement("div",{className:D,ref:B,role:F?"presentation":"rowgroup"},d.map(Y=>he.createElement(bk,{rowCtrl:Y,containerType:i.type,key:Y.instanceId})));if(!F)return oe();const ce=()=>he.createElement("div",{className:M,ref:z,role:"presentation"},y.map(Y=>he.createElement(bk,{rowCtrl:Y,containerType:i.type,key:Y.instanceId})));return he.createElement("div",{className:T,ref:q,role:"rowgroup"},oe(),g?ce():null)},iwe=C.memo(nwe),swe=()=>{const e=C.useContext(ci),{context:t,overlays:n}=e,[i,s]=C.useState(""),[o,r]=C.useState(0),[l,u]=C.useState(0),[d,f]=C.useState("0px"),[g,m]=C.useState("0px"),[v,y]=C.useState("100%"),[S,R]=C.useState("0px"),[x,T]=C.useState("0px"),[D,M]=C.useState("100%"),[F,I]=C.useState(!0),[A,O]=C.useState(!0),[_,B]=C.useState(null),[z,q]=C.useState(""),[oe,ce]=C.useState(null),[Y,V]=C.useState("ag-layout-normal"),$=C.useRef();$.current||($.current=new tf(()=>N.current));const N=C.useRef(null),X=C.useRef(null),ie=C.useRef(null),L=C.useRef(null),j=C.useRef(null),Q=C.useRef(null),re=C.useRef(null),me=C.useRef([]),Ce=C.useRef([]);Xa(" AG Grid Body ",N),Xa(" AG Pinned Top ",X),Xa(" AG Sticky Top ",ie),Xa(" AG Middle ",Q),Xa(" AG Pinned Bottom ",re);const pe=C.useCallback(xe=>{if(N.current=xe,!xe||t.isDestroyed()){me.current=t.destroyBeans(me.current);for(const Be of Ce.current)Be();Ce.current=[];return}const et=(Be,Ze)=>{Be.appendChild(Ze),Ce.current.push(()=>Ze.remove())},yt=Be=>{const Ze=t.createBean(new Be);return me.current.push(Ze),Ze},Ye=(Be,Ze,qt)=>{et(Be,document.createComment(qt)),et(Be,yt(Ze).getGui())};Ye(xe,Cse," AG Fake Horizontal Scroll ");const it=n?.getOverlayWrapperCompClass();it&&Ye(xe,it," AG Overlay Wrapper "),j.current&&Ye(j.current,yse," AG Fake Vertical Scroll ");const Ht={setRowAnimationCssOnBodyViewport:s,setColumnCount:Be=>{N.current&&Dee(N.current,Be)},setRowCount:Be=>{N.current&&Eee(N.current,Be)},setTopHeight:r,setBottomHeight:u,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:y,setTopInvisible:I,setBottomInvisible:O,setColumnMovingCss:(Be,Ze)=>$.current.toggleCss(Be,Ze),updateLayoutClasses:V,setAlwaysVerticalScrollClass:B,setPinnedTopBottomOverflowY:q,setCellSelectableCss:(Be,Ze)=>ce(Ze?Be:null),setBodyViewportWidth:Be=>{Q.current&&(Q.current.style.width=Be)},registerBodyViewportResizeListener:Be=>{if(Q.current){const Ze=hr(e,Q.current,Be);Ce.current.push(()=>Ze())}},setStickyBottomHeight:R,setStickyBottomBottom:T,setStickyBottomWidth:M,setGridRootRole:Be=>xe.setAttribute("role",Be)},je=t.createBean(new Wse);me.current.push(je),je.setComp(Ht,xe,Q.current,X.current,re.current,ie.current,L.current)},[]),Ue=C.useMemo(()=>ps("ag-root","ag-unselectable",Y),[Y]),qe=C.useMemo(()=>ps("ag-body-viewport",i,Y,_,oe),[i,Y,_,oe]),Ve=C.useMemo(()=>ps("ag-body",Y),[Y]),mt=C.useMemo(()=>ps("ag-floating-top",F?"ag-invisible":null,oe),[oe,F]),Ne=C.useMemo(()=>ps("ag-sticky-top",oe),[oe]),at=C.useMemo(()=>ps("ag-sticky-bottom",S==="0px"?"ag-invisible":null,oe),[oe,S]),Dt=C.useMemo(()=>ps("ag-floating-bottom",A?"ag-invisible":null,oe),[oe,A]),It=C.useMemo(()=>({height:o,minHeight:o,overflowY:z}),[o,z]),Ot=C.useMemo(()=>({height:d,top:g,width:v}),[d,g,v]),Le=C.useMemo(()=>({height:S,bottom:x,width:D}),[S,x,D]),Je=C.useMemo(()=>({height:l,minHeight:l,overflowY:z}),[l,z]),nt=xe=>he.createElement(iwe,{name:xe,key:`${xe}-container`}),st=({section:xe,children:et,className:yt,style:Ye})=>he.createElement("div",{ref:xe,className:yt,role:"presentation",style:Ye},et.map(nt));return he.createElement("div",{ref:pe,className:Ue},he.createElement(UCe,null),st({section:X,className:mt,style:It,children:["topLeft","topCenter","topRight","topFullWidth"]}),he.createElement("div",{className:Ve,ref:j,role:"presentation"},st({section:Q,className:qe,children:["left","center","right","fullWidth"]})),st({section:ie,className:Ne,style:Ot,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),st({section:L,className:at,style:Le,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),st({section:re,className:Dt,style:Je,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},owe=C.memo(swe),rwe=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:s,gridCtrl:o,forceFocusOutWhenTabGuardsAreEmpty:r,isEmpty:l}=e,{context:u}=C.useContext(ci),d=C.useRef(null),f=C.useRef(null),g=C.useRef(),m=x=>{const T=x==null?void 0:parseInt(x,10).toString();for(const D of[d,f])T===void 0?D.current?.removeAttribute("tabindex"):D.current?.setAttribute("tabindex",T)};C.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){g.current?.forceFocusOutOfContainer(x)}}));const v=C.useCallback(()=>{const x=d.current,T=f.current;if(!x&&!T||u.isDestroyed()){g.current=u.destroyBean(g.current);return}if(x&&T){const D={setTabIndex:m};g.current=u.createBean(new lCe({comp:D,eTopGuard:x,eBottomGuard:T,eFocusableElement:i,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:r,focusInnerElement:M=>o.focusInnerElement(M),isEmpty:l}))}},[]),y=C.useCallback(x=>{d.current=x,v()},[v]),S=C.useCallback(x=>{f.current=x,v()},[v]),R=x=>{const T=x==="top"?iu.TAB_GUARD_TOP:iu.TAB_GUARD_BOTTOM;return he.createElement("div",{className:`${iu.TAB_GUARD} ${T}`,role:"presentation",ref:x==="top"?y:S})};return he.createElement(he.Fragment,null,R("top"),n,R("bottom"))},awe=C.forwardRef(rwe),lwe=C.memo(awe),cwe=({context:e})=>{const[t,n]=C.useState(""),[i,s]=C.useState(""),[o,r]=C.useState(null),[l,u]=C.useState(null),[d,f]=C.useState(!1),[g,m]=C.useState(),v=C.useRef(),y=C.useRef(null),S=C.useRef(),[R,x]=C.useState(null),T=C.useRef(()=>{}),D=C.useRef(),M=C.useRef([]),F=C.useCallback(()=>{},[]);Xa(" AG Grid ",y);const I=C.useCallback(q=>{if(y.current=q,v.current=q?e.createBean(new Yse):e.destroyBean(v.current),!q||e.isDestroyed())return;const oe=v.current;T.current=oe.focusInnerElement.bind(oe);const ce={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:Y=>{if(!Y&&D.current?.isDisplayed()){D.current.forceFocusOutOfContainer(Y);return}S.current?.forceFocusOutOfContainer(Y)},updateLayoutClasses:s,getFocusableContainers:()=>{const Y=[],V=y.current?.querySelector(".ag-root");V&&Y.push({getGui:()=>V});for(const $ of M.current)$.isDisplayed()&&Y.push($);return Y},setCursor:r,setUserSelect:u};oe.setComp(ce,q,q),f(!0)},[]);C.useEffect(()=>{const q=v.current,oe=y.current;if(!g||!q||!R||!oe||e.isDestroyed())return;const ce=[],{watermarkSelector:Y,paginationSelector:V,sideBarSelector:$,statusBarSelector:N,gridHeaderDropZonesSelector:X}=q.getOptionalSelectors(),ie=[];if(X){const j=e.createBean(new X.component),Q=j.getGui();oe.insertAdjacentElement("afterbegin",Q),ie.push(Q),ce.push(j)}if($){const j=e.createBean(new $.component),Q=j.getGui(),re=R.querySelector(".ag-tab-guard-bottom");re&&(re.insertAdjacentElement("beforebegin",Q),ie.push(Q)),ce.push(j),M.current.push(j)}const L=j=>{const Q=e.createBean(new j),re=Q.getGui();return oe.insertAdjacentElement("beforeend",re),ie.push(re),ce.push(Q),Q};if(N&&L(N.component),V){const j=L(V.component);D.current=j,M.current.push(j)}return Y&&L(Y.component),()=>{e.destroyBeans(ce);for(const j of ie)j.remove()}},[g,R,e]);const A=C.useMemo(()=>ps("ag-root-wrapper",t,i),[t,i]),O=C.useMemo(()=>ps("ag-root-wrapper-body","ag-focus-managed",i),[i]),_=C.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:o??""}),[l,o]),B=C.useCallback(q=>{S.current=q,m(q!==null)},[]),z=C.useCallback(()=>!v.current?.isFocusable(),[]);return he.createElement("div",{ref:I,className:A,style:_,role:"presentation"},he.createElement("div",{className:O,ref:x,role:"presentation"},d&&R&&!e.isDestroyed()&&he.createElement(ci.Provider,{value:e.getBeans()},he.createElement(lwe,{ref:B,eFocusableElement:R,onTabKeyDown:F,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:z},he.createElement(owe,null)))))},uwe=C.memo(cwe),dwe=class extends ae{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},hwe=typeof window>"u"?C.useEffect:C.useLayoutEffect,P5={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},fwe={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...P5},A5=new Set(Object.keys(fwe)),gwe=new Set(Object.keys(P5)),F5=e=>{const t=C.useContext(MCe),n=C.useContext(kCe),i=C.useRef(),s=C.useRef(null),o=C.useRef(null),r=C.useRef([]),l=C.useRef([]),u=C.useRef(e),d=C.useRef(),f=C.useRef(),g=C.useRef(!1),[m,v]=C.useState(void 0),[,y]=C.useState(0),S=C.useRef(),R=F=>{const I=s.current?.classList,A=(O="")=>O.trim().split(/\s+/g).filter(Boolean);if(S.current!==F){for(const O of A(S.current))I?.contains(O)&&I.remove(O);for(const O of A(F))I?.contains(O)||I?.add(O);S.current=F}};hwe(()=>{R(e.className)},[e.className]);const x=C.useCallback(F=>{if(s.current=F,R(e.className),!F){for(const Y of r.current)Y();r.current.length=0;return}const I=[...e.modules??[],...t??[]];n&&UN(I)?.setLicenseKey(n),o.current||(o.current=new FCe(()=>y(Y=>Y+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{o.current?.destroy(),o.current=null}));const A=Ate(e.gridOptions,e,Object.keys(e).filter(Y=>!A5.has(Y))),O=()=>{if(g.current){const Y=()=>d.current?.shouldQueueUpdates()?void 0:l.current.shift();let V=Y();for(;V;)V(),V=Y()}},_=new Cwe(O);d.current=_;const B=new dwe,z={providedBeanInstances:{frameworkCompWrapper:new mwe(o.current,A),renderStatus:B},modules:I,frameworkOverrides:_,setThemeOnGridDiv:!0},q=Y=>{v(Y),Y.createBean(B),r.current.push(()=>{Y.destroy()}),Y.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{r.current.push(V)}},()=>{if(Y.isDestroyed())return;const V=i.current;V&&e.passGridApi?.(V)})},oe=Y=>{Y.getBean("ctrlsSvc").whenReady({addDestroyFunc:V=>{r.current.push(V)}},()=>{for(const V of l.current)V();l.current.length=0,g.current=!0})},ce=new dde;A.gridId??(A.gridId=f.current),i.current=ce.create(F,A,q,oe,z),r.current.push(()=>{i.current=void 0}),i.current&&(f.current=i.current.getGridId())},[]),T=C.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),D=C.useCallback(F=>{g.current&&!d.current?.shouldQueueUpdates()?F():l.current.push(F)},[]);C.useEffect(()=>{const F=pwe(u.current,e);u.current=e,D(()=>{i.current&&Fte(F,i.current)})},[e]);const M=!he.useSyncExternalStore||yp(e,"renderingMode")==="legacy"?"legacy":"default";return he.createElement("div",{style:T,ref:x},he.createElement(b5.Provider,{value:M},m&&!m.isDestroyed()?he.createElement(uwe,{key:m.instanceId,context:m}):null,o.current?.getPortals()??null))};function pwe(e,t){const n={};for(const i of Object.keys(t)){if(A5.has(i)){gwe.has(i)&&fe(274,{prop:i});continue}const s=t[i];e[i]!==s&&(n[i]=s)}return n}var mwe=class extends aCe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(yp(n,"reactiveCustomComponents")){const r=(l=>{switch(l){case"filter":return yp(n,"enableFilterHandlers")?bCe:yCe;case"floatingFilterComponent":return yp(n,"enableFilterHandlers")?xCe:RCe;case"dateComponent":return CCe;case"dragAndDropImageComponent":return wCe;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return vCe;case"statusPanel":return DCe;case"toolPanel":return PCe;case"menuItem":return TCe;case"cellRenderer":return mCe;case"innerHeaderComponent":return ECe}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Fx();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new E5(e,this.parent,t,s)}},vwe=C.forwardRef((e,t)=>{const n=C.useContext(ci),{registry:i,context:s,gos:o,rowModel:r}=n,[l,u]=C.useState(()=>new ws),[d,f]=C.useState(()=>new ws),[g,m]=C.useState(),[v,y]=C.useState(),S=C.useRef(),R=C.useRef(null),x=C.useRef(),T=C.useMemo(()=>ate(e.api.getGridId(),g?.rowModelType??"clientSide"),[e]),D=C.useMemo(()=>l.toString()+" ag-details-row",[l]),M=C.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&C.useImperativeHandle(t,()=>({refresh(){return S.current?.refresh()??!1}})),e.template&&fe(230);const F=C.useCallback(A=>{if(R.current=A,!A||s.isDestroyed()){S.current=s.destroyBean(S.current),x.current?.();return}const O={toggleCss:(B,z)=>u(q=>q.setClass(B,z)),toggleDetailGridCss:(B,z)=>f(q=>q.setClass(B,z)),setDetailGrid:B=>m(B),setRowData:B=>y(B),getGui:()=>R.current},_=i.createDynamicBean("detailCellRendererCtrl",!0);if(_&&(s.createBean(_),_.init(O,e),S.current=_,o.get("detailRowAutoHeight"))){const B=()=>{if(R.current==null)return;const z=R.current.clientHeight;z!=null&&z>0&&setTimeout(()=>{e.node.setRowHeight(z),(En(o)||Mu(o))&&r.onRowHeightChanged()},0)};x.current=hr(n,A,B),B()}},[]),I=C.useCallback(A=>{S.current?.registerDetailWithMaster(A)},[]);return he.createElement("div",{className:D,ref:F},g&&he.createElement(F5,{className:M,...g,modules:T,rowData:v,passGridApi:I}))}),Cwe=class extends LV{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:vk,agGroupRowRenderer:vk,agDetailCellRenderer:vwe},this.wrapIncoming=(t,n)=>n==="ensureVisible"?uCe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return cCe()}},Mx=class extends C.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return he.createElement(F5,{...this.props,passGridApi:this.setGridApi})}};const wwe=yu("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ds(e){const t=Re.c(10);let n,i,s;t[0]!==e?({className:n,variant:s,...i}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=s):(n=t[1],i=t[2],s=t[3]);let o;t[4]!==n||t[5]!==s?(o=ut(wwe({variant:s}),n),t[4]=n,t[5]=s,t[6]=o):o=t[6];let r;return t[7]!==i||t[8]!==o?(r=E.jsx("div",{className:o,...i}),t[7]=i,t[8]=o,t[9]=r):r=t[9],r}const ywe={"bg-gradient-to-r from-blue-600 via-red-500 to-yellow-500 text-transparent bg-clip-text":["google","zoho","ebay"],"bg-gradient-to-r from-orange-600 via-green-500 to-blue-600 text-transparent bg-clip-text":["microsoft","slack"],"bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500 text-transparent bg-clip-text":["instagram","canva","figma"],"bg-gradient-to-r from-cyan-600 via-slate-500 to-pink-500 text-transparent bg-clip-text":["tiktok","bytedance"],"text-red-600 dark:text-red-500":["adobe","airtel","bnp-paribas","broadcom","doordash","dream11","fortinet","hsbc","huawei","lg-electronics","makemytrip","mcafee","netflix","oracle","oyo","pinterest","quora","redbus","reddit","riot-games","target","tesla","wells-fargo","yelp","zomato","zynga","activision","careem","citi","cleartrip","databricks","jio","kotak-mahindra-bank","mcdonalds","nintendo","peloton","reliance","societe-generale","toyota","traveloka","virgin","vodafone","yatra","coca-cola"],"text-orange-600 dark:text-orange-400":["amazon","alibaba","blinkit","cloudflare","gojek","mastercard","postman","swiggy","shopee","yandex","agoda","aws","chegg","discover","etsy","flipkart","godaddy","hubspot","imdb","ing","kayak","mozilla","navi","orange","pwc","sprint","strava","ubuntu"],"text-green-600 dark:text-green-400":["acer","bp","grab","groupon","hulu","instacart","nvidia","robinhood","shopify","spotify","whatsapp","zepto","bcg","cashfree","cvent","deloitte","dunzo","duolingo","evernote","fiverr","ge-healthcare","glassdoor","hellofresh","hpe","lime","mongodb","ola","palantir","pubmatic","razer","schneider-electric","servicenow","starbucks","subway","tripadvisor","upwork","veeva"],"text-sky-500 dark:text-sky-400":["twitter","vimeo","skype","snowflake","dropbox","cloudera","palo-alto-networks","appdynamics","docker","epic-systems","freshworks","gartner","hashicorp","intercom","mixpanel","netapp","netsuite","okta","splunk","squarespace","twilio","uipath","zendesk","zscaler","zoom","paytm"],"text-indigo-600 dark:text-indigo-400":["discord","twitch","yahoo","stripe","accenture","github","gitlab","heroku","kraken","tcs","wayfair","zillow","mindtree","lti","epam-systems","wipro","infosys","cognizant"],"text-rose-600 dark:text-rose-400":["airbnb","lyft","nykaa","dribbble","poshmark","foodpanda","meesho","purplle","tinder"],"text-slate-800 dark:text-slate-200":["apple","uber","x","notion","square","block","palantir-technologies","roblox","epic-games","unity","valve","adidas","bbc","bmw","cbs","cnn","disney","ea","honda","ibm","intel","nike","panasonic","samsung","sony","wework","wikipedia","zara","blackrock"]},Sk=["text-blue-600 dark:text-blue-400","text-indigo-600 dark:text-indigo-400","text-sky-600 dark:text-sky-400","text-violet-600 dark:text-violet-400","text-cyan-600 dark:text-cyan-400","text-slate-700 dark:text-slate-300"],YS=new Map;Object.entries(ywe).forEach(([e,t])=>{t.forEach(n=>{YS.set(n.toLowerCase(),e)})});const Lu=e=>{const t=e.toLowerCase().trim();if(YS.has(t))return YS.get(t)+" font-semibold";let n=0;for(let s=0;s<t.length;s++)n+=t.charCodeAt(s);return Sk[n%Sk.length]+" font-medium"};function bwe(e,[t,n]){return Math.min(n,Math.max(t,e))}function Swe(e,t){return C.useReducer((n,i)=>t[n][i]??n,e)}var kx="ScrollArea",[M5]=dr(kx),[Rwe,Ps]=M5(kx),k5=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:s,scrollHideDelay:o=600,...r}=e,[l,u]=C.useState(null),[d,f]=C.useState(null),[g,m]=C.useState(null),[v,y]=C.useState(null),[S,R]=C.useState(null),[x,T]=C.useState(0),[D,M]=C.useState(0),[F,I]=C.useState(!1),[A,O]=C.useState(!1),_=Kt(t,z=>u(z)),B=Qh(s);return E.jsx(Rwe,{scope:n,type:i,dir:B,scrollHideDelay:o,scrollArea:l,viewport:d,onViewportChange:f,content:g,onContentChange:m,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:F,onScrollbarXEnabledChange:I,scrollbarY:S,onScrollbarYChange:R,scrollbarYEnabled:A,onScrollbarYEnabledChange:O,onCornerWidthChange:T,onCornerHeightChange:M,children:E.jsx(wt.div,{dir:B,...r,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":D+"px",...e.style}})})});k5.displayName=kx;var I5="ScrollAreaViewport",O5=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:s,...o}=e,r=Ps(I5,n),l=C.useRef(null),u=Kt(t,l,r.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),E.jsx(wt.div,{"data-radix-scroll-area-viewport":"",...o,ref:u,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e.style},children:E.jsx("div",{ref:r.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});O5.displayName=I5;var Do="ScrollAreaScrollbar",Ix=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Ps(Do,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:r}=s,l=e.orientation==="horizontal";return C.useEffect(()=>(l?o(!0):r(!0),()=>{l?o(!1):r(!1)}),[l,o,r]),s.type==="hover"?E.jsx(xwe,{...i,ref:t,forceMount:n}):s.type==="scroll"?E.jsx(Ewe,{...i,ref:t,forceMount:n}):s.type==="auto"?E.jsx(L5,{...i,ref:t,forceMount:n}):s.type==="always"?E.jsx(Ox,{...i,ref:t}):null});Ix.displayName=Do;var xwe=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Ps(Do,e.__scopeScrollArea),[o,r]=C.useState(!1);return C.useEffect(()=>{const l=s.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),r(!0)},f=()=>{u=window.setTimeout(()=>r(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),E.jsx(wi,{present:n||o,children:E.jsx(L5,{"data-state":o?"visible":"hidden",...i,ref:t})})}),Ewe=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Ps(Do,e.__scopeScrollArea),o=e.orientation==="horizontal",r=xv(()=>u("SCROLL_END"),100),[l,u]=Swe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,u]),C.useEffect(()=>{const d=s.viewport,f=o?"scrollLeft":"scrollTop";if(d){let g=d[f];const m=()=>{const v=d[f];g!==v&&(u("SCROLL"),r()),g=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,o,u,r]),E.jsx(wi,{present:n||l!=="hidden",children:E.jsx(Ox,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),L5=C.forwardRef((e,t)=>{const n=Ps(Do,e.__scopeScrollArea),{forceMount:i,...s}=e,[o,r]=C.useState(!1),l=e.orientation==="horizontal",u=xv(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;r(l?d:f)}},10);return wu(n.viewport,u),wu(n.content,u),E.jsx(wi,{present:i||o,children:E.jsx(Ox,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Ox=C.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,s=Ps(Do,e.__scopeScrollArea),o=C.useRef(null),r=C.useRef(0),[l,u]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=B5(l.viewport,l.content),f={...i,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>r.current=0,onThumbPointerDown:m=>r.current=m};function g(m,v){return Mwe(m,r.current,l,v)}return n==="horizontal"?E.jsx(Twe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,v=Rk(m,l,s.dir);o.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=g(m,s.dir))}}):n==="vertical"?E.jsx(Dwe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,v=Rk(m,l);o.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=g(m))}}):null}),Twe=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,o=Ps(Do,e.__scopeScrollArea),[r,l]=C.useState(),u=C.useRef(null),d=Kt(t,u,o.onScrollbarXChange);return C.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),E.jsx(N5,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rv(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,g)=>{if(o.viewport){const m=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),z5(m,g)&&f.preventDefault()}},onResize:()=>{u.current&&o.viewport&&r&&i({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Am(r.paddingLeft),paddingEnd:Am(r.paddingRight)}})}})}),Dwe=C.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...s}=e,o=Ps(Do,e.__scopeScrollArea),[r,l]=C.useState(),u=C.useRef(null),d=Kt(t,u,o.onScrollbarYChange);return C.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),E.jsx(N5,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rv(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,g)=>{if(o.viewport){const m=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),z5(m,g)&&f.preventDefault()}},onResize:()=>{u.current&&o.viewport&&r&&i({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Am(r.paddingTop),paddingEnd:Am(r.paddingBottom)}})}})}),[Pwe,_5]=M5(Do),N5=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:s,onThumbChange:o,onThumbPointerUp:r,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:g,...m}=e,v=Ps(Do,n),[y,S]=C.useState(null),R=Kt(t,_=>S(_)),x=C.useRef(null),T=C.useRef(""),D=v.viewport,M=i.content-i.viewport,F=tn(f),I=tn(u),A=xv(g,10);function O(_){if(x.current){const B=_.clientX-x.current.left,z=_.clientY-x.current.top;d({x:B,y:z})}}return C.useEffect(()=>{const _=B=>{const z=B.target;y?.contains(z)&&F(B,M)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[D,y,M,F]),C.useEffect(I,[i,I]),wu(y,A),wu(v.content,A),E.jsx(Pwe,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:tn(o),onThumbPointerUp:tn(r),onThumbPositionChange:I,onThumbPointerDown:tn(l),children:E.jsx(wt.div,{...m,ref:R,style:{position:"absolute",...m.style},onPointerDown:ke(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),x.current=y.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),O(_))}),onPointerMove:ke(e.onPointerMove,O),onPointerUp:ke(e.onPointerUp,_=>{const B=_.target;B.hasPointerCapture(_.pointerId)&&B.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=T.current,v.viewport&&(v.viewport.style.scrollBehavior=""),x.current=null})})})}),Pm="ScrollAreaThumb",V5=C.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=_5(Pm,e.__scopeScrollArea);return E.jsx(wi,{present:n||s.hasThumb,children:E.jsx(Awe,{ref:t,...i})})}),Awe=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...s}=e,o=Ps(Pm,n),r=_5(Pm,n),{onThumbPositionChange:l}=r,u=Kt(t,g=>r.onThumbChange(g)),d=C.useRef(void 0),f=xv(()=>{d.current&&(d.current(),d.current=void 0)},100);return C.useEffect(()=>{const g=o.viewport;if(g){const m=()=>{if(f(),!d.current){const v=kwe(g,l);d.current=v,l()}};return l(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[o.viewport,f,l]),E.jsx(wt.div,{"data-state":r.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:ke(e.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),y=g.clientX-v.left,S=g.clientY-v.top;r.onThumbPointerDown({x:y,y:S})}),onPointerUp:ke(e.onPointerUp,r.onThumbPointerUp)})});V5.displayName=Pm;var Lx="ScrollAreaCorner",H5=C.forwardRef((e,t)=>{const n=Ps(Lx,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?E.jsx(Fwe,{...e,ref:t}):null});H5.displayName=Lx;var Fwe=C.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,s=Ps(Lx,n),[o,r]=C.useState(0),[l,u]=C.useState(0),d=!!(o&&l);return wu(s.scrollbarX,()=>{const f=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(f),u(f)}),wu(s.scrollbarY,()=>{const f=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(f),r(f)}),d?E.jsx(wt.div,{...i,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Am(e){return e?parseInt(e,10):0}function B5(e,t){const n=e/t;return isNaN(n)?0:n}function Rv(e){const t=B5(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function Mwe(e,t,n,i="ltr"){const s=Rv(n),o=s/2,r=t||o,l=s-r,u=n.scrollbar.paddingStart+r,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,g=i==="ltr"?[0,f]:[f*-1,0];return G5([u,d],g)(e)}function Rk(e,t,n="ltr"){const i=Rv(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,r=t.content-t.viewport,l=o-i,u=n==="ltr"?[0,r]:[r*-1,0],d=bwe(e,u);return G5([0,r],[0,l])(d)}function G5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function z5(e,t){return e>0&&e<t}var kwe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return(function s(){const o={left:e.scrollLeft,top:e.scrollTop},r=n.left!==o.left,l=n.top!==o.top;(r||l)&&t(),n=o,i=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(i)};function xv(e,t){const n=tn(e),i=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(i.current),[]),C.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function wu(e,t){const n=tn(t);vi(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}var j5=k5,Iwe=O5,Owe=H5;const U5=C.forwardRef((e,t)=>{const n=Re.c(15);let i,s,o;n[0]!==e?({className:s,children:i,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);let r;n[4]!==s?(r=ut("relative overflow-hidden",s),n[4]=s,n[5]=r):r=n[5];let l;n[6]!==i?(l=E.jsx(Iwe,{className:"h-full w-full rounded-[inherit]",children:i}),n[6]=i,n[7]=l):l=n[7];let u,d;n[8]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx(W5,{}),d=E.jsx(Owe,{}),n[8]=u,n[9]=d):(u=n[8],d=n[9]);let f;return n[10]!==o||n[11]!==t||n[12]!==r||n[13]!==l?(f=E.jsxs(j5,{ref:t,className:r,...o,children:[l,u,d]}),n[10]=o,n[11]=t,n[12]=r,n[13]=l,n[14]=f):f=n[14],f});U5.displayName=j5.displayName;const W5=C.forwardRef((e,t)=>{const n=Re.c(14);let i,s,o;n[0]!==e?({className:i,orientation:o,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o):(i=n[1],s=n[2],o=n[3]);const r=o===void 0?"vertical":o,l=r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",u=r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]";let d;n[4]!==i||n[5]!==l||n[6]!==u?(d=ut("flex touch-none transition-colors select-none",l,u,i),n[4]=i,n[5]=l,n[6]=u,n[7]=d):d=n[7];let f;n[8]===Symbol.for("react.memo_cache_sentinel")?(f=E.jsx(V5,{className:"bg-border relative flex-1 rounded-full"}),n[8]=f):f=n[8];let g;return n[9]!==r||n[10]!==s||n[11]!==t||n[12]!==d?(g=E.jsx(Ix,{ref:t,orientation:r,className:d,...s,children:f}),n[9]=r,n[10]=s,n[11]=t,n[12]=d,n[13]=g):g=n[13],g});W5.displayName=Ix.displayName;var $5="Toggle",_x=C.forwardRef((e,t)=>{const{pressed:n,defaultPressed:i,onPressedChange:s,...o}=e,[r,l]=ha({prop:n,onChange:s,defaultProp:i??!1,caller:$5});return E.jsx(wt.button,{type:"button","aria-pressed":r,"data-state":r?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ke(e.onClick,()=>{e.disabled||l(!r)})})});_x.displayName=$5;var K5=_x,Ca="ToggleGroup",[q5]=dr(Ca,[Zm]),Y5=Zm(),Nx=he.forwardRef((e,t)=>{const{type:n,...i}=e;if(n==="single"){const s=i;return E.jsx(Lwe,{...s,ref:t})}if(n==="multiple"){const s=i;return E.jsx(_we,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ca}\``)});Nx.displayName=Ca;var[X5,Q5]=q5(Ca),Lwe=he.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:s=()=>{},...o}=e,[r,l]=ha({prop:n,defaultProp:i??"",onChange:s,caller:Ca});return E.jsx(X5,{scope:e.__scopeToggleGroup,type:"single",value:he.useMemo(()=>r?[r]:[],[r]),onItemActivate:l,onItemDeactivate:he.useCallback(()=>l(""),[l]),children:E.jsx(Z5,{...o,ref:t})})}),_we=he.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:s=()=>{},...o}=e,[r,l]=ha({prop:n,defaultProp:i??[],onChange:s,caller:Ca}),u=he.useCallback(f=>l((g=[])=>[...g,f]),[l]),d=he.useCallback(f=>l((g=[])=>g.filter(m=>m!==f)),[l]);return E.jsx(X5,{scope:e.__scopeToggleGroup,type:"multiple",value:r,onItemActivate:u,onItemDeactivate:d,children:E.jsx(Z5,{...o,ref:t})})});Nx.displayName=Ca;var[Nwe,Vwe]=q5(Ca),Z5=he.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:i=!1,rovingFocus:s=!0,orientation:o,dir:r,loop:l=!0,...u}=e,d=Y5(n),f=Qh(r),g={role:"group",dir:f,...u};return E.jsx(Nwe,{scope:n,rovingFocus:s,disabled:i,children:s?E.jsx(n_,{asChild:!0,...d,orientation:o,dir:f,loop:l,children:E.jsx(wt.div,{...g,ref:t})}):E.jsx(wt.div,{...g,ref:t})})}),Fm="ToggleGroupItem",J5=he.forwardRef((e,t)=>{const n=Q5(Fm,e.__scopeToggleGroup),i=Vwe(Fm,e.__scopeToggleGroup),s=Y5(e.__scopeToggleGroup),o=n.value.includes(e.value),r=i.disabled||e.disabled,l={...e,pressed:o,disabled:r},u=he.useRef(null);return i.rovingFocus?E.jsx(i_,{asChild:!0,...s,focusable:!r,active:o,ref:u,children:E.jsx(xk,{...l,ref:t})}):E.jsx(xk,{...l,ref:t})});J5.displayName=Fm;var xk=he.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:i,...s}=e,o=Q5(Fm,n),r={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=o.type==="single"?r:void 0;return E.jsx(_x,{...l,...s,ref:t,onPressedChange:u=>{u?o.onItemActivate(i):o.onItemDeactivate(i)}})}),eH=Nx,tH=J5;const nH=yu("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),Hwe=C.forwardRef((e,t)=>{const n=Re.c(13);let i,s,o,r;n[0]!==e?({className:i,variant:r,size:o,...s}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r):(i=n[1],s=n[2],o=n[3],r=n[4]);let l;n[5]!==i||n[6]!==o||n[7]!==r?(l=ut(nH({variant:r,size:o,className:i})),n[5]=i,n[6]=o,n[7]=r,n[8]=l):l=n[8];let u;return n[9]!==s||n[10]!==t||n[11]!==l?(u=E.jsx(K5,{ref:t,className:l,...s}),n[9]=s,n[10]=t,n[11]=l,n[12]=u):u=n[12],u});Hwe.displayName=K5.displayName;const iH=C.createContext({size:"default",variant:"default"}),sH=C.forwardRef((e,t)=>{const n=Re.c(19);let i,s,o,r,l;n[0]!==e?({className:s,variant:l,size:r,children:i,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r,n[5]=l):(i=n[1],s=n[2],o=n[3],r=n[4],l=n[5]);let u;n[6]!==s?(u=ut("flex items-center justify-center gap-1",s),n[6]=s,n[7]=u):u=n[7];let d;n[8]!==r||n[9]!==l?(d={variant:l,size:r},n[8]=r,n[9]=l,n[10]=d):d=n[10];let f;n[11]!==i||n[12]!==d?(f=E.jsx(iH.Provider,{value:d,children:i}),n[11]=i,n[12]=d,n[13]=f):f=n[13];let g;return n[14]!==o||n[15]!==t||n[16]!==u||n[17]!==f?(g=E.jsx(eH,{ref:t,className:u,...o,children:f}),n[14]=o,n[15]=t,n[16]=u,n[17]=f,n[18]=g):g=n[18],g});sH.displayName=eH.displayName;const XS=C.forwardRef((e,t)=>{const n=Re.c(17);let i,s,o,r,l;n[0]!==e?({className:s,children:i,variant:l,size:r,...o}=e,n[0]=e,n[1]=i,n[2]=s,n[3]=o,n[4]=r,n[5]=l):(i=n[1],s=n[2],o=n[3],r=n[4],l=n[5]);const u=C.useContext(iH);let d;n[6]!==s||n[7]!==u.size||n[8]!==u.variant||n[9]!==r||n[10]!==l?(d=ut(nH({variant:u.variant||l,size:u.size||r}),s),n[6]=s,n[7]=u.size,n[8]=u.variant,n[9]=r,n[10]=l,n[11]=d):d=n[11];let f;return n[12]!==i||n[13]!==o||n[14]!==t||n[15]!==d?(f=E.jsx(tH,{ref:t,className:d,...o,children:i}),n[12]=i,n[13]=o,n[14]=t,n[15]=d,n[16]=f):f=n[16],f});XS.displayName=tH.displayName;function Vx(e){const t=Re.c(39),{allTags:n,selectedTags:i,setSelectedTags:s,tagMatchMode:o,setTagMatchMode:r}=e,[l,u]=C.useState("");let d;if(t[0]!==n||t[1]!==l){let B;t[3]!==l?(B=z=>z.toLowerCase().includes(l.toLowerCase()),t[3]=l,t[4]=B):B=t[4],d=n.filter(B),t[0]=n,t[1]=l,t[2]=d}else d=t[2];const f=d;let g;t[5]!==s?(g=function(z){s(q=>q.includes(z)?q.filter(oe=>oe!==z):[...q,z])},t[5]=s,t[6]=g):g=t[6];const m=g;let v;t[7]!==s?(v=function(){s([])},t[7]=s,t[8]=v):v=t[8];const y=v,S=i.length>0&&`(${i.length})`;let R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R=E.jsx(c2,{}),t[9]=R):R=t[9];let x;t[10]!==S?(x=E.jsx(aN,{asChild:!0,children:E.jsxs(vs,{variant:"outline",size:"sm",children:["Tags ",S,R]})}),t[10]=S,t[11]=x):x=t[11];let T;t[12]!==i.length||t[13]!==r||t[14]!==o?(T=i.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(cN,{children:"Match Mode"}),E.jsxs(sH,{type:"single",value:o,onValueChange:B=>{B&&r(B)},className:"mb-2",children:[E.jsx(XS,{value:"AND",className:"text-xs",children:"AND"}),E.jsx(XS,{value:"OR",className:"text-xs",children:"OR"})]}),E.jsx(Jp,{})]}),t[12]=i.length,t[13]=r,t[14]=o,t[15]=T):T=t[15];let D;t[16]===Symbol.for("react.memo_cache_sentinel")?(D=B=>u(B.target.value),t[16]=D):D=t[16];let M;t[17]!==l?(M=E.jsx(lR,{placeholder:"Search tags...",value:l,onChange:D,className:"mb-2 h-8 text-sm"}),t[17]=l,t[18]=M):M=t[18];let F;if(t[19]!==f||t[20]!==i||t[21]!==m){let B;t[23]!==i||t[24]!==m?(B=z=>E.jsx(lN,{checked:i.includes(z),onCheckedChange:()=>m(z),onSelect:Bwe,children:z},z),t[23]=i,t[24]=m,t[25]=B):B=t[25],F=f.map(B),t[19]=f,t[20]=i,t[21]=m,t[22]=F}else F=t[22];let I;t[26]!==F?(I=E.jsx(U5,{className:"h-56",children:E.jsx("div",{className:"flex flex-col",children:F})}),t[26]=F,t[27]=I):I=t[27];let A;t[28]!==y||t[29]!==i.length?(A=i.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(Jp,{}),E.jsx("button",{onClick:y,className:"text-muted-foreground hover:text-primary mt-2 cursor-pointer text-xs",children:"Clear filters"})]}),t[28]=y,t[29]=i.length,t[30]=A):A=t[30];let O;t[31]!==I||t[32]!==A||t[33]!==T||t[34]!==M?(O=E.jsxs(mR,{className:"w-72 p-3",align:"start",children:[T,M,I,A]}),t[31]=I,t[32]=A,t[33]=T,t[34]=M,t[35]=O):O=t[35];let _;return t[36]!==O||t[37]!==x?(_=E.jsxs(rN,{children:[x,O]}),t[36]=O,t[37]=x,t[38]=_):_=t[38],_}function Bwe(e){return e.preventDefault()}kR.registerModules([Px]);const Ek={Easy:0,Medium:1,Hard:2},Gwe={Easy:"text-emerald-500 bg-emerald-500/10",Medium:"text-amber-500 bg-amber-500/10",Hard:"text-rose-500 bg-rose-500/10"};async function zwe(e){let n=0;const i=[];for(;;){const{data:s,error:o}=await kt.from("company_problems").select(`
        timeframe_tag,
        problem:problems (
          id,
          title,
          url,
          difficulty,
          acceptance,
          frequency,
          problem_tags ( tag ),
          company_problems (
            company:companies ( id, name )
          )
        )
      `).eq("company_id",e).range(n,n+4e3-1);if(o||!s||(i.push(...s),s.length<4e3))break;n+=4e3}return i}function jwe(e){const{value:t,data:n,api:i}=e;if(!n)return null;const s=n.isToggling,o=async r=>{if(r.stopPropagation(),s)return;const{data:{session:l}}=await kt.auth.getSession();if(!l?.user){alert("Please sign in to mark problems as completed.");return}const u=l.user.id,d=n.id,f=!t,g={...n,isToggling:!0};i.applyTransaction({update:[g]}),i.refreshCells({rowNodes:[e.node],force:!0});try{if(f){const{error:m}=await kt.from("user_completed_problems").insert({user_id:u,problem_id:d});if(m)throw m}else{const{error:m}=await kt.from("user_completed_problems").delete().eq("user_id",u).eq("problem_id",d);if(m)throw m}i.applyTransaction({update:[{...n,completed:f,isToggling:!1}]})}catch(m){console.error("Toggle failed:",m),i.applyTransaction({update:[{...n,completed:t,isToggling:!1}]})}};return E.jsx("div",{className:`flex h-full items-center ${s?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:o,children:s?E.jsx("div",{className:"border-primary h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):t?E.jsx(u0,{className:"h-4 w-4 text-emerald-500"}):E.jsx("div",{className:"border-border h-4 w-4 rounded-full border"})})}function Uwe(e){const t=Re.c(3),{data:n}=e;if(!n)return null;let i;return t[0]!==n.title||t[1]!==n.url?(i=E.jsx("div",{className:"flex h-full items-center",children:n.url?E.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary group inline-flex items-center gap-1 text-sm font-medium transition-colors",onClick:Wwe,children:[n.title,E.jsx(c0,{className:"h-3 w-3 opacity-0 transition-opacity group-hover:opacity-60"})]}):E.jsx("span",{className:"text-sm font-medium",children:n.title})}),t[0]=n.title,t[1]=n.url,t[2]=i):i=t[2],i}function Wwe(e){return e.stopPropagation()}function $we(e){const t=Re.c(4),{value:n}=e;if(!n){let o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsx("span",{className:"text-muted-foreground text-xs",children:""}),t[0]=o):o=t[0],o}const i=`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${Gwe[n]??"text-muted-foreground"}`;let s;return t[1]!==i||t[2]!==n?(s=E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:i,children:n})}),t[1]=i,t[2]=n,t[3]=s):s=t[3],s}function Kwe(e){const t=Re.c(4),{value:n}=e;let i;t[0]!==n?(i=n!=null?`${Number(n).toFixed(1)}%`:"",t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs tabular-nums",children:i}),t[2]=i,t[3]=s):s=t[3],s}function qwe(e){const t=Re.c(10),{value:n}=e;if(n==null){let u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs",children:""}),t[0]=u):u=t[0],u}const i=`${Math.min(n,100)}%`;let s;t[1]!==i?(s=E.jsx("div",{className:"bg-muted h-1.5 w-14 overflow-hidden rounded-full",children:E.jsx("div",{className:"bg-primary h-full rounded-full",style:{width:i}})}),t[1]=i,t[2]=s):s=t[2];let o;t[3]!==n?(o=n.toFixed(0),t[3]=n,t[4]=o):o=t[4];let r;t[5]!==o?(r=E.jsxs("span",{className:"text-muted-foreground text-xs tabular-nums",children:[o,"%"]}),t[5]=o,t[6]=r):r=t[6];let l;return t[7]!==s||t[8]!==r?(l=E.jsxs("div",{className:"flex h-full items-center gap-1.5",children:[s,r]}),t[7]=s,t[8]=r,t[9]=l):l=t[9],l}function Ywe(e){const t=Re.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(Xwe),t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=s):s=t[3],s}function Xwe(e){return E.jsx(Ds,{variant:"secondary",className:"text-muted-foreground text-md",children:e},e)}function Qwe(e){const t=Re.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(Zwe),t[0]=n,t[1]=i):i=t[1];let s;t[2]!==n.length?(s=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=s):s=t[3];let o;return t[4]!==i||t[5]!==s?(o=E.jsxs("div",{className:"gap-y-0. flex h-full flex-wrap items-center gap-x-1",children:[i,s]}),t[4]=i,t[5]=s,t[6]=o):o=t[6],o}function Zwe(e){return E.jsx(Ds,{variant:"secondary",className:"text-muted-foreground my-0 px-2",children:e})}function Jwe(e){const t=Re.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(eye),t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=s):s=t[3],s}function eye(e){return E.jsx(Ds,{variant:"outline",className:ut("text-muted-foreground text-md",Lu(e)),children:e},e)}function tye(e){const t=Re.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(nye),t[0]=n,t[1]=i):i=t[1];let s;t[2]!==n.length?(s=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=s):s=t[3];let o;return t[4]!==i||t[5]!==s?(o=E.jsxs("div",{className:"flex h-full flex-wrap items-center gap-x-0.5 gap-y-0",children:[i,s]}),t[4]=i,t[5]=s,t[6]=o):o=t[6],o}function nye(e){return E.jsx(Ds,{variant:"outline",className:ut("text-muted-foreground my-0",Lu(e)),children:e},e)}function iye(){const e=Re.c(108),{theme:t}=Qm(),{id:n}=U4(),i=Number(n),[s,o]=C.useState(null);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[l,u]=C.useState(r),[d,f]=C.useState(!0),[g,m]=C.useState(null),[v,y]=C.useState(""),[S,R]=C.useState("All");let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x=[],e[1]=x):x=e[1];const[T,D]=C.useState(x);let M;e[2]===Symbol.for("react.memo_cache_sentinel")?(M=[],e[2]=M):M=e[2];const[F,I]=C.useState(M),[A,O]=C.useState("AND"),[_,B]=C.useState(!1),z=C.useRef(null);let q,oe;e[3]!==i?(q=()=>{if(!i)return;(async function(){f(!0),m(null);const{data:Ri,error:H}=await kt.from("companies").select("id, name").eq("id",i).single();if(H||!Ri){m("Company not found."),f(!1);return}o(Ri);const W=await zwe(i);if(console.log("Fetched problems:",W),!W){m("Failed to fetch problems."),f(!1);return}let te=W.map(Pe=>{const ye=Pe.problem;return{id:ye.id,title:ye.title??"Untitled",url:ye.url??null,difficulty:ye.difficulty??null,acceptance:ye.acceptance??null,frequency:ye.frequency??null,tags:ye.problem_tags?.map(xye)??[],other_companies:ye.company_problems?.map(Rye).filter(Se=>Se&&Se!==Ri.name)??[],completed:!1,timeframe_tag:Pe.timeframe_tag??null,isToggling:!1}});const{data:ge}=await kt.auth.getSession(),{session:ve}=ge;if(ve?.user){const{data:Pe}=await kt.from("user_completed_problems").select("problem_id").eq("user_id",ve.user.id),ye=new Set(Pe?.map(Sye));te=te.map(Se=>({...Se,completed:ye.has(Se.id)}))}u(te),f(!1)})()},oe=[i],e[3]=i,e[4]=q,e[5]=oe):(q=e[4],oe=e[5]),C.useEffect(q,oe);let ce,Y;e[6]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>{(async function(){const{data:Ri,error:H}=await kt.from("unique_problem_tags").select("*");H||!Ri||D(Ri.map(bye))})()},Y=[],e[6]=ce,e[7]=Y):(ce=e[6],Y=e[7]),C.useEffect(ce,Y);let V;e[8]!==v?(V=()=>{z.current?.api&&(z.current.api.setGridOption("quickFilterText",v),z.current.api.onFilterChanged())},e[8]=v,e[9]=V):V=e[9];let $;e[10]!==S||e[11]!==_||e[12]!==v||e[13]!==F||e[14]!==A?($=[v,S,F,A,_],e[10]=S,e[11]=_,e[12]=v,e[13]=F,e[14]=A,e[15]=$):$=e[15],C.useEffect(V,$);let N;e[16]!==S||e[17]!==_||e[18]!==F?(N=()=>S!=="All"||F.length>0||_,e[16]=S,e[17]=_,e[18]=F,e[19]=N):N=e[19];const X=N;let ie;e[20]!==S||e[21]!==_||e[22]!==F||e[23]!==A?(ie=ht=>{const Js=ht.data;if(!Js||_&&Js.completed||S!=="All"&&Js.difficulty!==S)return!1;if(F.length>0){const Ri=Js.tags??[];if(A==="AND"){if(!F.every(W=>Ri.includes(W)))return!1}else if(!F.some(W=>Ri.includes(W)))return!1}return!0},e[20]=S,e[21]=_,e[22]=F,e[23]=A,e[24]=ie):ie=e[24];const L=ie;let j;e[25]!==_?(j={field:"completed",headerName:"",headerComponent:()=>E.jsx("div",{className:"flex h-full cursor-pointer items-center justify-center",title:_?"Show completed":"Hide completed",onClick:()=>B(yye),children:_?E.jsx(u2,{className:"h-4 w-4 text-red-500"}):E.jsx(d2,{className:"h-4 w-4"})}),width:48,minWidth:48,maxWidth:48,sortable:!1,filter:!1,cellRenderer:jwe,pinned:"left"},e[25]=_,e[26]=j):j=e[26];let Q,re,me,Ce,pe,Ue,qe,Ve;e[27]===Symbol.for("react.memo_cache_sentinel")?(Q={field:"id",headerName:"#",width:72,minWidth:60,sort:null,comparator:wye},re={field:"title",headerName:"Title",flex:2,minWidth:200,cellRenderer:Uwe,getQuickFilterText:Cye},me={field:"timeframe_tag",headerName:"<Time",headerTooltip:"Indicates how recently this problem was asked at this company  within the last 30 days, 3 months, or 6 months",width:60,cellRenderer:vye,comparator:mye},Ce={field:"difficulty",headerName:"Difficulty",width:120,cellRenderer:$we,comparator:pye},pe={field:"acceptance",headerName:"Acceptance",width:110,cellRenderer:Kwe,comparator:gye},Ue={field:"frequency",headerName:"Frequency",headerTooltip:"How frequently this problem is asked at this company.",width:120,sort:"desc",cellRenderer:qwe,comparator:fye},qe={field:"tags",headerName:"Tags",flex:1.5,minWidth:150,sortable:!1,filter:!1,cellRenderer:Qwe,tooltipComponent:Ywe,tooltipValueGetter:hye},Ve={field:"other_companies",headerName:"Also Asked At",flex:1.5,minWidth:150,filter:!1,cellRenderer:tye,comparator:dye,tooltipComponent:Jwe,tooltipValueGetter:uye},e[27]=Q,e[28]=re,e[29]=me,e[30]=Ce,e[31]=pe,e[32]=Ue,e[33]=qe,e[34]=Ve):(Q=e[27],re=e[28],me=e[29],Ce=e[30],pe=e[31],Ue=e[32],qe=e[33],Ve=e[34]);let mt;e[35]!==j?(mt=[j,Q,re,me,Ce,pe,Ue,qe,Ve],e[35]=j,e[36]=mt):mt=e[36];const Ne=mt;let at;e[37]===Symbol.for("react.memo_cache_sentinel")?(at={sortable:!0,filter:!1,resizable:!0,suppressMovable:!1,cellStyle:{display:"flex",alignItems:"center"}},e[37]=at):at=e[37];const Dt=at;let It;e[38]!==l?(It=l.filter(cye),e[38]=l,e[39]=It):It=e[39];const Ot=It.length;let Le;e[40]!==l?(Le=l.filter(lye),e[40]=l,e[41]=Le):Le=e[41];const Je=Le.length;let nt;e[42]!==l?(nt=l.filter(aye),e[42]=l,e[43]=nt):nt=e[43];const st=nt.length;let xe;e[44]!==l?(xe=l.filter(rye),e[44]=l,e[45]=xe):xe=e[45];const et=xe.length;if(d){let ht;return e[46]===Symbol.for("react.memo_cache_sentinel")?(ht=E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"border-primary h-7 w-7 animate-spin rounded-full border-2 border-t-transparent"})}),e[46]=ht):ht=e[46],ht}if(g){let ht;return e[47]!==g?(ht=E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsx("p",{className:"text-muted-foreground",children:g})}),e[47]=g,e[48]=ht):ht=e[48],ht}let yt;e[49]===Symbol.for("react.memo_cache_sentinel")?(yt=E.jsxs("p",{className:"text-muted-foreground flex items-center gap-1 text-xs tracking-wide",children:[E.jsx(l2,{className:"text-muted-foreground mr-1 mb-1 inline h-4 w-4"}),"Company"]}),e[49]=yt):yt=e[49];const Ye=s?.name;let it;e[50]!==Ye?(it=E.jsxs("div",{children:[yt,E.jsx("h1",{className:"text-3xl font-semibold capitalize",children:Ye})]}),e[50]=Ye,e[51]=it):it=e[51];let Ht;e[52]!==Ot?(Ht={label:"Easy",count:Ot,style:"text-emerald-500"},e[52]=Ot,e[53]=Ht):Ht=e[53];let je;e[54]!==Je?(je={label:"Medium",count:Je,style:"text-amber-500"},e[54]=Je,e[55]=je):je=e[55];let Be;e[56]!==st?(Be={label:"Hard",count:st,style:"text-rose-500"},e[56]=st,e[57]=Be):Be=e[57];let Ze;e[58]!==Ht||e[59]!==je||e[60]!==Be?(Ze=E.jsx("div",{className:"flex gap-6",children:[Ht,je,Be].map(oye)}),e[58]=Ht,e[59]=je,e[60]=Be,e[61]=Ze):Ze=e[61];let qt;e[62]===Symbol.for("react.memo_cache_sentinel")?(qt=E.jsx(hl,{className:"mt-1.5"}),e[62]=qt):qt=e[62];let Ln;e[63]!==et||e[64]!==l.length?(Ln=E.jsxs("p",{className:"text-muted-foreground mt-1 text-xs sm:text-sm",children:[l.length," problems  ",et," completed"]}),e[63]=et,e[64]=l.length,e[65]=Ln):Ln=e[65];let ln;e[66]!==Ze||e[67]!==Ln?(ln=E.jsxs("div",{className:"flex flex-col items-center",children:[Ze,qt,Ln]}),e[66]=Ze,e[67]=Ln,e[68]=ln):ln=e[68];let sn;e[69]!==it||e[70]!==ln?(sn=E.jsxs("div",{className:"flex items-center justify-between gap-4",children:[it,ln]}),e[69]=it,e[70]=ln,e[71]=sn):sn=e[71];let bt;e[72]===Symbol.for("react.memo_cache_sentinel")?(bt=ht=>y(ht.target.value),e[72]=bt):bt=e[72];let cn;e[73]!==v?(cn=E.jsx("input",{type:"text",placeholder:"Filter problems",value:v,onChange:bt,className:"bg-muted/20 border-border text-primary placeholder:text-muted-foreground h-8 rounded-md border px-3 text-sm outline-none focus:ring-1 focus:ring-white/10"}),e[73]=v,e[74]=cn):cn=e[74];let Bt;e[75]===Symbol.for("react.memo_cache_sentinel")?(Bt=["All","Easy","Medium","Hard"],e[75]=Bt):Bt=e[75];let Gn;e[76]!==S?(Gn=E.jsx("div",{className:"flex items-center gap-1",children:Bt.map(ht=>E.jsx("button",{onClick:()=>R(ht),className:`h-7 cursor-pointer rounded-md px-3 text-xs font-medium transition-colors ${S===ht?ht==="All"?"bg-primary text-primary-foreground":ht==="Easy"?"bg-emerald-500/20 text-emerald-500":ht==="Medium"?"bg-amber-500/20 text-amber-500":"bg-rose-500/20 text-rose-500":"text-muted-foreground hover:text-primary hover:bg-muted/40"}`,children:ht},ht))}),e[76]=S,e[77]=Gn):Gn=e[77];let ui;e[78]===Symbol.for("react.memo_cache_sentinel")?(ui=E.jsx(hl,{orientation:"vertical",className:"h-5"}),e[78]=ui):ui=e[78];let zn;e[79]!==T||e[80]!==F||e[81]!==A?(zn=E.jsx(Vx,{allTags:T,selectedTags:F,setSelectedTags:I,tagMatchMode:A,setTagMatchMode:O}),e[79]=T,e[80]=F,e[81]=A,e[82]=zn):zn=e[82];let yn;e[83]!==cn||e[84]!==Gn||e[85]!==zn?(yn=E.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3 sm:mt-2",children:[cn,Gn,ui,zn]}),e[83]=cn,e[84]=Gn,e[85]=zn,e[86]=yn):yn=e[86];let lt;e[87]!==sn||e[88]!==yn?(lt=E.jsx("div",{className:"border-border border-b px-6 py-6",children:E.jsxs("div",{className:"mx-auto sm:px-8 md:px-16",children:[sn,yn]})}),e[87]=sn,e[88]=yn,e[89]=lt):lt=e[89];let Tn;e[90]===Symbol.for("react.memo_cache_sentinel")?(Tn={height:"calc(100vh - 260px)"},e[90]=Tn):Tn=e[90];const un=`h-full w-full ${t==="light"?"ag-theme-quartz":"ag-theme-quartz-dark"}`;let dn;e[91]!==t?(dn=fv.withParams({cellFontFamily:"geist, sans-serif"}).withParams(t==="light"?{rowBorder:{style:"solid",width:"2px",color:"#e5e7eb"}}:{rowBorder:{style:"solid",width:"1px",color:"#2e3135"},rowHoverColor:"#151515",backgroundColor:"#0a0a0a",foregroundColor:"#bfbfbf",browserColorScheme:"dark"}),e[91]=t,e[92]=dn):dn=e[92];let Dn;e[93]!==v?(Dn=ht=>{ht.api.setGridOption("quickFilterText",v)},e[93]=v,e[94]=Dn):Dn=e[94];let Si;e[95]!==Ne||e[96]!==L||e[97]!==X||e[98]!==l||e[99]!==dn||e[100]!==Dn?(Si=E.jsx(Mx,{ref:z,rowData:l,columnDefs:Ne,defaultColDef:Dt,rowHeight:56,tooltipShowDelay:300,tooltipShowMode:"standard",headerHeight:40,theme:dn,animateRows:!0,suppressCellFocus:!0,isExternalFilterPresent:X,doesExternalFilterPass:L,getRowId:sye,onGridReady:Dn}),e[95]=Ne,e[96]=L,e[97]=X,e[98]=l,e[99]=dn,e[100]=Dn,e[101]=Si):Si=e[101];let ii;e[102]!==un||e[103]!==Si?(ii=E.jsx("div",{className:"flex-1 px-6 py-4",children:E.jsx("div",{className:"max-w-9xl mx-auto",style:Tn,children:E.jsx("div",{className:un,children:Si})})}),e[102]=un,e[103]=Si,e[104]=ii):ii=e[104];let di;return e[105]!==lt||e[106]!==ii?(di=E.jsxs("div",{className:"font-geist bg-background text-primary flex flex-col",children:[lt,ii]}),e[105]=lt,e[106]=ii,e[107]=di):di=e[107],di}function sye(e){return e.data.id.toString()}function oye(e){const{label:t,count:n,style:i}=e;return E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-sm font-semibold tabular-nums sm:text-2xl ${i}`,children:n}),E.jsx("div",{className:"text-muted-foreground text-xs",children:t})]},t)}function rye(e){return e.completed}function aye(e){return e.difficulty==="Hard"}function lye(e){return e.difficulty==="Medium"}function cye(e){return e.difficulty==="Easy"}function uye(e){return e.value}function dye(e,t){return(t?.length??0)-(e?.length??0)}function hye(e){return e.value}function fye(e,t){return(e??-1)-(t??-1)}function gye(e,t){return(e??-1)-(t??-1)}function pye(e,t){return(Ek[e??""]??99)-(Ek[t??""]??99)}function mye(e,t){const n={"thirty-days":0,"three-months":1,"six-months":2};return(n[e]??99)-(n[t]??99)}function vye(e){const{value:t}=e,i={"six-months":{label:"6M",style:"text-blue-400 bg-blue-400/10"},"three-months":{label:"3M",style:"text-violet-400 bg-violet-400/10"},"thirty-days":{label:"30D",style:"text-orange-400 bg-orange-400/10"}}[t];return i?E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${i.style}`,children:i.label})}):E.jsx("span",{className:"text-muted-foreground text-xs"})}function Cye(e){return e.value}function wye(e,t){return e-t}function yye(e){return!e}function bye(e){return e.tag}function Sye(e){return e.problem_id}function Rye(e){return e.company?.name}function xye(e){return e.tag}kR.registerModules([Px]);const Tk={Easy:0,Medium:1,Hard:2},Eye={Easy:"text-emerald-500 bg-emerald-500/10",Medium:"text-amber-500 bg-amber-500/10",Hard:"text-rose-500 bg-rose-500/10"};async function Tye(){let t=0;const n=[];for(;;){const{data:i,error:s}=await kt.from("problems").select(`
          id,
          title,
          url,
          difficulty,
          acceptance,
          frequency,
          problem_tags ( tag ),
          company_problems (
            company:companies ( id, name ),
            timeframe_tag
          )
        `).range(t,t+4e3-1);if(s||!i||(n.push(...i),i.length<4e3))break;t+=4e3}return n}function Dye(e){const{value:t,data:n,api:i}=e;if(!n)return null;const s=n.isToggling,o=async r=>{if(r.stopPropagation(),s)return;const{data:{session:l}}=await kt.auth.getSession();if(!l?.user){alert("Please sign in to mark problems as completed.");return}const u=l.user.id,d=n.id,f=!t,g={...n,isToggling:!0};i.applyTransaction({update:[g]}),i.refreshCells({rowNodes:[e.node],force:!0});try{if(f){const{error:m}=await kt.from("user_completed_problems").insert({user_id:u,problem_id:d});if(m)throw m}else{const{error:m}=await kt.from("user_completed_problems").delete().eq("user_id",u).eq("problem_id",d);if(m)throw m}i.applyTransaction({update:[{...n,completed:f,isToggling:!1}]})}catch(m){console.error("Toggle failed:",m),i.applyTransaction({update:[{...n,completed:t,isToggling:!1}]})}};return E.jsx("div",{className:`flex h-full items-center ${s?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:o,children:s?E.jsx("div",{className:"border-primary h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):t?E.jsx(u0,{className:"h-4 w-4 text-emerald-500"}):E.jsx("div",{className:"border-border h-4 w-4 rounded-full border"})})}function Pye(e){const t=Re.c(3),{data:n}=e;if(!n)return null;let i;return t[0]!==n.title||t[1]!==n.url?(i=E.jsx("div",{className:"flex h-full items-center",children:n.url?E.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary group inline-flex items-center gap-1 text-sm font-medium transition-colors",onClick:Aye,children:[n.title,E.jsx(c0,{className:"h-3 w-3 opacity-0 transition-opacity group-hover:opacity-60"})]}):E.jsx("span",{className:"text-sm font-medium",children:n.title})}),t[0]=n.title,t[1]=n.url,t[2]=i):i=t[2],i}function Aye(e){return e.stopPropagation()}function Fye(e){const t=Re.c(4),{value:n}=e;if(!n){let o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsx("span",{className:"text-muted-foreground text-xs",children:""}),t[0]=o):o=t[0],o}const i=`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${Eye[n]??"text-muted-foreground"}`;let s;return t[1]!==i||t[2]!==n?(s=E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:i,children:n})}),t[1]=i,t[2]=n,t[3]=s):s=t[3],s}function Mye(e){const t=Re.c(4),{value:n}=e;let i;t[0]!==n?(i=n!=null?`${Number(n).toFixed(1)}%`:"",t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs tabular-nums",children:i}),t[2]=i,t[3]=s):s=t[3],s}function kye(e){const t=Re.c(10),{value:n}=e;if(n==null){let u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs",children:""}),t[0]=u):u=t[0],u}const i=`${Math.min(n,100)}%`;let s;t[1]!==i?(s=E.jsx("div",{className:"bg-muted h-1.5 w-14 overflow-hidden rounded-full",children:E.jsx("div",{className:"bg-primary h-full rounded-full",style:{width:i}})}),t[1]=i,t[2]=s):s=t[2];let o;t[3]!==n?(o=n.toFixed(0),t[3]=n,t[4]=o):o=t[4];let r;t[5]!==o?(r=E.jsxs("span",{className:"text-muted-foreground text-xs tabular-nums",children:[o,"%"]}),t[5]=o,t[6]=r):r=t[6];let l;return t[7]!==s||t[8]!==r?(l=E.jsxs("div",{className:"flex h-full items-center gap-1.5",children:[s,r]}),t[7]=s,t[8]=r,t[9]=l):l=t[9],l}function Iye(e){const t=Re.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(Oye),t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=s):s=t[3],s}function Oye(e){return E.jsx(Ds,{variant:"secondary",className:"text-muted-foreground text-md",children:e},e)}function Lye(e){const t=Re.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(_ye),t[0]=n,t[1]=i):i=t[1];let s;t[2]!==n.length?(s=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=s):s=t[3];let o;return t[4]!==i||t[5]!==s?(o=E.jsxs("div",{className:"gap-y-0. flex h-full flex-wrap items-center gap-x-1",children:[i,s]}),t[4]=i,t[5]=s,t[6]=o):o=t[6],o}function _ye(e){return E.jsx(Ds,{variant:"secondary",className:"text-muted-foreground my-0 px-2",children:e})}function Nye(e){const t=Re.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(Vye),t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=s):s=t[3],s}function Vye(e){return E.jsx(Ds,{variant:"outline",className:ut("text-muted-foreground text-md",Lu(e)),children:e},e)}function Hye(e){const t=Re.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(Bye),t[0]=n,t[1]=i):i=t[1];let s;t[2]!==n.length?(s=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=s):s=t[3];let o;return t[4]!==i||t[5]!==s?(o=E.jsxs("div",{className:"flex h-full flex-wrap items-center gap-x-0.5 gap-y-0",children:[i,s]}),t[4]=i,t[5]=s,t[6]=o):o=t[6],o}function Bye(e){return E.jsx(Ds,{variant:"outline",className:ut("text-muted-foreground my-0",Lu(e)),children:e},e)}function Gye(){const e=Re.c(101),{theme:t}=Qm();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[i,s]=C.useState(n),[o,r]=C.useState(!0),[l,u]=C.useState(null),[d,f]=C.useState(""),[g,m]=C.useState("All");let v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=[],e[1]=v):v=e[1];const[y,S]=C.useState(v);let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=[],e[2]=R):R=e[2];const[x,T]=C.useState(R),[D,M]=C.useState("AND"),[F,I]=C.useState(!1),A=C.useRef(null);let O,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{(async function(){r(!0),u(null);const un=await Tye();if(!un){u("Failed to fetch problems."),r(!1);return}let dn=un.map(obe);const{data:Dn}=await kt.auth.getSession(),{session:Si}=Dn;if(Si?.user){const{data:ii}=await kt.from("user_completed_problems").select("problem_id").eq("user_id",Si.user.id),di=new Set(ii?.map(sbe));dn=dn.map(ht=>({...ht,completed:di.has(ht.id)}))}s(dn),r(!1)})()},_=[],e[3]=O,e[4]=_):(O=e[3],_=e[4]),C.useEffect(O,_);let B,z;e[5]===Symbol.for("react.memo_cache_sentinel")?(B=()=>{(async function(){const{data:un,error:dn}=await kt.from("unique_problem_tags").select("*");dn||!un||S(un.map(ibe))})()},z=[],e[5]=B,e[6]=z):(B=e[5],z=e[6]),C.useEffect(B,z);let q;e[7]!==d?(q=()=>{A.current?.api&&(A.current.api.setGridOption("quickFilterText",d),A.current.api.onFilterChanged())},e[7]=d,e[8]=q):q=e[8];let oe;e[9]!==g||e[10]!==F||e[11]!==d||e[12]!==x||e[13]!==D?(oe=[d,g,x,D,F],e[9]=g,e[10]=F,e[11]=d,e[12]=x,e[13]=D,e[14]=oe):oe=e[14],C.useEffect(q,oe);let ce;e[15]!==g||e[16]!==F||e[17]!==x?(ce=()=>g!=="All"||x.length>0||F,e[15]=g,e[16]=F,e[17]=x,e[18]=ce):ce=e[18];const Y=ce;let V;e[19]!==g||e[20]!==F||e[21]!==x||e[22]!==D?(V=lt=>{const Tn=lt.data;if(!Tn||F&&Tn.completed||g!=="All"&&Tn.difficulty!==g)return!1;if(x.length>0){const un=Tn.tags??[];if(D==="AND"){if(!x.every(Dn=>un.includes(Dn)))return!1}else if(!x.some(Dn=>un.includes(Dn)))return!1}return!0},e[19]=g,e[20]=F,e[21]=x,e[22]=D,e[23]=V):V=e[23];const $=V;let N;e[24]!==F?(N={field:"completed",headerName:"",headerComponent:()=>E.jsx("div",{className:"flex h-full cursor-pointer items-center justify-center",title:F?"Show completed":"Hide completed",onClick:()=>I(nbe),children:F?E.jsx(u2,{className:"h-4 w-4 text-red-500"}):E.jsx(d2,{className:"h-4 w-4"})}),width:48,minWidth:48,maxWidth:48,sortable:!1,filter:!1,cellRenderer:Dye,pinned:"left"},e[24]=F,e[25]=N):N=e[25];let X,ie,L,j,Q,re,me;e[26]===Symbol.for("react.memo_cache_sentinel")?(X={field:"id",headerName:"#",width:72,minWidth:60,sort:null,comparator:tbe},ie={field:"title",headerName:"Title",flex:2,minWidth:200,cellRenderer:Pye,getQuickFilterText:ebe},L={field:"difficulty",headerName:"Difficulty",width:120,cellRenderer:Fye,comparator:Jye},j={field:"acceptance",headerName:"Acceptance",width:110,cellRenderer:Mye,comparator:Zye},Q={field:"frequency",headerName:"Frequency",headerTooltip:"How frequently this problem is asked at this company.",width:120,sort:"desc",cellRenderer:kye,comparator:Qye},re={field:"tags",headerName:"Tags",flex:1.5,minWidth:150,sortable:!1,filter:!1,cellRenderer:Lye,tooltipComponent:Iye,tooltipValueGetter:Xye},me={field:"other_companies",headerName:"Also Asked At",flex:1.5,minWidth:150,filter:!1,cellRenderer:Hye,comparator:Yye,tooltipComponent:Nye,tooltipValueGetter:qye},e[26]=X,e[27]=ie,e[28]=L,e[29]=j,e[30]=Q,e[31]=re,e[32]=me):(X=e[26],ie=e[27],L=e[28],j=e[29],Q=e[30],re=e[31],me=e[32]);let Ce;e[33]!==N?(Ce=[N,X,ie,L,j,Q,re,me],e[33]=N,e[34]=Ce):Ce=e[34];const pe=Ce;let Ue;e[35]===Symbol.for("react.memo_cache_sentinel")?(Ue={sortable:!0,filter:!1,resizable:!0,suppressMovable:!1,cellStyle:{display:"flex",alignItems:"center"}},e[35]=Ue):Ue=e[35];const qe=Ue;let Ve;e[36]!==i?(Ve=i.filter(Kye),e[36]=i,e[37]=Ve):Ve=e[37];const mt=Ve.length;let Ne;e[38]!==i?(Ne=i.filter($ye),e[38]=i,e[39]=Ne):Ne=e[39];const at=Ne.length;let Dt;e[40]!==i?(Dt=i.filter(Wye),e[40]=i,e[41]=Dt):Dt=e[41];const It=Dt.length;let Ot;e[42]!==i?(Ot=i.filter(Uye),e[42]=i,e[43]=Ot):Ot=e[43];const Le=Ot.length;if(o){let lt;return e[44]===Symbol.for("react.memo_cache_sentinel")?(lt=E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"border-primary h-7 w-7 animate-spin rounded-full border-2 border-t-transparent"})}),e[44]=lt):lt=e[44],lt}if(l){let lt;return e[45]!==l?(lt=E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsx("p",{className:"text-muted-foreground",children:l})}),e[45]=l,e[46]=lt):lt=e[46],lt}let Je;e[47]===Symbol.for("react.memo_cache_sentinel")?(Je=E.jsx("div",{children:E.jsx("h1",{className:"text-3xl font-semibold capitalize",children:"All Problems"})}),e[47]=Je):Je=e[47];let nt;e[48]!==mt?(nt={label:"Easy",count:mt,style:"text-emerald-500"},e[48]=mt,e[49]=nt):nt=e[49];let st;e[50]!==at?(st={label:"Medium",count:at,style:"text-amber-500"},e[50]=at,e[51]=st):st=e[51];let xe;e[52]!==It?(xe={label:"Hard",count:It,style:"text-rose-500"},e[52]=It,e[53]=xe):xe=e[53];let et;e[54]!==nt||e[55]!==st||e[56]!==xe?(et=E.jsx("div",{className:"flex gap-6",children:[nt,st,xe].map(jye)}),e[54]=nt,e[55]=st,e[56]=xe,e[57]=et):et=e[57];let yt;e[58]===Symbol.for("react.memo_cache_sentinel")?(yt=E.jsx(hl,{className:"mt-1.5"}),e[58]=yt):yt=e[58];let Ye;e[59]!==Le||e[60]!==i.length?(Ye=E.jsxs("p",{className:"text-muted-foreground mt-1 text-xs sm:text-sm",children:[i.length," problems  ",Le," completed"]}),e[59]=Le,e[60]=i.length,e[61]=Ye):Ye=e[61];let it;e[62]!==et||e[63]!==Ye?(it=E.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Je,E.jsxs("div",{className:"flex flex-col items-center",children:[et,yt,Ye]})]}),e[62]=et,e[63]=Ye,e[64]=it):it=e[64];let Ht;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ht=lt=>f(lt.target.value),e[65]=Ht):Ht=e[65];let je;e[66]!==d?(je=E.jsx("input",{type:"text",placeholder:"Filter problems",value:d,onChange:Ht,className:"bg-muted/20 border-border text-primary placeholder:text-muted-foreground h-8 rounded-md border px-3 text-sm outline-none focus:ring-1 focus:ring-white/10"}),e[66]=d,e[67]=je):je=e[67];let Be;e[68]===Symbol.for("react.memo_cache_sentinel")?(Be=["All","Easy","Medium","Hard"],e[68]=Be):Be=e[68];let Ze;e[69]!==g?(Ze=E.jsx("div",{className:"flex items-center gap-1",children:Be.map(lt=>E.jsx("button",{onClick:()=>m(lt),className:`h-7 cursor-pointer rounded-md px-3 text-xs font-medium transition-colors ${g===lt?lt==="All"?"bg-primary text-primary-foreground":lt==="Easy"?"bg-emerald-500/20 text-emerald-500":lt==="Medium"?"bg-amber-500/20 text-amber-500":"bg-rose-500/20 text-rose-500":"text-muted-foreground hover:text-primary hover:bg-muted/40"}`,children:lt},lt))}),e[69]=g,e[70]=Ze):Ze=e[70];let qt;e[71]===Symbol.for("react.memo_cache_sentinel")?(qt=E.jsx(hl,{orientation:"vertical",className:"h-5"}),e[71]=qt):qt=e[71];let Ln;e[72]!==y||e[73]!==x||e[74]!==D?(Ln=E.jsx(Vx,{allTags:y,selectedTags:x,setSelectedTags:T,tagMatchMode:D,setTagMatchMode:M}),e[72]=y,e[73]=x,e[74]=D,e[75]=Ln):Ln=e[75];let ln;e[76]!==je||e[77]!==Ze||e[78]!==Ln?(ln=E.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3 sm:mt-2",children:[je,Ze,qt,Ln]}),e[76]=je,e[77]=Ze,e[78]=Ln,e[79]=ln):ln=e[79];let sn;e[80]!==it||e[81]!==ln?(sn=E.jsx("div",{className:"border-border border-b px-6 py-6",children:E.jsxs("div",{className:"mx-auto sm:px-8 md:px-16",children:[it,ln]})}),e[80]=it,e[81]=ln,e[82]=sn):sn=e[82];let bt;e[83]===Symbol.for("react.memo_cache_sentinel")?(bt={height:"calc(100vh - 260px)"},e[83]=bt):bt=e[83];const cn=`h-full w-full ${t==="light"?"ag-theme-quartz":"ag-theme-quartz-dark"}`;let Bt;e[84]!==t?(Bt=fv.withParams({cellFontFamily:"geist, sans-serif"}).withParams(t==="light"?{rowBorder:{style:"solid",width:"2px",color:"#e5e7eb"}}:{rowBorder:{style:"solid",width:"1px",color:"#2e3135"},rowHoverColor:"#151515",backgroundColor:"#0a0a0a",foregroundColor:"#bfbfbf",browserColorScheme:"dark"}),e[84]=t,e[85]=Bt):Bt=e[85];let Gn;e[86]!==d?(Gn=lt=>{lt.api.setGridOption("quickFilterText",d)},e[86]=d,e[87]=Gn):Gn=e[87];let ui;e[88]!==pe||e[89]!==$||e[90]!==Y||e[91]!==i||e[92]!==Bt||e[93]!==Gn?(ui=E.jsx(Mx,{ref:A,rowData:i,columnDefs:pe,defaultColDef:qe,rowHeight:56,tooltipShowDelay:300,tooltipShowMode:"standard",headerHeight:40,theme:Bt,animateRows:!0,suppressCellFocus:!0,isExternalFilterPresent:Y,doesExternalFilterPass:$,getRowId:zye,onGridReady:Gn}),e[88]=pe,e[89]=$,e[90]=Y,e[91]=i,e[92]=Bt,e[93]=Gn,e[94]=ui):ui=e[94];let zn;e[95]!==cn||e[96]!==ui?(zn=E.jsx("div",{className:"flex-1 px-6 py-4",children:E.jsx("div",{className:"max-w-9xl mx-auto",style:bt,children:E.jsx("div",{className:cn,children:ui})})}),e[95]=cn,e[96]=ui,e[97]=zn):zn=e[97];let yn;return e[98]!==sn||e[99]!==zn?(yn=E.jsxs("div",{className:"font-geist bg-background text-primary flex flex-col",children:[sn,zn]}),e[98]=sn,e[99]=zn,e[100]=yn):yn=e[100],yn}function zye(e){return e.data.id.toString()}function jye(e){const{label:t,count:n,style:i}=e;return E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-sm font-semibold tabular-nums sm:text-2xl ${i}`,children:n}),E.jsx("div",{className:"text-muted-foreground text-xs",children:t})]},t)}function Uye(e){return e.completed}function Wye(e){return e.difficulty==="Hard"}function $ye(e){return e.difficulty==="Medium"}function Kye(e){return e.difficulty==="Easy"}function qye(e){return e.value}function Yye(e,t){return(t?.length??0)-(e?.length??0)}function Xye(e){return e.value}function Qye(e,t){return(e??-1)-(t??-1)}function Zye(e,t){return(e??-1)-(t??-1)}function Jye(e,t){return(Tk[e??""]??99)-(Tk[t??""]??99)}function ebe(e){return e.value}function tbe(e,t){return e-t}function nbe(e){return!e}function ibe(e){return e.tag}function sbe(e){return e.problem_id}function obe(e){return{id:e.id,title:e.title??"Untitled",url:e.url??null,difficulty:e.difficulty??null,acceptance:e.acceptance??null,frequency:e.frequency??null,tags:e.problem_tags?.map(abe)??[],other_companies:e.company_problems?.map(rbe).filter(Boolean)??[],completed:!1,timeframe_tag:null,isToggling:!1}}function rbe(e){return e.company?.name}function abe(e){return e.tag}kR.registerModules([Px]);const Dk={Easy:0,Medium:1,Hard:2},lbe={Easy:"text-emerald-500 bg-emerald-500/10",Medium:"text-amber-500 bg-amber-500/10",Hard:"text-rose-500 bg-rose-500/10"};function cbe(e){const{value:t,data:n,api:i}=e;if(!n)return null;const s=n.isToggling,o=async r=>{if(r.stopPropagation(),s)return;const{data:{session:l}}=await kt.auth.getSession();if(!l?.user){alert("Please sign in to manage completed problems.");return}const u=l.user.id,d=n.id,f=!t;i.applyTransaction({update:[{...n,isToggling:!0}]}),i.refreshCells({rowNodes:[e.node],force:!0});try{if(f){const{error:g}=await kt.from("user_completed_problems").insert({user_id:u,problem_id:d});if(g)throw g}else{const{error:g}=await kt.from("user_completed_problems").delete().eq("user_id",u).eq("problem_id",d);if(g)throw g}f?i.applyTransaction({update:[{...n,completed:f,isToggling:!1}]}):i.applyTransaction({remove:[n]})}catch(g){console.error("Toggle failed:",g),i.applyTransaction({update:[{...n,completed:t,isToggling:!1}]})}};return E.jsx("div",{className:`flex h-full items-center ${s?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:o,children:s?E.jsx("div",{className:"border-primary h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):t?E.jsx(u0,{className:"h-4 w-4 text-emerald-500"}):E.jsx("div",{className:"border-border h-4 w-4 rounded-full border"})})}function ube(e){const t=Re.c(3),{data:n}=e;if(!n)return null;let i;return t[0]!==n.title||t[1]!==n.url?(i=E.jsx("div",{className:"flex h-full items-center",children:n.url?E.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary group inline-flex items-center gap-1 text-sm font-medium transition-colors",onClick:dbe,children:[n.title,E.jsx(c0,{className:"h-3 w-3 opacity-0 transition-opacity group-hover:opacity-60"})]}):E.jsx("span",{className:"text-sm font-medium",children:n.title})}),t[0]=n.title,t[1]=n.url,t[2]=i):i=t[2],i}function dbe(e){return e.stopPropagation()}function hbe(e){const t=Re.c(4),{value:n}=e;if(!n){let o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsx("span",{className:"text-muted-foreground text-xs",children:""}),t[0]=o):o=t[0],o}const i=`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${lbe[n]??"text-muted-foreground"}`;let s;return t[1]!==i||t[2]!==n?(s=E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:i,children:n})}),t[1]=i,t[2]=n,t[3]=s):s=t[3],s}function fbe(e){const t=Re.c(4),{value:n}=e;let i;t[0]!==n?(i=n!=null?`${Number(n).toFixed(1)}%`:"",t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs tabular-nums",children:i}),t[2]=i,t[3]=s):s=t[3],s}function gbe(e){const t=Re.c(10),{value:n}=e;if(n==null){let u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs",children:""}),t[0]=u):u=t[0],u}const i=`${Math.min(n,100)}%`;let s;t[1]!==i?(s=E.jsx("div",{className:"bg-muted h-1.5 w-14 overflow-hidden rounded-full",children:E.jsx("div",{className:"bg-primary h-full rounded-full",style:{width:i}})}),t[1]=i,t[2]=s):s=t[2];let o;t[3]!==n?(o=n.toFixed(0),t[3]=n,t[4]=o):o=t[4];let r;t[5]!==o?(r=E.jsxs("span",{className:"text-muted-foreground text-xs tabular-nums",children:[o,"%"]}),t[5]=o,t[6]=r):r=t[6];let l;return t[7]!==s||t[8]!==r?(l=E.jsxs("div",{className:"flex h-full items-center gap-1.5",children:[s,r]}),t[7]=s,t[8]=r,t[9]=l):l=t[9],l}function pbe(e){const t=Re.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(mbe),t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=s):s=t[3],s}function mbe(e){return E.jsx(Ds,{variant:"secondary",className:"text-muted-foreground text-xs",children:e},e)}function vbe(e){const t=Re.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(Cbe),t[0]=n,t[1]=i):i=t[1];let s;t[2]!==n.length?(s=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=s):s=t[3];let o;return t[4]!==i||t[5]!==s?(o=E.jsxs("div",{className:"flex h-full flex-wrap items-center gap-x-1",children:[i,s]}),t[4]=i,t[5]=s,t[6]=o):o=t[6],o}function Cbe(e){return E.jsx(Ds,{variant:"secondary",className:"text-muted-foreground my-0 px-2",children:e},e)}function wbe(e){const t=Re.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(ybe),t[0]=n,t[1]=i):i=t[1];let s;return t[2]!==i?(s=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=s):s=t[3],s}function ybe(e){return E.jsx(Ds,{variant:"outline",className:ut("text-muted-foreground text-xs",Lu(e)),children:e},e)}function bbe(e){const t=Re.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(Sbe),t[0]=n,t[1]=i):i=t[1];let s;t[2]!==n.length?(s=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=s):s=t[3];let o;return t[4]!==i||t[5]!==s?(o=E.jsxs("div",{className:"flex h-full flex-wrap items-center gap-x-0.5 gap-y-0",children:[i,s]}),t[4]=i,t[5]=s,t[6]=o):o=t[6],o}function Sbe(e){return E.jsx(Ds,{variant:"outline",className:ut("text-muted-foreground my-0",Lu(e)),children:e},e)}function Rbe(){const e=Re.c(80),{theme:t}=Qm();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[i,s]=C.useState(n),[o,r]=C.useState(!0),[l,u]=C.useState(null),[d,f]=C.useState(!1),[g,m]=C.useState(""),[v,y]=C.useState("All");let S;e[1]===Symbol.for("react.memo_cache_sentinel")?(S=[],e[1]=S):S=e[1];const[R,x]=C.useState(S);let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T=[],e[2]=T):T=e[2];const[D,M]=C.useState(T),[F,I]=C.useState("AND"),A=C.useRef(null);let O,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{(async function(){r(!0),u(null);const{data:Ze}=await kt.auth.getSession(),{session:qt}=Ze;if(!qt?.user){f(!1),r(!1);return}f(!0);const Ln=qt.user.id,{data:ln,error:sn}=await kt.from("user_completed_problems").select(`
          problem:problems (
            id,
            title,
            url,
            difficulty,
            acceptance,
            frequency,
            problem_tags ( tag ),
            company_problems (
              company:companies ( id, name )
            )
          )
        `).eq("user_id",Ln);if(sn||!ln){u("Failed to fetch completed problems."),r(!1);return}const bt=ln.map(Vbe);s(bt),r(!1)})()},_=[],e[3]=O,e[4]=_):(O=e[3],_=e[4]),C.useEffect(O,_);let B,z;e[5]===Symbol.for("react.memo_cache_sentinel")?(B=()=>{(async function(){const{data:Ze,error:qt}=await kt.from("unique_problem_tags").select("*");qt||!Ze||x(Ze.map(Nbe))})()},z=[],e[5]=B,e[6]=z):(B=e[5],z=e[6]),C.useEffect(B,z);let q;e[7]!==g?(q=()=>{A.current?.api&&(A.current.api.setGridOption("quickFilterText",g),A.current.api.onFilterChanged())},e[7]=g,e[8]=q):q=e[8];let oe;e[9]!==v||e[10]!==g||e[11]!==D||e[12]!==F?(oe=[g,v,D,F],e[9]=v,e[10]=g,e[11]=D,e[12]=F,e[13]=oe):oe=e[13],C.useEffect(q,oe);let ce;e[14]!==v||e[15]!==D?(ce=()=>v!=="All"||D.length>0,e[14]=v,e[15]=D,e[16]=ce):ce=e[16];const Y=ce;let V;e[17]!==v||e[18]!==D||e[19]!==F?(V=je=>{const Be=je.data;if(!Be||v!=="All"&&Be.difficulty!==v)return!1;if(D.length>0){const Ze=Be.tags??[];if(F==="AND"){if(!D.every(qt=>Ze.includes(qt)))return!1}else if(!D.some(qt=>Ze.includes(qt)))return!1}return!0},e[17]=v,e[18]=D,e[19]=F,e[20]=V):V=e[20];const $=V;let N;e[21]===Symbol.for("react.memo_cache_sentinel")?(N=[{field:"completed",headerName:"",headerTooltip:"Uncheck to remove from completed",width:48,minWidth:48,maxWidth:48,sortable:!1,filter:!1,cellRenderer:cbe,pinned:"left"},{field:"id",headerName:"#",width:72,minWidth:60,comparator:_be},{field:"title",headerName:"Title",flex:2,minWidth:200,cellRenderer:ube,getQuickFilterText:Lbe},{field:"difficulty",headerName:"Difficulty",width:120,cellRenderer:hbe,comparator:Obe},{field:"acceptance",headerName:"Acceptance",width:110,cellRenderer:fbe,comparator:Ibe},{field:"frequency",headerName:"Frequency",headerTooltip:"How frequently this problem is asked.",width:120,sort:"desc",cellRenderer:gbe,comparator:kbe},{field:"tags",headerName:"Tags",flex:1.5,minWidth:150,sortable:!1,filter:!1,cellRenderer:vbe,tooltipComponent:pbe,tooltipValueGetter:Mbe},{field:"companies",headerName:"Companies",flex:1.5,minWidth:150,filter:!1,cellRenderer:bbe,comparator:Fbe,tooltipComponent:wbe,tooltipValueGetter:Abe}],e[21]=N):N=e[21];const X=N;let ie;e[22]===Symbol.for("react.memo_cache_sentinel")?(ie={sortable:!0,filter:!1,resizable:!0,suppressMovable:!1,cellStyle:{display:"flex",alignItems:"center"}},e[22]=ie):ie=e[22];const L=ie;let j;e[23]!==i?(j=i.filter(Pbe),e[23]=i,e[24]=j):j=e[24];const Q=j.length;let re;e[25]!==i?(re=i.filter(Dbe),e[25]=i,e[26]=re):re=e[26];const me=re.length;let Ce;e[27]!==i?(Ce=i.filter(Tbe),e[27]=i,e[28]=Ce):Ce=e[28];const pe=Ce.length;if(o){let je;return e[29]===Symbol.for("react.memo_cache_sentinel")?(je=E.jsx("div",{className:"flex items-center justify-center py-20",children:E.jsx("div",{className:"border-primary h-7 w-7 animate-spin rounded-full border-2 border-t-transparent"})}),e[29]=je):je=e[29],je}if(!d){let je;return e[30]===Symbol.for("react.memo_cache_sentinel")?(je=E.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-3",children:[E.jsx(Ww,{className:"text-muted-foreground h-10 w-10"}),E.jsx("p",{className:"text-muted-foreground text-sm",children:"Please sign in to view your completed problems."})]}),e[30]=je):je=e[30],je}if(l){let je;return e[31]!==l?(je=E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsx("p",{className:"text-muted-foreground",children:l})}),e[31]=l,e[32]=je):je=e[32],je}let Ue;e[33]===Symbol.for("react.memo_cache_sentinel")?(Ue=E.jsxs("div",{children:[E.jsxs("p",{className:"text-muted-foreground flex items-center gap-1 text-xs tracking-wide",children:[E.jsx(Ww,{className:"text-muted-foreground mr-1 mb-1 inline h-4 w-4"}),"Progress"]}),E.jsx("h1",{className:"text-3xl font-semibold",children:"Completed Problems"})]}),e[33]=Ue):Ue=e[33];let qe;e[34]!==Q?(qe={label:"Easy",count:Q,style:"text-emerald-500"},e[34]=Q,e[35]=qe):qe=e[35];let Ve;e[36]!==me?(Ve={label:"Medium",count:me,style:"text-amber-500"},e[36]=me,e[37]=Ve):Ve=e[37];let mt;e[38]!==pe?(mt={label:"Hard",count:pe,style:"text-rose-500"},e[38]=pe,e[39]=mt):mt=e[39];let Ne;e[40]!==qe||e[41]!==Ve||e[42]!==mt?(Ne=E.jsx("div",{className:"flex gap-6",children:[qe,Ve,mt].map(Ebe)}),e[40]=qe,e[41]=Ve,e[42]=mt,e[43]=Ne):Ne=e[43];let at;e[44]===Symbol.for("react.memo_cache_sentinel")?(at=E.jsx(hl,{className:"mt-1.5"}),e[44]=at):at=e[44];let Dt;e[45]!==i.length?(Dt=E.jsxs("p",{className:"text-muted-foreground mt-1 text-xs sm:text-sm",children:[i.length," problems completed"]}),e[45]=i.length,e[46]=Dt):Dt=e[46];let It;e[47]!==Ne||e[48]!==Dt?(It=E.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Ue,E.jsxs("div",{className:"flex flex-col items-center",children:[Ne,at,Dt]})]}),e[47]=Ne,e[48]=Dt,e[49]=It):It=e[49];let Ot;e[50]===Symbol.for("react.memo_cache_sentinel")?(Ot=je=>m(je.target.value),e[50]=Ot):Ot=e[50];let Le;e[51]!==g?(Le=E.jsx("input",{type:"text",placeholder:"Filter problems",value:g,onChange:Ot,className:"bg-muted/20 border-border text-primary placeholder:text-muted-foreground h-8 rounded-md border px-3 text-sm outline-none focus:ring-1 focus:ring-white/10"}),e[51]=g,e[52]=Le):Le=e[52];let Je;e[53]===Symbol.for("react.memo_cache_sentinel")?(Je=["All","Easy","Medium","Hard"],e[53]=Je):Je=e[53];let nt;e[54]!==v?(nt=E.jsx("div",{className:"flex items-center gap-1",children:Je.map(je=>E.jsx("button",{onClick:()=>y(je),className:`h-7 cursor-pointer rounded-md px-3 text-xs font-medium transition-colors ${v===je?je==="All"?"bg-primary text-primary-foreground":je==="Easy"?"bg-emerald-500/20 text-emerald-500":je==="Medium"?"bg-amber-500/20 text-amber-500":"bg-rose-500/20 text-rose-500":"text-muted-foreground hover:text-primary hover:bg-muted/40"}`,children:je},je))}),e[54]=v,e[55]=nt):nt=e[55];let st;e[56]===Symbol.for("react.memo_cache_sentinel")?(st=E.jsx(hl,{orientation:"vertical",className:"h-5"}),e[56]=st):st=e[56];let xe;e[57]!==R||e[58]!==D||e[59]!==F?(xe=E.jsx(Vx,{allTags:R,selectedTags:D,setSelectedTags:M,tagMatchMode:F,setTagMatchMode:I}),e[57]=R,e[58]=D,e[59]=F,e[60]=xe):xe=e[60];let et;e[61]!==Le||e[62]!==nt||e[63]!==xe?(et=E.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3 sm:mt-2",children:[Le,nt,st,xe]}),e[61]=Le,e[62]=nt,e[63]=xe,e[64]=et):et=e[64];let yt;e[65]!==It||e[66]!==et?(yt=E.jsx("div",{className:"border-border border-b px-6 py-6",children:E.jsxs("div",{className:"mx-auto sm:px-8 md:px-16",children:[It,et]})}),e[65]=It,e[66]=et,e[67]=yt):yt=e[67];let Ye;e[68]!==i.length?(Ye=i.length===0&&E.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-24",children:[E.jsx(Ww,{className:"text-muted-foreground h-10 w-10"}),E.jsx("p",{className:"text-muted-foreground text-sm",children:"No completed problems yet. Start solving!"})]}),e[68]=i.length,e[69]=Ye):Ye=e[69];let it;e[70]!==$||e[71]!==Y||e[72]!==i||e[73]!==g||e[74]!==t?(it=i.length>0&&E.jsx("div",{className:"flex-1 px-6 py-4",children:E.jsx("div",{className:"max-w-9xl mx-auto",style:{height:"calc(100vh - 260px)"},children:E.jsx("div",{className:`h-full w-full ${t==="light"?"ag-theme-quartz":"ag-theme-quartz-dark"}`,children:E.jsx(Mx,{ref:A,rowData:i,columnDefs:X,defaultColDef:L,rowHeight:56,tooltipShowDelay:300,tooltipShowMode:"standard",headerHeight:40,theme:fv.withParams({cellFontFamily:"geist, sans-serif"}).withParams(t==="light"?{rowBorder:{style:"solid",width:"2px",color:"#e5e7eb"}}:{rowBorder:{style:"solid",width:"1px",color:"#2e3135"},rowHoverColor:"#151515",backgroundColor:"#0a0a0a",foregroundColor:"#bfbfbf",browserColorScheme:"dark"}),animateRows:!0,suppressCellFocus:!0,isExternalFilterPresent:Y,doesExternalFilterPass:$,getRowId:xbe,onGridReady:je=>{je.api.setGridOption("quickFilterText",g)}})})})}),e[70]=$,e[71]=Y,e[72]=i,e[73]=g,e[74]=t,e[75]=it):it=e[75];let Ht;return e[76]!==yt||e[77]!==Ye||e[78]!==it?(Ht=E.jsxs("div",{className:"font-geist bg-background text-primary flex flex-col",children:[yt,Ye,it]}),e[76]=yt,e[77]=Ye,e[78]=it,e[79]=Ht):Ht=e[79],Ht}function xbe(e){return e.data.id.toString()}function Ebe(e){const{label:t,count:n,style:i}=e;return E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-sm font-semibold tabular-nums sm:text-2xl ${i}`,children:n}),E.jsx("div",{className:"text-muted-foreground text-xs",children:t})]},t)}function Tbe(e){return e.difficulty==="Hard"}function Dbe(e){return e.difficulty==="Medium"}function Pbe(e){return e.difficulty==="Easy"}function Abe(e){return e.value}function Fbe(e,t){return(t?.length??0)-(e?.length??0)}function Mbe(e){return e.value}function kbe(e,t){return(e??-1)-(t??-1)}function Ibe(e,t){return(e??-1)-(t??-1)}function Obe(e,t){return(Dk[e??""]??99)-(Dk[t??""]??99)}function Lbe(e){return e.value}function _be(e,t){return e-t}function Nbe(e){return e.tag}function Vbe(e){const t=e.problem;return{id:t.id,title:t.title??"Untitled",url:t.url??null,difficulty:t.difficulty??null,acceptance:t.acceptance??null,frequency:t.frequency??null,tags:t.problem_tags?.map(Bbe)??[],companies:t.company_problems?.map(Hbe).filter(Boolean)??[],completed:!0,isToggling:!1}}function Hbe(e){return e.company?.name}function Bbe(e){return e.tag}const Gbe=_6([{element:E.jsx(VF,{}),errorElement:E.jsx(VF,{children:E.jsx(Ko,{})}),children:[{path:"/",element:E.jsx(Cq,{}),errorElement:E.jsx(Ko,{})},{path:"/sign-in",element:E.jsx(cee,{}),errorElement:E.jsx(Ko,{})},{path:"/auth/callback",element:E.jsx(uee,{}),errorElement:E.jsx(Ko,{})},{path:"/company/:id",element:E.jsx(iye,{}),errorElement:E.jsx(Ko,{})},{path:"/all-problems",element:E.jsx(Gye,{}),errorElement:E.jsx(Ko,{})},{path:"/profile",element:E.jsx(Rbe,{}),errorElement:E.jsx(Ko,{})},{path:"/error",element:E.jsx(Ko,{}),errorElement:E.jsx(Ko,{})}]}],{basename:"/visor-leetcode"});function zbe(){const e=Re.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=E.jsx(l6,{router:Gbe}),e[0]=t):t=e[0],t}function jbe(e){const t=Re.c(7),{children:n}=e,[i,s]=C.useState(Ube),[o,r]=C.useState(0);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=m=>{s(m),localStorage.setItem("theme",m),document.body.classList.toggle("dark",m==="dark")},t[0]=l):l=t[0];const u=l;let d;t[1]!==o||t[2]!==i?(d={theme:i,setTheme:u,otherState:o,setOtherState:r},t[1]=o,t[2]=i,t[3]=d):d=t[3];const f=d;let g;return t[4]!==f||t[5]!==n?(g=E.jsx(jL.Provider,{value:f,children:n}),t[4]=f,t[5]=n,t[6]=g):g=t[6],g}function Ube(){const e=localStorage.getItem("theme");return document.body.classList.toggle("dark",(e??"dark")==="dark"),e??"dark"}yG.createRoot(document.getElementById("root")).render(E.jsx(jbe,{children:E.jsx(zbe,{})}));
