function ZN(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(e,o,s.get?s:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function cF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nC={exports:{}},Iu={};var xE;function JN(){if(xE)return Iu;xE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,s){var r=null;if(s!==void 0&&(r=""+s),o.key!==void 0&&(r=""+o.key),"key"in o){s={};for(var l in o)l!=="key"&&(s[l]=o[l])}else s=o;return o=s.ref,{$$typeof:e,type:i,key:r,ref:o!==void 0?o:null,props:s}}return Iu.Fragment=t,Iu.jsx=n,Iu.jsxs=n,Iu}var EE;function e2(){return EE||(EE=1,nC.exports=JN()),nC.exports}var E=e2(),iC={exports:{}},Ou={},oC={exports:{}},sC={};var TE;function t2(){return TE||(TE=1,(function(e){function t(N,q){var G=N.length;N.push(q);e:for(;0<G;){var ee=G-1>>>1,oe=N[ee];if(0<o(oe,q))N[ee]=q,N[G]=oe,G=ee;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var q=N[0],G=N.pop();if(G!==q){N[0]=G;e:for(var ee=0,oe=N.length,O=oe>>>1;ee<O;){var U=2*(ee+1)-1,Q=N[U],ae=U+1,ve=N[ae];if(0>o(Q,G))ae<oe&&0>o(ve,Q)?(N[ee]=ve,N[ae]=G,ee=ae):(N[ee]=Q,N[U]=G,ee=U);else if(ae<oe&&0>o(ve,G))N[ee]=ve,N[ae]=G,ee=ae;else break e}}return q}function o(N,q){var G=N.sortIndex-q.sortIndex;return G!==0?G:N.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var u=[],d=[],f=1,p=null,m=3,v=!1,b=!1,S=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function A(N){for(var q=n(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=N)i(d),q.sortIndex=q.expirationTime,t(u,q);else break;q=n(d)}}function M(N){if(S=!1,A(N),!b)if(n(u)!==null)b=!0,I||(I=!0,K());else{var q=n(d);q!==null&&J(M,q.startTime-N)}}var I=!1,P=-1,_=5,L=-1;function V(){return R?!0:!(e.unstable_now()-L<_)}function z(){if(R=!1,I){var N=e.unstable_now();L=N;var q=!0;try{e:{b=!1,S&&(S=!1,T(P),P=-1),v=!0;var G=m;try{t:{for(A(N),p=n(u);p!==null&&!(p.expirationTime>N&&V());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var oe=ee(p.expirationTime<=N);if(N=e.unstable_now(),typeof oe=="function"){p.callback=oe,A(N),q=!0;break t}p===n(u)&&i(u),A(N)}else i(u);p=n(u)}if(p!==null)q=!0;else{var O=n(d);O!==null&&J(M,O.startTime-N),q=!1}}break e}finally{p=null,m=G,v=!1}q=void 0}}finally{q?K():I=!1}}}var K;if(typeof F=="function")K=function(){F(z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,he=se.port2;se.port1.onmessage=z,K=function(){he.postMessage(null)}}else K=function(){x(z,0)};function J(N,q){P=x(function(){N(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var G=m;m=q;try{return N()}finally{m=G}},e.unstable_requestPaint=function(){R=!0},e.unstable_runWithPriority=function(N,q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=m;m=N;try{return q()}finally{m=G}},e.unstable_scheduleCallback=function(N,q,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=G+oe,N={id:f++,callback:q,priorityLevel:N,startTime:G,expirationTime:oe,sortIndex:-1},G>ee?(N.sortIndex=G,t(d,N),n(u)===null&&N===n(d)&&(S?(T(P),P=-1):S=!0,J(M,G-ee))):(N.sortIndex=oe,t(u,N),b||v||(b=!0,I||(I=!0,K()))),N},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(N){var q=m;return function(){var G=m;m=q;try{return N.apply(this,arguments)}finally{m=G}}}})(sC)),sC}var DE;function n2(){return DE||(DE=1,oC.exports=t2()),oC.exports}var rC={exports:{}},qe={};var FE;function i2(){if(FE)return qe;FE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),r=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function x(O,U,Q){this.props=O,this.context=U,this.refs=R,this.updater=Q||b}x.prototype.isReactComponent={},x.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},x.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=x.prototype;function F(O,U,Q){this.props=O,this.context=U,this.refs=R,this.updater=Q||b}var A=F.prototype=new T;A.constructor=F,S(A,x.prototype),A.isPureReactComponent=!0;var M=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function L(O,U,Q){var ae=Q.ref;return{$$typeof:e,type:O,key:U,ref:ae!==void 0?ae:null,props:Q}}function V(O,U){return L(O.type,U,O.props)}function z(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function K(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return U[Q]})}var se=/\/+/g;function he(O,U){return typeof O=="object"&&O!==null&&O.key!=null?K(""+O.key):U.toString(36)}function J(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(U){O.status==="pending"&&(O.status="fulfilled",O.value=U)},function(U){O.status==="pending"&&(O.status="rejected",O.reason=U)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function N(O,U,Q,ae,ve){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var pe=!1;if(O===null)pe=!0;else switch(Se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(O.$$typeof){case e:case t:pe=!0;break;case f:return pe=O._init,N(pe(O._payload),U,Q,ae,ve)}}if(pe)return ve=ve(O),pe=ae===""?"."+he(O,0):ae,M(ve)?(Q="",pe!=null&&(Q=pe.replace(se,"$&/")+"/"),N(ve,U,Q,"",function(We){return We})):ve!=null&&(z(ve)&&(ve=V(ve,Q+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(se,"$&/")+"/")+pe)),U.push(ve)),1;pe=0;var Ke=ae===""?".":ae+":";if(M(O))for(var Ye=0;Ye<O.length;Ye++)ae=O[Ye],Se=Ke+he(ae,Ye),pe+=N(ae,U,Q,Se,ve);else if(Ye=v(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(ae=O.next()).done;)ae=ae.value,Se=Ke+he(ae,Ye++),pe+=N(ae,U,Q,Se,ve);else if(Se==="object"){if(typeof O.then=="function")return N(J(O),U,Q,ae,ve);throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return pe}function q(O,U,Q){if(O==null)return O;var ae=[],ve=0;return N(O,ae,"","",function(Se){return U.call(Q,Se,ve++)}),ae}function G(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},oe={map:q,forEach:function(O,U,Q){q(O,function(){U.apply(this,arguments)},Q)},count:function(O){var U=0;return q(O,function(){U++}),U},toArray:function(O){return q(O,function(U){return U})||[]},only:function(O){if(!z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return qe.Activity=p,qe.Children=oe,qe.Component=x,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=F,qe.StrictMode=i,qe.Suspense=u,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,qe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},qe.cache=function(O){return function(){return O.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(O,U,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=S({},O.props),ve=O.key;if(U!=null)for(Se in U.key!==void 0&&(ve=""+U.key),U)!_.call(U,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&U.ref===void 0||(ae[Se]=U[Se]);var Se=arguments.length-2;if(Se===1)ae.children=Q;else if(1<Se){for(var pe=Array(Se),Ke=0;Ke<Se;Ke++)pe[Ke]=arguments[Ke+2];ae.children=pe}return L(O.type,ve,ae)},qe.createContext=function(O){return O={$$typeof:r,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:s,_context:O},O},qe.createElement=function(O,U,Q){var ae,ve={},Se=null;if(U!=null)for(ae in U.key!==void 0&&(Se=""+U.key),U)_.call(U,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=U[ae]);var pe=arguments.length-2;if(pe===1)ve.children=Q;else if(1<pe){for(var Ke=Array(pe),Ye=0;Ye<pe;Ye++)Ke[Ye]=arguments[Ye+2];ve.children=Ke}if(O&&O.defaultProps)for(ae in pe=O.defaultProps,pe)ve[ae]===void 0&&(ve[ae]=pe[ae]);return L(O,Se,ve)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(O){return{$$typeof:l,render:O}},qe.isValidElement=z,qe.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:G}},qe.memo=function(O,U){return{$$typeof:d,type:O,compare:U===void 0?null:U}},qe.startTransition=function(O){var U=P.T,Q={};P.T=Q;try{var ae=O(),ve=P.S;ve!==null&&ve(Q,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(I,ee)}catch(Se){ee(Se)}finally{U!==null&&Q.types!==null&&(U.types=Q.types),P.T=U}},qe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},qe.use=function(O){return P.H.use(O)},qe.useActionState=function(O,U,Q){return P.H.useActionState(O,U,Q)},qe.useCallback=function(O,U){return P.H.useCallback(O,U)},qe.useContext=function(O){return P.H.useContext(O)},qe.useDebugValue=function(){},qe.useDeferredValue=function(O,U){return P.H.useDeferredValue(O,U)},qe.useEffect=function(O,U){return P.H.useEffect(O,U)},qe.useEffectEvent=function(O){return P.H.useEffectEvent(O)},qe.useId=function(){return P.H.useId()},qe.useImperativeHandle=function(O,U,Q){return P.H.useImperativeHandle(O,U,Q)},qe.useInsertionEffect=function(O,U){return P.H.useInsertionEffect(O,U)},qe.useLayoutEffect=function(O,U){return P.H.useLayoutEffect(O,U)},qe.useMemo=function(O,U){return P.H.useMemo(O,U)},qe.useOptimistic=function(O,U){return P.H.useOptimistic(O,U)},qe.useReducer=function(O,U,Q){return P.H.useReducer(O,U,Q)},qe.useRef=function(O){return P.H.useRef(O)},qe.useState=function(O){return P.H.useState(O)},qe.useSyncExternalStore=function(O,U,Q){return P.H.useSyncExternalStore(O,U,Q)},qe.useTransition=function(){return P.H.useTransition()},qe.version="19.2.3",qe}var PE;function rp(){return PE||(PE=1,rC.exports=i2()),rC.exports}var aC={exports:{}},Qn={};var AE;function o2(){if(AE)return Qn;AE=1;var e=rp();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(u,d,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:u,containerInfo:d,implementation:f}}var r=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qn.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return s(u,d,null,f)},Qn.flushSync=function(u){var d=r.T,f=i.p;try{if(r.T=null,i.p=2,u)return u()}finally{r.T=d,i.p=f,i.d.f()}},Qn.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(u,d))},Qn.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Qn.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?i.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:v}):f==="script"&&i.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Qn.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(u)},Qn.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,p=l(f,d.crossOrigin);i.d.L(u,f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Qn.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);i.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(u)},Qn.requestFormReset=function(u){i.d.r(u)},Qn.unstable_batchedUpdates=function(u,d){return u(d)},Qn.useFormState=function(u,d,f){return r.H.useFormState(u,d,f)},Qn.useFormStatus=function(){return r.H.useHostTransitionStatus()},Qn.version="19.2.3",Qn}var ME;function uF(){if(ME)return aC.exports;ME=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),aC.exports=o2(),aC.exports}var kE;function s2(){if(kE)return Ou;kE=1;var e=n2(),t=rp(),n=uF();function i(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function r(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(a.tag===31){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function d(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(i(188));return c!==a?null:a}for(var h=a,g=c;;){var C=h.return;if(C===null)break;var y=C.alternate;if(y===null){if(g=C.return,g!==null){h=g;continue}break}if(C.child===y.child){for(y=C.child;y;){if(y===h)return u(C),a;if(y===g)return u(C),c;y=y.sibling}throw Error(i(188))}if(h.return!==g.return)h=C,g=y;else{for(var D=!1,k=C.child;k;){if(k===h){D=!0,h=C,g=y;break}if(k===g){D=!0,g=C,h=y;break}k=k.sibling}if(!D){for(k=y.child;k;){if(k===h){D=!0,h=y,g=C;break}if(k===g){D=!0,g=y,h=C;break}k=k.sibling}if(!D)throw Error(i(189))}}if(h.alternate!==g)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:c}function f(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=f(a),c!==null)return c;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),F=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case x:return"Profiler";case R:return"StrictMode";case M:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case F:return a.displayName||"Context";case T:return(a._context.displayName||"Context")+".Consumer";case A:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return c=a.displayName||null,c!==null?c:he(a.type)||"Memo";case _:c=a._payload,a=a._init;try{return he(a(c))}catch{}}return null}var J=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ee=[],oe=-1;function O(a){return{current:a}}function U(a){0>oe||(a.current=ee[oe],ee[oe]=null,oe--)}function Q(a,c){oe++,ee[oe]=a.current,a.current=c}var ae=O(null),ve=O(null),Se=O(null),pe=O(null);function Ke(a,c){switch(Q(Se,c),Q(ve,a),Q(ae,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?Kx(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=Kx(c),a=qx(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}U(ae),Q(ae,a)}function Ye(){U(ae),U(ve),U(Se)}function We(a){a.memoizedState!==null&&Q(pe,a);var c=ae.current,h=qx(c,a.type);c!==h&&(Q(ve,a),Q(ae,h))}function Ft(a){ve.current===a&&(U(ae),U(ve)),pe.current===a&&(U(pe),Pu._currentValue=G)}var Be,pt;function Gt(a){if(Be===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Be=c&&c[1]||"",pt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+a+pt}var Xt=!1;function Wt(a,c){if(!a||Xt)return"";Xt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var ne=ie}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ie){ne=ie}a.call(ue.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=g.DetermineComponentFrameRoot(),D=y[0],k=y[1];if(D&&k){var B=D.split(`
`),X=k.split(`
`);for(C=g=0;g<B.length&&!B[g].includes("DetermineComponentFrameRoot");)g++;for(;C<X.length&&!X[C].includes("DetermineComponentFrameRoot");)C++;if(g===B.length||C===X.length)for(g=B.length-1,C=X.length-1;1<=g&&0<=C&&B[g]!==X[C];)C--;for(;1<=g&&0<=C;g--,C--)if(B[g]!==X[C]){if(g!==1||C!==1)do if(g--,C--,0>C||B[g]!==X[C]){var le=`
`+B[g].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=g&&0<=C);break}}}finally{Xt=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Gt(h):""}function He(a,c){switch(a.tag){case 26:case 27:case 5:return Gt(a.type);case 16:return Gt("Lazy");case 13:return a.child!==c&&c!==null?Gt("Suspense Fallback"):Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 15:return Wt(a.type,!1);case 11:return Wt(a.type.render,!1);case 1:return Wt(a.type,!0);case 31:return Gt("Activity");default:return""}}function Ze(a){try{var c="",h=null;do c+=He(a,h),h=a,a=a.return;while(a);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ut=Object.prototype.hasOwnProperty,ot=e.unstable_scheduleCallback,Te=e.unstable_cancelCallback,st=e.unstable_shouldYield,kt=e.unstable_requestPaint,Xe=e.unstable_now,dt=e.unstable_getCurrentPriorityLevel,Qt=e.unstable_ImmediatePriority,Zt=e.unstable_UserBlockingPriority,$e=e.unstable_NormalPriority,tt=e.unstable_LowPriority,Bn=e.unstable_IdlePriority,Vn=e.log,Fn=e.unstable_setDisableYieldValue,hn=null,Rt=null;function nn(a){if(typeof Vn=="function"&&Fn(a),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(hn,a)}catch{}}var It=Math.clz32?Math.clz32:On,In=Math.log,ni=Math.LN2;function On(a){return a>>>=0,a===0?32:31-(In(a)/ni|0)|0}var fn=256,et=262144,yn=4194304;function on(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function sn(a,c,h){var g=a.pendingLanes;if(g===0)return 0;var C=0,y=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var k=g&134217727;return k!==0?(g=k&~y,g!==0?C=on(g):(D&=k,D!==0?C=on(D):h||(h=k&~a,h!==0&&(C=on(h))))):(k=g&~y,k!==0?C=on(k):D!==0?C=on(D):h||(h=g&~a,h!==0&&(C=on(h)))),C===0?0:c!==0&&c!==C&&(c&y)===0&&(y=C&-C,h=c&-c,y>=h||y===32&&(h&4194048)!==0)?c:C}function bn(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function di(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var a=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),a}function ii(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function rt(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Oo(a,c,h,g,C,y){var D=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var k=a.entanglements,B=a.expirationTimes,X=a.hiddenUpdates;for(h=D&~h;0<h;){var le=31-It(h),ue=1<<le;k[le]=0,B[le]=-1;var ne=X[le];if(ne!==null)for(X[le]=null,le=0;le<ne.length;le++){var ie=ne[le];ie!==null&&(ie.lane&=-536870913)}h&=~ue}g!==0&&hi(a,g,0),y!==0&&C===0&&a.tag!==0&&(a.suspendedLanes|=y&~(D&~c))}function hi(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var g=31-It(c);a.entangledLanes|=c,a.entanglements[g]=a.entanglements[g]|1073741824|h&261930}function H(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var g=31-It(h),C=1<<g;C&c|a[g]&c&&(a[g]|=c),h&=~C}}function j(a,c){var h=c&-c;return h=(h&42)!==0?1:te(h),(h&(a.suspendedLanes|c))!==0?0:h}function te(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ge(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function me(){var a=q.p;return a!==0?a:(a=window.event,a===void 0?32:vE(a.type))}function De(a,c){var h=q.p;try{return q.p=a,c()}finally{q.p=h}}var we=Math.random().toString(36).slice(2),be="__reactFiber$"+we,Re="__reactProps$"+we,ke="__reactContainer$"+we,Ge="__reactEvents$"+we,_e="__reactListeners$"+we,bt="__reactHandles$"+we,mt="__reactResources$"+we,Jt="__reactMarker$"+we;function rn(a){delete a[be],delete a[Re],delete a[Ge],delete a[_e],delete a[bt]}function an(a){var c=a[be];if(c)return c;for(var h=a.parentNode;h;){if(c=h[ke]||h[be]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=tE(a);a!==null;){if(h=a[be])return h;a=tE(a)}return c}a=h,h=a.parentNode}return null}function vt(a){if(a=a[be]||a[ke]){var c=a.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return a}return null}function _n(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(i(33))}function fi(a){var c=a[mt];return c||(c=a[mt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Kt(a){a[Jt]=!0}var go=new Set,Ti={};function po(a,c){zi(a,c),zi(a+"Capture",c)}function zi(a,c){for(Ti[a]=c,a=0;a<c.length;a++)go.add(c[a])}var ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$r={},Kr={};function Ct(a){return ut.call(Kr,a)?!0:ut.call($r,a)?!1:ss.test(a)?Kr[a]=!0:($r[a]=!0,!1)}function gn(a,c,h){if(Ct(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function mo(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function zn(a,c,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+g)}}function wt(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function qr(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function oh(a,c,h){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,c);if(!a.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,y=g.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return C.call(this)},set:function(D){h=""+D,y.call(this,D)}}),Object.defineProperty(a,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function jc(a){if(!a._valueTracker){var c=qr(a)?"checked":"value";a._valueTracker=oh(a,c,""+a[c])}}function BS(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return a&&(g=qr(a)?a.checked?"true":"false":a.value),a=g,a!==h?(c.setValue(a),!0):!1}function sh(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $_=/[\n"\\]/g;function Wi(a){return a.replace($_,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Xp(a,c,h,g,C,y,D,k){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),c!=null?D==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+wt(c)):a.value!==""+wt(c)&&(a.value=""+wt(c)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),c!=null?Qp(a,D,wt(c)):h!=null?Qp(a,D,wt(h)):g!=null&&a.removeAttribute("value"),C==null&&y!=null&&(a.defaultChecked=!!y),C!=null&&(a.checked=C&&typeof C!="function"&&typeof C!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+wt(k):a.removeAttribute("name")}function VS(a,c,h,g,C,y,D,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),c!=null||h!=null){if(!(y!=="submit"&&y!=="reset"||c!=null)){jc(a);return}h=h!=null?""+wt(h):"",c=c!=null?""+wt(c):h,k||c===a.value||(a.value=c),a.defaultValue=c}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=k?a.checked:!!g,a.defaultChecked=!!g,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D),jc(a)}function Qp(a,c,h){c==="number"&&sh(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Ja(a,c,h,g){if(a=a.options,c){c={};for(var C=0;C<h.length;C++)c["$"+h[C]]=!0;for(h=0;h<a.length;h++)C=c.hasOwnProperty("$"+a[h].value),a[h].selected!==C&&(a[h].selected=C),C&&g&&(a[h].defaultSelected=!0)}else{for(h=""+wt(h),c=null,C=0;C<a.length;C++){if(a[C].value===h){a[C].selected=!0,g&&(a[C].defaultSelected=!0);return}c!==null||a[C].disabled||(c=a[C])}c!==null&&(c.selected=!0)}}function zS(a,c,h){if(c!=null&&(c=""+wt(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+wt(h):""}function WS(a,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(i(92));if(J(g)){if(1<g.length)throw Error(i(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=wt(c),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g),jc(a)}function el(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var K_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function US(a,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":g?a.setProperty(c,h):typeof h!="number"||h===0||K_.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function jS(a,c,h){if(c!=null&&typeof c!="object")throw Error(i(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var C in c)g=c[C],c.hasOwnProperty(C)&&h[C]!==g&&US(a,C,g)}else for(var y in c)c.hasOwnProperty(y)&&US(a,y,c[y])}function Zp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rh(a){return Y_.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function rs(){}var Jp=null;function em(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var tl=null,nl=null;function $S(a){var c=vt(a);if(c&&(a=c.stateNode)){var h=a[Re]||null;e:switch(a=c.stateNode,c.type){case"input":if(Xp(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Wi(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==a&&g.form===a.form){var C=g[Re]||null;if(!C)throw Error(i(90));Xp(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===a.form&&BS(g)}break e;case"textarea":zS(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Ja(a,!!h.multiple,c,!1)}}}var tm=!1;function KS(a,c,h){if(tm)return a(c,h);tm=!0;try{var g=a(c);return g}finally{if(tm=!1,(tl!==null||nl!==null)&&(Kh(),tl&&(c=tl,a=nl,nl=tl=null,$S(c),a)))for(c=0;c<a.length;c++)$S(a[c])}}function $c(a,c){var h=a.stateNode;if(h===null)return null;var g=h[Re]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,c,typeof h));return h}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nm=!1;if(as)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){nm=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{nm=!1}var Us=null,im=null,ah=null;function qS(){if(ah)return ah;var a,c=im,h=c.length,g,C="value"in Us?Us.value:Us.textContent,y=C.length;for(a=0;a<h&&c[a]===C[a];a++);var D=h-a;for(g=1;g<=D&&c[h-g]===C[y-g];g++);return ah=C.slice(a,1<g?1-g:void 0)}function lh(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ch(){return!0}function YS(){return!1}function gi(a){function c(h,g,C,y,D){this._reactName=h,this._targetInst=C,this.type=g,this.nativeEvent=y,this.target=D,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(h=a[k],this[k]=h?h(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ch:YS,this.isPropagationStopped=YS,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),c}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uh=gi(Yr),qc=p({},Yr,{view:0,detail:0}),X_=gi(qc),om,sm,Yc,dh=p({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Yc&&(Yc&&a.type==="mousemove"?(om=a.screenX-Yc.screenX,sm=a.screenY-Yc.screenY):sm=om=0,Yc=a),om)},movementY:function(a){return"movementY"in a?a.movementY:sm}}),XS=gi(dh),Q_=p({},dh,{dataTransfer:0}),Z_=gi(Q_),J_=p({},qc,{relatedTarget:0}),rm=gi(J_),eL=p({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),tL=gi(eL),nL=p({},Yr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),iL=gi(nL),oL=p({},Yr,{data:0}),QS=gi(oL),sL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lL(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=aL[a])?!!c[a]:!1}function am(){return lL}var cL=p({},qc,{key:function(a){if(a.key){var c=sL[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=lh(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?rL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(a){return a.type==="keypress"?lh(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?lh(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),uL=gi(cL),dL=p({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZS=gi(dL),hL=p({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),fL=gi(hL),gL=p({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pL=gi(gL),mL=p({},dh,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),vL=gi(mL),CL=p({},Yr,{newState:0,oldState:0}),wL=gi(CL),yL=[9,13,27,32],lm=as&&"CompositionEvent"in window,Xc=null;as&&"documentMode"in document&&(Xc=document.documentMode);var bL=as&&"TextEvent"in window&&!Xc,JS=as&&(!lm||Xc&&8<Xc&&11>=Xc),e0=" ",t0=!1;function n0(a,c){switch(a){case"keyup":return yL.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var il=!1;function SL(a,c){switch(a){case"compositionend":return i0(c);case"keypress":return c.which!==32?null:(t0=!0,e0);case"textInput":return a=c.data,a===e0&&t0?null:a;default:return null}}function RL(a,c){if(il)return a==="compositionend"||!lm&&n0(a,c)?(a=qS(),ah=im=Us=null,il=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return JS&&c.locale!=="ko"?null:c.data;default:return null}}var xL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!xL[a.type]:c==="textarea"}function s0(a,c,h,g){tl?nl?nl.push(g):nl=[g]:tl=g,c=ef(c,"onChange"),0<c.length&&(h=new uh("onChange","change",null,h,g),a.push({event:h,listeners:c}))}var Qc=null,Zc=null;function EL(a){Vx(a,0)}function hh(a){var c=_n(a);if(BS(c))return a}function r0(a,c){if(a==="change")return c}var a0=!1;if(as){var cm;if(as){var um="oninput"in document;if(!um){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),um=typeof l0.oninput=="function"}cm=um}else cm=!1;a0=cm&&(!document.documentMode||9<document.documentMode)}function c0(){Qc&&(Qc.detachEvent("onpropertychange",u0),Zc=Qc=null)}function u0(a){if(a.propertyName==="value"&&hh(Zc)){var c=[];s0(c,Zc,a,em(a)),KS(EL,c)}}function TL(a,c,h){a==="focusin"?(c0(),Qc=c,Zc=h,Qc.attachEvent("onpropertychange",u0)):a==="focusout"&&c0()}function DL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hh(Zc)}function FL(a,c){if(a==="click")return hh(c)}function PL(a,c){if(a==="input"||a==="change")return hh(c)}function AL(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Di=typeof Object.is=="function"?Object.is:AL;function Jc(a,c){if(Di(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var C=h[g];if(!ut.call(c,C)||!Di(a[C],c[C]))return!1}return!0}function d0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function h0(a,c){var h=d0(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=c&&g>=c)return{node:h,offset:c-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=d0(h)}}function f0(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?f0(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function g0(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=sh(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=sh(a.document)}return c}function dm(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var ML=as&&"documentMode"in document&&11>=document.documentMode,ol=null,hm=null,eu=null,fm=!1;function p0(a,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;fm||ol==null||ol!==sh(g)||(g=ol,"selectionStart"in g&&dm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),eu&&Jc(eu,g)||(eu=g,g=ef(hm,"onSelect"),0<g.length&&(c=new uh("onSelect","select",null,c,h),a.push({event:c,listeners:g}),c.target=ol)))}function Xr(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var sl={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},gm={},m0={};as&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Qr(a){if(gm[a])return gm[a];if(!sl[a])return a;var c=sl[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in m0)return gm[a]=c[h];return a}var v0=Qr("animationend"),C0=Qr("animationiteration"),w0=Qr("animationstart"),kL=Qr("transitionrun"),IL=Qr("transitionstart"),OL=Qr("transitioncancel"),y0=Qr("transitionend"),b0=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function vo(a,c){b0.set(a,c),po(c,[a])}var fh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ui=[],rl=0,mm=0;function gh(){for(var a=rl,c=mm=rl=0;c<a;){var h=Ui[c];Ui[c++]=null;var g=Ui[c];Ui[c++]=null;var C=Ui[c];Ui[c++]=null;var y=Ui[c];if(Ui[c++]=null,g!==null&&C!==null){var D=g.pending;D===null?C.next=C:(C.next=D.next,D.next=C),g.pending=C}y!==0&&S0(h,C,y)}}function ph(a,c,h,g){Ui[rl++]=a,Ui[rl++]=c,Ui[rl++]=h,Ui[rl++]=g,mm|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function vm(a,c,h,g){return ph(a,c,h,g),mh(a)}function Zr(a,c){return ph(a,null,null,c),mh(a)}function S0(a,c,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var C=!1,y=a.return;y!==null;)y.childLanes|=h,g=y.alternate,g!==null&&(g.childLanes|=h),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(C=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,C&&c!==null&&(C=31-It(h),a=y.hiddenUpdates,g=a[C],g===null?a[C]=[c]:g.push(c),c.lane=h|536870912),y):null}function mh(a){if(50<Su)throw Su=0,Tv=null,Error(i(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var al={};function _L(a,c,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(a,c,h,g){return new _L(a,c,h,g)}function Cm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ls(a,c){var h=a.alternate;return h===null?(h=Fi(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function R0(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function vh(a,c,h,g,C,y){var D=0;if(g=a,typeof a=="function")Cm(a)&&(D=1);else if(typeof a=="string")D=BN(a,h,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=Fi(31,h,c,C),a.elementType=L,a.lanes=y,a;case S:return Jr(h.children,C,y,c);case R:D=8,C|=24;break;case x:return a=Fi(12,h,c,C|2),a.elementType=x,a.lanes=y,a;case M:return a=Fi(13,h,c,C),a.elementType=M,a.lanes=y,a;case I:return a=Fi(19,h,c,C),a.elementType=I,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:D=10;break e;case T:D=9;break e;case A:D=11;break e;case P:D=14;break e;case _:D=16,g=null;break e}D=29,h=Error(i(130,a===null?"null":typeof a,"")),g=null}return c=Fi(D,h,c,C),c.elementType=a,c.type=g,c.lanes=y,c}function Jr(a,c,h,g){return a=Fi(7,a,g,c),a.lanes=h,a}function wm(a,c,h){return a=Fi(6,a,null,c),a.lanes=h,a}function x0(a){var c=Fi(18,null,null,0);return c.stateNode=a,c}function ym(a,c,h){return c=Fi(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var E0=new WeakMap;function ji(a,c){if(typeof a=="object"&&a!==null){var h=E0.get(a);return h!==void 0?h:(c={value:a,source:c,stack:Ze(c)},E0.set(a,c),c)}return{value:a,source:c,stack:Ze(c)}}var ll=[],cl=0,Ch=null,tu=0,$i=[],Ki=0,js=null,_o=1,Lo="";function cs(a,c){ll[cl++]=tu,ll[cl++]=Ch,Ch=a,tu=c}function T0(a,c,h){$i[Ki++]=_o,$i[Ki++]=Lo,$i[Ki++]=js,js=a;var g=_o;a=Lo;var C=32-It(g)-1;g&=~(1<<C),h+=1;var y=32-It(c)+C;if(30<y){var D=C-C%5;y=(g&(1<<D)-1).toString(32),g>>=D,C-=D,_o=1<<32-It(c)+C|h<<C|g,Lo=y+a}else _o=1<<y|h<<C|g,Lo=a}function bm(a){a.return!==null&&(cs(a,1),T0(a,1,0))}function Sm(a){for(;a===Ch;)Ch=ll[--cl],ll[cl]=null,tu=ll[--cl],ll[cl]=null;for(;a===js;)js=$i[--Ki],$i[Ki]=null,Lo=$i[--Ki],$i[Ki]=null,_o=$i[--Ki],$i[Ki]=null}function D0(a,c){$i[Ki++]=_o,$i[Ki++]=Lo,$i[Ki++]=js,_o=c.id,Lo=c.overflow,js=a}var Wn=null,Ut=null,yt=!1,$s=null,qi=!1,Rm=Error(i(519));function Ks(a){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(ji(c,a)),Rm}function F0(a){var c=a.stateNode,h=a.type,g=a.memoizedProps;switch(c[be]=a,c[Re]=g,h){case"dialog":lt("cancel",c),lt("close",c);break;case"iframe":case"object":case"embed":lt("load",c);break;case"video":case"audio":for(h=0;h<xu.length;h++)lt(xu[h],c);break;case"source":lt("error",c);break;case"img":case"image":case"link":lt("error",c),lt("load",c);break;case"details":lt("toggle",c);break;case"input":lt("invalid",c),VS(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":lt("invalid",c);break;case"textarea":lt("invalid",c),WS(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||jx(c.textContent,h)?(g.popover!=null&&(lt("beforetoggle",c),lt("toggle",c)),g.onScroll!=null&&lt("scroll",c),g.onScrollEnd!=null&&lt("scrollend",c),g.onClick!=null&&(c.onclick=rs),c=!0):c=!1,c||Ks(a,!0)}function P0(a){for(Wn=a.return;Wn;)switch(Wn.tag){case 5:case 31:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:Wn=Wn.return}}function ul(a){if(a!==Wn)return!1;if(!yt)return P0(a),yt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Vv(a.type,a.memoizedProps)),h=!h),h&&Ut&&Ks(a),P0(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ut=eE(a)}else if(c===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ut=eE(a)}else c===27?(c=Ut,ar(a.type)?(a=$v,$v=null,Ut=a):Ut=c):Ut=Wn?Xi(a.stateNode.nextSibling):null;return!0}function ea(){Ut=Wn=null,yt=!1}function xm(){var a=$s;return a!==null&&(Ci===null?Ci=a:Ci.push.apply(Ci,a),$s=null),a}function nu(a){$s===null?$s=[a]:$s.push(a)}var Em=O(null),ta=null,us=null;function qs(a,c,h){Q(Em,c._currentValue),c._currentValue=h}function ds(a){a._currentValue=Em.current,U(Em)}function Tm(a,c,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===h)break;a=a.return}}function Dm(a,c,h,g){var C=a.child;for(C!==null&&(C.return=a);C!==null;){var y=C.dependencies;if(y!==null){var D=C.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=C;for(var B=0;B<c.length;B++)if(k.context===c[B]){y.lanes|=h,k=y.alternate,k!==null&&(k.lanes|=h),Tm(y.return,h,a),g||(D=null);break e}y=k.next}}else if(C.tag===18){if(D=C.return,D===null)throw Error(i(341));D.lanes|=h,y=D.alternate,y!==null&&(y.lanes|=h),Tm(D,h,a),D=null}else D=C.child;if(D!==null)D.return=C;else for(D=C;D!==null;){if(D===a){D=null;break}if(C=D.sibling,C!==null){C.return=D.return,D=C;break}D=D.return}C=D}}function dl(a,c,h,g){a=null;for(var C=c,y=!1;C!==null;){if(!y){if((C.flags&524288)!==0)y=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var D=C.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var k=C.type;Di(C.pendingProps.value,D.value)||(a!==null?a.push(k):a=[k])}}else if(C===pe.current){if(D=C.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(a!==null?a.push(Pu):a=[Pu])}C=C.return}a!==null&&Dm(c,a,h,g),c.flags|=262144}function wh(a){for(a=a.firstContext;a!==null;){if(!Di(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function na(a){ta=a,us=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Un(a){return A0(ta,a)}function yh(a,c){return ta===null&&na(a),A0(a,c)}function A0(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},us===null){if(a===null)throw Error(i(308));us=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else us=us.next=c;return h}var LL=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},NL=e.unstable_scheduleCallback,HL=e.unstable_NormalPriority,Sn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new LL,data:new Map,refCount:0}}function iu(a){a.refCount--,a.refCount===0&&NL(HL,function(){a.controller.abort()})}var ou=null,Pm=0,hl=0,fl=null;function GL(a,c){if(ou===null){var h=ou=[];Pm=0,hl=kv(),fl={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Pm++,c.then(M0,M0),c}function M0(){if(--Pm===0&&ou!==null){fl!==null&&(fl.status="fulfilled");var a=ou;ou=null,hl=0,fl=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function BL(a,c){var h=[],g={status:"pending",value:null,reason:null,then:function(C){h.push(C)}};return a.then(function(){g.status="fulfilled",g.value=c;for(var C=0;C<h.length;C++)(0,h[C])(c)},function(C){for(g.status="rejected",g.reason=C,C=0;C<h.length;C++)(0,h[C])(void 0)}),g}var k0=N.S;N.S=function(a,c){px=Xe(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&GL(a,c),k0!==null&&k0(a,c)};var ia=O(null);function Am(){var a=ia.current;return a!==null?a:Bt.pooledCache}function bh(a,c){c===null?Q(ia,ia.current):Q(ia,c.pool)}function I0(){var a=Am();return a===null?null:{parent:Sn._currentValue,pool:a}}var gl=Error(i(460)),Mm=Error(i(474)),Sh=Error(i(542)),Rh={then:function(){}};function O0(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _0(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(rs,rs),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,N0(a),a;default:if(typeof c.status=="string")c.then(rs,rs);else{if(a=Bt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=c,a.status="pending",a.then(function(g){if(c.status==="pending"){var C=c;C.status="fulfilled",C.value=g}},function(g){if(c.status==="pending"){var C=c;C.status="rejected",C.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,N0(a),a}throw sa=c,gl}}function oa(a){try{var c=a._init;return c(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(sa=h,gl):h}}var sa=null;function L0(){if(sa===null)throw Error(i(459));var a=sa;return sa=null,a}function N0(a){if(a===gl||a===Sh)throw Error(i(483))}var pl=null,su=0;function xh(a){var c=su;return su+=1,pl===null&&(pl=[]),_0(pl,a,c)}function ru(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Eh(a,c){throw c.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(c),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function H0(a){function c($,W){if(a){var Y=$.deletions;Y===null?($.deletions=[W],$.flags|=16):Y.push(W)}}function h($,W){if(!a)return null;for(;W!==null;)c($,W),W=W.sibling;return null}function g($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function C($,W){return $=ls($,W),$.index=0,$.sibling=null,$}function y($,W,Y){return $.index=Y,a?(Y=$.alternate,Y!==null?(Y=Y.index,Y<W?($.flags|=67108866,W):Y):($.flags|=67108866,W)):($.flags|=1048576,W)}function D($){return a&&$.alternate===null&&($.flags|=67108866),$}function k($,W,Y,ce){return W===null||W.tag!==6?(W=wm(Y,$.mode,ce),W.return=$,W):(W=C(W,Y),W.return=$,W)}function B($,W,Y,ce){var Le=Y.type;return Le===S?le($,W,Y.props.children,ce,Y.key):W!==null&&(W.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===_&&oa(Le)===W.type)?(W=C(W,Y.props),ru(W,Y),W.return=$,W):(W=vh(Y.type,Y.key,Y.props,null,$.mode,ce),ru(W,Y),W.return=$,W)}function X($,W,Y,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=ym(Y,$.mode,ce),W.return=$,W):(W=C(W,Y.children||[]),W.return=$,W)}function le($,W,Y,ce,Le){return W===null||W.tag!==7?(W=Jr(Y,$.mode,ce,Le),W.return=$,W):(W=C(W,Y),W.return=$,W)}function ue($,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=wm(""+W,$.mode,Y),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return Y=vh(W.type,W.key,W.props,null,$.mode,Y),ru(Y,W),Y.return=$,Y;case b:return W=ym(W,$.mode,Y),W.return=$,W;case _:return W=oa(W),ue($,W,Y)}if(J(W)||K(W))return W=Jr(W,$.mode,Y,null),W.return=$,W;if(typeof W.then=="function")return ue($,xh(W),Y);if(W.$$typeof===F)return ue($,yh($,W),Y);Eh($,W)}return null}function ne($,W,Y,ce){var Le=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Le!==null?null:k($,W,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===Le?B($,W,Y,ce):null;case b:return Y.key===Le?X($,W,Y,ce):null;case _:return Y=oa(Y),ne($,W,Y,ce)}if(J(Y)||K(Y))return Le!==null?null:le($,W,Y,ce,null);if(typeof Y.then=="function")return ne($,W,xh(Y),ce);if(Y.$$typeof===F)return ne($,W,yh($,Y),ce);Eh($,Y)}return null}function ie($,W,Y,ce,Le){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return $=$.get(Y)||null,k(W,$,""+ce,Le);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case v:return $=$.get(ce.key===null?Y:ce.key)||null,B(W,$,ce,Le);case b:return $=$.get(ce.key===null?Y:ce.key)||null,X(W,$,ce,Le);case _:return ce=oa(ce),ie($,W,Y,ce,Le)}if(J(ce)||K(ce))return $=$.get(Y)||null,le(W,$,ce,Le,null);if(typeof ce.then=="function")return ie($,W,Y,xh(ce),Le);if(ce.$$typeof===F)return ie($,W,Y,yh(W,ce),Le);Eh(W,ce)}return null}function Ee($,W,Y,ce){for(var Le=null,xt=null,Me=W,Je=W=0,ft=null;Me!==null&&Je<Y.length;Je++){Me.index>Je?(ft=Me,Me=null):ft=Me.sibling;var Et=ne($,Me,Y[Je],ce);if(Et===null){Me===null&&(Me=ft);break}a&&Me&&Et.alternate===null&&c($,Me),W=y(Et,W,Je),xt===null?Le=Et:xt.sibling=Et,xt=Et,Me=ft}if(Je===Y.length)return h($,Me),yt&&cs($,Je),Le;if(Me===null){for(;Je<Y.length;Je++)Me=ue($,Y[Je],ce),Me!==null&&(W=y(Me,W,Je),xt===null?Le=Me:xt.sibling=Me,xt=Me);return yt&&cs($,Je),Le}for(Me=g(Me);Je<Y.length;Je++)ft=ie(Me,$,Je,Y[Je],ce),ft!==null&&(a&&ft.alternate!==null&&Me.delete(ft.key===null?Je:ft.key),W=y(ft,W,Je),xt===null?Le=ft:xt.sibling=ft,xt=ft);return a&&Me.forEach(function(hr){return c($,hr)}),yt&&cs($,Je),Le}function Ve($,W,Y,ce){if(Y==null)throw Error(i(151));for(var Le=null,xt=null,Me=W,Je=W=0,ft=null,Et=Y.next();Me!==null&&!Et.done;Je++,Et=Y.next()){Me.index>Je?(ft=Me,Me=null):ft=Me.sibling;var hr=ne($,Me,Et.value,ce);if(hr===null){Me===null&&(Me=ft);break}a&&Me&&hr.alternate===null&&c($,Me),W=y(hr,W,Je),xt===null?Le=hr:xt.sibling=hr,xt=hr,Me=ft}if(Et.done)return h($,Me),yt&&cs($,Je),Le;if(Me===null){for(;!Et.done;Je++,Et=Y.next())Et=ue($,Et.value,ce),Et!==null&&(W=y(Et,W,Je),xt===null?Le=Et:xt.sibling=Et,xt=Et);return yt&&cs($,Je),Le}for(Me=g(Me);!Et.done;Je++,Et=Y.next())Et=ie(Me,$,Je,Et.value,ce),Et!==null&&(a&&Et.alternate!==null&&Me.delete(Et.key===null?Je:Et.key),W=y(Et,W,Je),xt===null?Le=Et:xt.sibling=Et,xt=Et);return a&&Me.forEach(function(QN){return c($,QN)}),yt&&cs($,Je),Le}function Lt($,W,Y,ce){if(typeof Y=="object"&&Y!==null&&Y.type===S&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var Le=Y.key;W!==null;){if(W.key===Le){if(Le=Y.type,Le===S){if(W.tag===7){h($,W.sibling),ce=C(W,Y.props.children),ce.return=$,$=ce;break e}}else if(W.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===_&&oa(Le)===W.type){h($,W.sibling),ce=C(W,Y.props),ru(ce,Y),ce.return=$,$=ce;break e}h($,W);break}else c($,W);W=W.sibling}Y.type===S?(ce=Jr(Y.props.children,$.mode,ce,Y.key),ce.return=$,$=ce):(ce=vh(Y.type,Y.key,Y.props,null,$.mode,ce),ru(ce,Y),ce.return=$,$=ce)}return D($);case b:e:{for(Le=Y.key;W!==null;){if(W.key===Le)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){h($,W.sibling),ce=C(W,Y.children||[]),ce.return=$,$=ce;break e}else{h($,W);break}else c($,W);W=W.sibling}ce=ym(Y,$.mode,ce),ce.return=$,$=ce}return D($);case _:return Y=oa(Y),Lt($,W,Y,ce)}if(J(Y))return Ee($,W,Y,ce);if(K(Y)){if(Le=K(Y),typeof Le!="function")throw Error(i(150));return Y=Le.call(Y),Ve($,W,Y,ce)}if(typeof Y.then=="function")return Lt($,W,xh(Y),ce);if(Y.$$typeof===F)return Lt($,W,yh($,Y),ce);Eh($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,W!==null&&W.tag===6?(h($,W.sibling),ce=C(W,Y),ce.return=$,$=ce):(h($,W),ce=wm(Y,$.mode,ce),ce.return=$,$=ce),D($)):h($,W)}return function($,W,Y,ce){try{su=0;var Le=Lt($,W,Y,ce);return pl=null,Le}catch(Me){if(Me===gl||Me===Sh)throw Me;var xt=Fi(29,Me,null,$.mode);return xt.lanes=ce,xt.return=$,xt}}}var ra=H0(!0),G0=H0(!1),Ys=!1;function km(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Xs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Qs(a,c,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Tt&2)!==0){var C=g.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),g.pending=c,c=mh(a),S0(a,null,h),c}return ph(a,g,c,h),mh(a)}function au(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,H(a,h)}}function Om(a,c){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var C=null,y=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};y===null?C=y=D:y=y.next=D,h=h.next}while(h!==null);y===null?C=y=c:y=y.next=c}else C=y=c;h={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:y,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var _m=!1;function lu(){if(_m){var a=fl;if(a!==null)throw a}}function cu(a,c,h,g){_m=!1;var C=a.updateQueue;Ys=!1;var y=C.firstBaseUpdate,D=C.lastBaseUpdate,k=C.shared.pending;if(k!==null){C.shared.pending=null;var B=k,X=B.next;B.next=null,D===null?y=X:D.next=X,D=B;var le=a.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==D&&(k===null?le.firstBaseUpdate=X:k.next=X,le.lastBaseUpdate=B))}if(y!==null){var ue=C.baseState;D=0,le=X=B=null,k=y;do{var ne=k.lane&-536870913,ie=ne!==k.lane;if(ie?(ht&ne)===ne:(g&ne)===ne){ne!==0&&ne===hl&&(_m=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ee=a,Ve=k;ne=c;var Lt=h;switch(Ve.tag){case 1:if(Ee=Ve.payload,typeof Ee=="function"){ue=Ee.call(Lt,ue,ne);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ve.payload,ne=typeof Ee=="function"?Ee.call(Lt,ue,ne):Ee,ne==null)break e;ue=p({},ue,ne);break e;case 2:Ys=!0}}ne=k.callback,ne!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=C.callbacks,ie===null?C.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(X=le=ie,B=ue):le=le.next=ie,D|=ne;if(k=k.next,k===null){if(k=C.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,C.lastBaseUpdate=ie,C.shared.pending=null}}while(!0);le===null&&(B=ue),C.baseState=B,C.firstBaseUpdate=X,C.lastBaseUpdate=le,y===null&&(C.shared.lanes=0),nr|=D,a.lanes=D,a.memoizedState=ue}}function B0(a,c){if(typeof a!="function")throw Error(i(191,a));a.call(c)}function V0(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)B0(h[a],c)}var ml=O(null),Th=O(0);function z0(a,c){a=ys,Q(Th,a),Q(ml,c),ys=a|c.baseLanes}function Lm(){Q(Th,ys),Q(ml,ml.current)}function Nm(){ys=Th.current,U(ml),U(Th)}var Pi=O(null),Yi=null;function Zs(a){var c=a.alternate;Q(pn,pn.current&1),Q(Pi,a),Yi===null&&(c===null||ml.current!==null||c.memoizedState!==null)&&(Yi=a)}function Hm(a){Q(pn,pn.current),Q(Pi,a),Yi===null&&(Yi=a)}function W0(a){a.tag===22?(Q(pn,pn.current),Q(Pi,a),Yi===null&&(Yi=a)):Js()}function Js(){Q(pn,pn.current),Q(Pi,Pi.current)}function Ai(a){U(Pi),Yi===a&&(Yi=null),U(pn)}var pn=O(0);function Dh(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Uv(h)||jv(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var hs=0,Qe=null,Ot=null,Rn=null,Fh=!1,vl=!1,aa=!1,Ph=0,uu=0,Cl=null,VL=0;function ln(){throw Error(i(321))}function Gm(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Di(a[h],c[h]))return!1;return!0}function Bm(a,c,h,g,C,y){return hs=y,Qe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,N.H=a===null||a.memoizedState===null?TR:tv,aa=!1,y=h(g,C),aa=!1,vl&&(y=j0(c,h,g,C)),U0(a),y}function U0(a){N.H=fu;var c=Ot!==null&&Ot.next!==null;if(hs=0,Rn=Ot=Qe=null,Fh=!1,uu=0,Cl=null,c)throw Error(i(300));a===null||xn||(a=a.dependencies,a!==null&&wh(a)&&(xn=!0))}function j0(a,c,h,g){Qe=a;var C=0;do{if(vl&&(Cl=null),uu=0,vl=!1,25<=C)throw Error(i(301));if(C+=1,Rn=Ot=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}N.H=DR,y=c(h,g)}while(vl);return y}function zL(){var a=N.H,c=a.useState()[0];return c=typeof c.then=="function"?du(c):c,a=a.useState()[0],(Ot!==null?Ot.memoizedState:null)!==a&&(Qe.flags|=1024),c}function Vm(){var a=Ph!==0;return Ph=0,a}function zm(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function Wm(a){if(Fh){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Fh=!1}hs=0,Rn=Ot=Qe=null,vl=!1,uu=Ph=0,Cl=null}function oi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Qe.memoizedState=Rn=a:Rn=Rn.next=a,Rn}function mn(){if(Ot===null){var a=Qe.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var c=Rn===null?Qe.memoizedState:Rn.next;if(c!==null)Rn=c,Ot=a;else{if(a===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Rn===null?Qe.memoizedState=Rn=a:Rn=Rn.next=a}return Rn}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(a){var c=uu;return uu+=1,Cl===null&&(Cl=[]),a=_0(Cl,a,c),c=Qe,(Rn===null?c.memoizedState:Rn.next)===null&&(c=c.alternate,N.H=c===null||c.memoizedState===null?TR:tv),a}function Mh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return du(a);if(a.$$typeof===F)return Un(a)}throw Error(i(438,String(a)))}function Um(a){var c=null,h=Qe.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(C){return C.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Ah(),Qe.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),g=0;g<a;g++)h[g]=V;return c.index++,h}function fs(a,c){return typeof c=="function"?c(a):c}function kh(a){var c=mn();return jm(c,Ot,a)}function jm(a,c,h){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=h;var C=a.baseQueue,y=g.pending;if(y!==null){if(C!==null){var D=C.next;C.next=y.next,y.next=D}c.baseQueue=C=y,g.pending=null}if(y=a.baseState,C===null)a.memoizedState=y;else{c=C.next;var k=D=null,B=null,X=c,le=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(ht&ue)===ue:(hs&ue)===ue){var ne=X.revertLane;if(ne===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===hl&&(le=!0);else if((hs&ne)===ne){X=X.next,ne===hl&&(le=!0);continue}else ue={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(k=B=ue,D=y):B=B.next=ue,Qe.lanes|=ne,nr|=ne;ue=X.action,aa&&h(y,ue),y=X.hasEagerState?X.eagerState:h(y,ue)}else ne={lane:ue,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(k=B=ne,D=y):B=B.next=ne,Qe.lanes|=ue,nr|=ue;X=X.next}while(X!==null&&X!==c);if(B===null?D=y:B.next=k,!Di(y,a.memoizedState)&&(xn=!0,le&&(h=fl,h!==null)))throw h;a.memoizedState=y,a.baseState=D,a.baseQueue=B,g.lastRenderedState=y}return C===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function $m(a){var c=mn(),h=c.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var g=h.dispatch,C=h.pending,y=c.memoizedState;if(C!==null){h.pending=null;var D=C=C.next;do y=a(y,D.action),D=D.next;while(D!==C);Di(y,c.memoizedState)||(xn=!0),c.memoizedState=y,c.baseQueue===null&&(c.baseState=y),h.lastRenderedState=y}return[y,g]}function $0(a,c,h){var g=Qe,C=mn(),y=yt;if(y){if(h===void 0)throw Error(i(407));h=h()}else h=c();var D=!Di((Ot||C).memoizedState,h);if(D&&(C.memoizedState=h,xn=!0),C=C.queue,Ym(Y0.bind(null,g,C,a),[a]),C.getSnapshot!==c||D||Rn!==null&&Rn.memoizedState.tag&1){if(g.flags|=2048,wl(9,{destroy:void 0},q0.bind(null,g,C,h,c),null),Bt===null)throw Error(i(349));y||(hs&127)!==0||K0(g,c,h)}return h}function K0(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=Qe.updateQueue,c===null?(c=Ah(),Qe.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function q0(a,c,h,g){c.value=h,c.getSnapshot=g,X0(c)&&Q0(a)}function Y0(a,c,h){return h(function(){X0(c)&&Q0(a)})}function X0(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Di(a,h)}catch{return!0}}function Q0(a){var c=Zr(a,2);c!==null&&wi(c,a,2)}function Km(a){var c=oi();if(typeof a=="function"){var h=a;if(a=h(),aa){nn(!0);try{h()}finally{nn(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},c}function Z0(a,c,h,g){return a.baseState=h,jm(a,Ot,typeof g=="function"?g:fs)}function WL(a,c,h,g,C){if(_h(a))throw Error(i(485));if(a=c.action,a!==null){var y={payload:C,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){y.listeners.push(D)}};N.T!==null?h(!0):y.isTransition=!1,g(y),h=c.pending,h===null?(y.next=c.pending=y,J0(c,y)):(y.next=h.next,c.pending=h.next=y)}}function J0(a,c){var h=c.action,g=c.payload,C=a.state;if(c.isTransition){var y=N.T,D={};N.T=D;try{var k=h(C,g),B=N.S;B!==null&&B(D,k),eR(a,c,k)}catch(X){qm(a,c,X)}finally{y!==null&&D.types!==null&&(y.types=D.types),N.T=y}}else try{y=h(C,g),eR(a,c,y)}catch(X){qm(a,c,X)}}function eR(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){tR(a,c,g)},function(g){return qm(a,c,g)}):tR(a,c,h)}function tR(a,c,h){c.status="fulfilled",c.value=h,nR(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,J0(a,h)))}function qm(a,c,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,nR(c),c=c.next;while(c!==g)}a.action=null}function nR(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function iR(a,c){return c}function oR(a,c){if(yt){var h=Bt.formState;if(h!==null){e:{var g=Qe;if(yt){if(Ut){t:{for(var C=Ut,y=qi;C.nodeType!==8;){if(!y){C=null;break t}if(C=Xi(C.nextSibling),C===null){C=null;break t}}y=C.data,C=y==="F!"||y==="F"?C:null}if(C){Ut=Xi(C.nextSibling),g=C.data==="F!";break e}}Ks(g)}g=!1}g&&(c=h[0])}}return h=oi(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iR,lastRenderedState:c},h.queue=g,h=RR.bind(null,Qe,g),g.dispatch=h,g=Km(!1),y=ev.bind(null,Qe,!1,g.queue),g=oi(),C={state:c,dispatch:null,action:a,pending:null},g.queue=C,h=WL.bind(null,Qe,C,y,h),C.dispatch=h,g.memoizedState=a,[c,h,!1]}function sR(a){var c=mn();return rR(c,Ot,a)}function rR(a,c,h){if(c=jm(a,c,iR)[0],a=kh(fs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=du(c)}catch(D){throw D===gl?Sh:D}else g=c;c=mn();var C=c.queue,y=C.dispatch;return h!==c.memoizedState&&(Qe.flags|=2048,wl(9,{destroy:void 0},UL.bind(null,C,h),null)),[g,y,a]}function UL(a,c){a.action=c}function aR(a){var c=mn(),h=Ot;if(h!==null)return rR(c,h,a);mn(),c=c.memoizedState,h=mn();var g=h.queue.dispatch;return h.memoizedState=a,[c,g,!1]}function wl(a,c,h,g){return a={tag:a,create:h,deps:g,inst:c,next:null},c=Qe.updateQueue,c===null&&(c=Ah(),Qe.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,c.lastEffect=a),a}function lR(){return mn().memoizedState}function Ih(a,c,h,g){var C=oi();Qe.flags|=a,C.memoizedState=wl(1|c,{destroy:void 0},h,g===void 0?null:g)}function Oh(a,c,h,g){var C=mn();g=g===void 0?null:g;var y=C.memoizedState.inst;Ot!==null&&g!==null&&Gm(g,Ot.memoizedState.deps)?C.memoizedState=wl(c,y,h,g):(Qe.flags|=a,C.memoizedState=wl(1|c,y,h,g))}function cR(a,c){Ih(8390656,8,a,c)}function Ym(a,c){Oh(2048,8,a,c)}function jL(a){Qe.flags|=4;var c=Qe.updateQueue;if(c===null)c=Ah(),Qe.updateQueue=c,c.events=[a];else{var h=c.events;h===null?c.events=[a]:h.push(a)}}function uR(a){var c=mn().memoizedState;return jL({ref:c,nextImpl:a}),function(){if((Tt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function dR(a,c){return Oh(4,2,a,c)}function hR(a,c){return Oh(4,4,a,c)}function fR(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function gR(a,c,h){h=h!=null?h.concat([a]):null,Oh(4,4,fR.bind(null,c,a),h)}function Xm(){}function pR(a,c){var h=mn();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Gm(c,g[1])?g[0]:(h.memoizedState=[a,c],a)}function mR(a,c){var h=mn();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Gm(c,g[1]))return g[0];if(g=a(),aa){nn(!0);try{a()}finally{nn(!1)}}return h.memoizedState=[g,c],g}function Qm(a,c,h){return h===void 0||(hs&1073741824)!==0&&(ht&261930)===0?a.memoizedState=c:(a.memoizedState=h,a=vx(),Qe.lanes|=a,nr|=a,h)}function vR(a,c,h,g){return Di(h,c)?h:ml.current!==null?(a=Qm(a,h,g),Di(a,c)||(xn=!0),a):(hs&42)===0||(hs&1073741824)!==0&&(ht&261930)===0?(xn=!0,a.memoizedState=h):(a=vx(),Qe.lanes|=a,nr|=a,c)}function CR(a,c,h,g,C){var y=q.p;q.p=y!==0&&8>y?y:8;var D=N.T,k={};N.T=k,ev(a,!1,c,h);try{var B=C(),X=N.S;if(X!==null&&X(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var le=BL(B,g);hu(a,c,le,Ii(a))}else hu(a,c,g,Ii(a))}catch(ue){hu(a,c,{then:function(){},status:"rejected",reason:ue},Ii())}finally{q.p=y,D!==null&&k.types!==null&&(D.types=k.types),N.T=D}}function $L(){}function Zm(a,c,h,g){if(a.tag!==5)throw Error(i(476));var C=wR(a).queue;CR(a,C,c,G,h===null?$L:function(){return yR(a),h(g)})}function wR(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:G},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function yR(a){var c=wR(a);c.next===null&&(c=a.alternate.memoizedState),hu(a,c.next.queue,{},Ii())}function Jm(){return Un(Pu)}function bR(){return mn().memoizedState}function SR(){return mn().memoizedState}function KL(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ii();a=Xs(h);var g=Qs(c,a,h);g!==null&&(wi(g,c,h),au(g,c,h)),c={cache:Fm()},a.payload=c;return}c=c.return}}function qL(a,c,h){var g=Ii();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},_h(a)?xR(c,h):(h=vm(a,c,h,g),h!==null&&(wi(h,a,g),ER(h,c,g)))}function RR(a,c,h){var g=Ii();hu(a,c,h,g)}function hu(a,c,h,g){var C={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(_h(a))xR(c,C);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=c.lastRenderedReducer,y!==null))try{var D=c.lastRenderedState,k=y(D,h);if(C.hasEagerState=!0,C.eagerState=k,Di(k,D))return ph(a,c,C,0),Bt===null&&gh(),!1}catch{}if(h=vm(a,c,C,g),h!==null)return wi(h,a,g),ER(h,c,g),!0}return!1}function ev(a,c,h,g){if(g={lane:2,revertLane:kv(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},_h(a)){if(c)throw Error(i(479))}else c=vm(a,h,g,2),c!==null&&wi(c,a,2)}function _h(a){var c=a.alternate;return a===Qe||c!==null&&c===Qe}function xR(a,c){vl=Fh=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function ER(a,c,h){if((h&4194048)!==0){var g=c.lanes;g&=a.pendingLanes,h|=g,c.lanes=h,H(a,h)}}var fu={readContext:Un,use:Mh,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};fu.useEffectEvent=ln;var TR={readContext:Un,use:Mh,useCallback:function(a,c){return oi().memoizedState=[a,c===void 0?null:c],a},useContext:Un,useEffect:cR,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,Ih(4194308,4,fR.bind(null,c,a),h)},useLayoutEffect:function(a,c){return Ih(4194308,4,a,c)},useInsertionEffect:function(a,c){Ih(4,2,a,c)},useMemo:function(a,c){var h=oi();c=c===void 0?null:c;var g=a();if(aa){nn(!0);try{a()}finally{nn(!1)}}return h.memoizedState=[g,c],g},useReducer:function(a,c,h){var g=oi();if(h!==void 0){var C=h(c);if(aa){nn(!0);try{h(c)}finally{nn(!1)}}}else C=c;return g.memoizedState=g.baseState=C,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:C},g.queue=a,a=a.dispatch=qL.bind(null,Qe,a),[g.memoizedState,a]},useRef:function(a){var c=oi();return a={current:a},c.memoizedState=a},useState:function(a){a=Km(a);var c=a.queue,h=RR.bind(null,Qe,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:Xm,useDeferredValue:function(a,c){var h=oi();return Qm(h,a,c)},useTransition:function(){var a=Km(!1);return a=CR.bind(null,Qe,a.queue,!0,!1),oi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var g=Qe,C=oi();if(yt){if(h===void 0)throw Error(i(407));h=h()}else{if(h=c(),Bt===null)throw Error(i(349));(ht&127)!==0||K0(g,c,h)}C.memoizedState=h;var y={value:h,getSnapshot:c};return C.queue=y,cR(Y0.bind(null,g,y,a),[a]),g.flags|=2048,wl(9,{destroy:void 0},q0.bind(null,g,y,h,c),null),h},useId:function(){var a=oi(),c=Bt.identifierPrefix;if(yt){var h=Lo,g=_o;h=(g&~(1<<32-It(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Ph++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=VL++,c="_"+c+"r_"+h.toString(32)+"_";return a.memoizedState=c},useHostTransitionStatus:Jm,useFormState:oR,useActionState:oR,useOptimistic:function(a){var c=oi();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ev.bind(null,Qe,!0,h),h.dispatch=c,[a,c]},useMemoCache:Um,useCacheRefresh:function(){return oi().memoizedState=KL.bind(null,Qe)},useEffectEvent:function(a){var c=oi(),h={impl:a};return c.memoizedState=h,function(){if((Tt&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},tv={readContext:Un,use:Mh,useCallback:pR,useContext:Un,useEffect:Ym,useImperativeHandle:gR,useInsertionEffect:dR,useLayoutEffect:hR,useMemo:mR,useReducer:kh,useRef:lR,useState:function(){return kh(fs)},useDebugValue:Xm,useDeferredValue:function(a,c){var h=mn();return vR(h,Ot.memoizedState,a,c)},useTransition:function(){var a=kh(fs)[0],c=mn().memoizedState;return[typeof a=="boolean"?a:du(a),c]},useSyncExternalStore:$0,useId:bR,useHostTransitionStatus:Jm,useFormState:sR,useActionState:sR,useOptimistic:function(a,c){var h=mn();return Z0(h,Ot,a,c)},useMemoCache:Um,useCacheRefresh:SR};tv.useEffectEvent=uR;var DR={readContext:Un,use:Mh,useCallback:pR,useContext:Un,useEffect:Ym,useImperativeHandle:gR,useInsertionEffect:dR,useLayoutEffect:hR,useMemo:mR,useReducer:$m,useRef:lR,useState:function(){return $m(fs)},useDebugValue:Xm,useDeferredValue:function(a,c){var h=mn();return Ot===null?Qm(h,a,c):vR(h,Ot.memoizedState,a,c)},useTransition:function(){var a=$m(fs)[0],c=mn().memoizedState;return[typeof a=="boolean"?a:du(a),c]},useSyncExternalStore:$0,useId:bR,useHostTransitionStatus:Jm,useFormState:aR,useActionState:aR,useOptimistic:function(a,c){var h=mn();return Ot!==null?Z0(h,Ot,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Um,useCacheRefresh:SR};DR.useEffectEvent=uR;function nv(a,c,h,g){c=a.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var iv={enqueueSetState:function(a,c,h){a=a._reactInternals;var g=Ii(),C=Xs(g);C.payload=c,h!=null&&(C.callback=h),c=Qs(a,C,g),c!==null&&(wi(c,a,g),au(c,a,g))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var g=Ii(),C=Xs(g);C.tag=1,C.payload=c,h!=null&&(C.callback=h),c=Qs(a,C,g),c!==null&&(wi(c,a,g),au(c,a,g))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Ii(),g=Xs(h);g.tag=2,c!=null&&(g.callback=c),c=Qs(a,g,h),c!==null&&(wi(c,a,h),au(c,a,h))}};function FR(a,c,h,g,C,y,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,y,D):c.prototype&&c.prototype.isPureReactComponent?!Jc(h,g)||!Jc(C,y):!0}function PR(a,c,h,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==a&&iv.enqueueReplaceState(c,c.state,null)}function la(a,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(a=a.defaultProps){h===c&&(h=p({},h));for(var C in a)h[C]===void 0&&(h[C]=a[C])}return h}function AR(a){fh(a)}function MR(a){console.error(a)}function kR(a){fh(a)}function Lh(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function IR(a,c,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function ov(a,c,h){return h=Xs(h),h.tag=3,h.payload={element:null},h.callback=function(){Lh(a,c)},h}function OR(a){return a=Xs(a),a.tag=3,a}function _R(a,c,h,g){var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var y=g.value;a.payload=function(){return C(y)},a.callback=function(){IR(c,h,g)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){IR(c,h,g),typeof C!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var k=g.stack;this.componentDidCatch(g.value,{componentStack:k!==null?k:""})})}function YL(a,c,h,g,C){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&dl(c,h,C,!0),h=Pi.current,h!==null){switch(h.tag){case 31:case 13:return Yi===null?qh():h.alternate===null&&cn===0&&(cn=3),h.flags&=-257,h.flags|=65536,h.lanes=C,g===Rh?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),Pv(a,g,C)),!1;case 22:return h.flags|=65536,g===Rh?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),Pv(a,g,C)),!1}throw Error(i(435,h.tag))}return Pv(a,g,C),qh(),!1}if(yt)return c=Pi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=C,g!==Rm&&(a=Error(i(422),{cause:g}),nu(ji(a,h)))):(g!==Rm&&(c=Error(i(423),{cause:g}),nu(ji(c,h))),a=a.current.alternate,a.flags|=65536,C&=-C,a.lanes|=C,g=ji(g,h),C=ov(a.stateNode,g,C),Om(a,C),cn!==4&&(cn=2)),!1;var y=Error(i(520),{cause:g});if(y=ji(y,h),bu===null?bu=[y]:bu.push(y),cn!==4&&(cn=2),c===null)return!0;g=ji(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=C&-C,h.lanes|=a,a=ov(h.stateNode,g,a),Om(h,a),!1;case 1:if(c=h.type,y=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ir===null||!ir.has(y))))return h.flags|=65536,C&=-C,h.lanes|=C,C=OR(C),_R(C,a,h,g),Om(h,C),!1}h=h.return}while(h!==null);return!1}var sv=Error(i(461)),xn=!1;function jn(a,c,h,g){c.child=a===null?G0(c,null,h,g):ra(c,a.child,h,g)}function LR(a,c,h,g,C){h=h.render;var y=c.ref;if("ref"in g){var D={};for(var k in g)k!=="ref"&&(D[k]=g[k])}else D=g;return na(c),g=Bm(a,c,h,D,y,C),k=Vm(),a!==null&&!xn?(zm(a,c,C),gs(a,c,C)):(yt&&k&&bm(c),c.flags|=1,jn(a,c,g,C),c.child)}function NR(a,c,h,g,C){if(a===null){var y=h.type;return typeof y=="function"&&!Cm(y)&&y.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=y,HR(a,c,y,g,C)):(a=vh(h.type,null,g,c,c.mode,C),a.ref=c.ref,a.return=c,c.child=a)}if(y=a.child,!fv(a,C)){var D=y.memoizedProps;if(h=h.compare,h=h!==null?h:Jc,h(D,g)&&a.ref===c.ref)return gs(a,c,C)}return c.flags|=1,a=ls(y,g),a.ref=c.ref,a.return=c,c.child=a}function HR(a,c,h,g,C){if(a!==null){var y=a.memoizedProps;if(Jc(y,g)&&a.ref===c.ref)if(xn=!1,c.pendingProps=g=y,fv(a,C))(a.flags&131072)!==0&&(xn=!0);else return c.lanes=a.lanes,gs(a,c,C)}return rv(a,c,h,g,C)}function GR(a,c,h,g){var C=g.children,y=a!==null?a.memoizedState:null;if(a===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(y=y!==null?y.baseLanes|h:h,a!==null){for(g=c.child=a.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;g=C&~y}else g=0,c.child=null;return BR(a,c,y,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&bh(c,y!==null?y.cachePool:null),y!==null?z0(c,y):Lm(),W0(c);else return g=c.lanes=536870912,BR(a,c,y!==null?y.baseLanes|h:h,h,g)}else y!==null?(bh(c,y.cachePool),z0(c,y),Js(),c.memoizedState=null):(a!==null&&bh(c,null),Lm(),Js());return jn(a,c,C,h),c.child}function gu(a,c){return a!==null&&a.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function BR(a,c,h,g,C){var y=Am();return y=y===null?null:{parent:Sn._currentValue,pool:y},c.memoizedState={baseLanes:h,cachePool:y},a!==null&&bh(c,null),Lm(),W0(c),a!==null&&dl(a,c,g,!0),c.childLanes=C,null}function Nh(a,c){return c=Gh({mode:c.mode,children:c.children},a.mode),c.ref=a.ref,a.child=c,c.return=a,c}function VR(a,c,h){return ra(c,a.child,null,h),a=Nh(c,c.pendingProps),a.flags|=2,Ai(c),c.memoizedState=null,a}function XL(a,c,h){var g=c.pendingProps,C=(c.flags&128)!==0;if(c.flags&=-129,a===null){if(yt){if(g.mode==="hidden")return a=Nh(c,g),c.lanes=536870912,gu(null,a);if(Hm(c),(a=Ut)?(a=Jx(a,qi),a=a!==null&&a.data==="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:js!==null?{id:_o,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},h=x0(a),h.return=c,c.child=h,Wn=c,Ut=null)):a=null,a===null)throw Ks(c);return c.lanes=536870912,null}return Nh(c,g)}var y=a.memoizedState;if(y!==null){var D=y.dehydrated;if(Hm(c),C)if(c.flags&256)c.flags&=-257,c=VR(a,c,h);else if(c.memoizedState!==null)c.child=a.child,c.flags|=128,c=null;else throw Error(i(558));else if(xn||dl(a,c,h,!1),C=(h&a.childLanes)!==0,xn||C){if(g=Bt,g!==null&&(D=j(g,h),D!==0&&D!==y.retryLane))throw y.retryLane=D,Zr(a,D),wi(g,a,D),sv;qh(),c=VR(a,c,h)}else a=y.treeContext,Ut=Xi(D.nextSibling),Wn=c,yt=!0,$s=null,qi=!1,a!==null&&D0(c,a),c=Nh(c,g),c.flags|=4096;return c}return a=ls(a.child,{mode:g.mode,children:g.children}),a.ref=c.ref,c.child=a,a.return=c,a}function Hh(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function rv(a,c,h,g,C){return na(c),h=Bm(a,c,h,g,void 0,C),g=Vm(),a!==null&&!xn?(zm(a,c,C),gs(a,c,C)):(yt&&g&&bm(c),c.flags|=1,jn(a,c,h,C),c.child)}function zR(a,c,h,g,C,y){return na(c),c.updateQueue=null,h=j0(c,g,h,C),U0(a),g=Vm(),a!==null&&!xn?(zm(a,c,y),gs(a,c,y)):(yt&&g&&bm(c),c.flags|=1,jn(a,c,h,y),c.child)}function WR(a,c,h,g,C){if(na(c),c.stateNode===null){var y=al,D=h.contextType;typeof D=="object"&&D!==null&&(y=Un(D)),y=new h(g,y),c.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=iv,c.stateNode=y,y._reactInternals=c,y=c.stateNode,y.props=g,y.state=c.memoizedState,y.refs={},km(c),D=h.contextType,y.context=typeof D=="object"&&D!==null?Un(D):al,y.state=c.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(nv(c,h,D,g),y.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(D=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),D!==y.state&&iv.enqueueReplaceState(y,y.state,null),cu(c,g,y,C),lu(),y.state=c.memoizedState),typeof y.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(a===null){y=c.stateNode;var k=c.memoizedProps,B=la(h,k);y.props=B;var X=y.context,le=h.contextType;D=al,typeof le=="object"&&le!==null&&(D=Un(le));var ue=h.getDerivedStateFromProps;le=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=c.pendingProps!==k,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||X!==D)&&PR(c,y,g,D),Ys=!1;var ne=c.memoizedState;y.state=ne,cu(c,g,y,C),lu(),X=c.memoizedState,k||ne!==X||Ys?(typeof ue=="function"&&(nv(c,h,ue,g),X=c.memoizedState),(B=Ys||FR(c,h,B,g,ne,X,D))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(c.flags|=4194308)):(typeof y.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=X),y.props=g,y.state=X,y.context=D,g=B):(typeof y.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{y=c.stateNode,Im(a,c),D=c.memoizedProps,le=la(h,D),y.props=le,ue=c.pendingProps,ne=y.context,X=h.contextType,B=al,typeof X=="object"&&X!==null&&(B=Un(X)),k=h.getDerivedStateFromProps,(X=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D!==ue||ne!==B)&&PR(c,y,g,B),Ys=!1,ne=c.memoizedState,y.state=ne,cu(c,g,y,C),lu();var ie=c.memoizedState;D!==ue||ne!==ie||Ys||a!==null&&a.dependencies!==null&&wh(a.dependencies)?(typeof k=="function"&&(nv(c,h,k,g),ie=c.memoizedState),(le=Ys||FR(c,h,le,g,ne,ie,B)||a!==null&&a.dependencies!==null&&wh(a.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(g,ie,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(g,ie,B)),typeof y.componentDidUpdate=="function"&&(c.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof y.componentDidUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ie),y.props=g,y.state=ie,y.context=B,g=le):(typeof y.componentDidUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(c.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ne===a.memoizedState||(c.flags|=1024),g=!1)}return y=g,Hh(a,c),g=(c.flags&128)!==0,y||g?(y=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:y.render(),c.flags|=1,a!==null&&g?(c.child=ra(c,a.child,null,C),c.child=ra(c,null,h,C)):jn(a,c,h,C),c.memoizedState=y.state,a=c.child):a=gs(a,c,C),a}function UR(a,c,h,g){return ea(),c.flags|=256,jn(a,c,h,g),c.child}var av={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lv(a){return{baseLanes:a,cachePool:I0()}}function cv(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=ki),a}function jR(a,c,h){var g=c.pendingProps,C=!1,y=(c.flags&128)!==0,D;if((D=y)||(D=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),D&&(C=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,a===null){if(yt){if(C?Zs(c):Js(),(a=Ut)?(a=Jx(a,qi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(c.memoizedState={dehydrated:a,treeContext:js!==null?{id:_o,overflow:Lo}:null,retryLane:536870912,hydrationErrors:null},h=x0(a),h.return=c,c.child=h,Wn=c,Ut=null)):a=null,a===null)throw Ks(c);return jv(a)?c.lanes=32:c.lanes=536870912,null}var k=g.children;return g=g.fallback,C?(Js(),C=c.mode,k=Gh({mode:"hidden",children:k},C),g=Jr(g,C,h,null),k.return=c,g.return=c,k.sibling=g,c.child=k,g=c.child,g.memoizedState=lv(h),g.childLanes=cv(a,D,h),c.memoizedState=av,gu(null,g)):(Zs(c),uv(c,k))}var B=a.memoizedState;if(B!==null&&(k=B.dehydrated,k!==null)){if(y)c.flags&256?(Zs(c),c.flags&=-257,c=dv(a,c,h)):c.memoizedState!==null?(Js(),c.child=a.child,c.flags|=128,c=null):(Js(),k=g.fallback,C=c.mode,g=Gh({mode:"visible",children:g.children},C),k=Jr(k,C,h,null),k.flags|=2,g.return=c,k.return=c,g.sibling=k,c.child=g,ra(c,a.child,null,h),g=c.child,g.memoizedState=lv(h),g.childLanes=cv(a,D,h),c.memoizedState=av,c=gu(null,g));else if(Zs(c),jv(k)){if(D=k.nextSibling&&k.nextSibling.dataset,D)var X=D.dgst;D=X,g=Error(i(419)),g.stack="",g.digest=D,nu({value:g,source:null,stack:null}),c=dv(a,c,h)}else if(xn||dl(a,c,h,!1),D=(h&a.childLanes)!==0,xn||D){if(D=Bt,D!==null&&(g=j(D,h),g!==0&&g!==B.retryLane))throw B.retryLane=g,Zr(a,g),wi(D,a,g),sv;Uv(k)||qh(),c=dv(a,c,h)}else Uv(k)?(c.flags|=192,c.child=a.child,c=null):(a=B.treeContext,Ut=Xi(k.nextSibling),Wn=c,yt=!0,$s=null,qi=!1,a!==null&&D0(c,a),c=uv(c,g.children),c.flags|=4096);return c}return C?(Js(),k=g.fallback,C=c.mode,B=a.child,X=B.sibling,g=ls(B,{mode:"hidden",children:g.children}),g.subtreeFlags=B.subtreeFlags&65011712,X!==null?k=ls(X,k):(k=Jr(k,C,h,null),k.flags|=2),k.return=c,g.return=c,g.sibling=k,c.child=g,gu(null,g),g=c.child,k=a.child.memoizedState,k===null?k=lv(h):(C=k.cachePool,C!==null?(B=Sn._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=I0(),k={baseLanes:k.baseLanes|h,cachePool:C}),g.memoizedState=k,g.childLanes=cv(a,D,h),c.memoizedState=av,gu(a.child,g)):(Zs(c),h=a.child,a=h.sibling,h=ls(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,a!==null&&(D=c.deletions,D===null?(c.deletions=[a],c.flags|=16):D.push(a)),c.child=h,c.memoizedState=null,h)}function uv(a,c){return c=Gh({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Gh(a,c){return a=Fi(22,a,null,c),a.lanes=0,a}function dv(a,c,h){return ra(c,a.child,null,h),a=uv(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function $R(a,c,h){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),Tm(a.return,c,h)}function hv(a,c,h,g,C,y){var D=a.memoizedState;D===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:C,treeForkCount:y}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=g,D.tail=h,D.tailMode=C,D.treeForkCount=y)}function KR(a,c,h){var g=c.pendingProps,C=g.revealOrder,y=g.tail;g=g.children;var D=pn.current,k=(D&2)!==0;if(k?(D=D&1|2,c.flags|=128):D&=1,Q(pn,D),jn(a,c,g,h),g=yt?tu:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$R(a,h,c);else if(a.tag===19)$R(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(C){case"forwards":for(h=c.child,C=null;h!==null;)a=h.alternate,a!==null&&Dh(a)===null&&(C=h),h=h.sibling;h=C,h===null?(C=c.child,c.child=null):(C=h.sibling,h.sibling=null),hv(c,!1,C,h,y,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,C=c.child,c.child=null;C!==null;){if(a=C.alternate,a!==null&&Dh(a)===null){c.child=C;break}a=C.sibling,C.sibling=h,h=C,C=a}hv(c,!0,h,null,y,g);break;case"together":hv(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function gs(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),nr|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(dl(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(i(153));if(c.child!==null){for(a=c.child,h=ls(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=ls(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function fv(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&wh(a)))}function QL(a,c,h){switch(c.tag){case 3:Ke(c,c.stateNode.containerInfo),qs(c,Sn,a.memoizedState.cache),ea();break;case 27:case 5:We(c);break;case 4:Ke(c,c.stateNode.containerInfo);break;case 10:qs(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Hm(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Zs(c),c.flags|=128,null):(h&c.child.childLanes)!==0?jR(a,c,h):(Zs(c),a=gs(a,c,h),a!==null?a.sibling:null);Zs(c);break;case 19:var C=(a.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(dl(a,c,h,!1),g=(h&c.childLanes)!==0),C){if(g)return KR(a,c,h);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Q(pn,pn.current),g)break;return null;case 22:return c.lanes=0,GR(a,c,h,c.pendingProps);case 24:qs(c,Sn,a.memoizedState.cache)}return gs(a,c,h)}function qR(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)xn=!0;else{if(!fv(a,h)&&(c.flags&128)===0)return xn=!1,QL(a,c,h);xn=(a.flags&131072)!==0}else xn=!1,yt&&(c.flags&1048576)!==0&&T0(c,tu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(a=oa(c.elementType),c.type=a,typeof a=="function")Cm(a)?(g=la(a,g),c.tag=1,c=WR(null,c,a,g,h)):(c.tag=0,c=rv(null,c,a,g,h));else{if(a!=null){var C=a.$$typeof;if(C===A){c.tag=11,c=LR(null,c,a,g,h);break e}else if(C===P){c.tag=14,c=NR(null,c,a,g,h);break e}}throw c=he(a)||a,Error(i(306,c,""))}}return c;case 0:return rv(a,c,c.type,c.pendingProps,h);case 1:return g=c.type,C=la(g,c.pendingProps),WR(a,c,g,C,h);case 3:e:{if(Ke(c,c.stateNode.containerInfo),a===null)throw Error(i(387));g=c.pendingProps;var y=c.memoizedState;C=y.element,Im(a,c),cu(c,g,null,h);var D=c.memoizedState;if(g=D.cache,qs(c,Sn,g),g!==y.cache&&Dm(c,[Sn],h,!0),lu(),g=D.element,y.isDehydrated)if(y={element:g,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=y,c.memoizedState=y,c.flags&256){c=UR(a,c,g,h);break e}else if(g!==C){C=ji(Error(i(424)),c),nu(C),c=UR(a,c,g,h);break e}else for(a=c.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ut=Xi(a.firstChild),Wn=c,yt=!0,$s=null,qi=!0,h=G0(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ea(),g===C){c=gs(a,c,h);break e}jn(a,c,g,h)}c=c.child}return c;case 26:return Hh(a,c),a===null?(h=sE(c.type,null,c.pendingProps,null))?c.memoizedState=h:yt||(h=c.type,a=c.pendingProps,g=tf(Se.current).createElement(h),g[be]=c,g[Re]=a,$n(g,h,a),Kt(g),c.stateNode=g):c.memoizedState=sE(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return We(c),a===null&&yt&&(g=c.stateNode=nE(c.type,c.pendingProps,Se.current),Wn=c,qi=!0,C=Ut,ar(c.type)?($v=C,Ut=Xi(g.firstChild)):Ut=C),jn(a,c,c.pendingProps.children,h),Hh(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&yt&&((C=g=Ut)&&(g=DN(g,c.type,c.pendingProps,qi),g!==null?(c.stateNode=g,Wn=c,Ut=Xi(g.firstChild),qi=!1,C=!0):C=!1),C||Ks(c)),We(c),C=c.type,y=c.pendingProps,D=a!==null?a.memoizedProps:null,g=y.children,Vv(C,y)?g=null:D!==null&&Vv(C,D)&&(c.flags|=32),c.memoizedState!==null&&(C=Bm(a,c,zL,null,null,h),Pu._currentValue=C),Hh(a,c),jn(a,c,g,h),c.child;case 6:return a===null&&yt&&((a=h=Ut)&&(h=FN(h,c.pendingProps,qi),h!==null?(c.stateNode=h,Wn=c,Ut=null,a=!0):a=!1),a||Ks(c)),null;case 13:return jR(a,c,h);case 4:return Ke(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=ra(c,null,g,h):jn(a,c,g,h),c.child;case 11:return LR(a,c,c.type,c.pendingProps,h);case 7:return jn(a,c,c.pendingProps,h),c.child;case 8:return jn(a,c,c.pendingProps.children,h),c.child;case 12:return jn(a,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,qs(c,c.type,g.value),jn(a,c,g.children,h),c.child;case 9:return C=c.type._context,g=c.pendingProps.children,na(c),C=Un(C),g=g(C),c.flags|=1,jn(a,c,g,h),c.child;case 14:return NR(a,c,c.type,c.pendingProps,h);case 15:return HR(a,c,c.type,c.pendingProps,h);case 19:return KR(a,c,h);case 31:return XL(a,c,h);case 22:return GR(a,c,h,c.pendingProps);case 24:return na(c),g=Un(Sn),a===null?(C=Am(),C===null&&(C=Bt,y=Fm(),C.pooledCache=y,y.refCount++,y!==null&&(C.pooledCacheLanes|=h),C=y),c.memoizedState={parent:g,cache:C},km(c),qs(c,Sn,C)):((a.lanes&h)!==0&&(Im(a,c),cu(c,null,null,h),lu()),C=a.memoizedState,y=c.memoizedState,C.parent!==g?(C={parent:g,cache:g},c.memoizedState=C,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=C),qs(c,Sn,g)):(g=y.cache,qs(c,Sn,g),g!==C.cache&&Dm(c,[Sn],h,!0))),jn(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function ps(a){a.flags|=4}function gv(a,c,h,g,C){if((c=(a.mode&32)!==0)&&(c=!1),c){if(a.flags|=16777216,(C&335544128)===C)if(a.stateNode.complete)a.flags|=8192;else if(bx())a.flags|=8192;else throw sa=Rh,Mm}else a.flags&=-16777217}function YR(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!uE(c))if(bx())a.flags|=8192;else throw sa=Rh,Mm}function Bh(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Xn():536870912,a.lanes|=c,Rl|=c)}function pu(a,c){if(!yt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function jt(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(c)for(var C=a.child;C!==null;)h|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)h|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=g,a.childLanes=h,c}function ZL(a,c,h){var g=c.pendingProps;switch(Sm(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(c),null;case 1:return jt(c),null;case 3:return h=c.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ds(Sn),Ye(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(ul(c)?ps(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,xm())),jt(c),null;case 26:var C=c.type,y=c.memoizedState;return a===null?(ps(c),y!==null?(jt(c),YR(c,y)):(jt(c),gv(c,C,null,g,h))):y?y!==a.memoizedState?(ps(c),jt(c),YR(c,y)):(jt(c),c.flags&=-16777217):(a=a.memoizedProps,a!==g&&ps(c),jt(c),gv(c,C,a,g,h)),null;case 27:if(Ft(c),h=Se.current,C=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&ps(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return jt(c),null}a=ae.current,ul(c)?F0(c):(a=nE(C,g,h),c.stateNode=a,ps(c))}return jt(c),null;case 5:if(Ft(c),C=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==g&&ps(c);else{if(!g){if(c.stateNode===null)throw Error(i(166));return jt(c),null}if(y=ae.current,ul(c))F0(c);else{var D=tf(Se.current);switch(y){case 1:y=D.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:y=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":y=D.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":y=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":y=D.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof g.is=="string"?D.createElement("select",{is:g.is}):D.createElement("select"),g.multiple?y.multiple=!0:g.size&&(y.size=g.size);break;default:y=typeof g.is=="string"?D.createElement(C,{is:g.is}):D.createElement(C)}}y[be]=c,y[Re]=g;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)y.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=y;e:switch($n(y,C,g),C){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&ps(c)}}return jt(c),gv(c,c.type,a===null?null:a.memoizedProps,c.pendingProps,h),null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==g&&ps(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(i(166));if(a=Se.current,ul(c)){if(a=c.stateNode,h=c.memoizedProps,g=null,C=Wn,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}a[be]=c,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||jx(a.nodeValue,h)),a||Ks(c,!0)}else a=tf(a).createTextNode(g),a[be]=c,c.stateNode=a}return jt(c),null;case 31:if(h=c.memoizedState,a===null||a.memoizedState!==null){if(g=ul(c),h!==null){if(a===null){if(!g)throw Error(i(318));if(a=c.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[be]=c}else ea(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jt(c),a=!1}else h=xm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return c.flags&256?(Ai(c),c):(Ai(c),null);if((c.flags&128)!==0)throw Error(i(558))}return jt(c),null;case 13:if(g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(C=ul(c),g!==null&&g.dehydrated!==null){if(a===null){if(!C)throw Error(i(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[be]=c}else ea(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jt(c),C=!1}else C=xm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=C),C=!0;if(!C)return c.flags&256?(Ai(c),c):(Ai(c),null)}return Ai(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,a=a!==null&&a.memoizedState!==null,h&&(g=c.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool),y=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(y=g.memoizedState.cachePool.pool),y!==C&&(g.flags|=2048)),h!==a&&h&&(c.child.flags|=8192),Bh(c,c.updateQueue),jt(c),null);case 4:return Ye(),a===null&&Lv(c.stateNode.containerInfo),jt(c),null;case 10:return ds(c.type),jt(c),null;case 19:if(U(pn),g=c.memoizedState,g===null)return jt(c),null;if(C=(c.flags&128)!==0,y=g.rendering,y===null)if(C)pu(g,!1);else{if(cn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(y=Dh(a),y!==null){for(c.flags|=128,pu(g,!1),a=y.updateQueue,c.updateQueue=a,Bh(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)R0(h,a),h=h.sibling;return Q(pn,pn.current&1|2),yt&&cs(c,g.treeForkCount),c.child}a=a.sibling}g.tail!==null&&Xe()>jh&&(c.flags|=128,C=!0,pu(g,!1),c.lanes=4194304)}else{if(!C)if(a=Dh(y),a!==null){if(c.flags|=128,C=!0,a=a.updateQueue,c.updateQueue=a,Bh(c,a),pu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!yt)return jt(c),null}else 2*Xe()-g.renderingStartTime>jh&&h!==536870912&&(c.flags|=128,C=!0,pu(g,!1),c.lanes=4194304);g.isBackwards?(y.sibling=c.child,c.child=y):(a=g.last,a!==null?a.sibling=y:c.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Xe(),a.sibling=null,h=pn.current,Q(pn,C?h&1|2:h&1),yt&&cs(c,g.treeForkCount),a):(jt(c),null);case 22:case 23:return Ai(c),Nm(),g=c.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(jt(c),c.subtreeFlags&6&&(c.flags|=8192)):jt(c),h=c.updateQueue,h!==null&&Bh(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),a!==null&&U(ia),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ds(Sn),jt(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function JL(a,c){switch(Sm(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return ds(Sn),Ye(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Ft(c),null;case 31:if(c.memoizedState!==null){if(Ai(c),c.alternate===null)throw Error(i(340));ea()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 13:if(Ai(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(i(340));ea()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return U(pn),null;case 4:return Ye(),null;case 10:return ds(c.type),null;case 22:case 23:return Ai(c),Nm(),a!==null&&U(ia),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return ds(Sn),null;case 25:return null;default:return null}}function XR(a,c){switch(Sm(c),c.tag){case 3:ds(Sn),Ye();break;case 26:case 27:case 5:Ft(c);break;case 4:Ye();break;case 31:c.memoizedState!==null&&Ai(c);break;case 13:Ai(c);break;case 19:U(pn);break;case 10:ds(c.type);break;case 22:case 23:Ai(c),Nm(),a!==null&&U(ia);break;case 24:ds(Sn)}}function mu(a,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var C=g.next;h=C;do{if((h.tag&a)===a){g=void 0;var y=h.create,D=h.inst;g=y(),D.destroy=g}h=h.next}while(h!==C)}}catch(k){At(c,c.return,k)}}function er(a,c,h){try{var g=c.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var y=C.next;g=y;do{if((g.tag&a)===a){var D=g.inst,k=D.destroy;if(k!==void 0){D.destroy=void 0,C=c;var B=h,X=k;try{X()}catch(le){At(C,B,le)}}}g=g.next}while(g!==y)}}catch(le){At(c,c.return,le)}}function QR(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{V0(c,h)}catch(g){At(a,a.return,g)}}}function ZR(a,c,h){h.props=la(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){At(a,c,g)}}function vu(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(C){At(a,c,C)}}function No(a,c){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(C){At(a,c,C)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(C){At(a,c,C)}else h.current=null}function JR(a){var c=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(C){At(a,a.return,C)}}function pv(a,c,h){try{var g=a.stateNode;bN(g,a.type,h,c),g[Re]=c}catch(C){At(a,a.return,C)}}function ex(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ar(a.type)||a.tag===4}function mv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ex(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ar(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vv(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=rs));else if(g!==4&&(g===27&&ar(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(vv(a,c,h),a=a.sibling;a!==null;)vv(a,c,h),a=a.sibling}function Vh(a,c,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(g!==4&&(g===27&&ar(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Vh(a,c,h),a=a.sibling;a!==null;)Vh(a,c,h),a=a.sibling}function tx(a){var c=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,C=c.attributes;C.length;)c.removeAttributeNode(C[0]);$n(c,g,h),c[be]=a,c[Re]=h}catch(y){At(a,a.return,y)}}var ms=!1,En=!1,Cv=!1,nx=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function eN(a,c){if(a=a.containerInfo,Gv=cf,a=g0(a),dm(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var C=g.anchorOffset,y=g.focusNode;g=g.focusOffset;try{h.nodeType,y.nodeType}catch{h=null;break e}var D=0,k=-1,B=-1,X=0,le=0,ue=a,ne=null;t:for(;;){for(var ie;ue!==h||C!==0&&ue.nodeType!==3||(k=D+C),ue!==y||g!==0&&ue.nodeType!==3||(B=D+g),ue.nodeType===3&&(D+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)ne=ue,ue=ie;for(;;){if(ue===a)break t;if(ne===h&&++X===C&&(k=D),ne===y&&++le===g&&(B=D),(ie=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ie}h=k===-1||B===-1?null:{start:k,end:B}}else h=null}h=h||{start:0,end:0}}else h=null;for(Bv={focusedElem:a,selectionRange:h},cf=!1,Ln=c;Ln!==null;)if(c=Ln,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Ln=a;else for(;Ln!==null;){switch(c=Ln,y=c.alternate,a=c.flags,c.tag){case 0:if((a&4)!==0&&(a=c.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)C=a[h],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,h=c,C=y.memoizedProps,y=y.memoizedState,g=h.stateNode;try{var Ee=la(h.type,C);a=g.getSnapshotBeforeUpdate(Ee,y),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ve){At(h,h.return,Ve)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)Wv(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Wv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=c.sibling,a!==null){a.return=c.return,Ln=a;break}Ln=c.return}}function ix(a,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Cs(a,h),g&4&&mu(5,h);break;case 1:if(Cs(a,h),g&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(D){At(h,h.return,D)}else{var C=la(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(C,c,a.__reactInternalSnapshotBeforeUpdate)}catch(D){At(h,h.return,D)}}g&64&&QR(h),g&512&&vu(h,h.return);break;case 3:if(Cs(a,h),g&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{V0(a,c)}catch(D){At(h,h.return,D)}}break;case 27:c===null&&g&4&&tx(h);case 26:case 5:Cs(a,h),c===null&&g&4&&JR(h),g&512&&vu(h,h.return);break;case 12:Cs(a,h);break;case 31:Cs(a,h),g&4&&rx(a,h);break;case 13:Cs(a,h),g&4&&ax(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=cN.bind(null,h),PN(a,h))));break;case 22:if(g=h.memoizedState!==null||ms,!g){c=c!==null&&c.memoizedState!==null||En,C=ms;var y=En;ms=g,(En=c)&&!y?ws(a,h,(h.subtreeFlags&8772)!==0):Cs(a,h),ms=C,En=y}break;case 30:break;default:Cs(a,h)}}function ox(a){var c=a.alternate;c!==null&&(a.alternate=null,ox(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&rn(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var qt=null,pi=!1;function vs(a,c,h){for(h=h.child;h!==null;)sx(a,c,h),h=h.sibling}function sx(a,c,h){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(hn,h)}catch{}switch(h.tag){case 26:En||No(h,c),vs(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:En||No(h,c);var g=qt,C=pi;ar(h.type)&&(qt=h.stateNode,pi=!1),vs(a,c,h),Tu(h.stateNode),qt=g,pi=C;break;case 5:En||No(h,c);case 6:if(g=qt,C=pi,qt=null,vs(a,c,h),qt=g,pi=C,qt!==null)if(pi)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(h.stateNode)}catch(y){At(h,c,y)}else try{qt.removeChild(h.stateNode)}catch(y){At(h,c,y)}break;case 18:qt!==null&&(pi?(a=qt,Qx(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Ml(a)):Qx(qt,h.stateNode));break;case 4:g=qt,C=pi,qt=h.stateNode.containerInfo,pi=!0,vs(a,c,h),qt=g,pi=C;break;case 0:case 11:case 14:case 15:er(2,h,c),En||er(4,h,c),vs(a,c,h);break;case 1:En||(No(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&ZR(h,c,g)),vs(a,c,h);break;case 21:vs(a,c,h);break;case 22:En=(g=En)||h.memoizedState!==null,vs(a,c,h),En=g;break;default:vs(a,c,h)}}function rx(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ml(a)}catch(h){At(c,c.return,h)}}}function ax(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ml(a)}catch(h){At(c,c.return,h)}}function tN(a){switch(a.tag){case 31:case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new nx),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new nx),c;default:throw Error(i(435,a.tag))}}function zh(a,c){var h=tN(a);c.forEach(function(g){if(!h.has(g)){h.add(g);var C=uN.bind(null,a,g);g.then(C,C)}})}function mi(a,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var C=h[g],y=a,D=c,k=D;e:for(;k!==null;){switch(k.tag){case 27:if(ar(k.type)){qt=k.stateNode,pi=!1;break e}break;case 5:qt=k.stateNode,pi=!1;break e;case 3:case 4:qt=k.stateNode.containerInfo,pi=!0;break e}k=k.return}if(qt===null)throw Error(i(160));sx(y,D,C),qt=null,pi=!1,y=C.alternate,y!==null&&(y.return=null),C.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)lx(c,a),c=c.sibling}var Co=null;function lx(a,c){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mi(c,a),vi(a),g&4&&(er(3,a,a.return),mu(3,a),er(5,a,a.return));break;case 1:mi(c,a),vi(a),g&512&&(En||h===null||No(h,h.return)),g&64&&ms&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var C=Co;if(mi(c,a),vi(a),g&512&&(En||h===null||No(h,h.return)),g&4){var y=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":y=C.getElementsByTagName("title")[0],(!y||y[Jt]||y[be]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=C.createElement(g),C.head.insertBefore(y,C.querySelector("head > title"))),$n(y,g,h),y[be]=a,Kt(y),g=y;break e;case"link":var D=lE("link","href",C).get(g+(h.href||""));if(D){for(var k=0;k<D.length;k++)if(y=D[k],y.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&y.getAttribute("rel")===(h.rel==null?null:h.rel)&&y.getAttribute("title")===(h.title==null?null:h.title)&&y.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(k,1);break t}}y=C.createElement(g),$n(y,g,h),C.head.appendChild(y);break;case"meta":if(D=lE("meta","content",C).get(g+(h.content||""))){for(k=0;k<D.length;k++)if(y=D[k],y.getAttribute("content")===(h.content==null?null:""+h.content)&&y.getAttribute("name")===(h.name==null?null:h.name)&&y.getAttribute("property")===(h.property==null?null:h.property)&&y.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&y.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(k,1);break t}}y=C.createElement(g),$n(y,g,h),C.head.appendChild(y);break;default:throw Error(i(468,g))}y[be]=a,Kt(y),g=y}a.stateNode=g}else cE(C,a.type,a.stateNode);else a.stateNode=aE(C,g,a.memoizedProps);else y!==g?(y===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):y.count--,g===null?cE(C,a.type,a.stateNode):aE(C,g,a.memoizedProps)):g===null&&a.stateNode!==null&&pv(a,a.memoizedProps,h.memoizedProps)}break;case 27:mi(c,a),vi(a),g&512&&(En||h===null||No(h,h.return)),h!==null&&g&4&&pv(a,a.memoizedProps,h.memoizedProps);break;case 5:if(mi(c,a),vi(a),g&512&&(En||h===null||No(h,h.return)),a.flags&32){C=a.stateNode;try{el(C,"")}catch(Ee){At(a,a.return,Ee)}}g&4&&a.stateNode!=null&&(C=a.memoizedProps,pv(a,C,h!==null?h.memoizedProps:C)),g&1024&&(Cv=!0);break;case 6:if(mi(c,a),vi(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(Ee){At(a,a.return,Ee)}}break;case 3:if(sf=null,C=Co,Co=nf(c.containerInfo),mi(c,a),Co=C,vi(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Ml(c.containerInfo)}catch(Ee){At(a,a.return,Ee)}Cv&&(Cv=!1,cx(a));break;case 4:g=Co,Co=nf(a.stateNode.containerInfo),mi(c,a),vi(a),Co=g;break;case 12:mi(c,a),vi(a);break;case 31:mi(c,a),vi(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,zh(a,g)));break;case 13:mi(c,a),vi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Uh=Xe()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,zh(a,g)));break;case 22:C=a.memoizedState!==null;var B=h!==null&&h.memoizedState!==null,X=ms,le=En;if(ms=X||C,En=le||B,mi(c,a),En=le,ms=X,vi(a),g&8192)e:for(c=a.stateNode,c._visibility=C?c._visibility&-2:c._visibility|1,C&&(h===null||B||ms||En||ca(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){B=h=c;try{if(y=B.stateNode,C)D=y.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{k=B.stateNode;var ue=B.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ee){At(B,B.return,Ee)}}}else if(c.tag===6){if(h===null){B=c;try{B.stateNode.nodeValue=C?"":B.memoizedProps}catch(Ee){At(B,B.return,Ee)}}}else if(c.tag===18){if(h===null){B=c;try{var ie=B.stateNode;C?Zx(ie,!0):Zx(B.stateNode,!1)}catch(Ee){At(B,B.return,Ee)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,zh(a,h))));break;case 19:mi(c,a),vi(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,zh(a,g)));break;case 30:break;case 21:break;default:mi(c,a),vi(a)}}function vi(a){var c=a.flags;if(c&2){try{for(var h,g=a.return;g!==null;){if(ex(g)){h=g;break}g=g.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var C=h.stateNode,y=mv(a);Vh(a,y,C);break;case 5:var D=h.stateNode;h.flags&32&&(el(D,""),h.flags&=-33);var k=mv(a);Vh(a,k,D);break;case 3:case 4:var B=h.stateNode.containerInfo,X=mv(a);vv(a,X,B);break;default:throw Error(i(161))}}catch(le){At(a,a.return,le)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function cx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;cx(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Cs(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ix(a,c.alternate,c),c=c.sibling}function ca(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:er(4,c,c.return),ca(c);break;case 1:No(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&ZR(c,c.return,h),ca(c);break;case 27:Tu(c.stateNode);case 26:case 5:No(c,c.return),ca(c);break;case 22:c.memoizedState===null&&ca(c);break;case 30:ca(c);break;default:ca(c)}a=a.sibling}}function ws(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,C=a,y=c,D=y.flags;switch(y.tag){case 0:case 11:case 15:ws(C,y,h),mu(4,y);break;case 1:if(ws(C,y,h),g=y,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(X){At(g,g.return,X)}if(g=y,C=g.updateQueue,C!==null){var k=g.stateNode;try{var B=C.shared.hiddenCallbacks;if(B!==null)for(C.shared.hiddenCallbacks=null,C=0;C<B.length;C++)B0(B[C],k)}catch(X){At(g,g.return,X)}}h&&D&64&&QR(y),vu(y,y.return);break;case 27:tx(y);case 26:case 5:ws(C,y,h),h&&g===null&&D&4&&JR(y),vu(y,y.return);break;case 12:ws(C,y,h);break;case 31:ws(C,y,h),h&&D&4&&rx(C,y);break;case 13:ws(C,y,h),h&&D&4&&ax(C,y);break;case 22:y.memoizedState===null&&ws(C,y,h),vu(y,y.return);break;case 30:break;default:ws(C,y,h)}c=c.sibling}}function wv(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&iu(h))}function yv(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&iu(a))}function wo(a,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ux(a,c,h,g),c=c.sibling}function ux(a,c,h,g){var C=c.flags;switch(c.tag){case 0:case 11:case 15:wo(a,c,h,g),C&2048&&mu(9,c);break;case 1:wo(a,c,h,g);break;case 3:wo(a,c,h,g),C&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&iu(a)));break;case 12:if(C&2048){wo(a,c,h,g),a=c.stateNode;try{var y=c.memoizedProps,D=y.id,k=y.onPostCommit;typeof k=="function"&&k(D,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){At(c,c.return,B)}}else wo(a,c,h,g);break;case 31:wo(a,c,h,g);break;case 13:wo(a,c,h,g);break;case 23:break;case 22:y=c.stateNode,D=c.alternate,c.memoizedState!==null?y._visibility&2?wo(a,c,h,g):Cu(a,c):y._visibility&2?wo(a,c,h,g):(y._visibility|=2,yl(a,c,h,g,(c.subtreeFlags&10256)!==0||!1)),C&2048&&wv(D,c);break;case 24:wo(a,c,h,g),C&2048&&yv(c.alternate,c);break;default:wo(a,c,h,g)}}function yl(a,c,h,g,C){for(C=C&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var y=a,D=c,k=h,B=g,X=D.flags;switch(D.tag){case 0:case 11:case 15:yl(y,D,k,B,C),mu(8,D);break;case 23:break;case 22:var le=D.stateNode;D.memoizedState!==null?le._visibility&2?yl(y,D,k,B,C):Cu(y,D):(le._visibility|=2,yl(y,D,k,B,C)),C&&X&2048&&wv(D.alternate,D);break;case 24:yl(y,D,k,B,C),C&&X&2048&&yv(D.alternate,D);break;default:yl(y,D,k,B,C)}c=c.sibling}}function Cu(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,g=c,C=g.flags;switch(g.tag){case 22:Cu(h,g),C&2048&&wv(g.alternate,g);break;case 24:Cu(h,g),C&2048&&yv(g.alternate,g);break;default:Cu(h,g)}c=c.sibling}}var wu=8192;function bl(a,c,h){if(a.subtreeFlags&wu)for(a=a.child;a!==null;)dx(a,c,h),a=a.sibling}function dx(a,c,h){switch(a.tag){case 26:bl(a,c,h),a.flags&wu&&a.memoizedState!==null&&VN(h,Co,a.memoizedState,a.memoizedProps);break;case 5:bl(a,c,h);break;case 3:case 4:var g=Co;Co=nf(a.stateNode.containerInfo),bl(a,c,h),Co=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=wu,wu=16777216,bl(a,c,h),wu=g):bl(a,c,h));break;default:bl(a,c,h)}}function hx(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function yu(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ln=g,gx(g,a)}hx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fx(a),a=a.sibling}function fx(a){switch(a.tag){case 0:case 11:case 15:yu(a),a.flags&2048&&er(9,a,a.return);break;case 3:yu(a);break;case 12:yu(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Wh(a)):yu(a);break;default:yu(a)}}function Wh(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Ln=g,gx(g,a)}hx(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:er(8,c,c.return),Wh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Wh(c));break;default:Wh(c)}a=a.sibling}}function gx(a,c){for(;Ln!==null;){var h=Ln;switch(h.tag){case 0:case 11:case 15:er(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:iu(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Ln=g;else e:for(h=a;Ln!==null;){g=Ln;var C=g.sibling,y=g.return;if(ox(g),g===h){Ln=null;break e}if(C!==null){C.return=y,Ln=C;break e}Ln=y}}}var nN={getCacheForType:function(a){var c=Un(Sn),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h},cacheSignal:function(){return Un(Sn).controller.signal}},iN=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Bt=null,at=null,ht=0,Pt=0,Mi=null,tr=!1,Sl=!1,bv=!1,ys=0,cn=0,nr=0,ua=0,Sv=0,ki=0,Rl=0,bu=null,Ci=null,Rv=!1,Uh=0,px=0,jh=1/0,$h=null,ir=null,Pn=0,or=null,xl=null,bs=0,xv=0,Ev=null,mx=null,Su=0,Tv=null;function Ii(){return(Tt&2)!==0&&ht!==0?ht&-ht:N.T!==null?kv():me()}function vx(){if(ki===0)if((ht&536870912)===0||yt){var a=et;et<<=1,(et&3932160)===0&&(et=262144),ki=a}else ki=536870912;return a=Pi.current,a!==null&&(a.flags|=32),ki}function wi(a,c,h){(a===Bt&&(Pt===2||Pt===9)||a.cancelPendingCommit!==null)&&(El(a,0),sr(a,ht,ki,!1)),rt(a,h),((Tt&2)===0||a!==Bt)&&(a===Bt&&((Tt&2)===0&&(ua|=h),cn===4&&sr(a,ht,ki,!1)),Ho(a))}function Cx(a,c,h){if((Tt&6)!==0)throw Error(i(327));var g=!h&&(c&127)===0&&(c&a.expiredLanes)===0||bn(a,c),C=g?rN(a,c):Fv(a,c,!0),y=g;do{if(C===0){Sl&&!g&&sr(a,c,0,!1);break}else{if(h=a.current.alternate,y&&!oN(h)){C=Fv(a,c,!1),y=!1;continue}if(C===2){if(y=c,a.errorRecoveryDisabledLanes&y)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var k=a;C=bu;var B=k.current.memoizedState.isDehydrated;if(B&&(El(k,D).flags|=256),D=Fv(k,D,!1),D!==2){if(bv&&!B){k.errorRecoveryDisabledLanes|=y,ua|=y,C=4;break e}y=Ci,Ci=C,y!==null&&(Ci===null?Ci=y:Ci.push.apply(Ci,y))}C=D}if(y=!1,C!==2)continue}}if(C===1){El(a,0),sr(a,c,0,!0);break}e:{switch(g=a,y=C,y){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:sr(g,c,ki,!tr);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(C=Uh+300-Xe(),10<C)){if(sr(g,c,ki,!tr),sn(g,0,!0)!==0)break e;bs=c,g.timeoutHandle=Yx(wx.bind(null,g,h,Ci,$h,Rv,c,ki,ua,Rl,tr,y,"Throttled",-0,0),C);break e}wx(g,h,Ci,$h,Rv,c,ki,ua,Rl,tr,y,null,-0,0)}}break}while(!0);Ho(a)}function wx(a,c,h,g,C,y,D,k,B,X,le,ue,ne,ie){if(a.timeoutHandle=-1,ue=c.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},dx(c,y,ue);var Ee=(y&62914560)===y?Uh-Xe():(y&4194048)===y?px-Xe():0;if(Ee=zN(ue,Ee),Ee!==null){bs=y,a.cancelPendingCommit=Ee(Dx.bind(null,a,c,y,h,g,C,D,k,B,le,ue,null,ne,ie)),sr(a,y,D,!X);return}}Dx(a,c,y,h,g,C,D,k,B)}function oN(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var C=h[g],y=C.getSnapshot;C=C.value;try{if(!Di(y(),C))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sr(a,c,h,g){c&=~Sv,c&=~ua,a.suspendedLanes|=c,a.pingedLanes&=~c,g&&(a.warmLanes|=c),g=a.expirationTimes;for(var C=c;0<C;){var y=31-It(C),D=1<<y;g[y]=-1,C&=~D}h!==0&&hi(a,h,c)}function Kh(){return(Tt&6)===0?(Ru(0),!1):!0}function Dv(){if(at!==null){if(Pt===0)var a=at.return;else a=at,us=ta=null,Wm(a),pl=null,su=0,a=at;for(;a!==null;)XR(a.alternate,a),a=a.return;at=null}}function El(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,xN(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),bs=0,Dv(),Bt=a,at=h=ls(a.current,null),ht=c,Pt=0,Mi=null,tr=!1,Sl=bn(a,c),bv=!1,Rl=ki=Sv=ua=nr=cn=0,Ci=bu=null,Rv=!1,(c&8)!==0&&(c|=c&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=c;0<g;){var C=31-It(g),y=1<<C;c|=a[C],g&=~y}return ys=c,gh(),h}function yx(a,c){Qe=null,N.H=fu,c===gl||c===Sh?(c=L0(),Pt=3):c===Mm?(c=L0(),Pt=4):Pt=c===sv?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Mi=c,at===null&&(cn=1,Lh(a,ji(c,a.current)))}function bx(){var a=Pi.current;return a===null?!0:(ht&4194048)===ht?Yi===null:(ht&62914560)===ht||(ht&536870912)!==0?a===Yi:!1}function Sx(){var a=N.H;return N.H=fu,a===null?fu:a}function Rx(){var a=N.A;return N.A=nN,a}function qh(){cn=4,tr||(ht&4194048)!==ht&&Pi.current!==null||(Sl=!0),(nr&134217727)===0&&(ua&134217727)===0||Bt===null||sr(Bt,ht,ki,!1)}function Fv(a,c,h){var g=Tt;Tt|=2;var C=Sx(),y=Rx();(Bt!==a||ht!==c)&&($h=null,El(a,c)),c=!1;var D=cn;e:do try{if(Pt!==0&&at!==null){var k=at,B=Mi;switch(Pt){case 8:Dv(),D=6;break e;case 3:case 2:case 9:case 6:Pi.current===null&&(c=!0);var X=Pt;if(Pt=0,Mi=null,Tl(a,k,B,X),h&&Sl){D=0;break e}break;default:X=Pt,Pt=0,Mi=null,Tl(a,k,B,X)}}sN(),D=cn;break}catch(le){yx(a,le)}while(!0);return c&&a.shellSuspendCounter++,us=ta=null,Tt=g,N.H=C,N.A=y,at===null&&(Bt=null,ht=0,gh()),D}function sN(){for(;at!==null;)xx(at)}function rN(a,c){var h=Tt;Tt|=2;var g=Sx(),C=Rx();Bt!==a||ht!==c?($h=null,jh=Xe()+500,El(a,c)):Sl=bn(a,c);e:do try{if(Pt!==0&&at!==null){c=at;var y=Mi;t:switch(Pt){case 1:Pt=0,Mi=null,Tl(a,c,y,1);break;case 2:case 9:if(O0(y)){Pt=0,Mi=null,Ex(c);break}c=function(){Pt!==2&&Pt!==9||Bt!==a||(Pt=7),Ho(a)},y.then(c,c);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:O0(y)?(Pt=0,Mi=null,Ex(c)):(Pt=0,Mi=null,Tl(a,c,y,7));break;case 5:var D=null;switch(at.tag){case 26:D=at.memoizedState;case 5:case 27:var k=at;if(D?uE(D):k.stateNode.complete){Pt=0,Mi=null;var B=k.sibling;if(B!==null)at=B;else{var X=k.return;X!==null?(at=X,Yh(X)):at=null}break t}}Pt=0,Mi=null,Tl(a,c,y,5);break;case 6:Pt=0,Mi=null,Tl(a,c,y,6);break;case 8:Dv(),cn=6;break e;default:throw Error(i(462))}}aN();break}catch(le){yx(a,le)}while(!0);return us=ta=null,N.H=g,N.A=C,Tt=h,at!==null?0:(Bt=null,ht=0,gh(),cn)}function aN(){for(;at!==null&&!st();)xx(at)}function xx(a){var c=qR(a.alternate,a,ys);a.memoizedProps=a.pendingProps,c===null?Yh(a):at=c}function Ex(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=zR(h,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=zR(h,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:Wm(c);default:XR(h,c),c=at=R0(c,ys),c=qR(h,c,ys)}a.memoizedProps=a.pendingProps,c===null?Yh(a):at=c}function Tl(a,c,h,g){us=ta=null,Wm(c),pl=null,su=0;var C=c.return;try{if(YL(a,C,c,h,ht)){cn=1,Lh(a,ji(h,a.current)),at=null;return}}catch(y){if(C!==null)throw at=C,y;cn=1,Lh(a,ji(h,a.current)),at=null;return}c.flags&32768?(yt||g===1?a=!0:Sl||(ht&536870912)!==0?a=!1:(tr=a=!0,(g===2||g===9||g===3||g===6)&&(g=Pi.current,g!==null&&g.tag===13&&(g.flags|=16384))),Tx(c,a)):Yh(c)}function Yh(a){var c=a;do{if((c.flags&32768)!==0){Tx(c,tr);return}a=c.return;var h=ZL(c.alternate,c,ys);if(h!==null){at=h;return}if(c=c.sibling,c!==null){at=c;return}at=c=a}while(c!==null);cn===0&&(cn=5)}function Tx(a,c){do{var h=JL(a.alternate,a);if(h!==null){h.flags&=32767,at=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){at=a;return}at=a=h}while(a!==null);cn=6,at=null}function Dx(a,c,h,g,C,y,D,k,B){a.cancelPendingCommit=null;do Xh();while(Pn!==0);if((Tt&6)!==0)throw Error(i(327));if(c!==null){if(c===a.current)throw Error(i(177));if(y=c.lanes|c.childLanes,y|=mm,Oo(a,h,y,D,k,B),a===Bt&&(at=Bt=null,ht=0),xl=c,or=a,bs=h,xv=y,Ev=C,mx=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,dN($e,function(){return kx(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=N.T,N.T=null,C=q.p,q.p=2,D=Tt,Tt|=4;try{eN(a,c,h)}finally{Tt=D,q.p=C,N.T=g}}Pn=1,Fx(),Px(),Ax()}}function Fx(){if(Pn===1){Pn=0;var a=or,c=xl,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=N.T,N.T=null;var g=q.p;q.p=2;var C=Tt;Tt|=4;try{lx(c,a);var y=Bv,D=g0(a.containerInfo),k=y.focusedElem,B=y.selectionRange;if(D!==k&&k&&k.ownerDocument&&f0(k.ownerDocument.documentElement,k)){if(B!==null&&dm(k)){var X=B.start,le=B.end;if(le===void 0&&(le=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(le,k.value.length);else{var ue=k.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Ee=k.textContent.length,Ve=Math.min(B.start,Ee),Lt=B.end===void 0?Ve:Math.min(B.end,Ee);!ie.extend&&Ve>Lt&&(D=Lt,Lt=Ve,Ve=D);var $=h0(k,Ve),W=h0(k,Lt);if($&&W&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==W.node||ie.focusOffset!==W.offset)){var Y=ue.createRange();Y.setStart($.node,$.offset),ie.removeAllRanges(),Ve>Lt?(ie.addRange(Y),ie.extend(W.node,W.offset)):(Y.setEnd(W.node,W.offset),ie.addRange(Y))}}}}for(ue=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ue.length;k++){var ce=ue[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}cf=!!Gv,Bv=Gv=null}finally{Tt=C,q.p=g,N.T=h}}a.current=c,Pn=2}}function Px(){if(Pn===2){Pn=0;var a=or,c=xl,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=N.T,N.T=null;var g=q.p;q.p=2;var C=Tt;Tt|=4;try{ix(a,c.alternate,c)}finally{Tt=C,q.p=g,N.T=h}}Pn=3}}function Ax(){if(Pn===4||Pn===3){Pn=0,kt();var a=or,c=xl,h=bs,g=mx;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Pn=5:(Pn=0,xl=or=null,Mx(a,a.pendingLanes));var C=a.pendingLanes;if(C===0&&(ir=null),ge(h),c=c.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(hn,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=N.T,C=q.p,q.p=2,N.T=null;try{for(var y=a.onRecoverableError,D=0;D<g.length;D++){var k=g[D];y(k.value,{componentStack:k.stack})}}finally{N.T=c,q.p=C}}(bs&3)!==0&&Xh(),Ho(a),C=a.pendingLanes,(h&261930)!==0&&(C&42)!==0?a===Tv?Su++:(Su=0,Tv=a):Su=0,Ru(0)}}function Mx(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,iu(c)))}function Xh(){return Fx(),Px(),Ax(),kx()}function kx(){if(Pn!==5)return!1;var a=or,c=xv;xv=0;var h=ge(bs),g=N.T,C=q.p;try{q.p=32>h?32:h,N.T=null,h=Ev,Ev=null;var y=or,D=bs;if(Pn=0,xl=or=null,bs=0,(Tt&6)!==0)throw Error(i(331));var k=Tt;if(Tt|=4,fx(y.current),ux(y,y.current,D,h),Tt=k,Ru(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(hn,y)}catch{}return!0}finally{q.p=C,N.T=g,Mx(a,c)}}function Ix(a,c,h){c=ji(h,c),c=ov(a.stateNode,c,2),a=Qs(a,c,2),a!==null&&(rt(a,2),Ho(a))}function At(a,c,h){if(a.tag===3)Ix(a,a,h);else for(;c!==null;){if(c.tag===3){Ix(c,a,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ir===null||!ir.has(g))){a=ji(h,a),h=OR(2),g=Qs(c,h,2),g!==null&&(_R(h,g,c,a),rt(g,2),Ho(g));break}}c=c.return}}function Pv(a,c,h){var g=a.pingCache;if(g===null){g=a.pingCache=new iN;var C=new Set;g.set(c,C)}else C=g.get(c),C===void 0&&(C=new Set,g.set(c,C));C.has(h)||(bv=!0,C.add(h),a=lN.bind(null,a,c,h),c.then(a,a))}function lN(a,c,h){var g=a.pingCache;g!==null&&g.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Bt===a&&(ht&h)===h&&(cn===4||cn===3&&(ht&62914560)===ht&&300>Xe()-Uh?(Tt&2)===0&&El(a,0):Sv|=h,Rl===ht&&(Rl=0)),Ho(a)}function Ox(a,c){c===0&&(c=Xn()),a=Zr(a,c),a!==null&&(rt(a,c),Ho(a))}function cN(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),Ox(a,h)}function uN(a,c){var h=0;switch(a.tag){case 31:case 13:var g=a.stateNode,C=a.memoizedState;C!==null&&(h=C.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(c),Ox(a,h)}function dN(a,c){return ot(a,c)}var Qh=null,Dl=null,Av=!1,Zh=!1,Mv=!1,rr=0;function Ho(a){a!==Dl&&a.next===null&&(Dl===null?Qh=Dl=a:Dl=Dl.next=a),Zh=!0,Av||(Av=!0,fN())}function Ru(a,c){if(!Mv&&Zh){Mv=!0;do for(var h=!1,g=Qh;g!==null;){if(a!==0){var C=g.pendingLanes;if(C===0)var y=0;else{var D=g.suspendedLanes,k=g.pingedLanes;y=(1<<31-It(42|a)+1)-1,y&=C&~(D&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(h=!0,Hx(g,y))}else y=ht,y=sn(g,g===Bt?y:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(y&3)===0||bn(g,y)||(h=!0,Hx(g,y));g=g.next}while(h);Mv=!1}}function hN(){_x()}function _x(){Zh=Av=!1;var a=0;rr!==0&&RN()&&(a=rr);for(var c=Xe(),h=null,g=Qh;g!==null;){var C=g.next,y=Lx(g,c);y===0?(g.next=null,h===null?Qh=C:h.next=C,C===null&&(Dl=h)):(h=g,(a!==0||(y&3)!==0)&&(Zh=!0)),g=C}Pn!==0&&Pn!==5||Ru(a),rr!==0&&(rr=0)}function Lx(a,c){for(var h=a.suspendedLanes,g=a.pingedLanes,C=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var D=31-It(y),k=1<<D,B=C[D];B===-1?((k&h)===0||(k&g)!==0)&&(C[D]=di(k,c)):B<=c&&(a.expiredLanes|=k),y&=~k}if(c=Bt,h=ht,h=sn(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===c&&(Pt===2||Pt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Te(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||bn(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(g!==null&&Te(g),ge(h)){case 2:case 8:h=Zt;break;case 32:h=$e;break;case 268435456:h=Bn;break;default:h=$e}return g=Nx.bind(null,a),h=ot(h,g),a.callbackPriority=c,a.callbackNode=h,c}return g!==null&&g!==null&&Te(g),a.callbackPriority=2,a.callbackNode=null,2}function Nx(a,c){if(Pn!==0&&Pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Xh()&&a.callbackNode!==h)return null;var g=ht;return g=sn(a,a===Bt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Cx(a,g,c),Lx(a,Xe()),a.callbackNode!=null&&a.callbackNode===h?Nx.bind(null,a):null)}function Hx(a,c){if(Xh())return null;Cx(a,c,!0)}function fN(){EN(function(){(Tt&6)!==0?ot(Qt,hN):_x()})}function kv(){if(rr===0){var a=hl;a===0&&(a=fn,fn<<=1,(fn&261888)===0&&(fn=256)),rr=a}return rr}function Gx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:rh(""+a)}function Bx(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function gN(a,c,h,g,C){if(c==="submit"&&h&&h.stateNode===C){var y=Gx((C[Re]||null).action),D=g.submitter;D&&(c=(c=D[Re]||null)?Gx(c.formAction):D.getAttribute("formAction"),c!==null&&(y=c,D=null));var k=new uh("action","action",null,g,C);a.push({event:k,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(rr!==0){var B=D?Bx(C,D):new FormData(C);Zm(h,{pending:!0,data:B,method:C.method,action:y},null,B)}}else typeof y=="function"&&(k.preventDefault(),B=D?Bx(C,D):new FormData(C),Zm(h,{pending:!0,data:B,method:C.method,action:y},y,B))},currentTarget:C}]})}}for(var Iv=0;Iv<pm.length;Iv++){var Ov=pm[Iv],pN=Ov.toLowerCase(),mN=Ov[0].toUpperCase()+Ov.slice(1);vo(pN,"on"+mN)}vo(v0,"onAnimationEnd"),vo(C0,"onAnimationIteration"),vo(w0,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(kL,"onTransitionRun"),vo(IL,"onTransitionStart"),vo(OL,"onTransitionCancel"),vo(y0,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),po("onBeforeInput",["compositionend","keypress","textInput","paste"]),po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function Vx(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],C=g.event;g=g.listeners;e:{var y=void 0;if(c)for(var D=g.length-1;0<=D;D--){var k=g[D],B=k.instance,X=k.currentTarget;if(k=k.listener,B!==y&&C.isPropagationStopped())break e;y=k,C.currentTarget=X;try{y(C)}catch(le){fh(le)}C.currentTarget=null,y=B}else for(D=0;D<g.length;D++){if(k=g[D],B=k.instance,X=k.currentTarget,k=k.listener,B!==y&&C.isPropagationStopped())break e;y=k,C.currentTarget=X;try{y(C)}catch(le){fh(le)}C.currentTarget=null,y=B}}}}function lt(a,c){var h=c[Ge];h===void 0&&(h=c[Ge]=new Set);var g=a+"__bubble";h.has(g)||(zx(c,a,2,!1),h.add(g))}function _v(a,c,h){var g=0;c&&(g|=4),zx(h,a,g,c)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Lv(a){if(!a[Jh]){a[Jh]=!0,go.forEach(function(h){h!=="selectionchange"&&(vN.has(h)||_v(h,!1,a),_v(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Jh]||(c[Jh]=!0,_v("selectionchange",!1,c))}}function zx(a,c,h,g){switch(vE(c)){case 2:var C=jN;break;case 8:C=$N;break;default:C=Qv}h=C.bind(null,c,h,a),C=void 0,!nm||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),g?C!==void 0?a.addEventListener(c,h,{capture:!0,passive:C}):a.addEventListener(c,h,!0):C!==void 0?a.addEventListener(c,h,{passive:C}):a.addEventListener(c,h,!1)}function Nv(a,c,h,g,C){var y=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var k=g.stateNode.containerInfo;if(k===C)break;if(D===4)for(D=g.return;D!==null;){var B=D.tag;if((B===3||B===4)&&D.stateNode.containerInfo===C)return;D=D.return}for(;k!==null;){if(D=an(k),D===null)return;if(B=D.tag,B===5||B===6||B===26||B===27){g=y=D;continue e}k=k.parentNode}}g=g.return}KS(function(){var X=y,le=em(h),ue=[];e:{var ne=b0.get(a);if(ne!==void 0){var ie=uh,Ee=a;switch(a){case"keypress":if(lh(h)===0)break e;case"keydown":case"keyup":ie=uL;break;case"focusin":Ee="focus",ie=rm;break;case"focusout":Ee="blur",ie=rm;break;case"beforeblur":case"afterblur":ie=rm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=XS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Z_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=fL;break;case v0:case C0:case w0:ie=tL;break;case y0:ie=pL;break;case"scroll":case"scrollend":ie=X_;break;case"wheel":ie=vL;break;case"copy":case"cut":case"paste":ie=iL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ZS;break;case"toggle":case"beforetoggle":ie=wL}var Ve=(c&4)!==0,Lt=!Ve&&(a==="scroll"||a==="scrollend"),$=Ve?ne!==null?ne+"Capture":null:ne;Ve=[];for(var W=X,Y;W!==null;){var ce=W;if(Y=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Y===null||$===null||(ce=$c(W,$),ce!=null&&Ve.push(Eu(W,ce,Y))),Lt)break;W=W.return}0<Ve.length&&(ne=new ie(ne,Ee,null,h,le),ue.push({event:ne,listeners:Ve}))}}if((c&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",ne&&h!==Jp&&(Ee=h.relatedTarget||h.fromElement)&&(an(Ee)||Ee[ke]))break e;if((ie||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ee=h.relatedTarget||h.toElement,ie=X,Ee=Ee?an(Ee):null,Ee!==null&&(Lt=s(Ee),Ve=Ee.tag,Ee!==Lt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ee=null)):(ie=null,Ee=X),ie!==Ee)){if(Ve=XS,ce="onMouseLeave",$="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Ve=ZS,ce="onPointerLeave",$="onPointerEnter",W="pointer"),Lt=ie==null?ne:_n(ie),Y=Ee==null?ne:_n(Ee),ne=new Ve(ce,W+"leave",ie,h,le),ne.target=Lt,ne.relatedTarget=Y,ce=null,an(le)===X&&(Ve=new Ve($,W+"enter",Ee,h,le),Ve.target=Y,Ve.relatedTarget=Lt,ce=Ve),Lt=ce,ie&&Ee)t:{for(Ve=CN,$=ie,W=Ee,Y=0,ce=$;ce;ce=Ve(ce))Y++;ce=0;for(var Le=W;Le;Le=Ve(Le))ce++;for(;0<Y-ce;)$=Ve($),Y--;for(;0<ce-Y;)W=Ve(W),ce--;for(;Y--;){if($===W||W!==null&&$===W.alternate){Ve=$;break t}$=Ve($),W=Ve(W)}Ve=null}else Ve=null;ie!==null&&Wx(ue,ne,ie,Ve,!1),Ee!==null&&Lt!==null&&Wx(ue,Lt,Ee,Ve,!0)}}e:{if(ne=X?_n(X):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var xt=r0;else if(o0(ne))if(a0)xt=PL;else{xt=DL;var Me=TL}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?X&&Zp(X.elementType)&&(xt=r0):xt=FL;if(xt&&(xt=xt(a,X))){s0(ue,xt,h,le);break e}Me&&Me(a,ne,X),a==="focusout"&&X&&ne.type==="number"&&X.memoizedProps.value!=null&&Qp(ne,"number",ne.value)}switch(Me=X?_n(X):window,a){case"focusin":(o0(Me)||Me.contentEditable==="true")&&(ol=Me,hm=X,eu=null);break;case"focusout":eu=hm=ol=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,p0(ue,h,le);break;case"selectionchange":if(ML)break;case"keydown":case"keyup":p0(ue,h,le)}var Je;if(lm)e:{switch(a){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else il?n0(a,h)&&(ft="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ft="onCompositionStart");ft&&(JS&&h.locale!=="ko"&&(il||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&il&&(Je=qS()):(Us=le,im="value"in Us?Us.value:Us.textContent,il=!0)),Me=ef(X,ft),0<Me.length&&(ft=new QS(ft,a,null,h,le),ue.push({event:ft,listeners:Me}),Je?ft.data=Je:(Je=i0(h),Je!==null&&(ft.data=Je)))),(Je=bL?SL(a,h):RL(a,h))&&(ft=ef(X,"onBeforeInput"),0<ft.length&&(Me=new QS("onBeforeInput","beforeinput",null,h,le),ue.push({event:Me,listeners:ft}),Me.data=Je)),gN(ue,a,X,h,le)}Vx(ue,c)})}function Eu(a,c,h){return{instance:a,listener:c,currentTarget:h}}function ef(a,c){for(var h=c+"Capture",g=[];a!==null;){var C=a,y=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||y===null||(C=$c(a,h),C!=null&&g.unshift(Eu(a,C,y)),C=$c(a,c),C!=null&&g.push(Eu(a,C,y))),a.tag===3)return g;a=a.return}return[]}function CN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Wx(a,c,h,g,C){for(var y=c._reactName,D=[];h!==null&&h!==g;){var k=h,B=k.alternate,X=k.stateNode;if(k=k.tag,B!==null&&B===g)break;k!==5&&k!==26&&k!==27||X===null||(B=X,C?(X=$c(h,y),X!=null&&D.unshift(Eu(h,X,B))):C||(X=$c(h,y),X!=null&&D.push(Eu(h,X,B)))),h=h.return}D.length!==0&&a.push({event:c,listeners:D})}var wN=/\r\n?/g,yN=/\u0000|\uFFFD/g;function Ux(a){return(typeof a=="string"?a:""+a).replace(wN,`
`).replace(yN,"")}function jx(a,c){return c=Ux(c),Ux(a)===c}function _t(a,c,h,g,C,y){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||el(a,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&el(a,""+g);break;case"className":mo(a,"class",g);break;case"tabIndex":mo(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(a,h,g);break;case"style":jS(a,g,y);break;case"data":if(c!=="object"){mo(a,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=rh(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(h==="formAction"?(c!=="input"&&_t(a,c,"name",C.name,C,null),_t(a,c,"formEncType",C.formEncType,C,null),_t(a,c,"formMethod",C.formMethod,C,null),_t(a,c,"formTarget",C.formTarget,C,null)):(_t(a,c,"encType",C.encType,C,null),_t(a,c,"method",C.method,C,null),_t(a,c,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=rh(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=rs);break;case"onScroll":g!=null&&lt("scroll",a);break;case"onScrollEnd":g!=null&&lt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(C.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=rh(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":lt("beforetoggle",a),lt("toggle",a),gn(a,"popover",g);break;case"xlinkActuate":zn(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":zn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":zn(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":zn(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":zn(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":zn(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":zn(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":zn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":zn(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gn(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=q_.get(h)||h,gn(a,h,g))}}function Hv(a,c,h,g,C,y){switch(h){case"style":jS(a,g,y);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(h=g.__html,h!=null){if(C.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof g=="string"?el(a,g):(typeof g=="number"||typeof g=="bigint")&&el(a,""+g);break;case"onScroll":g!=null&&lt("scroll",a);break;case"onScrollEnd":g!=null&&lt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ti.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(C=h.endsWith("Capture"),c=h.slice(2,C?h.length-7:void 0),y=a[Re]||null,y=y!=null?y[h]:null,typeof y=="function"&&a.removeEventListener(c,y,C),typeof g=="function")){typeof y!="function"&&y!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,g,C);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):gn(a,h,g)}}}function $n(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",a),lt("load",a);var g=!1,C=!1,y;for(y in h)if(h.hasOwnProperty(y)){var D=h[y];if(D!=null)switch(y){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:_t(a,c,y,D,h,null)}}C&&_t(a,c,"srcSet",h.srcSet,h,null),g&&_t(a,c,"src",h.src,h,null);return;case"input":lt("invalid",a);var k=y=D=C=null,B=null,X=null;for(g in h)if(h.hasOwnProperty(g)){var le=h[g];if(le!=null)switch(g){case"name":C=le;break;case"type":D=le;break;case"checked":B=le;break;case"defaultChecked":X=le;break;case"value":y=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,c));break;default:_t(a,c,g,le,h,null)}}VS(a,y,k,B,X,D,C,!1);return;case"select":lt("invalid",a),g=D=y=null;for(C in h)if(h.hasOwnProperty(C)&&(k=h[C],k!=null))switch(C){case"value":y=k;break;case"defaultValue":D=k;break;case"multiple":g=k;default:_t(a,c,C,k,h,null)}c=y,h=D,a.multiple=!!g,c!=null?Ja(a,!!g,c,!1):h!=null&&Ja(a,!!g,h,!0);return;case"textarea":lt("invalid",a),y=C=g=null;for(D in h)if(h.hasOwnProperty(D)&&(k=h[D],k!=null))switch(D){case"value":g=k;break;case"defaultValue":C=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:_t(a,c,D,k,h,null)}WS(a,g,C,y);return;case"option":for(B in h)h.hasOwnProperty(B)&&(g=h[B],g!=null)&&(B==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":_t(a,c,B,g,h,null));return;case"dialog":lt("beforetoggle",a),lt("toggle",a),lt("cancel",a),lt("close",a);break;case"iframe":case"object":lt("load",a);break;case"video":case"audio":for(g=0;g<xu.length;g++)lt(xu[g],a);break;case"image":lt("error",a),lt("load",a);break;case"details":lt("toggle",a);break;case"embed":case"source":case"link":lt("error",a),lt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in h)if(h.hasOwnProperty(X)&&(g=h[X],g!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:_t(a,c,X,g,h,null)}return;default:if(Zp(c)){for(le in h)h.hasOwnProperty(le)&&(g=h[le],g!==void 0&&Hv(a,c,le,g,h,void 0));return}}for(k in h)h.hasOwnProperty(k)&&(g=h[k],g!=null&&_t(a,c,k,g,h,null))}function bN(a,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,y=null,D=null,k=null,B=null,X=null,le=null;for(ie in h){var ue=h[ie];if(h.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=ue;default:g.hasOwnProperty(ie)||_t(a,c,ie,null,g,ue)}}for(var ne in g){var ie=g[ne];if(ue=h[ne],g.hasOwnProperty(ne)&&(ie!=null||ue!=null))switch(ne){case"type":y=ie;break;case"name":C=ie;break;case"checked":X=ie;break;case"defaultChecked":le=ie;break;case"value":D=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,c));break;default:ie!==ue&&_t(a,c,ne,ie,g,ue)}}Xp(a,D,k,B,X,le,y,C);return;case"select":ie=D=k=ne=null;for(y in h)if(B=h[y],h.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ie=B;default:g.hasOwnProperty(y)||_t(a,c,y,null,g,B)}for(C in g)if(y=g[C],B=h[C],g.hasOwnProperty(C)&&(y!=null||B!=null))switch(C){case"value":ne=y;break;case"defaultValue":k=y;break;case"multiple":D=y;default:y!==B&&_t(a,c,C,y,g,B)}c=k,h=D,g=ie,ne!=null?Ja(a,!!h,ne,!1):!!g!=!!h&&(c!=null?Ja(a,!!h,c,!0):Ja(a,!!h,h?[]:"",!1));return;case"textarea":ie=ne=null;for(k in h)if(C=h[k],h.hasOwnProperty(k)&&C!=null&&!g.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:_t(a,c,k,null,g,C)}for(D in g)if(C=g[D],y=h[D],g.hasOwnProperty(D)&&(C!=null||y!=null))switch(D){case"value":ne=C;break;case"defaultValue":ie=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==y&&_t(a,c,D,C,g,y)}zS(a,ne,ie);return;case"option":for(var Ee in h)ne=h[Ee],h.hasOwnProperty(Ee)&&ne!=null&&!g.hasOwnProperty(Ee)&&(Ee==="selected"?a.selected=!1:_t(a,c,Ee,null,g,ne));for(B in g)ne=g[B],ie=h[B],g.hasOwnProperty(B)&&ne!==ie&&(ne!=null||ie!=null)&&(B==="selected"?a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":_t(a,c,B,ne,g,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in h)ne=h[Ve],h.hasOwnProperty(Ve)&&ne!=null&&!g.hasOwnProperty(Ve)&&_t(a,c,Ve,null,g,ne);for(X in g)if(ne=g[X],ie=h[X],g.hasOwnProperty(X)&&ne!==ie&&(ne!=null||ie!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,c));break;default:_t(a,c,X,ne,g,ie)}return;default:if(Zp(c)){for(var Lt in h)ne=h[Lt],h.hasOwnProperty(Lt)&&ne!==void 0&&!g.hasOwnProperty(Lt)&&Hv(a,c,Lt,void 0,g,ne);for(le in g)ne=g[le],ie=h[le],!g.hasOwnProperty(le)||ne===ie||ne===void 0&&ie===void 0||Hv(a,c,le,ne,g,ie);return}}for(var $ in h)ne=h[$],h.hasOwnProperty($)&&ne!=null&&!g.hasOwnProperty($)&&_t(a,c,$,null,g,ne);for(ue in g)ne=g[ue],ie=h[ue],!g.hasOwnProperty(ue)||ne===ie||ne==null&&ie==null||_t(a,c,ue,ne,g,ie)}function $x(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var C=h[g],y=C.transferSize,D=C.initiatorType,k=C.duration;if(y&&k&&$x(D)){for(D=0,k=C.responseEnd,g+=1;g<h.length;g++){var B=h[g],X=B.startTime;if(X>k)break;var le=B.transferSize,ue=B.initiatorType;le&&$x(ue)&&(B=B.responseEnd,D+=le*(B<k?1:(k-X)/(B-X)))}if(--g,c+=8*(y+D)/(C.duration/1e3),a++,10<a)break}}if(0<a)return c/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Gv=null,Bv=null;function tf(a){return a.nodeType===9?a:a.ownerDocument}function Kx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qx(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function Vv(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var zv=null;function RN(){var a=window.event;return a&&a.type==="popstate"?a===zv?!1:(zv=a,!0):(zv=null,!1)}var Yx=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,EN=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(a){return Xx.resolve(null).then(a).catch(TN)}:Yx;function TN(a){setTimeout(function(){throw a})}function ar(a){return a==="head"}function Qx(a,c){var h=c,g=0;do{var C=h.nextSibling;if(a.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"||h==="/&"){if(g===0){a.removeChild(C),Ml(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")Tu(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Tu(h);for(var y=h.firstChild;y;){var D=y.nextSibling,k=y.nodeName;y[Jt]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&y.rel.toLowerCase()==="stylesheet"||h.removeChild(y),y=D}}else h==="body"&&Tu(a.ownerDocument.body);h=C}while(h);Ml(c)}function Zx(a,c){var h=a;a=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=g}while(h)}function Wv(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Wv(h),rn(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function DN(a,c,h,g){for(;a.nodeType===1;){var C=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Jt])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==C.rel||a.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||a.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||a.getAttribute("title")!==(C.title==null?null:C.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(C.src==null?null:C.src)||a.getAttribute("type")!==(C.type==null?null:C.type)||a.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var y=C.name==null?null:""+C.name;if(C.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=Xi(a.nextSibling),a===null)break}return null}function FN(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Xi(a.nextSibling),a===null))return null;return a}function Jx(a,c){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Xi(a.nextSibling),a===null))return null;return a}function Uv(a){return a.data==="$?"||a.data==="$~"}function jv(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function PN(a,c){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=c;else if(a.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Xi(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return a}var $v=null;function eE(a){a=a.nextSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(c===0)return Xi(a.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}a=a.nextSibling}return null}function tE(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return a;c--}else h!=="/$"&&h!=="/&"||c++}a=a.previousSibling}return null}function nE(a,c,h){switch(c=tf(h),a){case"html":if(a=c.documentElement,!a)throw Error(i(452));return a;case"head":if(a=c.head,!a)throw Error(i(453));return a;case"body":if(a=c.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Tu(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);rn(a)}var Qi=new Map,iE=new Set;function nf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ss=q.d;q.d={f:AN,r:MN,D:kN,C:IN,L:ON,m:_N,X:NN,S:LN,M:HN};function AN(){var a=Ss.f(),c=Kh();return a||c}function MN(a){var c=vt(a);c!==null&&c.tag===5&&c.type==="form"?yR(c):Ss.r(a)}var Fl=typeof document>"u"?null:document;function oE(a,c,h){var g=Fl;if(g&&typeof c=="string"&&c){var C=Wi(c);C='link[rel="'+a+'"][href="'+C+'"]',typeof h=="string"&&(C+='[crossorigin="'+h+'"]'),iE.has(C)||(iE.add(C),a={rel:a,crossOrigin:h,href:c},g.querySelector(C)===null&&(c=g.createElement("link"),$n(c,"link",a),Kt(c),g.head.appendChild(c)))}}function kN(a){Ss.D(a),oE("dns-prefetch",a,null)}function IN(a,c){Ss.C(a,c),oE("preconnect",a,c)}function ON(a,c,h){Ss.L(a,c,h);var g=Fl;if(g&&a&&c){var C='link[rel="preload"][as="'+Wi(c)+'"]';c==="image"&&h&&h.imageSrcSet?(C+='[imagesrcset="'+Wi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(C+='[imagesizes="'+Wi(h.imageSizes)+'"]')):C+='[href="'+Wi(a)+'"]';var y=C;switch(c){case"style":y=Pl(a);break;case"script":y=Al(a)}Qi.has(y)||(a=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),Qi.set(y,a),g.querySelector(C)!==null||c==="style"&&g.querySelector(Du(y))||c==="script"&&g.querySelector(Fu(y))||(c=g.createElement("link"),$n(c,"link",a),Kt(c),g.head.appendChild(c)))}}function _N(a,c){Ss.m(a,c);var h=Fl;if(h&&a){var g=c&&typeof c.as=="string"?c.as:"script",C='link[rel="modulepreload"][as="'+Wi(g)+'"][href="'+Wi(a)+'"]',y=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Al(a)}if(!Qi.has(y)&&(a=p({rel:"modulepreload",href:a},c),Qi.set(y,a),h.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Fu(y)))return}g=h.createElement("link"),$n(g,"link",a),Kt(g),h.head.appendChild(g)}}}function LN(a,c,h){Ss.S(a,c,h);var g=Fl;if(g&&a){var C=fi(g).hoistableStyles,y=Pl(a);c=c||"default";var D=C.get(y);if(!D){var k={loading:0,preload:null};if(D=g.querySelector(Du(y)))k.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":c},h),(h=Qi.get(y))&&Kv(a,h);var B=D=g.createElement("link");Kt(B),$n(B,"link",a),B._p=new Promise(function(X,le){B.onload=X,B.onerror=le}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,of(D,c,g)}D={type:"stylesheet",instance:D,count:1,state:k},C.set(y,D)}}}function NN(a,c){Ss.X(a,c);var h=Fl;if(h&&a){var g=fi(h).hoistableScripts,C=Al(a),y=g.get(C);y||(y=h.querySelector(Fu(C)),y||(a=p({src:a,async:!0},c),(c=Qi.get(C))&&qv(a,c),y=h.createElement("script"),Kt(y),$n(y,"link",a),h.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},g.set(C,y))}}function HN(a,c){Ss.M(a,c);var h=Fl;if(h&&a){var g=fi(h).hoistableScripts,C=Al(a),y=g.get(C);y||(y=h.querySelector(Fu(C)),y||(a=p({src:a,async:!0,type:"module"},c),(c=Qi.get(C))&&qv(a,c),y=h.createElement("script"),Kt(y),$n(y,"link",a),h.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},g.set(C,y))}}function sE(a,c,h,g){var C=(C=Se.current)?nf(C):null;if(!C)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Pl(h.href),h=fi(C).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Pl(h.href);var y=fi(C).hoistableStyles,D=y.get(a);if(D||(C=C.ownerDocument||C,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,D),(y=C.querySelector(Du(a)))&&!y._p&&(D.instance=y,D.state.loading=5),Qi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Qi.set(a,h),y||GN(C,a,h,D.state))),c&&g===null)throw Error(i(528,""));return D}if(c&&g!==null)throw Error(i(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Al(h),h=fi(C).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Pl(a){return'href="'+Wi(a)+'"'}function Du(a){return'link[rel="stylesheet"]['+a+"]"}function rE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function GN(a,c,h,g){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=a.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),$n(c,"link",h),Kt(c),a.head.appendChild(c))}function Al(a){return'[src="'+Wi(a)+'"]'}function Fu(a){return"script[async]"+a}function aE(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=a.querySelector('style[data-href~="'+Wi(h.href)+'"]');if(g)return c.instance=g,Kt(g),g;var C=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Kt(g),$n(g,"style",C),of(g,h.precedence,a),c.instance=g;case"stylesheet":C=Pl(h.href);var y=a.querySelector(Du(C));if(y)return c.state.loading|=4,c.instance=y,Kt(y),y;g=rE(h),(C=Qi.get(C))&&Kv(g,C),y=(a.ownerDocument||a).createElement("link"),Kt(y);var D=y;return D._p=new Promise(function(k,B){D.onload=k,D.onerror=B}),$n(y,"link",g),c.state.loading|=4,of(y,h.precedence,a),c.instance=y;case"script":return y=Al(h.src),(C=a.querySelector(Fu(y)))?(c.instance=C,Kt(C),C):(g=h,(C=Qi.get(y))&&(g=p({},h),qv(g,C)),a=a.ownerDocument||a,C=a.createElement("script"),Kt(C),$n(C,"link",g),a.head.appendChild(C),c.instance=C);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,of(g,h.precedence,a));return c.instance}function of(a,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,y=C,D=0;D<g.length;D++){var k=g[D];if(k.dataset.precedence===c)y=k;else if(y!==C)break}y?y.parentNode.insertBefore(a,y.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function Kv(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function qv(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var sf=null;function lE(a,c,h){if(sf===null){var g=new Map,C=sf=new Map;C.set(h,g)}else C=sf,g=C.get(h),g||(g=new Map,C.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),C=0;C<h.length;C++){var y=h[C];if(!(y[Jt]||y[be]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var D=y.getAttribute(c)||"";D=a+D;var k=g.get(D);k?k.push(y):g.set(D,[y])}}return g}function cE(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function BN(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(a=c.disabled,typeof c.precedence=="string"&&a==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function uE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function VN(a,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var C=Pl(g.href),y=c.querySelector(Du(C));if(y){c=y._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(a.count++,a=rf.bind(a),c.then(a,a)),h.state.loading|=4,h.instance=y,Kt(y);return}y=c.ownerDocument||c,g=rE(g),(C=Qi.get(C))&&Kv(g,C),y=y.createElement("link"),Kt(y);var D=y;D._p=new Promise(function(k,B){D.onload=k,D.onerror=B}),$n(y,"link",g),h.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=rf.bind(a),c.addEventListener("load",h),c.addEventListener("error",h))}}var Yv=0;function zN(a,c){return a.stylesheets&&a.count===0&&lf(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var g=setTimeout(function(){if(a.stylesheets&&lf(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+c);0<a.imgBytes&&Yv===0&&(Yv=62500*SN());var C=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&lf(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>Yv?50:800)+c);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(C)}}:null}function rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var af=null;function lf(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,af=new Map,c.forEach(WN,a),af=null,rf.call(a))}function WN(a,c){if(!(c.state.loading&4)){var h=af.get(a);if(h)var g=h.get(null);else{h=new Map,af.set(a,h);for(var C=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<C.length;y++){var D=C[y];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),g=D)}g&&h.set(null,g)}C=c.instance,D=C.getAttribute("data-precedence"),y=h.get(D)||g,y===g&&h.set(null,C),h.set(D,C),this.count++,g=rf.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),y?y.parentNode.insertBefore(C,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(C,a.firstChild)),c.state.loading|=4}}var Pu={$$typeof:F,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function UN(a,c,h,g,C,y,D,k,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=y,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function dE(a,c,h,g,C,y,D,k,B,X,le,ue){return a=new UN(a,c,h,D,B,X,le,ue,k),c=1,y===!0&&(c|=24),y=Fi(3,null,null,c),a.current=y,y.stateNode=a,c=Fm(),c.refCount++,a.pooledCache=c,c.refCount++,y.memoizedState={element:g,isDehydrated:h,cache:c},km(y),a}function hE(a){return a?(a=al,a):al}function fE(a,c,h,g,C,y){C=hE(C),g.context===null?g.context=C:g.pendingContext=C,g=Xs(c),g.payload={element:h},y=y===void 0?null:y,y!==null&&(g.callback=y),h=Qs(a,g,c),h!==null&&(wi(h,a,c),au(h,a,c))}function gE(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Xv(a,c){gE(a,c),(a=a.alternate)&&gE(a,c)}function pE(a){if(a.tag===13||a.tag===31){var c=Zr(a,67108864);c!==null&&wi(c,a,67108864),Xv(a,67108864)}}function mE(a){if(a.tag===13||a.tag===31){var c=Ii();c=te(c);var h=Zr(a,c);h!==null&&wi(h,a,c),Xv(a,c)}}var cf=!0;function jN(a,c,h,g){var C=N.T;N.T=null;var y=q.p;try{q.p=2,Qv(a,c,h,g)}finally{q.p=y,N.T=C}}function $N(a,c,h,g){var C=N.T;N.T=null;var y=q.p;try{q.p=8,Qv(a,c,h,g)}finally{q.p=y,N.T=C}}function Qv(a,c,h,g){if(cf){var C=Zv(g);if(C===null)Nv(a,c,g,uf,h),CE(a,g);else if(qN(C,a,c,h,g))g.stopPropagation();else if(CE(a,g),c&4&&-1<KN.indexOf(a)){for(;C!==null;){var y=vt(C);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var D=on(y.pendingLanes);if(D!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;D;){var B=1<<31-It(D);k.entanglements[1]|=B,D&=~B}Ho(y),(Tt&6)===0&&(jh=Xe()+500,Ru(0))}}break;case 31:case 13:k=Zr(y,2),k!==null&&wi(k,y,2),Kh(),Xv(y,2)}if(y=Zv(g),y===null&&Nv(a,c,g,uf,h),y===C)break;C=y}C!==null&&g.stopPropagation()}else Nv(a,c,g,null,h)}}function Zv(a){return a=em(a),Jv(a)}var uf=null;function Jv(a){if(uf=null,a=an(a),a!==null){var c=s(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=r(c),a!==null)return a;a=null}else if(h===31){if(a=l(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return uf=a,null}function vE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dt()){case Qt:return 2;case Zt:return 8;case $e:case tt:return 32;case Bn:return 268435456;default:return 32}default:return 32}}var eC=!1,lr=null,cr=null,ur=null,Au=new Map,Mu=new Map,dr=[],KN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(a,c){switch(a){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Au.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(c.pointerId)}}function ku(a,c,h,g,C,y){return a===null||a.nativeEvent!==y?(a={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:y,targetContainers:[C]},c!==null&&(c=vt(c),c!==null&&pE(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),a)}function qN(a,c,h,g,C){switch(c){case"focusin":return lr=ku(lr,a,c,h,g,C),!0;case"dragenter":return cr=ku(cr,a,c,h,g,C),!0;case"mouseover":return ur=ku(ur,a,c,h,g,C),!0;case"pointerover":var y=C.pointerId;return Au.set(y,ku(Au.get(y)||null,a,c,h,g,C)),!0;case"gotpointercapture":return y=C.pointerId,Mu.set(y,ku(Mu.get(y)||null,a,c,h,g,C)),!0}return!1}function wE(a){var c=an(a.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=r(h),c!==null){a.blockedOn=c,De(a.priority,function(){mE(h)});return}}else if(c===31){if(c=l(h),c!==null){a.blockedOn=c,De(a.priority,function(){mE(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function df(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=Zv(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Jp=g,h.target.dispatchEvent(g),Jp=null}else return c=vt(h),c!==null&&pE(c),a.blockedOn=h,!1;c.shift()}return!0}function yE(a,c,h){df(a)&&h.delete(c)}function YN(){eC=!1,lr!==null&&df(lr)&&(lr=null),cr!==null&&df(cr)&&(cr=null),ur!==null&&df(ur)&&(ur=null),Au.forEach(yE),Mu.forEach(yE)}function hf(a,c){a.blockedOn===c&&(a.blockedOn=null,eC||(eC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YN)))}var ff=null;function bE(a){ff!==a&&(ff=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ff===a&&(ff=null);for(var c=0;c<a.length;c+=3){var h=a[c],g=a[c+1],C=a[c+2];if(typeof g!="function"){if(Jv(g||h)===null)continue;break}var y=vt(h);y!==null&&(a.splice(c,3),c-=3,Zm(y,{pending:!0,data:C,method:h.method,action:g},g,C))}}))}function Ml(a){function c(B){return hf(B,a)}lr!==null&&hf(lr,a),cr!==null&&hf(cr,a),ur!==null&&hf(ur,a),Au.forEach(c),Mu.forEach(c);for(var h=0;h<dr.length;h++){var g=dr[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<dr.length&&(h=dr[0],h.blockedOn===null);)wE(h),h.blockedOn===null&&dr.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var C=h[g],y=h[g+1],D=C[Re]||null;if(typeof y=="function")D||bE(h);else if(D){var k=null;if(y&&y.hasAttribute("formAction")){if(C=y,D=y[Re]||null)k=D.formAction;else if(Jv(C)!==null)continue}else k=D.action;typeof k=="function"?h[g+1]=k:(h.splice(g,3),g-=3),bE(h)}}}function SE(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(D){return C=D})},focusReset:"manual",scroll:"manual"})}function c(){C!==null&&(C(),C=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,C=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),C!==null&&(C(),C=null)}}}function tC(a){this._internalRoot=a}gf.prototype.render=tC.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(i(409));var h=c.current,g=Ii();fE(h,g,a,c,null,null)},gf.prototype.unmount=tC.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;fE(a.current,2,null,a,null,null),Kh(),c[ke]=null}};function gf(a){this._internalRoot=a}gf.prototype.unstable_scheduleHydration=function(a){if(a){var c=me();a={blockedOn:null,target:a,priority:c};for(var h=0;h<dr.length&&c!==0&&c<dr[h].priority;h++);dr.splice(h,0,a),h===0&&wE(a)}};var RE=t.version;if(RE!=="19.2.3")throw Error(i(527,RE,"19.2.3"));q.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=d(c),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var XN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{hn=pf.inject(XN),Rt=pf}catch{}}return Ou.createRoot=function(a,c){if(!o(a))throw Error(i(299));var h=!1,g="",C=AR,y=MR,D=kR;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(y=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=dE(a,1,!1,null,null,h,g,null,C,y,D,SE),a[ke]=c.current,Lv(a),new tC(c)},Ou.hydrateRoot=function(a,c,h){if(!o(a))throw Error(i(299));var g=!1,C="",y=AR,D=MR,k=kR,B=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onUncaughtError!==void 0&&(y=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(k=h.onRecoverableError),h.formState!==void 0&&(B=h.formState)),c=dE(a,1,!0,c,h??null,g,C,B,y,D,k,SE),c.context=hE(null),h=c.current,g=Ii(),g=te(g),C=Xs(g),C.callback=null,Qs(h,C,g),h=g,c.current.lanes=h,rt(c,h),Ho(c),a[ke]=c.current,Lv(a),new gf(c)},Ou.version="19.2.3",Ou}var IE;function r2(){if(IE)return iC.exports;IE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),iC.exports=s2(),iC.exports}var a2=r2(),lC={exports:{}},cC={};var OE;function l2(){if(OE)return cC;OE=1;var e=rp().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return cC.c=function(t){return e.H.useMemoCache(t)},cC}var _E;function c2(){return _E||(_E=1,lC.exports=l2()),lC.exports}var Oe=c2(),w=rp();const de=cF(w),ap=ZN({__proto__:null,default:de},[w]);var dF=e=>{throw TypeError(e)},u2=(e,t,n)=>t.has(e)||dF("Cannot "+n),uC=(e,t,n)=>(u2(e,t,"read from private field"),n?n.call(e):t.get(e)),d2=(e,t,n)=>t.has(e)?dF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),LE="popstate";function h2(e={}){function t(i,o){let{pathname:s,search:r,hash:l}=i.location;return cd("",{pathname:s,search:r,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Jo(o)}return g2(t,n,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f2(){return Math.random().toString(36).substring(2,10)}function NE(e,t){return{usr:e.state,key:e.key,idx:t}}function cd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Lr(t):t,state:n,key:t&&t.key||i||f2()}}function Jo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function g2(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:s=!1}=i,r=o.history,l="POP",u=null,d=f();d==null&&(d=0,r.replaceState({...r.state,idx:d},""));function f(){return(r.state||{idx:null}).idx}function p(){l="POP";let R=f(),x=R==null?null:R-d;d=R,u&&u({action:l,location:S.location,delta:x})}function m(R,x){l="PUSH";let T=cd(S.location,R,x);d=f()+1;let F=NE(T,d),A=S.createHref(T);try{r.pushState(F,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(A)}s&&u&&u({action:l,location:S.location,delta:1})}function v(R,x){l="REPLACE";let T=cd(S.location,R,x);d=f();let F=NE(T,d),A=S.createHref(T);r.replaceState(F,"",A),s&&u&&u({action:l,location:S.location,delta:0})}function b(R){return hF(R)}let S={get action(){return l},get location(){return e(o,r)},listen(R){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(LE,p),u=R,()=>{o.removeEventListener(LE,p),u=null}},createHref(R){return t(o,R)},createURL:b,encodeLocation(R){let x=b(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(R){return r.go(R)}};return S}function hF(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Jo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Uu,HE=class{constructor(e){if(d2(this,Uu,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(uC(this,Uu).has(e))return uC(this,Uu).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){uC(this,Uu).set(e,t)}};Uu=new WeakMap;var p2=new Set(["lazy","caseSensitive","path","id","index","children"]);function m2(e){return p2.has(e)}var v2=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function C2(e){return v2.has(e)}function w2(e){return e.index===!0}function ud(e,t,n=[],i={},o=!1){return e.map((s,r)=>{let l=[...n,String(r)],u=typeof s.id=="string"?s.id:l.join("-");if(it(s.index!==!0||!s.children,"Cannot specify children on an index route"),it(o||!i[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),w2(s)){let d={...s,id:u};return i[u]=GE(d,t(d)),d}else{let d={...s,id:u,children:void 0};return i[u]=GE(d,t(d)),s.children&&(d.children=ud(s.children,t,l,i,o)),d}})}function GE(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Sr(e,t,n="/"){return ju(e,t,n,!1)}function ju(e,t,n,i){let o=typeof t=="string"?Lr(t):t,s=ro(o.pathname||"/",n);if(s==null)return null;let r=fF(e);b2(r);let l=null;for(let u=0;l==null&&u<r.length;++u){let d=k2(s);l=A2(r[u],d,i)}return l}function y2(e,t){let{route:n,pathname:i,params:o}=e;return{id:n.id,pathname:i,params:o,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function fF(e,t=[],n=[],i="",o=!1){let s=(r,l,u=o,d)=>{let f={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;it(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=qo([i,f.relativePath]),m=n.concat(f);r.children&&r.children.length>0&&(it(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),fF(r.children,t,m,p,u)),!(r.path==null&&!r.index)&&t.push({path:p,score:F2(p,r.index),routesMeta:m})};return e.forEach((r,l)=>{if(r.path===""||!r.path?.includes("?"))s(r,l);else for(let u of gF(r.path))s(r,l,!0,u)}),t}function gF(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return o?[s,""]:[s];let r=gF(i.join("/")),l=[];return l.push(...r.map(u=>u===""?s:[s,u].join("/"))),o&&l.push(...r),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function b2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:P2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var S2=/^:[\w-]+$/,R2=3,x2=2,E2=1,T2=10,D2=-2,BE=e=>e==="*";function F2(e,t){let n=e.split("/"),i=n.length;return n.some(BE)&&(i+=D2),t&&(i+=x2),n.filter(o=>!BE(o)).reduce((o,s)=>o+(S2.test(s)?R2:s===""?E2:T2),i)}function P2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function A2(e,t,n=!1){let{routesMeta:i}=e,o={},s="/",r=[];for(let l=0;l<i.length;++l){let u=i[l],d=l===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=pg({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!p&&d&&n&&!i[i.length-1].route.index&&(p=pg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(o,p.params),r.push({params:o,pathname:qo([s,p.pathname]),pathnameBase:_2(qo([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=qo([s,p.pathnameBase]))}return r}function pg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=M2(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let s=o[0],r=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:i.reduce((d,{paramName:f,isOptional:p},m)=>{if(f==="*"){let b=l[m]||"";r=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:r,pattern:e}}function M2(e,t=!1,n=!0){Dn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function k2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ro(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function I2({basename:e,pathname:t}){return t==="/"?e:qo([e,t])}var pF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iy=e=>pF.test(e);function O2(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Lr(e):e,s;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?s=VE(n.substring(1),"/"):s=VE(n,t)):s=t,{pathname:s,search:L2(i),hash:N2(o)}}function VE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dC(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oy(e){let t=mF(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function _y(e,t,n,i=!1){let o;typeof e=="string"?o=Lr(e):(o={...e},it(!o.pathname||!o.pathname.includes("?"),dC("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),dC("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),dC("#","search","hash",o)));let s=e===""||o.pathname==="",r=s?"/":o.pathname,l;if(r==null)l=n;else{let p=t.length-1;if(!i&&r.startsWith("..")){let m=r.split("/");for(;m[0]==="..";)m.shift(),p-=1;o.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=O2(o,l),d=r&&r!=="/"&&r.endsWith("/"),f=(s||r===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var qo=e=>e.join("/").replace(/\/\/+/g,"/"),_2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ld=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dd(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Nd(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CF(e,t){let n=e;if(typeof n!="string"||!pF.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(vF)try{let s=new URL(window.location.href),r=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=ro(r.pathname,t);r.origin===s.origin&&l!=null?n=l+r.search+r.hash:o=!0}catch{Dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}var Er=Symbol("Uninstrumented");function H2(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(o=>o({id:t.id,index:t.index,path:t.path,instrument(s){let r=Object.keys(n);for(let l of r)s[l]&&n[l].push(s[l])}}));let i={};if(typeof t.lazy=="function"&&n.lazy.length>0){let o=Ql(n.lazy,t.lazy,()=>{});o&&(i.lazy=o)}if(typeof t.lazy=="object"){let o=t.lazy;["middleware","loader","action"].forEach(s=>{let r=o[s],l=n[`lazy.${s}`];if(typeof r=="function"&&l.length>0){let u=Ql(l,r,()=>{});u&&(i.lazy=Object.assign(i.lazy||{},{[s]:u}))}})}return["loader","action"].forEach(o=>{let s=t[o];if(typeof s=="function"&&n[o].length>0){let r=s[Er]??s,l=Ql(n[o],r,(...u)=>zE(u[0]));l&&(o==="loader"&&r.hydrate===!0&&(l.hydrate=!0),l[Er]=r,i[o]=l)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(i.middleware=t.middleware.map(o=>{let s=o[Er]??o,r=Ql(n.middleware,s,(...l)=>zE(l[0]));return r?(r[Er]=s,r):o})),i}function G2(e,t){let n={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(o){let s=Object.keys(o);for(let r of s)o[r]&&n[r].push(o[r])}})),n.navigate.length>0){let i=e.navigate[Er]??e.navigate,o=Ql(n.navigate,i,(...s)=>{let[r,l]=s;return{to:typeof r=="number"||typeof r=="string"?r:r?Jo(r):".",...WE(e,l??{})}});o&&(o[Er]=i,e.navigate=o)}if(n.fetch.length>0){let i=e.fetch[Er]??e.fetch,o=Ql(n.fetch,i,(...s)=>{let[r,,l,u]=s;return{href:l??".",fetcherKey:r,...WE(e,u??{})}});o&&(o[Er]=i,e.fetch=o)}return e}function Ql(e,t,n){return e.length===0?null:async(...i)=>{let o=await wF(e,n(...i),()=>t(...i),e.length-1);if(o.type==="error")throw o.value;return o.value}}async function wF(e,t,n,i){let o=e[i],s;if(o){let r,l=async()=>(r?console.error("You cannot call instrumented handlers more than once"):r=wF(e,t,n,i-1),s=await r,it(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await o(l,t)}catch(u){console.error("An instrumentation function threw an error:",u)}r||await l(),await r}else try{s={type:"success",value:await n()}}catch(r){s={type:"error",value:r}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function zE(e){let{request:t,context:n,params:i,unstable_pattern:o}=e;return{request:B2(t),params:{...i},unstable_pattern:o,context:V2(n)}}function WE(e,t){return{currentUrl:Jo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function B2(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function V2(e){if(W2(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var z2=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W2(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===z2}var yF=["POST","PUT","PATCH","DELETE"],U2=new Set(yF),j2=["GET",...yF],$2=new Set(j2),bF=new Set([301,302,303,307,308]),K2=new Set([307,308]),hC={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},q2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_u={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Y2=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),SF="remix-router-transitions",RF=Symbol("ResetLoaderData");function X2(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";it(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],o=e.mapRouteProperties||Y2,s=o;if(e.unstable_instrumentations){let H=e.unstable_instrumentations;s=j=>({...o(j),...H2(H.map(te=>te.route).filter(Boolean),j)})}let r={},l=ud(e.routes,s,void 0,r),u,d=e.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=e.dataStrategy||tH,p={...e.future},m=null,v=new Set,b=null,S=null,R=null,x=e.hydrationData!=null,T=Sr(l,e.history.location,d),F=!1,A=null,M;if(T==null&&!e.patchRoutesOnNavigation){let H=Ji(404,{pathname:e.history.location.pathname}),{matches:j,route:te}=mf(l);M=!0,T=j,A={[te.id]:H}}else if(T&&!e.hydrationData&&Xn(T,l,e.history.location.pathname).active&&(T=null),T)if(T.some(H=>H.route.lazy))M=!1;else if(!T.some(H=>Ly(H.route)))M=!0;else{let H=e.hydrationData?e.hydrationData.loaderData:null,j=e.hydrationData?e.hydrationData.errors:null;if(j){let te=T.findIndex(ge=>j[ge.route.id]!==void 0);M=T.slice(0,te+1).every(ge=>!vw(ge.route,H,j))}else M=T.every(te=>!vw(te.route,H,j))}else{M=!1,T=[];let H=Xn(null,l,e.history.location.pathname);H.active&&H.matches&&(F=!0,T=H.matches)}let I,P={historyAction:e.history.action,location:e.history.location,matches:T,initialized:M,navigation:hC,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},_="POP",L=null,V=!1,z,K=!1,se=new Map,he=null,J=!1,N=!1,q=new Set,G=new Map,ee=0,oe=-1,O=new Map,U=new Set,Q=new Map,ae=new Map,ve=new Set,Se=new Map,pe,Ke=null;function Ye(){if(m=e.history.listen(({action:H,location:j,delta:te})=>{if(pe){pe(),pe=void 0;return}Dn(Se.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=et({currentLocation:P.location,nextLocation:j,historyAction:H});if(ge&&te!=null){let me=new Promise(De=>{pe=De});e.history.go(te*-1),fn(ge,{state:"blocked",location:j,proceed(){fn(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),me.then(()=>e.history.go(te))},reset(){let De=new Map(P.blockers);De.set(ge,_u),Be({blockers:De})}}),L?.resolve(),L=null;return}return Wt(H,j)}),n){wH(t,se);let H=()=>yH(t,se);t.addEventListener("pagehide",H),he=()=>t.removeEventListener("pagehide",H)}return P.initialized||Wt("POP",P.location,{initialHydration:!0}),I}function We(){m&&m(),he&&he(),v.clear(),z&&z.abort(),P.fetchers.forEach((H,j)=>Fn(j)),P.blockers.forEach((H,j)=>On(j))}function Ft(H){return v.add(H),()=>v.delete(H)}function Be(H,j={}){H.matches&&(H.matches=H.matches.map(me=>{let De=r[me.route.id],we=me.route;return we.element!==De.element||we.errorElement!==De.errorElement||we.hydrateFallbackElement!==De.hydrateFallbackElement?{...me,route:De}:me})),P={...P,...H};let te=[],ge=[];P.fetchers.forEach((me,De)=>{me.state==="idle"&&(ve.has(De)?te.push(De):ge.push(De))}),ve.forEach(me=>{!P.fetchers.has(me)&&!G.has(me)&&te.push(me)}),[...v].forEach(me=>me(P,{deletedFetchers:te,newErrors:H.errors??null,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),te.forEach(me=>Fn(me)),ge.forEach(me=>P.fetchers.delete(me))}function pt(H,j,{flushSync:te}={}){let ge=P.actionData!=null&&P.navigation.formMethod!=null&&Jn(P.navigation.formMethod)&&P.navigation.state==="loading"&&H.state?._isRedirect!==!0,me;j.actionData?Object.keys(j.actionData).length>0?me=j.actionData:me=null:ge?me=P.actionData:me=null;let De=j.loaderData?JE(P.loaderData,j.loaderData,j.matches||[],j.errors):P.loaderData,we=P.blockers;we.size>0&&(we=new Map(we),we.forEach((Ge,_e)=>we.set(_e,_u)));let be=J?!1:di(H,j.matches||P.matches),Re=V===!0||P.navigation.formMethod!=null&&Jn(P.navigation.formMethod)&&H.state?._isRedirect!==!0;u&&(l=u,u=void 0),J||_==="POP"||(_==="PUSH"?e.history.push(H,H.state):_==="REPLACE"&&e.history.replace(H,H.state));let ke;if(_==="POP"){let Ge=se.get(P.location.pathname);Ge&&Ge.has(H.pathname)?ke={currentLocation:P.location,nextLocation:H}:se.has(H.pathname)&&(ke={currentLocation:H,nextLocation:P.location})}else if(K){let Ge=se.get(P.location.pathname);Ge?Ge.add(H.pathname):(Ge=new Set([H.pathname]),se.set(P.location.pathname,Ge)),ke={currentLocation:P.location,nextLocation:H}}Be({...j,actionData:me,loaderData:De,historyAction:_,location:H,initialized:!0,navigation:hC,revalidation:"idle",restoreScrollPosition:be,preventScrollReset:Re,blockers:we},{viewTransitionOpts:ke,flushSync:te===!0}),_="POP",V=!1,K=!1,J=!1,N=!1,L?.resolve(),L=null,Ke?.resolve(),Ke=null}async function Gt(H,j){if(L?.resolve(),L=null,typeof H=="number"){L||(L=iT());let mt=L.promise;return e.history.go(H),mt}let te=mw(P.location,P.matches,d,H,j?.fromRouteId,j?.relative),{path:ge,submission:me,error:De}=UE(!1,te,j),we=P.location,be=cd(P.location,ge,j&&j.state);be={...be,...e.history.encodeLocation(be)};let Re=j&&j.replace!=null?j.replace:void 0,ke="PUSH";Re===!0?ke="REPLACE":Re===!1||me!=null&&Jn(me.formMethod)&&me.formAction===P.location.pathname+P.location.search&&(ke="REPLACE");let Ge=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,_e=(j&&j.flushSync)===!0,bt=et({currentLocation:we,nextLocation:be,historyAction:ke});if(bt){fn(bt,{state:"blocked",location:be,proceed(){fn(bt,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Gt(H,j)},reset(){let mt=new Map(P.blockers);mt.set(bt,_u),Be({blockers:mt})}});return}await Wt(ke,be,{submission:me,pendingError:De,preventScrollReset:Ge,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:_e,callSiteDefaultShouldRevalidate:j&&j.unstable_defaultShouldRevalidate})}function Xt(){Ke||(Ke=iT()),Zt(),Be({revalidation:"loading"});let H=Ke.promise;return P.navigation.state==="submitting"?H:P.navigation.state==="idle"?(Wt(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),H):(Wt(_||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:K===!0}),H)}async function Wt(H,j,te){z&&z.abort(),z=null,_=H,J=(te&&te.startUninterruptedRevalidation)===!0,bn(P.location,P.matches),V=(te&&te.preventScrollReset)===!0,K=(te&&te.enableViewTransition)===!0;let ge=u||l,me=te&&te.overrideNavigation,De=te?.initialHydration&&P.matches&&P.matches.length>0&&!F?P.matches:Sr(ge,j,d),we=(te&&te.flushSync)===!0;if(De&&P.initialized&&!N&&cH(P.location,j)&&!(te&&te.submission&&Jn(te.submission.formMethod))){pt(j,{matches:De},{flushSync:we});return}let be=Xn(De,ge,j.pathname);if(be.active&&be.matches&&(De=be.matches),!De){let{error:rn,notFoundMatches:an,route:vt}=yn(j.pathname);pt(j,{matches:an,loaderData:{},errors:{[vt.id]:rn}},{flushSync:we});return}z=new AbortController;let Re=$l(e.history,j,z.signal,te&&te.submission),ke=e.getContext?await e.getContext():new HE,Ge;if(te&&te.pendingError)Ge=[Rr(De).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Jn(te.submission.formMethod)){let rn=await He(Re,j,te.submission,De,ke,be.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:we});if(rn.shortCircuited)return;if(rn.pendingActionResult){let[an,vt]=rn.pendingActionResult;if(_i(vt)&&dd(vt.error)&&vt.error.status===404){z=null,pt(j,{matches:rn.matches,loaderData:{},errors:{[an]:vt.error}});return}}De=rn.matches||De,Ge=rn.pendingActionResult,me=fC(j,te.submission),we=!1,be.active=!1,Re=$l(e.history,Re.url,Re.signal)}let{shortCircuited:_e,matches:bt,loaderData:mt,errors:Jt}=await Ze(Re,j,De,ke,be.active,me,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,we,Ge,te&&te.callSiteDefaultShouldRevalidate);_e||(z=null,pt(j,{matches:bt||De,...eT(Ge),loaderData:mt,errors:Jt}))}async function He(H,j,te,ge,me,De,we,be={}){Zt();let Re=vH(j,te);if(Be({navigation:Re},{flushSync:be.flushSync===!0}),De){let _e=await ii(ge,j.pathname,H.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){if(_e.partialMatches.length===0){let{matches:mt,route:Jt}=mf(l);return{matches:mt,pendingActionResult:[Jt.id,{type:"error",error:_e.error}]}}let bt=Rr(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[bt,{type:"error",error:_e.error}]}}else if(_e.matches)ge=_e.matches;else{let{notFoundMatches:bt,error:mt,route:Jt}=yn(j.pathname);return{matches:bt,pendingActionResult:[Jt.id,{type:"error",error:mt}]}}}let ke,Ge=Kf(ge,j);if(!Ge.route.action&&!Ge.route.lazy)ke={type:"error",error:Ji(405,{method:H.method,pathname:j.pathname,routeId:Ge.route.id})};else{let _e=oc(s,r,H,ge,Ge,we?[]:i,me),bt=await dt(H,_e,me,null);if(ke=bt[Ge.route.id],!ke){for(let mt of ge)if(bt[mt.route.id]){ke=bt[mt.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Sa(ke)){let _e;return be&&be.replace!=null?_e=be.replace:_e=XE(ke.response.headers.get("Location"),new URL(H.url),d,e.history)===P.location.pathname+P.location.search,await Xe(H,ke,!0,{submission:te,replace:_e}),{shortCircuited:!0}}if(_i(ke)){let _e=Rr(ge,Ge.route.id);return(be&&be.replace)!==!0&&(_="PUSH"),{matches:ge,pendingActionResult:[_e.route.id,ke,Ge.route.id]}}return{matches:ge,pendingActionResult:[Ge.route.id,ke]}}async function Ze(H,j,te,ge,me,De,we,be,Re,ke,Ge,_e,bt){let mt=De||fC(j,we),Jt=we||be||nT(mt),rn=!J&&!ke;if(me){if(rn){let gn=ut(_e);Be({navigation:mt,...gn!==void 0?{actionData:gn}:{}},{flushSync:Ge})}let Ct=await ii(te,j.pathname,H.signal);if(Ct.type==="aborted")return{shortCircuited:!0};if(Ct.type==="error"){if(Ct.partialMatches.length===0){let{matches:mo,route:zn}=mf(l);return{matches:mo,loaderData:{},errors:{[zn.id]:Ct.error}}}let gn=Rr(Ct.partialMatches).route.id;return{matches:Ct.partialMatches,loaderData:{},errors:{[gn]:Ct.error}}}else if(Ct.matches)te=Ct.matches;else{let{error:gn,notFoundMatches:mo,route:zn}=yn(j.pathname);return{matches:mo,loaderData:{},errors:{[zn.id]:gn}}}}let an=u||l,{dsMatches:vt,revalidatingFetchers:_n}=jE(H,ge,s,r,e.history,P,te,Jt,j,ke?[]:i,ke===!0,N,q,ve,Q,U,an,d,e.patchRoutesOnNavigation!=null,_e,bt);if(oe=++ee,!e.dataStrategy&&!vt.some(Ct=>Ct.shouldLoad)&&!vt.some(Ct=>Ct.route.middleware&&Ct.route.middleware.length>0)&&_n.length===0){let Ct=It();return pt(j,{matches:te,loaderData:{},errors:_e&&_i(_e[1])?{[_e[0]]:_e[1].error}:null,...eT(_e),...Ct?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Ge}),{shortCircuited:!0}}if(rn){let Ct={};if(!me){Ct.navigation=mt;let gn=ut(_e);gn!==void 0&&(Ct.actionData=gn)}_n.length>0&&(Ct.fetchers=ot(_n)),Be(Ct,{flushSync:Ge})}_n.forEach(Ct=>{Rt(Ct.key),Ct.controller&&G.set(Ct.key,Ct.controller)});let fi=()=>_n.forEach(Ct=>Rt(Ct.key));z&&z.signal.addEventListener("abort",fi);let{loaderResults:Kt,fetcherResults:go}=await Qt(vt,_n,H,ge);if(H.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",fi),_n.forEach(Ct=>G.delete(Ct.key));let Ti=vf(Kt);if(Ti)return await Xe(H,Ti.result,!0,{replace:Re}),{shortCircuited:!0};if(Ti=vf(go),Ti)return U.add(Ti.key),await Xe(H,Ti.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:po,errors:zi}=ZE(P,te,Kt,_e,_n,go);ke&&P.errors&&(zi={...P.errors,...zi});let ss=It(),$r=In(oe),Kr=ss||$r||_n.length>0;return{matches:te,loaderData:po,errors:zi,...Kr?{fetchers:new Map(P.fetchers)}:{}}}function ut(H){if(H&&!_i(H[1]))return{[H[0]]:H[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function ot(H){return H.forEach(j=>{let te=P.fetchers.get(j.key),ge=Lu(void 0,te?te.data:void 0);P.fetchers.set(j.key,ge)}),new Map(P.fetchers)}async function Te(H,j,te,ge){Rt(H);let me=(ge&&ge.flushSync)===!0,De=u||l,we=mw(P.location,P.matches,d,te,j,ge?.relative),be=Sr(De,we,d),Re=Xn(be,De,we);if(Re.active&&Re.matches&&(be=Re.matches),!be){tt(H,j,Ji(404,{pathname:we}),{flushSync:me});return}let{path:ke,submission:Ge,error:_e}=UE(!0,we,ge);if(_e){tt(H,j,_e,{flushSync:me});return}let bt=e.getContext?await e.getContext():new HE,mt=(ge&&ge.preventScrollReset)===!0;if(Ge&&Jn(Ge.formMethod)){await st(H,j,ke,be,bt,Re.active,me,mt,Ge,ge&&ge.unstable_defaultShouldRevalidate);return}Q.set(H,{routeId:j,path:ke}),await kt(H,j,ke,be,bt,Re.active,me,mt,Ge)}async function st(H,j,te,ge,me,De,we,be,Re,ke){Zt(),Q.delete(H);let Ge=P.fetchers.get(H);$e(H,CH(Re,Ge),{flushSync:we});let _e=new AbortController,bt=$l(e.history,te,_e.signal,Re);if(De){let wt=await ii(ge,new URL(bt.url).pathname,bt.signal,H);if(wt.type==="aborted")return;if(wt.type==="error"){tt(H,j,wt.error,{flushSync:we});return}else if(wt.matches)ge=wt.matches;else{tt(H,j,Ji(404,{pathname:te}),{flushSync:we});return}}let mt=Kf(ge,te);if(!mt.route.action&&!mt.route.lazy){let wt=Ji(405,{method:Re.formMethod,pathname:te,routeId:j});tt(H,j,wt,{flushSync:we});return}G.set(H,_e);let Jt=ee,rn=oc(s,r,bt,ge,mt,i,me),an=await dt(bt,rn,me,H),vt=an[mt.route.id];if(!vt){for(let wt of rn)if(an[wt.route.id]){vt=an[wt.route.id];break}}if(bt.signal.aborted){G.get(H)===_e&&G.delete(H);return}if(ve.has(H)){if(Sa(vt)||_i(vt)){$e(H,xs(void 0));return}}else{if(Sa(vt))if(G.delete(H),oe>Jt){$e(H,xs(void 0));return}else return U.add(H),$e(H,Lu(Re)),Xe(bt,vt,!1,{fetcherSubmission:Re,preventScrollReset:be});if(_i(vt)){tt(H,j,vt.error);return}}let _n=P.navigation.location||P.location,fi=$l(e.history,_n,_e.signal),Kt=u||l,go=P.navigation.state!=="idle"?Sr(Kt,P.navigation.location,d):P.matches;it(go,"Didn't find any matches after fetcher action");let Ti=++ee;O.set(H,Ti);let po=Lu(Re,vt.data);P.fetchers.set(H,po);let{dsMatches:zi,revalidatingFetchers:ss}=jE(fi,me,s,r,e.history,P,go,Re,_n,i,!1,N,q,ve,Q,U,Kt,d,e.patchRoutesOnNavigation!=null,[mt.route.id,vt],ke);ss.filter(wt=>wt.key!==H).forEach(wt=>{let qr=wt.key,oh=P.fetchers.get(qr),jc=Lu(void 0,oh?oh.data:void 0);P.fetchers.set(qr,jc),Rt(qr),wt.controller&&G.set(qr,wt.controller)}),Be({fetchers:new Map(P.fetchers)});let $r=()=>ss.forEach(wt=>Rt(wt.key));_e.signal.addEventListener("abort",$r);let{loaderResults:Kr,fetcherResults:Ct}=await Qt(zi,ss,fi,me);if(_e.signal.aborted)return;if(_e.signal.removeEventListener("abort",$r),O.delete(H),G.delete(H),ss.forEach(wt=>G.delete(wt.key)),P.fetchers.has(H)){let wt=xs(vt.data);P.fetchers.set(H,wt)}let gn=vf(Kr);if(gn)return Xe(fi,gn.result,!1,{preventScrollReset:be});if(gn=vf(Ct),gn)return U.add(gn.key),Xe(fi,gn.result,!1,{preventScrollReset:be});let{loaderData:mo,errors:zn}=ZE(P,go,Kr,void 0,ss,Ct);In(Ti),P.navigation.state==="loading"&&Ti>oe?(it(_,"Expected pending action"),z&&z.abort(),pt(P.navigation.location,{matches:go,loaderData:mo,errors:zn,fetchers:new Map(P.fetchers)})):(Be({errors:zn,loaderData:JE(P.loaderData,mo,go,zn),fetchers:new Map(P.fetchers)}),N=!1)}async function kt(H,j,te,ge,me,De,we,be,Re){let ke=P.fetchers.get(H);$e(H,Lu(Re,ke?ke.data:void 0),{flushSync:we});let Ge=new AbortController,_e=$l(e.history,te,Ge.signal);if(De){let vt=await ii(ge,new URL(_e.url).pathname,_e.signal,H);if(vt.type==="aborted")return;if(vt.type==="error"){tt(H,j,vt.error,{flushSync:we});return}else if(vt.matches)ge=vt.matches;else{tt(H,j,Ji(404,{pathname:te}),{flushSync:we});return}}let bt=Kf(ge,te);G.set(H,Ge);let mt=ee,Jt=oc(s,r,_e,ge,bt,i,me),an=(await dt(_e,Jt,me,H))[bt.route.id];if(G.get(H)===Ge&&G.delete(H),!_e.signal.aborted){if(ve.has(H)){$e(H,xs(void 0));return}if(Sa(an))if(oe>mt){$e(H,xs(void 0));return}else{U.add(H),await Xe(_e,an,!1,{preventScrollReset:be});return}if(_i(an)){tt(H,j,an.error);return}$e(H,xs(an.data))}}async function Xe(H,j,te,{submission:ge,fetcherSubmission:me,preventScrollReset:De,replace:we}={}){te||(L?.resolve(),L=null),j.response.headers.has("X-Remix-Revalidate")&&(N=!0);let be=j.response.headers.get("Location");it(be,"Expected a Location header on the redirect Response"),be=XE(be,new URL(H.url),d,e.history);let Re=cd(P.location,be,{_isRedirect:!0});if(n){let Jt=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Jt=!0;else if(Iy(be)){const rn=hF(be,!0);Jt=rn.origin!==t.location.origin||ro(rn.pathname,d)==null}if(Jt){we?t.location.replace(be):t.location.assign(be);return}}z=null;let ke=we===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ge,formAction:_e,formEncType:bt}=P.navigation;!ge&&!me&&Ge&&_e&&bt&&(ge=nT(P.navigation));let mt=ge||me;if(K2.has(j.response.status)&&mt&&Jn(mt.formMethod))await Wt(ke,Re,{submission:{...mt,formAction:be},preventScrollReset:De||V,enableViewTransition:te?K:void 0});else{let Jt=fC(Re,ge);await Wt(ke,Re,{overrideNavigation:Jt,fetcherSubmission:me,preventScrollReset:De||V,enableViewTransition:te?K:void 0})}}async function dt(H,j,te,ge){let me,De={};try{me=await iH(f,H,j,ge,te,!1)}catch(we){return j.filter(be=>be.shouldLoad).forEach(be=>{De[be.route.id]={type:"error",error:we}}),De}if(H.signal.aborted)return De;if(!Jn(H.method))for(let we of j){if(me[we.route.id]?.type==="error")break;!me.hasOwnProperty(we.route.id)&&!P.loaderData.hasOwnProperty(we.route.id)&&(!P.errors||!P.errors.hasOwnProperty(we.route.id))&&we.shouldCallHandler()&&(me[we.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${we.route.id}`)})}for(let[we,be]of Object.entries(me))if(fH(be)){let Re=be.result;De[we]={type:"redirect",response:aH(Re,H,we,j,d)}}else De[we]=await rH(be);return De}async function Qt(H,j,te,ge){let me=dt(te,H,ge,null),De=Promise.all(j.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Ge=(await dt(Re.request,Re.matches,ge,Re.key))[Re.match.route.id];return{[Re.key]:Ge}}else return Promise.resolve({[Re.key]:{type:"error",error:Ji(404,{pathname:Re.path})}})})),we=await me,be=(await De).reduce((Re,ke)=>Object.assign(Re,ke),{});return{loaderResults:we,fetcherResults:be}}function Zt(){N=!0,Q.forEach((H,j)=>{G.has(j)&&q.add(j),Rt(j)})}function $e(H,j,te={}){P.fetchers.set(H,j),Be({fetchers:new Map(P.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function tt(H,j,te,ge={}){let me=Rr(P.matches,j);Fn(H),Be({errors:{[me.route.id]:te},fetchers:new Map(P.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function Bn(H){return ae.set(H,(ae.get(H)||0)+1),ve.has(H)&&ve.delete(H),P.fetchers.get(H)||q2}function Vn(H,j){Rt(H,j?.reason),$e(H,xs(null))}function Fn(H){let j=P.fetchers.get(H);G.has(H)&&!(j&&j.state==="loading"&&O.has(H))&&Rt(H),Q.delete(H),O.delete(H),U.delete(H),ve.delete(H),q.delete(H),P.fetchers.delete(H)}function hn(H){let j=(ae.get(H)||0)-1;j<=0?(ae.delete(H),ve.add(H)):ae.set(H,j),Be({fetchers:new Map(P.fetchers)})}function Rt(H,j){let te=G.get(H);te&&(te.abort(j),G.delete(H))}function nn(H){for(let j of H){let te=Bn(j),ge=xs(te.data);P.fetchers.set(j,ge)}}function It(){let H=[],j=!1;for(let te of U){let ge=P.fetchers.get(te);it(ge,`Expected fetcher: ${te}`),ge.state==="loading"&&(U.delete(te),H.push(te),j=!0)}return nn(H),j}function In(H){let j=[];for(let[te,ge]of O)if(ge<H){let me=P.fetchers.get(te);it(me,`Expected fetcher: ${te}`),me.state==="loading"&&(Rt(te),O.delete(te),j.push(te))}return nn(j),j.length>0}function ni(H,j){let te=P.blockers.get(H)||_u;return Se.get(H)!==j&&Se.set(H,j),te}function On(H){P.blockers.delete(H),Se.delete(H)}function fn(H,j){let te=P.blockers.get(H)||_u;it(te.state==="unblocked"&&j.state==="blocked"||te.state==="blocked"&&j.state==="blocked"||te.state==="blocked"&&j.state==="proceeding"||te.state==="blocked"&&j.state==="unblocked"||te.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${j.state}`);let ge=new Map(P.blockers);ge.set(H,j),Be({blockers:ge})}function et({currentLocation:H,nextLocation:j,historyAction:te}){if(Se.size===0)return;Se.size>1&&Dn(!1,"A router only supports one blocker at a time");let ge=Array.from(Se.entries()),[me,De]=ge[ge.length-1],we=P.blockers.get(me);if(!(we&&we.state==="proceeding")&&De({currentLocation:H,nextLocation:j,historyAction:te}))return me}function yn(H){let j=Ji(404,{pathname:H}),te=u||l,{matches:ge,route:me}=mf(te);return{notFoundMatches:ge,route:me,error:j}}function on(H,j,te){if(b=H,R=j,S=te||null,!x&&P.navigation===hC){x=!0;let ge=di(P.location,P.matches);ge!=null&&Be({restoreScrollPosition:ge})}return()=>{b=null,R=null,S=null}}function sn(H,j){return S&&S(H,j.map(ge=>y2(ge,P.loaderData)))||H.key}function bn(H,j){if(b&&R){let te=sn(H,j);b[te]=R()}}function di(H,j){if(b){let te=sn(H,j),ge=b[te];if(typeof ge=="number")return ge}return null}function Xn(H,j,te){if(e.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:ju(j,te,d,!0)}}else return{active:!0,matches:ju(j,te,d,!0)||[]};return{active:!1,matches:null}}async function ii(H,j,te,ge){if(!e.patchRoutesOnNavigation)return{type:"success",matches:H};let me=H;for(;;){let De=u==null,we=u||l,be=r;try{await e.patchRoutesOnNavigation({signal:te,path:j,matches:me,fetcherKey:ge,patch:(Ge,_e)=>{te.aborted||$E(Ge,_e,we,be,s,!1)}})}catch(Ge){return{type:"error",error:Ge,partialMatches:me}}finally{De&&!te.aborted&&(l=[...l])}if(te.aborted)return{type:"aborted"};let Re=Sr(we,j,d),ke=null;if(Re){if(Object.keys(Re[0].params).length===0)return{type:"success",matches:Re};if(ke=ju(we,j,d,!0),!(ke&&me.length<ke.length&&rt(me,ke.slice(0,me.length))))return{type:"success",matches:Re}}if(ke||(ke=ju(we,j,d,!0)),!ke||rt(me,ke))return{type:"success",matches:null};me=ke}}function rt(H,j){return H.length===j.length&&H.every((te,ge)=>te.route.id===j[ge].route.id)}function Oo(H){r={},u=ud(H,s,void 0,r)}function hi(H,j,te=!1){let ge=u==null;$E(H,j,u||l,r,s,te),ge&&(l=[...l],Be({}))}return I={get basename(){return d},get future(){return p},get state(){return P},get routes(){return l},get window(){return t},initialize:Ye,subscribe:Ft,enableScrollRestoration:on,navigate:Gt,fetch:Te,revalidate:Xt,createHref:H=>e.history.createHref(H),encodeLocation:H=>e.history.encodeLocation(H),getFetcher:Bn,resetFetcher:Vn,deleteFetcher:hn,dispose:We,getBlocker:ni,deleteBlocker:On,patchRoutes:hi,_internalFetchControllers:G,_internalSetRoutes:Oo,_internalSetStateDoNotUseOrYouWillBreakYourApp(H){Be(H)}},e.unstable_instrumentations&&(I=G2(I,e.unstable_instrumentations.map(H=>H.router).filter(Boolean))),I}function Q2(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function mw(e,t,n,i,o,s){let r,l;if(o){r=[];for(let d of t)if(r.push(d),d.route.id===o){l=d;break}}else r=t,l=t[t.length-1];let u=_y(i||".",Oy(r),ro(e.pathname,n)||e.pathname,s==="path");if(i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l){let d=Hy(u.search);if(l.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let m=f.toString();u.search=m?`?${m}`:""}}return n!=="/"&&(u.pathname=I2({basename:n,pathname:u.pathname})),Jo(u)}function UE(e,t,n){if(!n||!Q2(n))return{path:t};if(n.formMethod&&!mH(n.formMethod))return{path:t,error:Ji(405,{method:n.formMethod})};let i=()=>({path:t,error:Ji(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),r=PF(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jn(s))return i();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((m,[v,b])=>`${m}${v}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:r,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Jn(s))return i();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:r,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}it(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=ww(n.formData),u=n.formData;else if(n.body instanceof FormData)l=ww(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=QE(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=QE(l)}catch{return i()}let d={formMethod:s,formAction:r,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Jn(d.formMethod))return{path:t,submission:d};let f=Lr(t);return e&&f.search&&Hy(f.search)&&l.append("index",""),f.search=`?${l}`,{path:Jo(f),submission:d}}function jE(e,t,n,i,o,s,r,l,u,d,f,p,m,v,b,S,R,x,T,F,A){let M=F?_i(F[1])?F[1].error:F[1].data:void 0,I=o.createURL(s.location),P=o.createURL(u),_;if(f&&s.errors){let J=Object.keys(s.errors)[0];_=r.findIndex(N=>N.route.id===J)}else if(F&&_i(F[1])){let J=F[0];_=r.findIndex(N=>N.route.id===J)-1}let L=F?F[1].statusCode:void 0,V=L&&L>=400,z={currentUrl:I,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:r[0].params,...l,actionResult:M,actionStatus:L},K=Nd(r),se=r.map((J,N)=>{let{route:q}=J,G=null;if(_!=null&&N>_?G=!1:q.lazy?G=!0:Ly(q)?f?G=vw(q,s.loaderData,s.errors):Z2(s.loaderData,s.matches[N],J)&&(G=!0):G=!1,G!==null)return Cw(n,i,e,K,J,d,t,G);let ee=!1;typeof A=="boolean"?ee=A:V?ee=!1:(p||I.pathname+I.search===P.pathname+P.search||I.search!==P.search||J2(s.matches[N],J))&&(ee=!0);let oe={...z,defaultShouldRevalidate:ee},O=Qu(J,oe);return Cw(n,i,e,K,J,d,t,O,oe,A)}),he=[];return b.forEach((J,N)=>{if(f||!r.some(ae=>ae.route.id===J.routeId)||v.has(N))return;let q=s.fetchers.get(N),G=q&&q.state!=="idle"&&q.data===void 0,ee=Sr(R,J.path,x);if(!ee){if(T&&G)return;he.push({key:N,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(S.has(N))return;let oe=Kf(ee,J.path),O=new AbortController,U=$l(o,J.path,O.signal),Q=null;if(m.has(N))m.delete(N),Q=oc(n,i,U,ee,oe,d,t);else if(G)p&&(Q=oc(n,i,U,ee,oe,d,t));else{let ae;typeof A=="boolean"?ae=A:V?ae=!1:ae=p;let ve={...z,defaultShouldRevalidate:ae};Qu(oe,ve)&&(Q=oc(n,i,U,ee,oe,d,t,ve))}Q&&he.push({key:N,routeId:J.routeId,path:J.path,matches:Q,match:oe,request:U,controller:O})}),{dsMatches:se,revalidatingFetchers:he}}function Ly(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function vw(e,t,n){if(e.lazy)return!0;if(!Ly(e))return!1;let i=t!=null&&e.id in t,o=n!=null&&n[e.id]!==void 0;return!i&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!o}function Z2(e,t,n){let i=!t||n.route.id!==t.route.id,o=!e.hasOwnProperty(n.route.id);return i||o}function J2(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Qu(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function $E(e,t,n,i,o,s){let r;if(e){let d=i[e];it(d,`No route found to patch children into: routeId = ${e}`),d.children||(d.children=[]),r=d.children}else r=n;let l=[],u=[];if(t.forEach(d=>{let f=r.find(p=>xF(d,p));f?u.push({existingRoute:f,newRoute:d}):l.push(d)}),l.length>0){let d=ud(l,o,[e||"_","patch",String(r?.length||"0")],i);r.push(...d)}if(s&&u.length>0)for(let d=0;d<u.length;d++){let{existingRoute:f,newRoute:p}=u[d],m=f,[v]=ud([p],o,[],{},!0);Object.assign(m,{element:v.element?v.element:m.element,errorElement:v.errorElement?v.errorElement:m.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:m.hydrateFallbackElement})}}function xF(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>t.children?.some(o=>xF(n,o))):!1}var KE=new WeakMap,EF=({key:e,route:t,manifest:n,mapRouteProperties:i})=>{let o=n[t.id];if(it(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let s=o.lazy[e];if(!s)return;let r=KE.get(o);r||(r={},KE.set(o,r));let l=r[e];if(l)return l;let u=(async()=>{let d=m2(e),p=o[e]!==void 0&&e!=="hasErrorBoundary";if(d)Dn(!d,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),r[e]=Promise.resolve();else if(p)Dn(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let m=await s();m!=null&&(Object.assign(o,{[e]:m}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(m=>m===void 0)&&(o.lazy=void 0))})();return r[e]=u,u},qE=new WeakMap;function eH(e,t,n,i,o){let s=n[e.id];if(it(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let f=qE.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{it(typeof e.lazy=="function","No lazy route function found");let m=await e.lazy(),v={};for(let b in m){let S=m[b];if(S===void 0)continue;let R=C2(b),T=s[b]!==void 0&&b!=="hasErrorBoundary";R?Dn(!R,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):T?Dn(!T,`Route "${s.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):v[b]=S}Object.assign(s,v),Object.assign(s,{...i(s),lazy:void 0})})();return qE.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let r=Object.keys(e.lazy),l=[],u;for(let f of r){if(o&&o.includes(f))continue;let p=EF({key:f,route:e,manifest:n,mapRouteProperties:i});p&&(l.push(p),f===t&&(u=p))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function YE(e){let t=e.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,s)=>{n[t[s].route.id]=o}),n}async function tH(e){return e.matches.some(t=>t.route.middleware)?TF(e,()=>YE(e)):YE(e)}function TF(e,t){return nH(e,t,i=>{if(pH(i))throw i;return i},dH,n);function n(i,o,s){if(s)return Promise.resolve(Object.assign(s.value,{[o]:{type:"error",result:i}}));{let{matches:r}=e,l=Math.min(Math.max(r.findIndex(d=>d.route.id===o),0),Math.max(r.findIndex(d=>d.shouldCallHandler()),0)),u=Rr(r,r[l].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:i}})}}}async function nH(e,t,n,i,o){let{matches:s,request:r,params:l,context:u,unstable_pattern:d}=e,f=s.flatMap(m=>m.route.middleware?m.route.middleware.map(v=>[m.route.id,v]):[]);return await DF({request:r,params:l,context:u,unstable_pattern:d},f,t,n,i,o)}async function DF(e,t,n,i,o,s,r=0){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let u=t[r];if(!u)return await n();let[d,f]=u,p,m=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await DF(e,t,n,i,o,s,r+1)},p.value}catch(v){return p={value:await s(v,d,p)},p.value}};try{let v=await f(e,m),b=v!=null?i(v):void 0;return o(b)?b:p?b??p.value:(p={value:await m()},p.value)}catch(v){return await s(v,d,p)}}function FF(e,t,n,i,o){let s=EF({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),r=eH(i.route,Jn(n.method)?"action":"loader",t,e,o);return{middleware:s,route:r.lazyRoutePromise,handler:r.lazyHandlerPromise}}function Cw(e,t,n,i,o,s,r,l,u=null,d){let f=!1,p=FF(e,t,n,o,s);return{...o,_lazyPromises:p,shouldLoad:l,shouldRevalidateArgs:u,shouldCallHandler(m){return f=!0,u?typeof d=="boolean"?Qu(o,{...u,defaultShouldRevalidate:d}):typeof m=="boolean"?Qu(o,{...u,defaultShouldRevalidate:m}):Qu(o,u):l},resolve(m){let{lazy:v,loader:b,middleware:S}=o.route,R=f||l||m&&!Jn(n.method)&&(v||b),x=S&&S.length>0&&!b&&!v;return R&&(Jn(n.method)||!x)?oH({request:n,unstable_pattern:i,match:o,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:m,scopedContext:r}):Promise.resolve({type:"data",result:void 0})}}}function oc(e,t,n,i,o,s,r,l=null){return i.map(u=>u.route.id!==o.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:FF(e,t,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Cw(e,t,n,Nd(i),u,s,r,!0,l))}async function iH(e,t,n,i,o,s){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let r={request:t,unstable_pattern:Nd(n),params:n[0].params,context:o,matches:n},u=await e({...r,fetcherKey:i,runClientMiddleware:d=>{let f=r;return TF(f,()=>d({...f,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return u}async function oH({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:i,lazyRoutePromise:o,handlerOverride:s,scopedContext:r}){let l,u,d=Jn(e.method),f=d?"action":"loader",p=m=>{let v,b=new Promise((x,T)=>v=T);u=()=>v(),e.signal.addEventListener("abort",u);let S=x=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):m({request:e,unstable_pattern:t,params:n.params,context:r},...x!==void 0?[x]:[]),R=(async()=>{try{return{type:"data",result:await(s?s(T=>S(T)):S())}}catch(x){return{type:"error",result:x}}})();return Promise.race([R,b])};try{let m=d?n.route.action:n.route.loader;if(i||o)if(m){let v,[b]=await Promise.all([p(m).catch(S=>{v=S}),i,o]);if(v!==void 0)throw v;l=b}else{await i;let v=d?n.route.action:n.route.loader;if(v)[l]=await Promise.all([p(v),o]);else if(f==="action"){let b=new URL(e.url),S=b.pathname+b.search;throw Ji(405,{method:e.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(m)l=await p(m);else{let v=new URL(e.url),b=v.pathname+v.search;throw Ji(404,{pathname:b})}}catch(m){return{type:"error",result:m}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function sH(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function rH(e){let{result:t,type:n}=e;if(Ny(t)){let i;try{i=await sH(t)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new Ld(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:"data",data:i,statusCode:t.status,headers:t.headers}}return n==="error"?tT(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:uH(t),statusCode:dd(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:dd(t)?t.status:void 0}:tT(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function aH(e,t,n,i,o){let s=e.headers.get("Location");if(it(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Iy(s)){let r=i.slice(0,i.findIndex(l=>l.route.id===n)+1);s=mw(new URL(t.url),r,o,s),e.headers.set("Location",s)}return e}function XE(e,t,n,i){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Iy(e)){let s=e,r=s.startsWith("//")?new URL(t.protocol+s):new URL(s);if(o.includes(r.protocol))throw new Error("Invalid redirect location");let l=ro(r.pathname,n)!=null;if(r.origin===t.origin&&l)return r.pathname+r.search+r.hash}try{let s=i.createURL(e);if(o.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return e}function $l(e,t,n,i){let o=e.createURL(PF(t)).toString(),s={signal:n};if(i&&Jn(i.formMethod)){let{formMethod:r,formEncType:l}=i;s.method=r.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(i.json)):l==="text/plain"?s.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?s.body=ww(i.formData):s.body=i.formData}return new Request(o,s)}function ww(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function QE(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function lH(e,t,n,i=!1,o=!1){let s={},r=null,l,u=!1,d={},f=n&&_i(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let m=p.route.id,v=t[m];if(it(!Sa(v),"Cannot handle redirect results in processLoaderData"),_i(v)){let b=v.error;if(f!==void 0&&(b=f,f=void 0),r=r||{},o)r[m]=b;else{let S=Rr(e,m);r[S.route.id]==null&&(r[S.route.id]=b)}i||(s[m]=RF),u||(u=!0,l=dd(v.error)?v.error.status:500),v.headers&&(d[m]=v.headers)}else s[m]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[m]=v.headers)}),f!==void 0&&n&&(r={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:r,statusCode:l||200,loaderHeaders:d}}function ZE(e,t,n,i,o,s){let{loaderData:r,errors:l}=lH(t,n,i);return o.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:f,controller:p}=u;if(p&&p.signal.aborted)return;let m=s[d];if(it(m,"Did not find corresponding fetcher result"),_i(m)){let v=Rr(e.matches,f?.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:m.error}),e.fetchers.delete(d)}else if(Sa(m))it(!1,"Unhandled fetcher revalidation redirect");else{let v=xs(m.data);e.fetchers.set(d,v)}}),{loaderData:r,errors:l}}function JE(e,t,n,i){let o=Object.entries(t).filter(([,s])=>s!==RF).reduce((s,[r,l])=>(s[r]=l,s),{});for(let s of n){let r=s.route.id;if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&s.route.loader&&(o[r]=e[r]),i&&i.hasOwnProperty(r))break}return o}function eT(e){return e?_i(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Rr(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function mf(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ji(e,{pathname:t,routeId:n,method:i,type:o,message:s}={}){let r="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(r="Bad Request",i&&t&&n?l=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(l="Unable to encode submission body")):e===403?(r="Forbidden",l=`Route "${n}" does not match URL "${t}"`):e===404?(r="Not Found",l=`No route matches URL "${t}"`):e===405&&(r="Method Not Allowed",i&&t&&n?l=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(l=`Invalid request method "${i.toUpperCase()}"`)),new Ld(e||500,r,new Error(l),!0)}function vf(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,o]=t[n];if(Sa(o))return{key:i,result:o}}}function PF(e){let t=typeof e=="string"?Lr(e):e;return Jo({...t,hash:""})}function cH(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function uH(e){return new Ld(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function dH(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&hH(n))}function hH(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function fH(e){return Ny(e.result)&&bF.has(e.result.status)}function _i(e){return e.type==="error"}function Sa(e){return(e&&e.type)==="redirect"}function tT(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ny(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function gH(e){return bF.has(e)}function pH(e){return Ny(e)&&gH(e.status)&&e.headers.has("Location")}function mH(e){return $2.has(e.toUpperCase())}function Jn(e){return U2.has(e.toUpperCase())}function Hy(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Kf(e,t){let n=typeof t=="string"?Lr(t).search:t.search;if(e[e.length-1].route.index&&Hy(n||""))return e[e.length-1];let i=mF(e);return i[i.length-1]}function nT(e){let{formMethod:t,formAction:n,formEncType:i,text:o,formData:s,json:r}=e;if(!(!t||!n||!i)){if(o!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:t,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(r!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:r,text:void 0}}}function fC(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vH(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Lu(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function CH(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function xs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wH(e,t){try{let n=e.sessionStorage.getItem(SF);if(n){let i=JSON.parse(n);for(let[o,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(o,new Set(s||[]))}}catch{}}function yH(e,t){if(t.size>0){let n={};for(let[i,o]of t)n[i]=[...o];try{e.sessionStorage.setItem(SF,JSON.stringify(n))}catch(i){Dn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function iT(){let e,t,n=new Promise((i,o)=>{e=async s=>{i(s);try{await n}catch{}},t=async s=>{o(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var ja=w.createContext(null);ja.displayName="DataRouter";var Hd=w.createContext(null);Hd.displayName="DataRouterState";var AF=w.createContext(!1);function bH(){return w.useContext(AF)}var Gy=w.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var MF=w.createContext(new Map);MF.displayName="Fetchers";var SH=w.createContext(null);SH.displayName="Await";var lo=w.createContext(null);lo.displayName="Navigation";var lp=w.createContext(null);lp.displayName="Location";var Mo=w.createContext({outlet:null,matches:[],isDataRoute:!1});Mo.displayName="Route";var By=w.createContext(null);By.displayName="RouteError";var kF="REACT_ROUTER_ERROR",RH="REDIRECT",xH="ROUTE_ERROR_RESPONSE";function EH(e){if(e.startsWith(`${kF}:${RH}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function TH(e){if(e.startsWith(`${kF}:${xH}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ld(t.status,t.statusText,t.data)}catch{}}function DH(e,{relative:t}={}){it(Gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=w.useContext(lo),{hash:o,pathname:s,search:r}=Bd(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:qo([n,s])),i.createHref({pathname:l,search:r,hash:o})}function Gd(){return w.useContext(lp)!=null}function $a(){return it(Gd(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(lp).location}var IF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OF(e){w.useContext(lo).static||w.useLayoutEffect(e)}function cp(){let{isDataRoute:e}=w.useContext(Mo);return e?zH():FH()}function FH(){it(Gd(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ja),{basename:t,navigator:n}=w.useContext(lo),{matches:i}=w.useContext(Mo),{pathname:o}=$a(),s=JSON.stringify(Oy(i)),r=w.useRef(!1);return OF(()=>{r.current=!0}),w.useCallback((u,d={})=>{if(Dn(r.current,IF),!r.current)return;if(typeof u=="number"){n.go(u);return}let f=_y(u,JSON.parse(s),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,o,e])}var PH=w.createContext(null);function AH(e){let t=w.useContext(Mo).outlet;return w.useMemo(()=>t&&w.createElement(PH.Provider,{value:e},t),[t,e])}function MH(){let{matches:e}=w.useContext(Mo),t=e[e.length-1];return t?t.params:{}}function Bd(e,{relative:t}={}){let{matches:n}=w.useContext(Mo),{pathname:i}=$a(),o=JSON.stringify(Oy(n));return w.useMemo(()=>_y(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function kH(e,t,n,i,o){it(Gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(lo),{matches:r}=w.useContext(Mo),l=r[r.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let T=p&&p.path||"";NF(d,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=$a(),v;v=m;let b=v.pathname||"/",S=b;if(f!=="/"){let T=f.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let R=Sr(e,{pathname:S});return Dn(p||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Dn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),NH(R&&R.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:qo([f,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:qo([f,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),r,n,i,o)}function IH(){let e=LF(),t=dd(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},r=null;return console.error("Error handled by React Router default ErrorBoundary:",e),r=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:o},n):null,r)}var OH=w.createElement(IH,null),_F=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=TH(e.digest);n&&(e=n)}let t=e!==void 0?w.createElement(Mo.Provider,{value:this.props.routeContext},w.createElement(By.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?w.createElement(_H,{error:e},t):t}};_F.contextType=AF;var gC=new WeakMap;function _H({children:e,error:t}){let{basename:n}=w.useContext(lo);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=EH(t.digest);if(i){let o=gC.get(t);if(o)throw o;let s=CF(i.location,n);if(vF&&!gC.get(t))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const r=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw gC.set(t,r),r}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function LH({routeContext:e,match:t,children:n}){let i=w.useContext(ja);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Mo.Provider,{value:e},n)}function NH(e,t=[],n=null,i=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,r=n?.errors;if(r!=null){let f=s.findIndex(p=>p.route.id&&r?.[p.route.id]!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:m,errors:v}=n,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let d=n&&i?(f,p)=>{i(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Nd(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,m)=>{let v,b=!1,S=null,R=null;n&&(v=r&&p.route.id?r[p.route.id]:void 0,S=p.route.errorElement||OH,l&&(u<0&&m===0?(NF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,R=null):u===m&&(b=!0,R=p.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,m+1)),T=()=>{let F;return v?F=S:b?F=R:p.route.Component?F=w.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,w.createElement(LH,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?w.createElement(_F,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:d}):T()},null)}function Vy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HH(e){let t=w.useContext(ja);return it(t,Vy(e)),t}function GH(e){let t=w.useContext(Hd);return it(t,Vy(e)),t}function BH(e){let t=w.useContext(Mo);return it(t,Vy(e)),t}function zy(e){let t=BH(e),n=t.matches[t.matches.length-1];return it(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function VH(){return zy("useRouteId")}function LF(){let e=w.useContext(By),t=GH("useRouteError"),n=zy("useRouteError");return e!==void 0?e:t.errors?.[n]}function zH(){let{router:e}=HH("useNavigate"),t=zy("useNavigate"),n=w.useRef(!1);return OF(()=>{n.current=!0}),w.useCallback(async(o,s={})=>{Dn(n.current,IF),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...s}))},[e,t])}var oT={};function NF(e,t,n){!t&&!oT[e]&&(oT[e]=!0,Dn(!1,n))}var sT={};function rT(e,t){!e&&!sT[t]&&(sT[t]=!0,console.warn(t))}var WH="useOptimistic",aT=ap[WH],UH=()=>{};function jH(e){return aT?aT(e):[e,UH]}function $H(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Dn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Dn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Dn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var KH=["HydrateFallback","hydrateFallbackElement"],qH=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function YH({router:e,flushSync:t,onError:n,unstable_useTransitions:i}){i=bH()||i;let[s,r]=w.useState(e.state),[l,u]=jH(s),[d,f]=w.useState(),[p,m]=w.useState({isTransitioning:!1}),[v,b]=w.useState(),[S,R]=w.useState(),[x,T]=w.useState(),F=w.useRef(new Map),A=w.useCallback((_,{deletedFetchers:L,newErrors:V,flushSync:z,viewTransitionOpts:K})=>{V&&n&&Object.values(V).forEach(he=>n(he,{location:_.location,params:_.matches[0]?.params??{},unstable_pattern:Nd(_.matches)})),_.fetchers.forEach((he,J)=>{he.data!==void 0&&F.current.set(J,he.data)}),L.forEach(he=>F.current.delete(he)),rT(z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let se=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(rT(K==null||se,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!K||!se){t&&z?t(()=>r(_)):i===!1?r(_):w.startTransition(()=>{i===!0&&u(he=>lT(he,_)),r(_)});return}if(t&&z){t(()=>{S&&(v?.resolve(),S.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let he=e.window.document.startViewTransition(()=>{t(()=>r(_))});he.finished.finally(()=>{t(()=>{b(void 0),R(void 0),f(void 0),m({isTransitioning:!1})})}),t(()=>R(he));return}S?(v?.resolve(),S.skipTransition(),T({state:_,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(f(_),m({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[e.window,t,S,v,i,u,n]);w.useLayoutEffect(()=>e.subscribe(A),[e,A]),w.useEffect(()=>{p.isTransitioning&&!p.flushSync&&b(new qH)},[p]),w.useEffect(()=>{if(v&&d&&e.window){let _=d,L=v.promise,V=e.window.document.startViewTransition(async()=>{i===!1?r(_):w.startTransition(()=>{i===!0&&u(z=>lT(z,_)),r(_)}),await L});V.finished.finally(()=>{b(void 0),R(void 0),f(void 0),m({isTransitioning:!1})}),R(V)}},[d,v,e.window,i,u]),w.useEffect(()=>{v&&d&&l.location.key===d.location.key&&v.resolve()},[v,S,l.location,d]),w.useEffect(()=>{!p.isTransitioning&&x&&(f(x.state),m({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),T(void 0))},[p.isTransitioning,x]);let M=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:_=>e.navigate(_),push:(_,L,V)=>e.navigate(_,{state:L,preventScrollReset:V?.preventScrollReset}),replace:(_,L,V)=>e.navigate(_,{replace:!0,state:L,preventScrollReset:V?.preventScrollReset})}),[e]),I=e.basename||"/",P=w.useMemo(()=>({router:e,navigator:M,static:!1,basename:I,onError:n}),[e,M,I,n]);return w.createElement(w.Fragment,null,w.createElement(ja.Provider,{value:P},w.createElement(Hd.Provider,{value:l},w.createElement(MF.Provider,{value:F.current},w.createElement(Gy.Provider,{value:p},w.createElement(JH,{basename:I,location:l.location,navigationType:l.historyAction,navigator:M,unstable_useTransitions:i},w.createElement(XH,{routes:e.routes,future:e.future,state:l,onError:n})))))),null)}function lT(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var XH=w.memo(QH);function QH({routes:e,future:t,state:n,onError:i}){return kH(e,void 0,n,i,t)}function ZH(e){return AH(e.context)}function JH({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:s=!1,unstable_useTransitions:r}){it(!Gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:o,static:s,unstable_useTransitions:r,future:{}}),[l,o,s,r]);typeof n=="string"&&(n=Lr(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=n,b=w.useMemo(()=>{let S=ro(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:v},navigationType:i}},[l,d,f,p,m,v,i]);return Dn(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(lo.Provider,{value:u},w.createElement(lp.Provider,{children:t,value:b}))}var qf="get",Yf="application/x-www-form-urlencoded";function up(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function eG(e){return up(e)&&e.tagName.toLowerCase()==="button"}function tG(e){return up(e)&&e.tagName.toLowerCase()==="form"}function nG(e){return up(e)&&e.tagName.toLowerCase()==="input"}function iG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oG(e,t){return e.button===0&&(!t||t==="_self")&&!iG(e)}var Cf=null;function sG(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var rG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pC(e){return e!=null&&!rG.has(e)?(Dn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yf}"`),null):e}function aG(e,t){let n,i,o,s,r;if(tG(e)){let l=e.getAttribute("action");i=l?ro(l,t):null,n=e.getAttribute("method")||qf,o=pC(e.getAttribute("enctype"))||Yf,s=new FormData(e)}else if(eG(e)||nG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(i=u?ro(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||qf,o=pC(e.getAttribute("formenctype"))||pC(l.getAttribute("enctype"))||Yf,s=new FormData(l,e),!sG()){let{name:d,type:f,value:p}=e;if(f==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,p)}}else{if(up(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qf,i=null,o=Yf,r=e}return s&&o==="text/plain"&&(r=s,s=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:s,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lG(e,t,n,i){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:t&&ro(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function cG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dG(e,t,n){let i=await Promise.all(e.map(async o=>{let s=t.routes[o.route.id];if(s){let r=await cG(s,n);return r.links?r.links():[]}return[]}));return pG(i.flat(1).filter(uG).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cT(e,t,n,i,o,s){let r=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?t.filter((u,d)=>r(u,d)||l(u,d)):s==="data"?t.filter((u,d)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(r(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function hG(e,t,{includeHydrateFallback:n}={}){return fG(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function fG(e){return[...new Set(e)]}function gG(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function pG(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let s=JSON.stringify(gG(o));return n.has(s)||(n.add(s),i.push({key:s,link:o})),i},[])}function HF(){let e=w.useContext(ja);return Wy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mG(){let e=w.useContext(Hd);return Wy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Uy=w.createContext(void 0);Uy.displayName="FrameworkContext";function GF(){let e=w.useContext(Uy);return Wy(e,"You must render this element inside a <HydratedRouter> element"),e}function vG(e,t){let n=w.useContext(Uy),[i,o]=w.useState(!1),[s,r]=w.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=t,m=w.useRef(null);w.useEffect(()=>{if(e==="render"&&r(!0),e==="viewport"){let S=x=>{x.forEach(T=>{r(T.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[e]),w.useEffect(()=>{if(i){let S=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{o(!0)},b=()=>{o(!1),r(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Nu(l,v),onBlur:Nu(u,b),onMouseEnter:Nu(d,v),onMouseLeave:Nu(f,b),onTouchStart:Nu(p,v)}]:[!1,m,{}]}function Nu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function CG({page:e,...t}){let{router:n}=HF(),i=w.useMemo(()=>Sr(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?w.createElement(yG,{page:e,matches:i,...t}):null}function wG(e){let{manifest:t,routeModules:n}=GF(),[i,o]=w.useState([]);return w.useEffect(()=>{let s=!1;return dG(e,t,n).then(r=>{s||o(r)}),()=>{s=!0}},[e,t,n]),i}function yG({page:e,matches:t,...n}){let i=$a(),{future:o,manifest:s,routeModules:r}=GF(),{basename:l}=HF(),{loaderData:u,matches:d}=mG(),f=w.useMemo(()=>cT(e,t,d,s,i,"data"),[e,t,d,s,i]),p=w.useMemo(()=>cT(e,t,d,s,i,"assets"),[e,t,d,s,i]),m=w.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(t.forEach(T=>{let F=s.routes[T.route.id];!F||!F.hasLoader||(!f.some(A=>A.route.id===T.route.id)&&T.route.id in u&&r[T.route.id]?.shouldRevalidate||F.hasClientLoader?R=!0:S.add(T.route.id))}),S.size===0)return[];let x=lG(e,l,o.unstable_trailingSlashAwareDataRequests,"data");return R&&S.size>0&&x.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[l,o.unstable_trailingSlashAwareDataRequests,u,i,s,f,t,e,r]),v=w.useMemo(()=>hG(p,s),[p,s]),b=wG(p);return w.createElement(w.Fragment,null,m.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:R})=>w.createElement("link",{key:S,nonce:n.nonce,...R,crossOrigin:R.crossOrigin??n.crossOrigin})))}function bG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var SG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SG&&(window.__reactRouterVersion="7.13.0")}catch{}function RG(e,t){return X2({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:h2({window:t?.window}),hydrationData:t?.hydrationData||xG(),routes:e,mapRouteProperties:$H,hydrationRouteProperties:KH,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function xG(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:EG(e.errors)}),e}function EG(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&o.__type==="RouteErrorResponse")n[i]=new Ld(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let r=new s(o.message);r.stack="",n[i]=r}catch{}}if(n[i]==null){let s=new Error(o.message);s.stack="",n[i]=s}}else n[i]=o;return n}var BF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yo=w.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:s,replace:r,state:l,target:u,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...v},b){let{basename:S,unstable_useTransitions:R}=w.useContext(lo),x=typeof d=="string"&&BF.test(d),T=CF(d,S);d=T.to;let F=DH(d,{relative:o}),[A,M,I]=vG(i,v),P=PG(d,{replace:r,state:l,target:u,preventScrollReset:f,relative:o,viewTransition:p,unstable_defaultShouldRevalidate:m,unstable_useTransitions:R});function _(V){t&&t(V),V.defaultPrevented||P(V)}let L=w.createElement("a",{...v,...I,href:T.absoluteURL||F,onClick:T.isExternal||s?t:_,ref:bG(b,M),target:u,"data-discover":!x&&n==="render"?"true":void 0});return A&&!x?w.createElement(w.Fragment,null,L,w.createElement(CG,{page:F})):L});Yo.displayName="Link";var TG=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:s,to:r,viewTransition:l,children:u,...d},f){let p=Bd(r,{relative:d.relative}),m=$a(),v=w.useContext(Hd),{navigator:b,basename:S}=w.useContext(lo),R=v!=null&&OG(p)&&l===!0,x=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=m.pathname,F=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(T=T.toLowerCase(),F=F?F.toLowerCase():null,x=x.toLowerCase()),F&&S&&(F=ro(F,S)||F);const A=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let M=T===x||!o&&T.startsWith(x)&&T.charAt(A)==="/",I=F!=null&&(F===x||!o&&F.startsWith(x)&&F.charAt(x.length)==="/"),P={isActive:M,isPending:I,isTransitioning:R},_=M?t:void 0,L;typeof i=="function"?L=i(P):L=[i,M?"active":null,I?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof s=="function"?s(P):s;return w.createElement(Yo,{...d,"aria-current":_,className:L,ref:f,style:V,to:r,viewTransition:l},typeof u=="function"?u(P):u)});TG.displayName="NavLink";var DG=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:s,method:r=qf,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m,...v},b)=>{let{unstable_useTransitions:S}=w.useContext(lo),R=kG(),x=IG(l,{relative:d}),T=r.toLowerCase()==="get"?"get":"post",F=typeof l=="string"&&BF.test(l),A=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let I=M.nativeEvent.submitter,P=I?.getAttribute("formmethod")||r,_=()=>R(I||M.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:o,state:s,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:m});S&&n!==!1?w.startTransition(()=>_()):_()};return w.createElement("form",{ref:b,method:T,action:x,onSubmit:i?u:A,...v,"data-discover":!F&&e==="render"?"true":void 0})});DG.displayName="Form";function FG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VF(e){let t=w.useContext(ja);return it(t,FG(e)),t}function PG(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:r,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let d=cp(),f=$a(),p=Bd(e,{relative:s});return w.useCallback(m=>{if(oG(m,t)){m.preventDefault();let v=n!==void 0?n:Jo(f)===Jo(p),b=()=>d(e,{replace:v,state:i,preventScrollReset:o,relative:s,viewTransition:r,unstable_defaultShouldRevalidate:l});u?w.startTransition(()=>b()):b()}},[f,d,p,n,i,t,e,o,s,r,l,u])}var AG=0,MG=()=>`__${String(++AG)}__`;function kG(){let{router:e}=VF("useSubmit"),{basename:t}=w.useContext(lo),n=VH(),i=e.fetch,o=e.navigate;return w.useCallback(async(s,r={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=aG(s,t);if(r.navigate===!1){let m=r.fetcherKey||MG();await i(m,n,r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||u,formEncType:r.encType||d,flushSync:r.flushSync})}else await o(r.action||l,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:f,body:p,formMethod:r.method||u,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,o,t,n])}function IG(e,{relative:t}={}){let{basename:n}=w.useContext(lo),i=w.useContext(Mo);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),s={...Bd(e||".",{relative:t})},r=$a();if(e==null){s.search=r.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:qo([n,s.pathname])),Jo(s)}function OG(e,{relative:t}={}){let n=w.useContext(Gy);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=VF("useViewTransitionState"),o=Bd(e,{relative:t});if(!n.isTransitioning)return!1;let s=ro(n.currentLocation.pathname,i)||n.currentLocation.pathname,r=ro(n.nextLocation.pathname,i)||n.nextLocation.pathname;return pg(o.pathname,r)!=null||pg(o.pathname,s)!=null}const _G=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LG=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),uT=e=>{const t=LG(e);return t.charAt(0).toUpperCase()+t.slice(1)},zF=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),NG=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GG=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:s,iconNode:r,...l},u)=>w.createElement("svg",{ref:u,...HG,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:zF("lucide",o),...!s&&!NG(l)&&{"aria-hidden":"true"},...l},[...r.map(([d,f])=>w.createElement(d,f)),...Array.isArray(s)?s:[s]]));const wn=(e,t)=>{const n=w.forwardRef(({className:i,...o},s)=>w.createElement(GG,{ref:s,iconNode:t,className:zF(`lucide-${_G(uT(e))}`,`lucide-${e}`,i),...o}));return n.displayName=uT(e),n};const BG=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],WF=wn("arrow-up-right",BG);const VG=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],UF=wn("building-2",VG);const zG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],WG=wn("check",zG);const UG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jF=wn("chevron-down",UG);const jG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$G=wn("chevron-right",jG);const KG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$F=wn("circle-check",KG);const qG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YG=wn("circle",qG);const XG=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],QG=wn("code",XG);const ZG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],JG=wn("database",ZG);const eB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KF=wn("eye-off",eB);const tB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qF=wn("eye",tB);const nB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iB=wn("globe",nB);const oB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],YF=wn("house",oB);const sB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rB=wn("loader-circle",sB);const aB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lB=wn("log-out",aB);const cB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uB=wn("menu",cB);const dB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hB=wn("moon",dB);const fB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gB=wn("sun",fB);const pB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mB=wn("triangle-alert",pB);const vB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XF=wn("user",vB);const CB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wB=wn("x",CB),yB="/visor-leetcode/assets/okey-frieren-BGIdK6cR.png";function dT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nr(...e){return t=>{let n=!1;const i=e.map(o=>{const s=dT(o,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let o=0;o<i.length;o++){const s=i[o];typeof s=="function"?s():dT(e[o],null)}}}}function Vt(...e){return w.useCallback(Nr(...e),e)}var bB=Symbol.for("react.lazy"),mg=ap[" use ".trim().toString()];function SB(e){return typeof e=="object"&&e!==null&&"then"in e}function QF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bB&&"_payload"in e&&SB(e._payload)}function jy(e){const t=xB(e),n=w.forwardRef((i,o)=>{let{children:s,...r}=i;QF(s)&&typeof mg=="function"&&(s=mg(s._payload));const l=w.Children.toArray(s),u=l.find(TB);if(u){const d=u.props.children,f=l.map(p=>p===u?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:p);return E.jsx(t,{...r,ref:o,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}var RB=jy("Slot");function xB(e){const t=w.forwardRef((n,i)=>{let{children:o,...s}=n;if(QF(o)&&typeof mg=="function"&&(o=mg(o._payload)),w.isValidElement(o)){const r=FB(o),l=DB(s,o.props);return o.type!==w.Fragment&&(l.ref=i?Nr(i,r):r),w.cloneElement(o,l)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EB=Symbol("radix.slottable");function TB(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EB}function DB(e,t){const n={...t};for(const i in t){const o=e[i],s=t[i];/^on[A-Z]/.test(i)?o&&s?n[i]=(...l)=>{const u=s(...l);return o(...l),u}:o&&(n[i]=o):i==="style"?n[i]={...o,...s}:i==="className"&&(n[i]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function FB(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ZF(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ZF(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function JF(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ZF(e))&&(i&&(i+=" "),i+=t);return i}const hT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fT=JF,Ic=(e,t)=>n=>{var i;if(t?.variants==null)return fT(e,n?.class,n?.className);const{variants:o,defaultVariants:s}=t,r=Object.keys(o).map(d=>{const f=n?.[d],p=s?.[d];if(f===null)return null;const m=hT(f)||hT(p);return o[d][m]}),l=n&&Object.entries(n).reduce((d,f)=>{let[p,m]=f;return m===void 0||(d[p]=m),d},{}),u=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((d,f)=>{let{class:p,className:m,...v}=f;return Object.entries(v).every(b=>{let[S,R]=b;return Array.isArray(R)?R.includes({...s,...l}[S]):{...s,...l}[S]===R})?[...d,p,m]:d},[]);return fT(e,r,u,n?.class,n?.className)},PB=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},AB=(e,t)=>({classGroupId:e,validator:t}),eP=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),vg="-",gT=[],MB="arbitrary..",kB=e=>{const t=OB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:r=>{if(r.startsWith("[")&&r.endsWith("]"))return IB(r);const l=r.split(vg),u=l[0]===""&&l.length>1?1:0;return tP(l,u,t)},getConflictingClassGroupIds:(r,l)=>{if(l){const u=i[r],d=n[r];return u?d?PB(d,u):u:d||gT}return n[r]||gT}}},tP=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],s=n.nextPart.get(o);if(s){const d=tP(e,t+1,s);if(d)return d}const r=n.validators;if(r===null)return;const l=t===0?e.join(vg):e.slice(t).join(vg),u=r.length;for(let d=0;d<u;d++){const f=r[d];if(f.validator(l))return f.classGroupId}},IB=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?MB+i:void 0})(),OB=e=>{const{theme:t,classGroups:n}=e;return _B(n,t)},_B=(e,t)=>{const n=eP();for(const i in e){const o=e[i];$y(o,n,i,t)}return n},$y=(e,t,n,i)=>{const o=e.length;for(let s=0;s<o;s++){const r=e[s];LB(r,t,n,i)}},LB=(e,t,n,i)=>{if(typeof e=="string"){NB(e,t,n);return}if(typeof e=="function"){HB(e,t,n,i);return}GB(e,t,n,i)},NB=(e,t,n)=>{const i=e===""?t:nP(t,e);i.classGroupId=n},HB=(e,t,n,i)=>{if(BB(e)){$y(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(AB(n,e))},GB=(e,t,n,i)=>{const o=Object.entries(e),s=o.length;for(let r=0;r<s;r++){const[l,u]=o[r];$y(u,nP(t,l),n,i)}},nP=(e,t)=>{let n=e;const i=t.split(vg),o=i.length;for(let s=0;s<o;s++){const r=i[s];let l=n.nextPart.get(r);l||(l=eP(),n.nextPart.set(r,l)),n=l}return n},BB=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,VB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const o=(s,r)=>{n[s]=r,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(s){let r=n[s];if(r!==void 0)return r;if((r=i[s])!==void 0)return o(s,r),r},set(s,r){s in n?n[s]=r:o(s,r)}}},yw="!",pT=":",zB=[],mT=(e,t,n,i,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:o}),WB=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=o=>{const s=[];let r=0,l=0,u=0,d;const f=o.length;for(let S=0;S<f;S++){const R=o[S];if(r===0&&l===0){if(R===pT){s.push(o.slice(u,S)),u=S+1;continue}if(R==="/"){d=S;continue}}R==="["?r++:R==="]"?r--:R==="("?l++:R===")"&&l--}const p=s.length===0?o:o.slice(u);let m=p,v=!1;p.endsWith(yw)?(m=p.slice(0,-1),v=!0):p.startsWith(yw)&&(m=p.slice(1),v=!0);const b=d&&d>u?d-u:void 0;return mT(s,v,m,b)};if(t){const o=t+pT,s=i;i=r=>r.startsWith(o)?s(r.slice(o.length)):mT(zB,!1,r,void 0,!0)}if(n){const o=i;i=s=>n({className:s,parseClassName:o})}return i},UB=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let o=[];for(let s=0;s<n.length;s++){const r=n[s],l=r[0]==="[",u=t.has(r);l||u?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(r)):o.push(r)}return o.length>0&&(o.sort(),i.push(...o)),i}},jB=e=>({cache:VB(e.cacheSize),parseClassName:WB(e),sortModifiers:UB(e),...kB(e)}),$B=/\s+/,KB=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:s}=t,r=[],l=e.trim().split($B);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:p,modifiers:m,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:S}=n(f);if(p){u=f+(u.length>0?" "+u:u);continue}let R=!!S,x=i(R?b.substring(0,S):b);if(!x){if(!R){u=f+(u.length>0?" "+u:u);continue}if(x=i(b),!x){u=f+(u.length>0?" "+u:u);continue}R=!1}const T=m.length===0?"":m.length===1?m[0]:s(m).join(":"),F=v?T+yw:T,A=F+x;if(r.indexOf(A)>-1)continue;r.push(A);const M=o(x,R);for(let I=0;I<M.length;++I){const P=M[I];r.push(F+P)}u=f+(u.length>0?" "+u:u)}return u},qB=(...e)=>{let t=0,n,i,o="";for(;t<e.length;)(n=e[t++])&&(i=iP(n))&&(o&&(o+=" "),o+=i);return o},iP=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=iP(e[i]))&&(n&&(n+=" "),n+=t);return n},YB=(e,...t)=>{let n,i,o,s;const r=u=>{const d=t.reduce((f,p)=>p(f),e());return n=jB(d),i=n.cache.get,o=n.cache.set,s=l,l(u)},l=u=>{const d=i(u);if(d)return d;const f=KB(u,n);return o(u,f),f};return s=r,(...u)=>s(qB(...u))},XB=[],An=e=>{const t=n=>n[e]||XB;return t.isThemeGetter=!0,t},oP=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sP=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QB=/^\d+\/\d+$/,ZB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kl=e=>QB.test(e),nt=e=>!!e&&!Number.isNaN(Number(e)),fr=e=>!!e&&Number.isInteger(Number(e)),mC=e=>e.endsWith("%")&&nt(e.slice(0,-1)),Rs=e=>ZB.test(e),iV=()=>!0,oV=e=>JB.test(e)&&!eV.test(e),rP=()=>!1,sV=e=>tV.test(e),rV=e=>nV.test(e),aV=e=>!Fe(e)&&!Pe(e),lV=e=>Oc(e,cP,rP),Fe=e=>oP.test(e),da=e=>Oc(e,uP,oV),vC=e=>Oc(e,fV,nt),vT=e=>Oc(e,aP,rP),cV=e=>Oc(e,lP,rV),wf=e=>Oc(e,dP,sV),Pe=e=>sP.test(e),Hu=e=>_c(e,uP),uV=e=>_c(e,gV),CT=e=>_c(e,aP),dV=e=>_c(e,cP),hV=e=>_c(e,lP),yf=e=>_c(e,dP,!0),Oc=(e,t,n)=>{const i=oP.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},_c=(e,t,n=!1)=>{const i=sP.exec(e);return i?i[1]?t(i[1]):n:!1},aP=e=>e==="position"||e==="percentage",lP=e=>e==="image"||e==="url",cP=e=>e==="length"||e==="size"||e==="bg-size",uP=e=>e==="length",fV=e=>e==="number",gV=e=>e==="family-name",dP=e=>e==="shadow",pV=()=>{const e=An("color"),t=An("font"),n=An("text"),i=An("font-weight"),o=An("tracking"),s=An("leading"),r=An("breakpoint"),l=An("container"),u=An("spacing"),d=An("radius"),f=An("shadow"),p=An("inset-shadow"),m=An("text-shadow"),v=An("drop-shadow"),b=An("blur"),S=An("perspective"),R=An("aspect"),x=An("ease"),T=An("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...A(),Pe,Fe],I=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],_=()=>[Pe,Fe,u],L=()=>[kl,"full","auto",..._()],V=()=>[fr,"none","subgrid",Pe,Fe],z=()=>["auto",{span:["full",fr,Pe,Fe]},fr,Pe,Fe],K=()=>[fr,"auto",Pe,Fe],se=()=>["auto","min","max","fr",Pe,Fe],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",..._()],q=()=>[kl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],G=()=>[e,Pe,Fe],ee=()=>[...A(),CT,vT,{position:[Pe,Fe]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",dV,lV,{size:[Pe,Fe]}],U=()=>[mC,Hu,da],Q=()=>["","none","full",d,Pe,Fe],ae=()=>["",nt,Hu,da],ve=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[nt,mC,CT,vT],Ke=()=>["","none",b,Pe,Fe],Ye=()=>["none",nt,Pe,Fe],We=()=>["none",nt,Pe,Fe],Ft=()=>[nt,Pe,Fe],Be=()=>[kl,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Rs],breakpoint:[Rs],color:[iV],container:[Rs],"drop-shadow":[Rs],ease:["in","out","in-out"],font:[aV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Rs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Rs],shadow:[Rs],spacing:["px",nt],text:[Rs],"text-shadow":[Rs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kl,Fe,Pe,R]}],container:["container"],columns:[{columns:[nt,Fe,Pe,l]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[fr,"auto",Pe,Fe]}],basis:[{basis:[kl,"full","auto",l,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,kl,"auto","initial","none",Fe]}],grow:[{grow:["",nt,Pe,Fe]}],shrink:[{shrink:["",nt,Pe,Fe]}],order:[{order:[fr,"first","last","none",Pe,Fe]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[r]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,Hu,da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Pe,vC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mC,Fe]}],"font-family":[{font:[uV,Fe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Pe,Fe]}],"line-clamp":[{"line-clamp":[nt,"none",Pe,vC]}],leading:[{leading:[s,..._()]}],"list-image":[{"list-image":["none",Pe,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",Pe,da]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[nt,"auto",Pe,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fr,Pe,Fe],radial:["",Pe,Fe],conic:[fr,Pe,Fe]},hV,cV]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,Pe,Fe]}],"outline-w":[{outline:["",nt,Hu,da]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",f,yf,wf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",p,yf,wf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[nt,da]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",m,yf,wf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[nt,Pe,Fe]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Pe,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Fe]}],filter:[{filter:["","none",Pe,Fe]}],blur:[{blur:Ke()}],brightness:[{brightness:[nt,Pe,Fe]}],contrast:[{contrast:[nt,Pe,Fe]}],"drop-shadow":[{"drop-shadow":["","none",v,yf,wf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",nt,Pe,Fe]}],"hue-rotate":[{"hue-rotate":[nt,Pe,Fe]}],invert:[{invert:["",nt,Pe,Fe]}],saturate:[{saturate:[nt,Pe,Fe]}],sepia:[{sepia:["",nt,Pe,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Fe]}],"backdrop-blur":[{"backdrop-blur":Ke()}],"backdrop-brightness":[{"backdrop-brightness":[nt,Pe,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[nt,Pe,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,Pe,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,Pe,Fe]}],"backdrop-invert":[{"backdrop-invert":["",nt,Pe,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[nt,Pe,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[nt,Pe,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,Pe,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",Pe,Fe]}],ease:[{ease:["linear","initial",x,Pe,Fe]}],delay:[{delay:[nt,Pe,Fe]}],animate:[{animate:["none",T,Pe,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Pe,Fe]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:Ft()}],"skew-x":[{"skew-x":Ft()}],"skew-y":[{"skew-y":Ft()}],transform:[{transform:[Pe,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Be()}],"translate-x":[{"translate-x":Be()}],"translate-y":[{"translate-y":Be()}],"translate-z":[{"translate-z":Be()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Fe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[nt,Hu,da,vC]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mV=YB(pV);function St(...e){return mV(JF(e))}const vV=Ic("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),io=w.forwardRef((e,t)=>{const n=Oe.c(15);let i,o,s,r,l;n[0]!==e?({className:i,variant:l,size:s,asChild:r,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r,n[5]=l):(i=n[1],o=n[2],s=n[3],r=n[4],l=n[5]);const d=(r===void 0?!1:r)?RB:"button";let f;n[6]!==i||n[7]!==s||n[8]!==l?(f=St(vV({variant:l,size:s,className:i})),n[6]=i,n[7]=s,n[8]=l,n[9]=f):f=n[9];let p;return n[10]!==d||n[11]!==o||n[12]!==t||n[13]!==f?(p=E.jsx(d,{className:f,ref:t,...o}),n[10]=d,n[11]=o,n[12]=t,n[13]=f,n[14]=p):p=n[14],p});io.displayName="Button";function Ky(e){const t=Oe.c(8);let n,i;t[0]!==e?({className:n,...i}=e,t[0]=e,t[1]=n,t[2]=i):(n=t[1],i=t[2]);let o;t[3]!==n?(o=St("size-4 animate-spin",n),t[3]=n,t[4]=o):o=t[4];let s;return t[5]!==i||t[6]!==o?(s=E.jsx(rB,{role:"status","aria-label":"Loading",className:o,...i}),t[5]=i,t[6]=o,t[7]=s):s=t[7],s}var Wo=function(){return Wo=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Wo.apply(this,arguments)};function Lc(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function CV(e,t,n,i){function o(s){return s instanceof n?s:new n(function(r){r(s)})}return new(n||(n=Promise))(function(s,r){function l(f){try{d(i.next(f))}catch(p){r(p)}}function u(f){try{d(i.throw(f))}catch(p){r(p)}}function d(f){f.done?s(f.value):o(f.value).then(l,u)}d((i=i.apply(e,t||[])).next())})}function wV(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}const yV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class qy extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class bV extends qy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wT extends qy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yT extends qy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bw||(bw={}));class SV{constructor(t,{headers:n={},customFetch:i,region:o=bw.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=yV(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return CV(this,arguments,void 0,function*(n,i={}){var o;let s,r;try{const{headers:l,method:u,body:d,signal:f,timeout:p}=i;let m={},{region:v}=i;v||(v=this.region);const b=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let S;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",S=d):typeof d=="string"?(m["Content-Type"]="text/plain",S=d):typeof FormData<"u"&&d instanceof FormData?S=d:(m["Content-Type"]="application/json",S=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?S=JSON.stringify(d):S=d;let R=f;p&&(r=new AbortController,s=setTimeout(()=>r.abort(),p),f?(R=r.signal,f.addEventListener("abort",()=>r.abort())):R=r.signal);const x=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:S,signal:R}).catch(M=>{throw new bV(M)}),T=x.headers.get("x-relay-error");if(T&&T==="true")throw new wT(x);if(!x.ok)throw new yT(x);let F=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),A;return F==="application/json"?A=yield x.json():F==="application/octet-stream"||F==="application/pdf"?A=yield x.blob():F==="text/event-stream"?A=x:F==="multipart/form-data"?A=yield x.formData():A=yield x.text(),{data:A,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof yT||l instanceof wT?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var RV=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},xV=class{constructor(e){var t,n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(i=e.urlLengthLimit)!==null&&i!==void 0?i:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let r=null,l=null,u=null,d=s.status,f=s.statusText;if(s.ok){var p,m;if(n.method!=="HEAD"){var v;const x=await s.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const S=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),R=(m=s.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&R&&R.length>1&&(u=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(r={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,d=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const S=await s.text();try{r=JSON.parse(S),Array.isArray(r)&&s.status===404&&(l=[],r=null,d=200,f="OK")}catch{s.status===404&&S===""?(d=204,f="No Content"):r={message:S}}if(r&&n.isMaybeSingle&&(!(r==null||(b=r.details)===null||b===void 0)&&b.includes("0 rows"))&&(r=null,d=200,f="OK"),r&&n.shouldThrowOnError)throw new RV(r)}return{error:r,data:l,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(o=o.catch(s=>{var r;let l="",u="",d="";const f=s?.cause;if(f){var p,m,v,b;const x=(p=f?.message)!==null&&p!==void 0?p:"",T=(m=f?.code)!==null&&m!==void 0?m:"";l=`${(v=s?.name)!==null&&v!==void 0?v:"FetchError"}: ${s?.message}`,l+=`

Caused by: ${(b=f?.name)!==null&&b!==void 0?b:"Error"}: ${x}`,T&&(l+=` (${T})`),f?.stack&&(l+=`
${f.stack}`)}else{var S;l=(S=s?.stack)!==null&&S!==void 0?S:""}const R=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(d="",u="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(f?.name==="HeadersOverflowError"||f?.code==="UND_ERR_HEADERS_OVERFLOW")&&(d="",u="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(u+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(r=s?.name)!==null&&r!==void 0?r:"FetchError"}: ${s?.message}`,details:l,hint:u,code:d},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},EV=class extends xV{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",r=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${r?`${r},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var r;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(r=this.headers.get("Accept"))!==null&&r!==void 0?r:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bT=new RegExp("[,()]");var Kl=class extends EV{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&bT.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&bT.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},TV=class{constructor(e,{headers:t={},schema:n,fetch:i,urlLengthLimit:o=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:i}=t??{},o=n?"HEAD":"GET";let s=!1;const r=(e??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",r),i&&u.append("Prefer",`count=${i}`),new Kl({method:o,url:l,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const o="POST",{url:s,headers:r}=this.cloneRequestState();if(t&&r.append("Prefer",`count=${t}`),n||r.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);s.searchParams.set("columns",u.join(","))}}return new Kl({method:o,url:s,headers:r,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var s;const r="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),i&&u.append("Prefer",`count=${i}`),o||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(d.length>0){const f=[...new Set(d)].map(p=>`"${p}"`);l.searchParams.set("columns",f.join(","))}}return new Kl({method:r,url:l,headers:u,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const i="PATCH",{url:o,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Kl({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new Kl({method:n,url:i,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function DV(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(hd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FV(e){var t=DV(e,"string");return hd(t)=="symbol"?t:t+""}function PV(e,t,n){return(t=FV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(i){PV(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}var AV=class hP{constructor(t,{headers:n={},schema:i,fetch:o,timeout:s,urlLengthLimit:r=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.urlLengthLimit=r;const l=o??globalThis.fetch;s!==void 0&&s>0?this.fetch=(u,d)=>{const f=new AbortController,p=setTimeout(()=>f.abort(),s),m=d?.signal;if(m){if(m.aborted)return clearTimeout(p),l(u,d);const v=()=>{clearTimeout(p),f.abort()};return m.addEventListener("abort",v,{once:!0}),l(u,bf(bf({},d),{},{signal:f.signal})).finally(()=>{clearTimeout(p),m.removeEventListener("abort",v)})}return l(u,bf(bf({},d),{},{signal:f.signal})).finally(()=>clearTimeout(p))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new TV(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new hP(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:i=!1,get:o=!1,count:s}={}){var r;let l;const u=new URL(`${this.url}/rpc/${t}`);let d;const f=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(f)),p=i&&Object.values(n).some(f);p?(l="POST",d=n):i||o?(l=i?"HEAD":"GET",Object.entries(n).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{u.searchParams.append(v,b)})):(l="POST",d=n);const m=new Headers(this.headers);return p?m.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&m.set("Prefer",`count=${s}`),new Kl({method:l,url:u,headers:m,schema:this.schemaName,body:d,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};class MV{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const i=n.versions;if(i&&i.node){const o=i.node,s=parseInt(o.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kV="2.97.0",IV=`realtime-js/${kV}`,OV="1.0.0",fP="2.0.0",RT=fP,Sw=1e4,_V=1e3,LV=100;var yr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yr||(yr={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var So;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(So||(So={}));var Rw;(function(e){e.websocket="websocket"})(Rw||(Rw={}));var Ca;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ca||(Ca={}));class NV{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const o=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,i;const o=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},r=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,r)}_encodeUserBroadcastPush(t,n,i){var o,s;const r=t.topic,l=(o=t.ref)!==null&&o!==void 0?o:"",u=(s=t.join_ref)!==null&&s!==void 0?s:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(r.length>255)throw new Error(`topic length ${r.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+r.length+d.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let b=new DataView(v),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,u.length),b.setUint8(S++,l.length),b.setUint8(S++,r.length),b.setUint8(S++,d.length),b.setUint8(S++,p.length),b.setUint8(S++,n),Array.from(u,x=>b.setUint8(S++,x.charCodeAt(0))),Array.from(l,x=>b.setUint8(S++,x.charCodeAt(0))),Array.from(r,x=>b.setUint8(S++,x.charCodeAt(0))),Array.from(d,x=>b.setUint8(S++,x.charCodeAt(0))),Array.from(p,x=>b.setUint8(S++,x.charCodeAt(0)));var R=new Uint8Array(v.byteLength+i.byteLength);return R.set(new Uint8Array(v),0),R.set(new Uint8Array(i),v.byteLength),R.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[o,s,r,l,u]=i;return n({join_ref:o,ref:s,topic:r,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,o)}_decodeUserBroadcast(t,n,i){const o=n.getUint8(1),s=n.getUint8(2),r=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=i.decode(t.slice(u,u+o));u=u+o;const f=i.decode(t.slice(u,u+s));u=u+s;const p=i.decode(t.slice(u,u+r));u=u+r;const m=t.slice(u,t.byteLength),v=l===this.JSON_ENCODING?JSON.parse(i.decode(m)):m,b={type:this.BROADCAST_EVENT,event:f,payload:v};return r>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}class gP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const xT=(e,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((s,r)=>(s[r]=HV(r,e,t,o),s),{}):{}},HV=(e,t,n,i)=>{const o=t.find(l=>l.name===e),s=o?.type,r=n[e];return s&&!i.includes(s)?pP(s,r):xw(r)},pP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return zV(t,n)}switch(e){case zt.bool:return GV(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return BV(t);case zt.json:case zt.jsonb:return VV(t);case zt.timestamp:return WV(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return xw(t);default:return xw(t)}},xw=e=>e,GV=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BV=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VV=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},zV=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let s;const r=e.slice(1,n);try{s=JSON.parse("["+r+"]")}catch{s=r?r.split(","):[]}return s.map(l=>pP(t,l))}return e},WV=e=>typeof e=="string"?e.replace(" ","T"):e,mP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class CC{constructor(t,n,i={},o=Sw){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ET;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ET||(ET={}));class Zu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zu.syncState(this.state,o,s,r),this.pendingDiffs.forEach(u=>{this.state=Zu.syncDiff(this.state,u,s,r)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},o=>{const{onJoin:s,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Zu.syncDiff(this.state,o,s,r),l())}),this.onJoin((o,s,r)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:r})}),this.onLeave((o,s,r)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const s=this.cloneDeep(t),r=this.transformState(n),l={},u={};return this.map(s,(d,f)=>{r[d]||(u[d]=f)}),this.map(r,(d,f)=>{const p=s[d];if(p){const m=f.map(R=>R.presence_ref),v=p.map(R=>R.presence_ref),b=f.filter(R=>v.indexOf(R.presence_ref)<0),S=p.filter(R=>m.indexOf(R.presence_ref)<0);b.length>0&&(l[d]=b),S.length>0&&(u[d]=S)}else l[d]=f}),this.syncDiff(s,{joins:l,leaves:u},i,o)}static syncDiff(t,n,i,o){const{joins:s,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(s,(l,u)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),f.length>0){const p=t[l].map(v=>v.presence_ref),m=f.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...m)}i(l,f,u)}),this.map(r,(l,u)=>{let d=t[l];if(!d)return;const f=u.map(p=>p.presence_ref);d=d.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=d,o(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var TT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(TT||(TT={}));var Ju;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ju||(Ju={}));var Ts;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ts||(Ts={}));class Zl{constructor(t,n={config:{}},i){var o,s;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new CC(this,So.join,this.params,this.timeout),this.rejoinTimer=new gP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(So.reply,{},(r,l)=>{this._trigger(this._replyEventName(l),r)}),this.presence=new Zu(this),this.broadcastEndpointURL=mP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:r,presence:l,private:u}}=this.params,d=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[Ju.PRESENCE]&&this.bindings[Ju.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},m={broadcast:r,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(Ts.CHANNEL_ERROR,v)),this._onClose(()=>t?.(Ts.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t?.(Ts.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(b=S?.length)!==null&&b!==void 0?b:0,x=[];for(let T=0;T<R;T++){const F=S[T],{filter:{event:A,schema:M,table:I,filter:P}}=F,_=v&&v[T];if(_&&_.event===A&&Zl.isFilterValueEqual(_.schema,M)&&Zl.isFilterValueEqual(_.table,I)&&Zl.isFilterValueEqual(_.filter,P))x.push(Object.assign(Object.assign({},F),{id:_.id}));else{this.unsubscribe(),this.state=Mn.errored,t?.(Ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ts.SUBSCRIBED);return}}).receive("error",v=>{this.state=Mn.errored,t?.(Ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===Mn.joined&&t===Ju.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const r={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,r,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:r}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:r,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=d.body)===null||o===void 0?void 0:o.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var r,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(So.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new CC(this,So.leave,{},t),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const o=new AbortController,s=setTimeout(()=>o.abort(),i),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),r}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new CC(this,t,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LV){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,s;const r=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:f}=So;if(i&&[l,u,d,f].indexOf(r)>=0&&i!==this._joinRef())return;let m=this._onMessage(r,n,i);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var b,S,R;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((R=(S=v.filter)===null||S===void 0?void 0:S.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===r}).map(v=>v.callback(m,i)):(s=this.bindings[r])===null||s===void 0||s.filter(v=>{var b,S,R,x,T,F;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in v){const A=v.id,M=(b=v.filter)===null||b===void 0?void 0:b.event;return A&&((S=n.ids)===null||S===void 0?void 0:S.includes(A))&&(M==="*"||M?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const A=(T=(x=v?.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return A==="*"||A===((F=n?.event)===null||F===void 0?void 0:F.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===r}).map(v=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:S,table:R,commit_timestamp:x,type:T,errors:F}=b;m=Object.assign(Object.assign({},{schema:S,table:R,commit_timestamp:x,eventType:T,new:{},old:{},errors:F}),this._getPayloadRecords(b))}v.callback(m,i)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),s={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&Zl.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(So.close,{},t)}_onError(t){this._on(So.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xT(t.columns,t.old_record)),n}}const wC=()=>{},Sf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UV=[1e3,2e3,5e3,1e4],jV=1e4,$V=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KV{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sw,this.transport=null,this.heartbeatIntervalMs=Sf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wC,this.ref=0,this.reconnectTimer=null,this.vsn=RT,this.logger=wC,this.conn=null,this.sendBuffer=[],this.serializer=new NV,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...s)=>o(...s):(...s)=>fetch(...s),!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Rw.websocket}`,this.httpEndpoint=mP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Ca.Connecting;case yr.open:return Ca.Open;case yr.closing:return Ca.Closing;default:return Ca.Closed}}isConnected(){return this.connectionState()===Ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(s=>s.topic===i);if(o)return o;{const s=new Zl(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:i,payload:o,ref:s}=t,r=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${i} (${s})`,o),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_V,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Sf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:s,ref:r}=n,l=r?`(${r})`:"",u=s.status||"";this.log("receive",`${u} ${i} ${o} ${l}`.trim(),s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(o,s,r)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yr.open||this.conn.readyState===yr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(So.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([$V],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const s={access_token:n,version:IV};n&&o.updateJoinPayload(s),o.joinedOnce&&o._isJoined()&&o._push(So.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new gP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,o,s,r,l,u,d,f,p,m,v;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Sw,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Sf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(r=t?.accessToken)!==null&&r!==void 0?r:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:wC,this.vsn=(u=t?.vsn)!==null&&u!==void 0?u:RT,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:(b=>UV[b-1]||jV),this.vsn){case OV:this.encode=(f=t?.encode)!==null&&f!==void 0?f:((b,S)=>S(JSON.stringify(b))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((b,S)=>S(JSON.parse(b)));break;case fP:this.encode=(m=t?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var fd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qV(e,t,n){const i=new URL(t,e);if(n)for(const[o,s]of Object.entries(n))s!==void 0&&i.searchParams.set(o,s);return i.toString()}async function YV(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function XV(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:o,body:s,headers:r}){const l=qV(e.baseUrl,i,o),u=await YV(e.auth),d=await t(l,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...u,...r},body:s?JSON.stringify(s):void 0}),f=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),m=p&&f?JSON.parse(f):f;if(!d.ok){const v=p?m:void 0,b=v?.error;throw new fd(b?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:b?.type,icebergCode:b?.code,details:v})}return{status:d.status,headers:d.headers,data:m}}}}function Rf(e){return e.join("")}var QV=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Rf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rf(e.namespace)}`}),!0}catch(t){if(t instanceof fd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof fd&&n.status===409)return;throw n}}};function Il(e){return e.join("")}var ZV=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Il(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Il(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Il(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Il(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Il(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Il(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof fd&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof fd&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},JV=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=XV({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new QV(this.client,t),this.tableOps=new ZV(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},dp=class extends Error{constructor(e,t="storage",n,i){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=i}};function hp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var xf=class extends dp{constructor(e,t,n,i="storage"){super(e,i,t,n),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vP=class extends dp{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const ez=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tz=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ew=e=>{if(Array.isArray(e))return e.map(n=>Ew(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[o]=Ew(i)}),t},nz=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function iz(e,t){if(gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(gd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oz(e){var t=iz(e,"string");return gd(t)=="symbol"?t:t+""}function sz(e,t,n){return(t=oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(i){sz(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const FT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},rz=async(e,t,n,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const o=e,s=o.status||500;if(typeof o.json=="function")o.json().then(r=>{const l=r?.statusCode||r?.code||s+"";t(new xf(FT(r),s,l,i))}).catch(()=>{if(i==="vectors"){const r=s+"";t(new xf(o.statusText||`HTTP ${s} error`,s,r,i))}else{const r=s+"";t(new xf(o.statusText||`HTTP ${s} error`,s,r,i))}});else{const r=s+"";t(new xf(o.statusText||`HTTP ${s} error`,s,r,i))}}else t(new vP(FT(e),e,i))},az=(e,t,n,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!i?ze(ze({},o),n):(tz(i)?(o.headers=ze({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,t?.duplex&&(o.duplex=t.duplex),ze(ze({},o),n))};async function Gu(e,t,n,i,o,s,r){return new Promise((l,u)=>{e(n,az(t,i,o,s)).then(d=>{if(!d.ok)throw d;if(i?.noResolveJson)return d;if(r==="vectors"){const f=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!f||!f.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>rz(d,u,i,r))})}function CP(e="storage"){return{get:async(t,n,i,o)=>Gu(t,"GET",n,i,o,void 0,e),post:async(t,n,i,o,s)=>Gu(t,"POST",n,o,s,i,e),put:async(t,n,i,o,s)=>Gu(t,"PUT",n,o,s,i,e),head:async(t,n,i,o)=>Gu(t,"HEAD",n,ze(ze({},i),{},{noResolveJson:!0}),o,void 0,e),remove:async(t,n,i,o,s)=>Gu(t,"DELETE",n,o,s,i,e)}}const lz=CP("storage"),{get:pd,post:bo,put:Tw,head:cz,remove:Yy}=lz,Ni=CP("vectors");var Nc=class{constructor(e,t={},n,i="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=ez(n),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=ze(ze({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(hp(n))return{data:null,error:n};throw n}}},uz=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hp(t))return{data:null,error:t};throw t}}};let wP;wP=Symbol.toStringTag;var dz=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[wP]="BlobDownloadBuilder",this.promise=null}asStream(){return new uz(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hp(t))return{data:null,error:t};throw t}}};const hz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fz=class extends Nc{constructor(e,t={},n,i){super(e,t,i,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,i){var o=this;return o.handleOperation(async()=>{let s;const r=ze(ze({},PT),i);let l=ze(ze({},o.headers),e==="POST"&&{"x-upsert":String(r.upsert)});const u=r.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",r.cacheControl),u&&s.append("metadata",o.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",r.cacheControl),u&&!s.has("metadata")&&s.append("metadata",o.encodeMetadata(u))):(s=n,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,u&&(l["x-metadata"]=o.toBase64(o.encodeMetadata(u))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!r.duplex&&(r.duplex="half")),i?.headers&&(l=ze(ze({},l),i.headers));const d=o._removeEmptyFolders(t),f=o._getFinalPath(d),p=await(e=="PUT"?Tw:bo)(o.fetch,`${o.url}/object/${f}`,s,ze({headers:l},r?.duplex?{duplex:r.duplex}:{}));return{path:d,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var o=this;const s=o._removeEmptyFolders(e),r=o._getFinalPath(s),l=new URL(o.url+`/object/upload/sign/${r}`);return l.searchParams.set("token",t),o.handleOperation(async()=>{let u;const d=ze({upsert:PT.upsert},i),f=ze(ze({},o.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{path:s,fullPath:(await Tw(o.fetch,l.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e);const o=ze({},n.headers);t?.upsert&&(o["x-upsert"]="true");const s=await bo(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:o}),r=new URL(n.url+s.url),l=r.searchParams.get("token");if(!l)throw new dp("No token returned by API");return{signedUrl:r.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;return i.handleOperation(async()=>await bo(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers}))}async copy(e,t,n){var i=this;return i.handleOperation(async()=>({path:(await bo(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(e,t,n){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(e),s=await bo(i.fetch,`${i.url}/object/sign/${o}`,ze({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:i.headers});const r=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${i.url}${s.signedURL}${r}`)}})}async createSignedUrls(e,t,n){var i=this;return i.handleOperation(async()=>{const o=await bo(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(r=>ze(ze({},r),{},{signedUrl:r.signedURL?encodeURI(`${i.url}${r.signedURL}${s}`):null}))})}download(e,t,n){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",r=this._getFinalPath(e),l=()=>pd(this.fetch,`${this.url}/${i}/${r}${s}`,{headers:this.headers,noResolveJson:!0},n);return new dz(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Ew(await pd(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await cz(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(hp(i)&&i instanceof vP){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const s=typeof t?.transform<"u"?"render/image":"object",r=this.transformOptsToQueryString(t?.transform||{});r!==""&&i.push(r);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Yy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var i=this;return i.handleOperation(async()=>{const o=ze(ze(ze({},hz),t),{},{prefix:e||""});return await bo(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const i=ze({},e);return await bo(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const gz="2.97.0",Vd={"X-Client-Info":`storage-js/${gz}`};var pz=class extends Nc{constructor(e,t={},n,i){const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const s=o.href.replace(/\/$/,""),r=ze(ze({},Vd),t);super(s,r,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await pd(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await pd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await bo(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Tw(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await bo(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mz=class extends Nc{constructor(e,t={},n){const i=e.replace(/\/$/,""),o=ze(ze({},Vd),t);super(i,o,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await bo(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const i=n.toString(),o=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return await pd(t.fetch,o,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Yy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!nz(e))throw new dp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new JV({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(o,s){const r=o[s];return typeof r!="function"?r:async(...l)=>{try{return{data:await r.apply(o,l),error:null}}catch(u){if(i)throw u;return{data:null,error:u}}}}})}},vz=class extends Nc{constructor(e,t={},n){const i=e.replace(/\/$/,""),o=ze(ze({},Vd),{},{"Content-Type":"application/json"},t);super(i,o,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ni.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ni.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Cz=class extends Nc{constructor(e,t={},n){const i=e.replace(/\/$/,""),o=ze(ze({},Vd),{},{"Content-Type":"application/json"},t);super(i,o,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},wz=class extends Nc{constructor(e,t={},n){const i=e.replace(/\/$/,""),o=ze(ze({},Vd),{},{"Content-Type":"application/json"},t);super(i,o,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ni.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},yz=class extends wz{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bz(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},bz=class extends vz{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Sz(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Sz=class extends Cz{constructor(e,t,n,i,o){super(e,t,o),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ze(ze({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Rz=class extends pz{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new fz(this.url,this.headers,e,this.fetch)}get vectors(){return new yz(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mz(this.url+"/iceberg",this.headers,this.fetch)}};const yP="2.97.0",ql=30*1e3,Dw=3,yC=Dw*ql,xz="http://localhost:9999",Ez="supabase.auth.token",Tz={"X-Client-Info":`gotrue-js/${yP}`},Fw="X-Supabase-Api-Version",bP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fz=600*1e3;class md extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Pz extends md{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Az(e){return Ie(e)&&e.name==="AuthApiError"}class wa extends md{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gs extends md{constructor(t,n,i,o){super(t,i,o),this.name=n,this.status=i}}class Oi extends Gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bC(e){return Ie(e)&&e.name==="AuthSessionMissingError"}class Ol extends Gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ef extends Gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Tf extends Gs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mz(e){return Ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class AT extends Gs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kz extends Gs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pw extends Gs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function SC(e){return Ie(e)&&e.name==="AuthRetryableFetchError"}class MT extends Gs{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Aw extends Gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kT=` 	
\r=`.split(""),Iz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kT.length;t+=1)e[kT[t].charCodeAt(0)]=-2;for(let t=0;t<Cg.length;t+=1)e[Cg[t].charCodeAt(0)]=t;return e})();function IT(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Cg[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Cg[i]),t.queuedBits-=6}}function SP(e,t,n){const i=Iz[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function OT(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=r=>{Lz(r,i,n)};for(let r=0;r<e.length;r+=1)SP(e.charCodeAt(r),o,s);return t.join("")}function Oz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _z(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Oz(i,t)}}function Lz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sc(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)SP(e.charCodeAt(o),n,i);return new Uint8Array(t)}function Nz(e){const t=[];return _z(e,n=>t.push(n)),new Uint8Array(t)}function Ra(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};return e.forEach(o=>IT(o,n,i)),IT(null,n,i),t.join("")}function Hz(e){return Math.round(Date.now()/1e3)+e}function Gz(){return Symbol("auth-callback")}const qn=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},RP=()=>{if(!qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function Bz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{t[s]=o})}catch{}return n.searchParams.forEach((i,o)=>{t[o]=i}),t}const xP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Vz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kn=async(e,t)=>{await e.removeItem(t)};class fp{constructor(){this.promise=new fp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}fp.promiseConstructor=Promise;function Df(e){const t=e.split(".");if(t.length!==3)throw new Aw("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!Dz.test(t[i]))throw new Aw("JWT not in base64url format");return{header:JSON.parse(OT(t[0])),payload:JSON.parse(OT(t[1])),signature:sc(t[2]),raw:{header:t[0],payload:t[1]}}}async function zz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wz(e,t){return new Promise((i,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const r=await e(s);if(!t(s,null,r)){i(r);return}}catch(r){if(!t(s,r)){o(r);return}}})()})}function Uz(e){return("0"+e.toString(16)).substr(-2)}function jz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,Uz).join("")}async function $z(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function Kz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $z(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _l(e,t,n=!1){const i=jz();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Yl(e,`${t}-code-verifier`,o);const s=await Kz(i);return[s,i===s?"plain":"s256"]}const qz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yz(e){const t=e.headers.get(Fw);if(!t||!t.match(qz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Xz(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Qz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ll(e){if(!Zz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function RC(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jz(e,t){return new Proxy(e,{get:(n,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,o)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,o)}})}function _T(e){return JSON.parse(JSON.stringify(e))}const ma=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e3=[502,503,504];async function LT(e){var t;if(!Vz(e))throw new Pw(ma(e),0);if(e3.includes(e.status))throw new Pw(ma(e),e.status);let n;try{n=await e.json()}catch(s){throw new wa(ma(s),s)}let i;const o=Yz(e);if(o&&o.getTime()>=bP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new MT(ma(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Oi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0))throw new MT(ma(n),e.status,n.weak_password.reasons);throw new Pz(ma(n),e.status||500,i)}const t3=(e,t,n,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function je(e,t,n,i){var o;const s=Object.assign({},i?.headers);s[Fw]||(s[Fw]=bP["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const r=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(r.redirect_to=i.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",u=await n3(e,t,n+l,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(u):{data:Object.assign({},u),error:null}}async function n3(e,t,n,i,o,s){const r=t3(t,i,o,s);let l;try{l=await e(n,Object.assign({},r))}catch(u){throw console.error(u),new Pw(ma(u),0)}if(l.ok||await LT(l),i?.noResolveJson)return l;try{return await l.json()}catch(u){await LT(u)}}function yo(e){var t;let n=null;s3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Hz(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function NT(e){const t=yo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function i3(e){return{data:e,error:null}}function o3(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:s}=e,r=Lc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:s},u=Object.assign({},r);return{data:{properties:l,user:u},error:null}}function HT(e){return e}function s3(e){return e.access_token&&e.refresh_token&&e.expires_in}const xC=["global","local","others"];class r3{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=xP(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=xC[0]){if(xC.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xC.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xr})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Lc(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:o3,redirectTo:n?.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xr})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,o,s,r,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:HT});if(f.error)throw f.error;const p=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(b.split(";")[1].split("=")[1]);d[`${R}Page`]=S}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ie(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ll(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xr})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ll(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:xr})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Ll(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:xr})}catch(i){if(Ie(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Ll(t.userId);try{const{data:n,error:i}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ll(t.userId),Ll(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,o,s,r,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:HT});if(f.error)throw f.error;const p=await f.json(),m=(r=f.headers.get("x-total-count"))!==null&&r!==void 0?r:0,v=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(b.split(";")[1].split("=")[1]);d[`${R}Page`]=S}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(Ie(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Ie(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}function GT(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Nl={debug:!!(globalThis&&RP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class EP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BT extends EP{}async function a3(e,t,n){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;t>0&&setTimeout(()=>{i.abort(),Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new BT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(o){throw o?.name==="AbortError"?new BT(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):o}}function l3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function TP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function c3(e){return parseInt(e,16)}function u3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function d3(e){var t;const{chainId:n,domain:i,expirationTime:o,issuedAt:s=new Date,nonce:r,notBefore:l,requestId:u,resources:d,scheme:f,uri:p,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(r&&r.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${r}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=TP(e.address),b=f?`${f}://${i}`:i,S=e.statement?`${e.statement}
`:"",R=`${b} wants you to sign in with your Ethereum account:
${v}

${S}`;let x=`URI: ${p}
Version: ${m}
Chain ID: ${n}${r?`
Nonce: ${r}`:""}
Issued At: ${s.toISOString()}`;if(o&&(x+=`
Expiration Time: ${o.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let T=`
Resources:`;for(const F of d){if(!F||typeof F!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${F}`);T+=`
- ${F}`}x+=T}return`${R}
${x}`}class Tn extends Error{constructor({message:t,code:n,cause:i,name:o}){var s;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=o??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class wg extends Tn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function h3({error:e,options:t}){var n,i,o;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=s.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Tn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(DP(r)){if(s.rp.id!==r)return new Tn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Tn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function f3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(DP(i)){if(n.rpId!==i)return new Tn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class g3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const p3=new g3;function m3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,o=Lc(e,["challenge","user","excludeCredentials"]),s=sc(t).buffer,r=Object.assign(Object.assign({},n),{id:sc(n.id).buffer}),l=Object.assign(Object.assign({},o),{challenge:s,user:r});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let u=0;u<i.length;u++){const d=i[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:sc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function v3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=Lc(e,["challenge","allowCredentials"]),o=sc(t).buffer,s=Object.assign(Object.assign({},i),{challenge:o});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let r=0;r<n.length;r++){const l=n[r];s.allowCredentials[r]=Object.assign(Object.assign({},l),{id:sc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function C3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ra(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ra(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function w3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ra(new Uint8Array(o.authenticatorData)),clientDataJSON:Ra(new Uint8Array(o.clientDataJSON)),signature:Ra(new Uint8Array(o.signature)),userHandle:o.userHandle?Ra(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function VT(){var e,t;return!!(qn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function y3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wg("Browser returned unexpected credential type",t)}:{data:null,error:new wg("Empty credential response",t)}}catch(t){return{data:null,error:h3({error:t,options:e})}}}async function b3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wg("Browser returned unexpected credential type",t)}:{data:null,error:new wg("Empty credential response",t)}}catch(t){return{data:null,error:f3({error:t,options:e})}}}const S3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},R3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yg(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of e)if(o)for(const s in o){const r=o[s];if(r!==void 0)if(Array.isArray(r))i[s]=r;else if(n(r))i[s]=r;else if(t(r)){const l=i[s];t(l)?i[s]=yg(l,r):i[s]=yg(r)}else i[s]=r}return i}function x3(e,t){return yg(S3,e,t||{})}function E3(e,t){return yg(R3,e,t||{})}class T3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:o},s){var r;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=o??p3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const p=i;if(p)f.name=`${f.id}:${p}`;else{const v=(await this.client.getUser()).data.user,b=((r=v?.user_metadata)===null||r===void 0?void 0:r.name)||v?.email||v?.id||"User";f.name=`${f.id}:${b}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=x3(l.webauthn.credential_options.publicKey,s?.create),{data:p,error:m}=await y3({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=E3(l.webauthn.credential_options.publicKey,s?.request),{data:p,error:m}=await b3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(l){return Ie(l)?{data:null,error:l}:{data:null,error:new wa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},s){if(!n)return{data:null,error:new md("rpId is required for WebAuthn authentication")};try{if(!VT())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:o},{request:s});if(!r)return{data:null,error:l};const{webauthn:u}=r;return this._verify({factorId:t,challengeId:r.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:i,credential_response:u.credential_response}})}catch(r){return Ie(r)?{data:null,error:r}:{data:null,error:new wa("Unexpected error in authenticate",r)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},s){if(!n)return{data:null,error:new md("rpId is required for WebAuthn registration")};try{if(!VT())return{data:null,error:new wa("Browser does not support WebAuthn",null)};const{data:r,error:l}=await this._enroll({friendlyName:t});if(!r)return await this.client.mfa.listFactors().then(f=>{var p;return(p=f.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:r.id,friendlyName:r.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:o},{create:s});return u?this._verify({factorId:r.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:i,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(r){return Ie(r)?{data:null,error:r}:{data:null,error:new wa("Unexpected error in register",r)}}}}l3();const D3={url:xz,storageKey:Ez,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function zT(e,t,n){return await n()}const Hl={};class vd{get jwks(){var t,n;return(n=(t=Hl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hl[this.storageKey]=Object.assign(Object.assign({},Hl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hl[this.storageKey]=Object.assign(Object.assign({},Hl[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},D3),t);if(this.storageKey=s.storageKey,this.instanceID=(n=vd.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,vd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&qn()){const r=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(r),this.logDebugMessages&&console.trace(r)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new r3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xP(s.fetch),this.lock=s.lock||zT,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&qn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=a3:this.lock=zT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:RP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GT(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=GT(this.memoryStorage)),qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r);try{await this._notifyAllSubscribers(r.data.event,r.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}s.skipAutoInitialize||this.initialize().catch(r=>{this._debug("#initialize()","error",r)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yP}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(qn()&&(n=Bz(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),qn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Mz(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:r,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?this._returnResult({error:n}):this._returnResult({error:new wa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,o;try{const s=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:yo}),{data:r,error:l}=s;if(l||!r)return this._returnResult({data:{user:null,session:null},error:l});const u=r.session,d=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,i,o;try{let s;if("email"in t){const{email:f,password:p,options:m}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await _l(this.storage,this.storageKey)),s=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:f,password:p,data:(n=m?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:b},xform:yo})}else if("phone"in t){const{phone:f,password:p,options:m}=t;s=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(i=m?.data)!==null&&i!==void 0?i:{},channel:(o=m?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:yo})}else throw new Ef("You must provide either an email or phone number and a password");const{data:r,error:l}=s;if(l||!r)return await Kn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=r.session,d=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:r,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:NT})}else if("phone"in t){const{phone:s,password:r,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:r,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:NT})}else throw new Ef("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const s=new Ol;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,o,s,r,l,u,d,f,p,m;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:S,wallet:R,statement:x,options:T}=t;let F;if(qn())if(typeof R=="object")F=R;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")F=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=R}const A=new URL((n=T?.url)!==null&&n!==void 0?n:window.location.href),M=await F.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=TP(M[0]);let P=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!P){const L=await F.request({method:"eth_chainId"});P=c3(L)}const _={domain:A.host,address:I,statement:x,uri:A.href,version:"1",chainId:P,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(r=(s=T?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date,expirationTime:(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=d3(_),b=await F.request({method:"personal_sign",params:[u3(v),I]})}try{const{data:S,error:R}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:yo});if(R)throw R;if(!S||!S.session||!S.user){const x=new Ol;return this._returnResult({data:{user:null,session:null},error:x})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(Ie(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,i,o,s,r,l,u,d,f,p,m,v;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:R,wallet:x,statement:T,options:F}=t;let A;if(qn())if(typeof x=="object")A=x;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))A=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const M=new URL((n=F?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const I=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},F?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),T?{statement:T}:null));let P;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")P=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)P=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)b=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${M.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(i=F?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=F?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${F.signInWithSolana.notBefore}`]:[],...!((r=F?.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${F.signInWithSolana.expirationTime}`]:[],...!((l=F?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${F.signInWithSolana.chainId}`]:[],...!((u=F?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${F.signInWithSolana.nonce}`]:[],...!((d=F?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${F.signInWithSolana.requestId}`]:[],...!((p=(f=F?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...F.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const I=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:R,error:x}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ra(S)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:yo});if(x)throw x;if(!R||!R.session||!R.user){const T=new Ol;return this._returnResult({data:{user:null,session:null},error:T})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:x})}catch(R){if(Ie(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const n=await fa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new kz;const{data:s,error:r}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:yo});if(await Kn(this.storage,`${this.storageKey}-code-verifier`),r)throw r;if(!s||!s.session||!s.user){const l=new Ol;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:r})}catch(s){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:i,token:o,access_token:s,nonce:r}=t,l=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:r,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:yo}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new Ol;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,o,s,r;try{if("email"in t){const{email:l,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await _l(this.storage,this.storageKey));const{error:p}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u?.data)!==null&&n!==void 0?n:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=u?.data)!==null&&o!==void 0?o:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(r=u?.channel)!==null&&r!==void 0?r:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new Ef("You must provide either an email or phone number.")}catch(l){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,i;try{let o,s;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:r,error:l}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:yo});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const u=r.session,d=r.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(o){if(Ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var n,i,o,s,r;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _l(this.storage,this.storageKey));const d=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:i3});return!((s=d.data)===null||s===void 0)&&s.url&&qn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Oi;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(Ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:s}=t,{error:r}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:r})}else if("phone"in t){const{phone:i,type:o,options:s}=t,{data:r,error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:l})}throw new Ef("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<yC:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const r=await fa(this.userStorage,this.storageKey+"-user");r?.user?t.user=r.user:t.user=RC()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const r={value:this.suppressGetSessionWarning};t.user=Jz(t.user,r),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xr}):await this._useSession(async n=>{var i,o,s;const{data:r,error:l}=n;if(l)throw l;return!(!((i=r.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oi}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=r.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:xr})})}catch(n){if(Ie(n))return bC(n)&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new Oi;const r=o.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await _l(this.storage,this.storageKey));const{data:d,error:f}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:r.access_token,xform:xr});if(f)throw f;return r.user=d.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),this._returnResult({data:{user:r.user},error:null})})}catch(i){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Oi;const n=Date.now()/1e3;let i=n,o=!0,s=null;const{payload:r}=Df(t.access_token);if(r.exp&&(i=r.exp,o=i<=n),o){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(i=r.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Oi;const{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!qn())throw new Tf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Tf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new AT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Tf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AT("No code detected.");const{data:T,error:F}=await this._exchangeCodeForSession(t.code);if(F)throw F;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:r,expires_in:l,expires_at:u,token_type:d}=t;if(!s||!l||!r||!d)throw new Tf("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let m=f+p;u&&(m=parseInt(u));const v=m-f;v*1e3<=ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const b=m-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,f);const{data:S,error:R}=await this._getUser(s);if(R)throw R;const x={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:p,expires_at:m,refresh_token:r,token_type:d,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:s}=n;if(s&&!bC(s))return this._returnResult({error:s});const r=(i=o.session)===null||i===void 0?void 0:i.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(Az(l)&&(l.status===404||l.status===401||l.status===403)||bC(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Kn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Gz(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,o;try{const{data:{session:s},error:r}=n;if(r)throw r;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await _l(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:o}=await this._useSession(async s=>{var r,l,u,d,f;const{data:p,error:m}=s;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return qn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:o,data:{session:s}}=n;if(o)throw o;const{options:r,provider:l,token:u,access_token:d,nonce:f}=t,p=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:yo}),{data:m,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new Ol}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(o){if(await Kn(this.storage,`${this.storageKey}-code-verifier`),Ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,o;const{data:s,error:r}=n;if(r)throw r;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Wz(async o=>(o>0&&await zz(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yo})),(o,s)=>{const r=200*Math.pow(2,o);return s&&SC(s)&&Date.now()+r-i<ql})}catch(i){if(this._debug(n,"error",i),Ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),qn()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await fa(this.storage,this.storageKey);if(o&&this.userStorage){let r=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:o.user},await Yl(this.userStorage,this.storageKey+"-user",r)),o.user=(t=r?.user)!==null&&t!==void 0?t:RC()}else if(o&&!o.user&&!o.user){const r=await fa(this.storage,this.storageKey+"-user");r&&r?.user?(o.user=r.user,await Kn(this.storage,this.storageKey+"-user"),await Yl(this.storage,this.storageKey,o)):o.user=RC()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yC;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${yC}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:r}=await this._callRefreshToken(o.refresh_token);r&&(console.error(r),SC(r)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(o.access_token);!l&&r?.user?(o.user=r.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(i,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Oi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new fp;const{data:s,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!s.session)throw new Oi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),Ie(s)){const r={data:null,error:s};return SC(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){s.push(u)}});if(await Promise.all(r),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Kn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Yl(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const s=_T(o);await Yl(this.storage,this.storageKey,s)}else{const o=_T(n);await Yl(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Kn(this.storage,this.storageKey),await Kn(this.storage,this.storageKey+"-code-verifier"),await Kn(this.storage,this.storageKey+"-user"),this.userStorage&&await Kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ql);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ql}ms, refresh threshold is ${Dw} ticks`),o<=Dw&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof EP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,r]=await _l(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(r)}`});o.push(l.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:o,error:s}=n;return s?this._returnResult({data:null,error:s}):await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,o;const{data:s,error:r}=n;if(r)return this._returnResult({data:null,error:r});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((o=u?.totp)===null||o===void 0)&&o.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const r=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C3(t.webauthn.credential_response):w3(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:r,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const r=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(r.error)return r;const{data:l}=r;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:v3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,i,o,s;if(t)try{const{payload:v}=Df(t);let b=null;v.aal&&(b=v.aal);let S=b;const{data:{user:R},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((i=(n=R?.factors)===null||n===void 0?void 0:n.filter(A=>A.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(S="aal2");const F=v.amr||[];return{data:{currentLevel:b,nextLevel:S,currentAuthenticationMethods:F},error:null}}catch(v){if(Ie(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:r},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Df(r.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((s=(o=r.user.factors)===null||o===void 0?void 0:o.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oi})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Oi});const r=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&qn()&&!n?.skipBrowserRedirect&&window.location.assign(r.data.redirect_url),r})}catch(i){if(Ie(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new Oi});const r=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return r.data&&r.data.redirect_url&&qn()&&!n?.skipBrowserRedirect&&window.location.assign(r.data.redirect_url),r})}catch(i){if(Ie(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Oi})})}catch(t){if(Ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oi})})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(l=>l.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+Fz>o)return i;const{data:s,error:r}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(l=>l.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});i=v.session.access_token}const{header:o,payload:s,signature:r,raw:{header:l,payload:u}}=Df(i);n?.allowExpired||Xz(s.exp);const d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:s,header:o,signature:r},error:null}}const f=Qz(o.alg),p=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,r,Nz(`${l}.${u}`)))throw new Aw("Invalid JWT signature");return{data:{claims:s,header:o,signature:r},error:null}}catch(i){if(Ie(i))return this._returnResult({data:null,error:i});throw i}}}vd.nextInstanceID={};const F3=vd,P3="2.97.0";let $u="";typeof Deno<"u"?$u="deno":typeof document<"u"?$u="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$u="react-native":$u="node";const A3={"X-Client-Info":`supabase-js-${$u}/${P3}`},M3={headers:A3},k3={schema:"public"},I3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},O3={};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function _3(e,t){if(Cd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(Cd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L3(e){var t=_3(e,"string");return Cd(t)=="symbol"?t:t+""}function N3(e,t,n){return(t=L3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(i){N3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const H3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G3=()=>Headers,B3=(e,t,n)=>{const i=H3(n),o=G3();return async(s,r)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new o(r?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),i(s,un(un({},r),{},{headers:d}))}};function V3(e){return e.endsWith("/")?e:e+"/"}function z3(e,t){var n,i;const{db:o,auth:s,realtime:r,global:l}=e,{db:u,auth:d,realtime:f,global:p}=t,m={db:un(un({},u),o),auth:un(un({},d),s),realtime:un(un({},f),r),storage:{},global:un(un(un({},p),l),{},{headers:un(un({},(n=p?.headers)!==null&&n!==void 0?n:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function W3(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var U3=class extends F3{constructor(e){super(e)}},j3=class{constructor(e,t,n){var i,o;this.supabaseUrl=e,this.supabaseKey=t;const s=W3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const r=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:k3,realtime:O3,auth:un(un({},I3),{},{storageKey:r}),global:M3},u=z3(n??{},l);if(this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=B3(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(un({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new AV(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new Rz(this.storageUrl.href,this.headers,this.fetch,n?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new SV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:s,flowType:r,lock:l,debug:u,throwOnError:d},f,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U3({url:this.authUrl.href,headers:un(un({},m),f),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:o,flowType:r,lock:l,debug:u,throwOnError:d,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new KV(this.realtimeUrl.href,un(un({},e),{},{params:un(un({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $3=(e,t,n)=>new j3(e,t,n);function K3(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}K3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const q3="https://otnygskksrekalrjtwqj.supabase.co",Y3="sb_publishable_u2_Zj4oEiuJmzRKL9n4CAg_eIsJaTvO",$t=$3(q3,Y3),UT="home_stats_cache",X3=1e3*60*15;let Ff=null;function Q3(){const e=Oe.c(20),[t,n]=w.useState(null),[i,o]=w.useState(!0),[s,r]=w.useState(!1);let l,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{(async function(){if(Ff){n(Ff),o(!1);return}const I=localStorage.getItem(UT);if(I){const V=JSON.parse(I);if(Date.now()-V.timestamp<X3){Ff=V.data,n(V.data),o(!1);return}}const[P,_]=await Promise.all([$t.from("companies").select("*",{count:"exact",head:!0}),$t.from("problems").select("*",{count:"exact",head:!0})]),L={companies:P.count??0,problems:_.count??0};Ff=L,localStorage.setItem(UT,JSON.stringify({data:L,timestamp:Date.now()})),n(L),o(!1)})()},u=[],e[0]=l,e[1]=u):(l=e[0],u=e[1]),w.useEffect(l,u);let d,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{$t.auth.getSession().then(M=>{const{data:I}=M;r(!!I.session)});const{data:A}=$t.auth.onAuthStateChange((M,I)=>{r(!!I)});return()=>A.subscription.unsubscribe()},f=[],e[2]=d,e[3]=f):(d=e[2],f=e[3]),w.useEffect(d,f);let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=E.jsx("span",{children:"Company-Wise"}),e[4]=p):p=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=E.jsx("div",{className:"flex w-full flex-col items-center gap-4 px-6 py-16",children:E.jsxs("div",{className:"font-geist text-primary relative flex flex-col items-start text-3xl font-semibold sm:text-4xl md:text-5xl dark:drop-shadow-[0_4px_8px_rgba(0,0,0,0.5)]",children:[p,E.jsxs("span",{children:[E.jsxs("span",{className:"",children:[E.jsxs("span",{className:"bg-linear-to-b from-[#ffa116] via-[#ff9345] to-[#ff3d00] bg-clip-text text-transparent dark:drop-shadow-[0_4px_25px_rgba(255,100,0,0.6)]",children:["Leetcode"," "]}),E.jsx("img",{src:yB,alt:"Okey Frieren",className:"absolute right-0 bottom-8 -z-10 w-12 rotate-12 rounded-md sm:right-0 sm:bottom-9 sm:w-14 md:right-5 md:bottom-10 md:w-16 dark:brightness-[1] dark:drop-shadow-[0_4px_40px_rgba(255,255,255,0.3)]"})]}),E.jsx("span",{className:"dark:drop-shadow-[0_4px_12px_rgba(0,0,0,1)]",children:"Problems"})]})]})}),e[5]=m):m=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=E.jsx(Yo,{to:"https://github.com/snehasishroy/leetcode-companywise-interview-questions",target:"_blank",children:E.jsxs(io,{size:"lg",className:"bg-muted/50 mt-4 cursor-pointer text-lg font-normal shadow-none",variant:"outline",children:[E.jsx(JG,{}),"Database"]})}),e[6]=v):v=e[6];let b;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=E.jsxs("div",{className:"mx-auto flex w-fit items-center gap-4 font-mono",children:[v,E.jsx(Yo,{to:"https://github.com/hitarth-gg/visor-leetcode",target:"_blank",children:E.jsxs(io,{size:"lg",className:"bg-muted/50 mt-4 cursor-pointer text-lg font-normal shadow-none",variant:"outline",children:[E.jsx(iB,{}),"Website"]})})]}),e[7]=b):b=e[7];const S=s?"/all-problems":"/sign-in?next=/all-problems";let R;e[8]!==s?(R=s?E.jsxs(io,{size:"lg",className:"font-space-grotesk mt-4 w-full cursor-pointer text-lg shadow-none",variant:"default",children:["Start Solving ",E.jsx(QG,{strokeWidth:3})]}):E.jsxs(io,{size:"lg",className:"font-space-grotesk mt-4 w-full cursor-pointer text-lg shadow-none",variant:"default",children:[E.jsx(XF,{strokeWidth:3}),"Sign in to save progress"]}),e[8]=s,e[9]=R):R=e[9];let x;e[10]!==S||e[11]!==R?(x=E.jsxs("div",{className:"font-geist flex w-fit flex-col items-center px-6 py-8",children:[b,E.jsx(Yo,{to:S,className:"w-full",children:R})]}),e[10]=S,e[11]=R,e[12]=x):x=e[12];let T;e[13]!==i||e[14]!==t?.companies||e[15]!==t?.problems?(T=E.jsx("div",{className:"w-full",children:E.jsx("div",{className:"mt-auto w-full py-8",children:E.jsx("div",{className:"mx-auto flex max-w-4xl justify-center gap-16 text-center",children:i?E.jsx("div",{className:"text-muted-foreground text-sm",children:E.jsx(Ky,{})}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-row items-center gap-2",children:[E.jsx("div",{className:"text-xl font-medium tracking-tight tabular-nums",children:t?.companies.toLocaleString()}),E.jsx("div",{className:"text-muted-foreground text-sm",children:"Companies"})]}),E.jsxs("div",{className:"flex flex-row items-center gap-2",children:[E.jsx("div",{className:"text-xl font-semibold tabular-nums",children:t?.problems.toLocaleString()}),E.jsx("div",{className:"text-muted-foreground text-sm",children:"Problems"})]})]})})})}),e[13]=i,e[14]=t?.companies,e[15]=t?.problems,e[16]=T):T=e[16];let F;return e[17]!==x||e[18]!==T?(F=E.jsxs("main",{className:"flex h-screen flex-col items-center",children:[m,x,T]}),e[17]=x,e[18]=T,e[19]=F):F=e[19],F}const Z3="/visor-leetcode/assets/huh-DKuZB1VN.gif";function gr(){const e=Oe.c(11),t=LF(),{status:n,statusText:i,data:o}=t;console.log(t),console.log("error:",o);let s,r,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=E.jsx("img",{src:Z3,alt:"huh",className:"mb-2 h-16 rounded-md object-cover"}),r=E.jsx(mB,{className:"text-foreground"}),l=E.jsx("span",{children:"Something went wrong!"}),e[0]=s,e[1]=r,e[2]=l):(s=e[0],r=e[1],l=e[2]);let u;e[3]!==n||e[4]!==i?(u=n&&i&&E.jsxs("div",{className:"text-muted-foreground mt-2 text-sm",children:[n," ",i]}),e[3]=n,e[4]=i,e[5]=u):u=e[5];let d;e[6]!==o?(d=o&&E.jsx("div",{className:"text-muted-foreground text-sm",children:o}),e[6]=o,e[7]=d):d=e[7];let f;return e[8]!==u||e[9]!==d?(f=E.jsx("div",{className:"absolute inset-0 flex items-center justify-center dark:bg-neutral-950",children:E.jsx("div",{className:"bg-card ring-foreground/10 text-card-foreground m-4 rounded-md px-8 py-4 ring-1",children:E.jsxs("div",{className:"font-geist flex flex-col items-center gap-2 text-center",children:[s,r,l,u,d]})})}),e[8]=u,e[9]=d,e[10]=f):f=e[10],f}function Ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function Bs(e,t=[]){let n=[];function i(s,r){const l=w.createContext(r),u=n.length;n=[...n,r];const d=p=>{const{scope:m,children:v,...b}=p,S=m?.[e]?.[u]||l,R=w.useMemo(()=>b,Object.values(b));return E.jsx(S.Provider,{value:R,children:v})};d.displayName=s+"Provider";function f(p,m){const v=m?.[e]?.[u]||l,b=w.useContext(v);if(b)return b;if(r!==void 0)return r;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const o=()=>{const s=n.map(r=>w.createContext(r));return function(l){const u=l?.[e]||s;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return o.scopeName=e,[i,J3(o,...t)]}function J3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const r=i.reduce((l,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...l,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var zd=uF();const Xy=cF(zd);function e5(e){const t=t5(e),n=w.forwardRef((i,o)=>{const{children:s,...r}=i,l=w.Children.toArray(s),u=l.find(i5);if(u){const d=u.props.children,f=l.map(p=>p===u?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:p);return E.jsx(t,{...r,ref:o,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function t5(e){const t=w.forwardRef((n,i)=>{const{children:o,...s}=n;if(w.isValidElement(o)){const r=s5(o),l=o5(s,o.props);return o.type!==w.Fragment&&(l.ref=i?Nr(i,r):r),w.cloneElement(o,l)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n5=Symbol("radix.slottable");function i5(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n5}function o5(e,t){const n={...t};for(const i in t){const o=e[i],s=t[i];/^on[A-Z]/.test(i)?o&&s?n[i]=(...l)=>{const u=s(...l);return o(...l),u}:o&&(n[i]=o):i==="style"?n[i]={...o,...s}:i==="className"&&(n[i]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function s5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=r5.reduce((e,t)=>{const n=e5(`Primitive.${t}`),i=w.forwardRef((o,s)=>{const{asChild:r,...l}=o,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function bg(e,t){e&&zd.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>t.current?.(...n),[])}function a5(e,t=globalThis?.document){const n=en(e);w.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var l5="DismissableLayer",Mw="dismissableLayer.update",c5="dismissableLayer.pointerDownOutside",u5="dismissableLayer.focusOutside",jT,FP=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gp=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:r,onDismiss:l,...u}=e,d=w.useContext(FP),[f,p]=w.useState(null),m=f?.ownerDocument??globalThis?.document,[,v]=w.useState({}),b=Vt(t,P=>p(P)),S=Array.from(d.layers),[R]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=S.indexOf(R),T=f?S.indexOf(f):-1,F=d.layersWithOutsidePointerEventsDisabled.size>0,A=T>=x,M=f5(P=>{const _=P.target,L=[...d.branches].some(V=>V.contains(_));!A||L||(o?.(P),r?.(P),P.defaultPrevented||l?.())},m),I=g5(P=>{const _=P.target;[...d.branches].some(V=>V.contains(_))||(s?.(P),r?.(P),P.defaultPrevented||l?.())},m);return a5(P=>{T===d.layers.size-1&&(i?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),w.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(jT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),$T(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=jT)}},[f,m,n,d]),w.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),$T())},[f,d]),w.useEffect(()=>{const P=()=>v({});return document.addEventListener(Mw,P),()=>document.removeEventListener(Mw,P)},[]),E.jsx(gt.div,{...u,ref:b,style:{pointerEvents:F?A?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,M.onPointerDownCapture)})});gp.displayName=l5;var d5="DismissableLayerBranch",h5=w.forwardRef((e,t)=>{const n=w.useContext(FP),i=w.useRef(null),o=Vt(t,i);return w.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(gt.div,{...e,ref:o})});h5.displayName=d5;function f5(e,t=globalThis?.document){const n=en(e),i=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let u=function(){PP(c5,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);i.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function g5(e,t=globalThis?.document){const n=en(e),i=w.useRef(!1);return w.useEffect(()=>{const o=s=>{s.target&&!i.current&&PP(u5,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function $T(){const e=new CustomEvent(Mw);document.dispatchEvent(e)}function PP(e,t,n,{discrete:i}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?bg(o,s):o.dispatchEvent(s)}var ao=globalThis?.document?w.useLayoutEffect:()=>{},p5=ap[" useId ".trim().toString()]||(()=>{}),m5=0;function yc(e){const[t,n]=w.useState(p5());return ao(()=>{n(i=>i??String(m5++))},[e]),e||(t?`radix-${t}`:"")}const v5=["top","right","bottom","left"],Pr=Math.min,Li=Math.max,Sg=Math.round,Pf=Math.floor,Xo=e=>({x:e,y:e}),C5={left:"right",right:"left",bottom:"top",top:"bottom"},w5={start:"end",end:"start"};function kw(e,t,n){return Li(e,Pr(t,n))}function Os(e,t){return typeof e=="function"?e(t):e}function _s(e){return e.split("-")[0]}function Hc(e){return e.split("-")[1]}function Qy(e){return e==="x"?"y":"x"}function Zy(e){return e==="y"?"height":"width"}const y5=new Set(["top","bottom"]);function jo(e){return y5.has(_s(e))?"y":"x"}function Jy(e){return Qy(jo(e))}function b5(e,t,n){n===void 0&&(n=!1);const i=Hc(e),o=Jy(e),s=Zy(o);let r=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=Rg(r)),[r,Rg(r)]}function S5(e){const t=Rg(e);return[Iw(e),t,Iw(t)]}function Iw(e){return e.replace(/start|end/g,t=>w5[t])}const KT=["left","right"],qT=["right","left"],R5=["top","bottom"],x5=["bottom","top"];function E5(e,t,n){switch(e){case"top":case"bottom":return n?t?qT:KT:t?KT:qT;case"left":case"right":return t?R5:x5;default:return[]}}function T5(e,t,n,i){const o=Hc(e);let s=E5(_s(e),n==="start",i);return o&&(s=s.map(r=>r+"-"+o),t&&(s=s.concat(s.map(Iw)))),s}function Rg(e){return e.replace(/left|right|bottom|top/g,t=>C5[t])}function D5(e){return{top:0,right:0,bottom:0,left:0,...e}}function AP(e){return typeof e!="number"?D5(e):{top:e,right:e,bottom:e,left:e}}function xg(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function YT(e,t,n){let{reference:i,floating:o}=e;const s=jo(t),r=Jy(t),l=Zy(r),u=_s(t),d=s==="y",f=i.x+i.width/2-o.width/2,p=i.y+i.height/2-o.height/2,m=i[l]/2-o[l]/2;let v;switch(u){case"top":v={x:f,y:i.y-o.height};break;case"bottom":v={x:f,y:i.y+i.height};break;case"right":v={x:i.x+i.width,y:p};break;case"left":v={x:i.x-o.width,y:p};break;default:v={x:i.x,y:i.y}}switch(Hc(t)){case"start":v[r]-=m*(n&&d?-1:1);break;case"end":v[r]+=m*(n&&d?-1:1);break}return v}async function F5(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:s,rects:r,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=Os(t,e),b=AP(v),R=l[m?p==="floating"?"reference":"floating":p],x=xg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(R)))==null||n?R:R.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),T=p==="floating"?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(F))?await(s.getScale==null?void 0:s.getScale(F))||{x:1,y:1}:{x:1,y:1},M=xg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:F,strategy:u}):T);return{top:(x.top-M.top+b.top)/A.y,bottom:(M.bottom-x.bottom+b.bottom)/A.y,left:(x.left-M.left+b.left)/A.x,right:(M.right-x.right+b.right)/A.x}}const P5=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,l=s.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(t));let d=await r.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:p}=YT(d,i,u),m=i,v={},b=0;for(let R=0;R<l.length;R++){var S;const{name:x,fn:T}=l[R],{x:F,y:A,data:M,reset:I}=await T({x:f,y:p,initialPlacement:i,placement:m,strategy:o,middlewareData:v,rects:d,platform:{...r,detectOverflow:(S=r.detectOverflow)!=null?S:F5},elements:{reference:e,floating:t}});f=F??f,p=A??p,v={...v,[x]:{...v[x],...M}},I&&b<=50&&(b++,typeof I=="object"&&(I.placement&&(m=I.placement),I.rects&&(d=I.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:o}):I.rects),{x:f,y:p}=YT(d,m,u)),R=-1)}return{x:f,y:p,placement:m,strategy:o,middlewareData:v}},A5=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:s,platform:r,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=Os(e,t)||{};if(d==null)return{};const p=AP(f),m={x:n,y:i},v=Jy(o),b=Zy(v),S=await r.getDimensions(d),R=v==="y",x=R?"top":"left",T=R?"bottom":"right",F=R?"clientHeight":"clientWidth",A=s.reference[b]+s.reference[v]-m[v]-s.floating[b],M=m[v]-s.reference[v],I=await(r.getOffsetParent==null?void 0:r.getOffsetParent(d));let P=I?I[F]:0;(!P||!await(r.isElement==null?void 0:r.isElement(I)))&&(P=l.floating[F]||s.floating[b]);const _=A/2-M/2,L=P/2-S[b]/2-1,V=Pr(p[x],L),z=Pr(p[T],L),K=V,se=P-S[b]-z,he=P/2-S[b]/2+_,J=kw(K,he,se),N=!u.arrow&&Hc(o)!=null&&he!==J&&s.reference[b]/2-(he<K?V:z)-S[b]/2<0,q=N?he<K?he-K:he-se:0;return{[v]:m[v]+q,data:{[v]:J,centerOffset:he-J-q,...N&&{alignmentOffset:q}},reset:N}}}),M5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:S=!0,...R}=Os(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=_s(o),T=jo(l),F=_s(l)===l,A=await(u.isRTL==null?void 0:u.isRTL(d.floating)),M=m||(F||!S?[Rg(l)]:S5(l)),I=b!=="none";!m&&I&&M.push(...T5(l,S,b,A));const P=[l,...M],_=await u.detectOverflow(t,R),L=[];let V=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&L.push(_[x]),p){const he=b5(o,r,A);L.push(_[he[0]],_[he[1]])}if(V=[...V,{placement:o,overflows:L}],!L.every(he=>he<=0)){var z,K;const he=(((z=s.flip)==null?void 0:z.index)||0)+1,J=P[he];if(J&&(!(p==="alignment"?T!==jo(J):!1)||V.every(G=>jo(G.placement)===T?G.overflows[0]>0:!0)))return{data:{index:he,overflows:V},reset:{placement:J}};let N=(K=V.filter(q=>q.overflows[0]<=0).sort((q,G)=>q.overflows[1]-G.overflows[1])[0])==null?void 0:K.placement;if(!N)switch(v){case"bestFit":{var se;const q=(se=V.filter(G=>{if(I){const ee=jo(G.placement);return ee===T||ee==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ee=>ee>0).reduce((ee,oe)=>ee+oe,0)]).sort((G,ee)=>G[1]-ee[1])[0])==null?void 0:se[0];q&&(N=q);break}case"initialPlacement":N=l;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function XT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function QT(e){return v5.some(t=>e[t]>=0)}const k5=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:i}=t,{strategy:o="referenceHidden",...s}=Os(e,t);switch(o){case"referenceHidden":{const r=await i.detectOverflow(t,{...s,elementContext:"reference"}),l=XT(r,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:QT(l)}}}case"escaped":{const r=await i.detectOverflow(t,{...s,altBoundary:!0}),l=XT(r,n.floating);return{data:{escapedOffsets:l,escaped:QT(l)}}}default:return{}}}}},MP=new Set(["left","top"]);async function I5(e,t){const{placement:n,platform:i,elements:o}=e,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),r=_s(n),l=Hc(n),u=jo(n)==="y",d=MP.has(r)?-1:1,f=s&&u?-1:1,p=Os(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),u?{x:v*f,y:m*d}:{x:m*d,y:v*f}}const O5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:s,placement:r,middlewareData:l}=t,u=await I5(t,e);return r===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:r}}}}},_5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o,platform:s}=t,{mainAxis:r=!0,crossAxis:l=!1,limiter:u={fn:x=>{let{x:T,y:F}=x;return{x:T,y:F}}},...d}=Os(e,t),f={x:n,y:i},p=await s.detectOverflow(t,d),m=jo(_s(o)),v=Qy(m);let b=f[v],S=f[m];if(r){const x=v==="y"?"top":"left",T=v==="y"?"bottom":"right",F=b+p[x],A=b-p[T];b=kw(F,b,A)}if(l){const x=m==="y"?"top":"left",T=m==="y"?"bottom":"right",F=S+p[x],A=S-p[T];S=kw(F,S,A)}const R=u.fn({...t,[v]:b,[m]:S});return{...R,data:{x:R.x-n,y:R.y-i,enabled:{[v]:r,[m]:l}}}}}},L5=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:s,middlewareData:r}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Os(e,t),f={x:n,y:i},p=jo(o),m=Qy(p);let v=f[m],b=f[p];const S=Os(l,t),R=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(u){const F=m==="y"?"height":"width",A=s.reference[m]-s.floating[F]+R.mainAxis,M=s.reference[m]+s.reference[F]-R.mainAxis;v<A?v=A:v>M&&(v=M)}if(d){var x,T;const F=m==="y"?"width":"height",A=MP.has(_s(o)),M=s.reference[p]-s.floating[F]+(A&&((x=r.offset)==null?void 0:x[p])||0)+(A?0:R.crossAxis),I=s.reference[p]+s.reference[F]+(A?0:((T=r.offset)==null?void 0:T[p])||0)-(A?R.crossAxis:0);b<M?b=M:b>I&&(b=I)}return{[m]:v,[p]:b}}}},N5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:o,rects:s,platform:r,elements:l}=t,{apply:u=()=>{},...d}=Os(e,t),f=await r.detectOverflow(t,d),p=_s(o),m=Hc(o),v=jo(o)==="y",{width:b,height:S}=s.floating;let R,x;p==="top"||p==="bottom"?(R=p,x=m===(await(r.isRTL==null?void 0:r.isRTL(l.floating))?"start":"end")?"left":"right"):(x=p,R=m==="end"?"top":"bottom");const T=S-f.top-f.bottom,F=b-f.left-f.right,A=Pr(S-f[R],T),M=Pr(b-f[x],F),I=!t.middlewareData.shift;let P=A,_=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=F),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(P=T),I&&!m){const V=Li(f.left,0),z=Li(f.right,0),K=Li(f.top,0),se=Li(f.bottom,0);v?_=b-2*(V!==0||z!==0?V+z:Li(f.left,f.right)):P=S-2*(K!==0||se!==0?K+se:Li(f.top,f.bottom))}await u({...t,availableWidth:_,availableHeight:P});const L=await r.getDimensions(l.floating);return b!==L.width||S!==L.height?{reset:{rects:!0}}:{}}}};function pp(){return typeof window<"u"}function Gc(e){return kP(e)?(e.nodeName||"").toLowerCase():"#document"}function Gi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function is(e){var t;return(t=(kP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kP(e){return pp()?e instanceof Node||e instanceof Gi(e).Node:!1}function Do(e){return pp()?e instanceof Element||e instanceof Gi(e).Element:!1}function es(e){return pp()?e instanceof HTMLElement||e instanceof Gi(e).HTMLElement:!1}function ZT(e){return!pp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gi(e).ShadowRoot}const H5=new Set(["inline","contents"]);function Wd(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=Fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!H5.has(o)}const G5=new Set(["table","td","th"]);function B5(e){return G5.has(Gc(e))}const V5=[":popover-open",":modal"];function mp(e){return V5.some(t=>{try{return e.matches(t)}catch{return!1}})}const z5=["transform","translate","scale","rotate","perspective"],W5=["transform","translate","scale","rotate","perspective","filter"],U5=["paint","layout","strict","content"];function eb(e){const t=tb(),n=Do(e)?Fo(e):e;return z5.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||W5.some(i=>(n.willChange||"").includes(i))||U5.some(i=>(n.contain||"").includes(i))}function j5(e){let t=Ar(e);for(;es(t)&&!bc(t);){if(eb(t))return t;if(mp(t))return null;t=Ar(t)}return null}function tb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $5=new Set(["html","body","#document"]);function bc(e){return $5.has(Gc(e))}function Fo(e){return Gi(e).getComputedStyle(e)}function vp(e){return Do(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ar(e){if(Gc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ZT(e)&&e.host||is(e);return ZT(t)?t.host:t}function IP(e){const t=Ar(e);return bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:es(t)&&Wd(t)?t:IP(t)}function wd(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=IP(e),s=o===((i=e.ownerDocument)==null?void 0:i.body),r=Gi(o);if(s){const l=Ow(r);return t.concat(r,r.visualViewport||[],Wd(o)?o:[],l&&n?wd(l):[])}return t.concat(o,wd(o,[],n))}function Ow(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OP(e){const t=Fo(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=es(e),s=o?e.offsetWidth:n,r=o?e.offsetHeight:i,l=Sg(n)!==s||Sg(i)!==r;return l&&(n=s,i=r),{width:n,height:i,$:l}}function nb(e){return Do(e)?e:e.contextElement}function rc(e){const t=nb(e);if(!es(t))return Xo(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:s}=OP(t);let r=(s?Sg(n.width):n.width)/i,l=(s?Sg(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const K5=Xo(0);function _P(e){const t=Gi(e);return!tb()||!t.visualViewport?K5:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function q5(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gi(e)?!1:t}function Ia(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=nb(e);let r=Xo(1);t&&(i?Do(i)&&(r=rc(i)):r=rc(e));const l=q5(s,n,i)?_P(s):Xo(0);let u=(o.left+l.x)/r.x,d=(o.top+l.y)/r.y,f=o.width/r.x,p=o.height/r.y;if(s){const m=Gi(s),v=i&&Do(i)?Gi(i):i;let b=m,S=Ow(b);for(;S&&i&&v!==b;){const R=rc(S),x=S.getBoundingClientRect(),T=Fo(S),F=x.left+(S.clientLeft+parseFloat(T.paddingLeft))*R.x,A=x.top+(S.clientTop+parseFloat(T.paddingTop))*R.y;u*=R.x,d*=R.y,f*=R.x,p*=R.y,u+=F,d+=A,b=Gi(S),S=Ow(b)}}return xg({width:f,height:p,x:u,y:d})}function Cp(e,t){const n=vp(e).scrollLeft;return t?t.left+n:Ia(is(e)).left+n}function LP(e,t){const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-Cp(e,n),o=n.top+t.scrollTop;return{x:i,y:o}}function Y5(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const s=o==="fixed",r=is(i),l=t?mp(t.floating):!1;if(i===r||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Xo(1);const f=Xo(0),p=es(i);if((p||!p&&!s)&&((Gc(i)!=="body"||Wd(r))&&(u=vp(i)),es(i))){const v=Ia(i);d=rc(i),f.x=v.x+i.clientLeft,f.y=v.y+i.clientTop}const m=r&&!p&&!s?LP(r,u):Xo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}}function X5(e){return Array.from(e.getClientRects())}function Q5(e){const t=is(e),n=vp(e),i=e.ownerDocument.body,o=Li(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Li(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+Cp(e);const l=-n.scrollTop;return Fo(i).direction==="rtl"&&(r+=Li(t.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:l}}const JT=25;function Z5(e,t){const n=Gi(e),i=is(e),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,l=0,u=0;if(o){s=o.width,r=o.height;const f=tb();(!f||f&&t==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}const d=Cp(i);if(d<=0){const f=i.ownerDocument,p=f.body,m=getComputedStyle(p),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,b=Math.abs(i.clientWidth-p.clientWidth-v);b<=JT&&(s-=b)}else d<=JT&&(s+=d);return{width:s,height:r,x:l,y:u}}const J5=new Set(["absolute","fixed"]);function e4(e,t){const n=Ia(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,s=es(e)?rc(e):Xo(1),r=e.clientWidth*s.x,l=e.clientHeight*s.y,u=o*s.x,d=i*s.y;return{width:r,height:l,x:u,y:d}}function eD(e,t,n){let i;if(t==="viewport")i=Z5(e,n);else if(t==="document")i=Q5(is(e));else if(Do(t))i=e4(t,n);else{const o=_P(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return xg(i)}function NP(e,t){const n=Ar(e);return n===t||!Do(n)||bc(n)?!1:Fo(n).position==="fixed"||NP(n,t)}function t4(e,t){const n=t.get(e);if(n)return n;let i=wd(e,[],!1).filter(l=>Do(l)&&Gc(l)!=="body"),o=null;const s=Fo(e).position==="fixed";let r=s?Ar(e):e;for(;Do(r)&&!bc(r);){const l=Fo(r),u=eb(r);!u&&l.position==="fixed"&&(o=null),(s?!u&&!o:!u&&l.position==="static"&&!!o&&J5.has(o.position)||Wd(r)&&!u&&NP(e,r))?i=i.filter(f=>f!==r):o=l,r=Ar(r)}return t.set(e,i),i}function n4(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const r=[...n==="clippingAncestors"?mp(t)?[]:t4(t,this._c):[].concat(n),i],l=r[0],u=r.reduce((d,f)=>{const p=eD(t,f,o);return d.top=Li(p.top,d.top),d.right=Pr(p.right,d.right),d.bottom=Pr(p.bottom,d.bottom),d.left=Li(p.left,d.left),d},eD(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function i4(e){const{width:t,height:n}=OP(e);return{width:t,height:n}}function o4(e,t,n){const i=es(t),o=is(t),s=n==="fixed",r=Ia(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const u=Xo(0);function d(){u.x=Cp(o)}if(i||!i&&!s)if((Gc(t)!=="body"||Wd(o))&&(l=vp(t)),i){const v=Ia(t,!0,s,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else o&&d();s&&!i&&o&&d();const f=o&&!i&&!s?LP(o,l):Xo(0),p=r.left+l.scrollLeft-u.x-f.x,m=r.top+l.scrollTop-u.y-f.y;return{x:p,y:m,width:r.width,height:r.height}}function EC(e){return Fo(e).position==="static"}function tD(e,t){if(!es(e)||Fo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return is(e)===n&&(n=n.ownerDocument.body),n}function HP(e,t){const n=Gi(e);if(mp(e))return n;if(!es(e)){let o=Ar(e);for(;o&&!bc(o);){if(Do(o)&&!EC(o))return o;o=Ar(o)}return n}let i=tD(e,t);for(;i&&B5(i)&&EC(i);)i=tD(i,t);return i&&bc(i)&&EC(i)&&!eb(i)?n:i||j5(e)||n}const s4=async function(e){const t=this.getOffsetParent||HP,n=this.getDimensions,i=await n(e.floating);return{reference:o4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function r4(e){return Fo(e).direction==="rtl"}const a4={convertOffsetParentRelativeRectToViewportRelativeRect:Y5,getDocumentElement:is,getClippingRect:n4,getOffsetParent:HP,getElementRects:s4,getClientRects:X5,getDimensions:i4,getScale:rc,isElement:Do,isRTL:r4};function GP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function l4(e,t){let n=null,i;const o=is(e);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function r(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=e.getBoundingClientRect(),{left:f,top:p,width:m,height:v}=d;if(l||t(),!m||!v)return;const b=Pf(p),S=Pf(o.clientWidth-(f+m)),R=Pf(o.clientHeight-(p+v)),x=Pf(f),F={rootMargin:-b+"px "+-S+"px "+-R+"px "+-x+"px",threshold:Li(0,Pr(1,u))||1};let A=!0;function M(I){const P=I[0].intersectionRatio;if(P!==u){if(!A)return r();P?r(!1,P):i=setTimeout(()=>{r(!1,1e-7)},1e3)}P===1&&!GP(d,e.getBoundingClientRect())&&r(),A=!1}try{n=new IntersectionObserver(M,{...F,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,F)}n.observe(e)}return r(!0),s}function c4(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,d=nb(e),f=o||s?[...d?wd(d):[],...wd(t)]:[];f.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=d&&l?l4(d,n):null;let m=-1,v=null;r&&(v=new ResizeObserver(x=>{let[T]=x;T&&T.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var F;(F=v)==null||F.observe(t)})),n()}),d&&!u&&v.observe(d),v.observe(t));let b,S=u?Ia(e):null;u&&R();function R(){const x=Ia(e);S&&!GP(S,x)&&n(),S=x,b=requestAnimationFrame(R)}return n(),()=>{var x;f.forEach(T=>{o&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),p?.(),(x=v)==null||x.disconnect(),v=null,u&&cancelAnimationFrame(b)}}const u4=O5,d4=_5,h4=M5,f4=N5,g4=k5,nD=A5,p4=L5,m4=(e,t,n)=>{const i=new Map,o={platform:a4,...n},s={...o.platform,_c:i};return P5(e,t,{...o,platform:s})};var v4=typeof document<"u",C4=function(){},Xf=v4?w.useLayoutEffect:C4;function Eg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Eg(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!Eg(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function BP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function iD(e,t){const n=BP(e);return Math.round(t*n)/n}function TC(e){const t=w.useRef(e);return Xf(()=>{t.current=e}),t}function w4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:r}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,p]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=w.useState(i);Eg(m,i)||v(i);const[b,S]=w.useState(null),[R,x]=w.useState(null),T=w.useCallback(G=>{G!==I.current&&(I.current=G,S(G))},[]),F=w.useCallback(G=>{G!==P.current&&(P.current=G,x(G))},[]),A=s||b,M=r||R,I=w.useRef(null),P=w.useRef(null),_=w.useRef(f),L=u!=null,V=TC(u),z=TC(o),K=TC(d),se=w.useCallback(()=>{if(!I.current||!P.current)return;const G={placement:t,strategy:n,middleware:m};z.current&&(G.platform=z.current),m4(I.current,P.current,G).then(ee=>{const oe={...ee,isPositioned:K.current!==!1};he.current&&!Eg(_.current,oe)&&(_.current=oe,zd.flushSync(()=>{p(oe)}))})},[m,t,n,z,K]);Xf(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(G=>({...G,isPositioned:!1})))},[d]);const he=w.useRef(!1);Xf(()=>(he.current=!0,()=>{he.current=!1}),[]),Xf(()=>{if(A&&(I.current=A),M&&(P.current=M),A&&M){if(V.current)return V.current(A,M,se);se()}},[A,M,se,V,L]);const J=w.useMemo(()=>({reference:I,floating:P,setReference:T,setFloating:F}),[T,F]),N=w.useMemo(()=>({reference:A,floating:M}),[A,M]),q=w.useMemo(()=>{const G={position:n,left:0,top:0};if(!N.floating)return G;const ee=iD(N.floating,f.x),oe=iD(N.floating,f.y);return l?{...G,transform:"translate("+ee+"px, "+oe+"px)",...BP(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:oe}},[n,l,N.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:se,refs:J,elements:N,floatingStyles:q}),[f,se,J,N,q])}const y4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:o}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?nD({element:i.current,padding:o}).fn(n):{}:i?nD({element:i,padding:o}).fn(n):{}}}},b4=(e,t)=>({...u4(e),options:[e,t]}),S4=(e,t)=>({...d4(e),options:[e,t]}),R4=(e,t)=>({...p4(e),options:[e,t]}),x4=(e,t)=>({...h4(e),options:[e,t]}),E4=(e,t)=>({...f4(e),options:[e,t]}),T4=(e,t)=>({...g4(e),options:[e,t]}),D4=(e,t)=>({...y4(e),options:[e,t]});var F4="Arrow",VP=w.forwardRef((e,t)=>{const{children:n,width:i=10,height:o=5,...s}=e;return E.jsx(gt.svg,{...s,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});VP.displayName=F4;var P4=VP;function A4(e){const[t,n]=w.useState(void 0);return ao(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let r,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;r=d.inlineSize,l=d.blockSize}else r=e.offsetWidth,l=e.offsetHeight;n({width:r,height:l})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var ib="Popper",[zP,wp]=Bs(ib),[M4,WP]=zP(ib),UP=e=>{const{__scopePopper:t,children:n}=e,[i,o]=w.useState(null);return E.jsx(M4,{scope:t,anchor:i,onAnchorChange:o,children:n})};UP.displayName=ib;var jP="PopperAnchor",$P=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...o}=e,s=WP(jP,n),r=w.useRef(null),l=Vt(t,r),u=w.useRef(null);return w.useEffect(()=>{const d=u.current;u.current=i?.current||r.current,d!==u.current&&s.onAnchorChange(u.current)}),i?null:E.jsx(gt.div,{...o,ref:l})});$P.displayName=jP;var ob="PopperContent",[k4,I4]=zP(ob),KP=w.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:s="center",alignOffset:r=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:b,...S}=e,R=WP(ob,n),[x,T]=w.useState(null),F=Vt(t,pe=>T(pe)),[A,M]=w.useState(null),I=A4(A),P=I?.width??0,_=I?.height??0,L=i+(s!=="center"?"-"+s:""),V=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(d)?d:[d],K=z.length>0,se={padding:V,boundary:z.filter(_4),altBoundary:K},{refs:he,floatingStyles:J,placement:N,isPositioned:q,middlewareData:G}=w4({strategy:"fixed",placement:L,whileElementsMounted:(...pe)=>c4(...pe,{animationFrame:v==="always"}),elements:{reference:R.anchor},middleware:[b4({mainAxis:o+_,alignmentAxis:r}),u&&S4({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?R4():void 0,...se}),u&&x4({...se}),E4({...se,apply:({elements:pe,rects:Ke,availableWidth:Ye,availableHeight:We})=>{const{width:Ft,height:Be}=Ke.reference,pt=pe.floating.style;pt.setProperty("--radix-popper-available-width",`${Ye}px`),pt.setProperty("--radix-popper-available-height",`${We}px`),pt.setProperty("--radix-popper-anchor-width",`${Ft}px`),pt.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),A&&D4({element:A,padding:l}),L4({arrowWidth:P,arrowHeight:_}),m&&T4({strategy:"referenceHidden",...se})]}),[ee,oe]=XP(N),O=en(b);ao(()=>{q&&O?.()},[q,O]);const U=G.arrow?.x,Q=G.arrow?.y,ae=G.arrow?.centerOffset!==0,[ve,Se]=w.useState();return ao(()=>{x&&Se(window.getComputedStyle(x).zIndex)},[x]),E.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:q?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:E.jsx(k4,{scope:n,placedSide:ee,onArrowChange:M,arrowX:U,arrowY:Q,shouldHideArrow:ae,children:E.jsx(gt.div,{"data-side":ee,"data-align":oe,...S,ref:F,style:{...S.style,animation:q?void 0:"none"}})})})});KP.displayName=ob;var qP="PopperArrow",O4={top:"bottom",right:"left",bottom:"top",left:"right"},YP=w.forwardRef(function(t,n){const{__scopePopper:i,...o}=t,s=I4(qP,i),r=O4[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[r]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(P4,{...o,ref:n,style:{...o.style,display:"block"}})})});YP.displayName=qP;function _4(e){return e!==null}var L4=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:o}=t,r=o.arrow?.centerOffset!==0,l=r?0:e.arrowWidth,u=r?0:e.arrowHeight,[d,f]=XP(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(o.arrow?.x??0)+l/2,v=(o.arrow?.y??0)+u/2;let b="",S="";return d==="bottom"?(b=r?p:`${m}px`,S=`${-u}px`):d==="top"?(b=r?p:`${m}px`,S=`${i.floating.height+u}px`):d==="right"?(b=`${-u}px`,S=r?p:`${v}px`):d==="left"&&(b=`${i.floating.width+u}px`,S=r?p:`${v}px`),{data:{x:b,y:S}}}});function XP(e){const[t,n="center"]=e.split("-");return[t,n]}var QP=UP,ZP=$P,JP=KP,eA=YP,N4="Portal",sb=w.forwardRef((e,t)=>{const{container:n,...i}=e,[o,s]=w.useState(!1);ao(()=>s(!0),[]);const r=n||o&&globalThis?.document?.body;return r?Xy.createPortal(E.jsx(gt.div,{...i,ref:t}),r):null});sb.displayName=N4;function H4(e,t){return w.useReducer((n,i)=>t[n][i]??n,e)}var li=e=>{const{present:t,children:n}=e,i=G4(t),o=typeof n=="function"?n({present:i.isPresent}):w.Children.only(n),s=Vt(i.ref,B4(o));return typeof n=="function"||i.isPresent?w.cloneElement(o,{ref:s}):null};li.displayName="Presence";function G4(e){const[t,n]=w.useState(),i=w.useRef(null),o=w.useRef(e),s=w.useRef("none"),r=e?"mounted":"unmounted",[l,u]=H4(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=Af(i.current);s.current=l==="mounted"?d:"none"},[l]),ao(()=>{const d=i.current,f=o.current;if(f!==e){const m=s.current,v=Af(d);e?u("MOUNT"):v==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),ao(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,p=v=>{const S=Af(i.current).includes(CSS.escape(v.animationName));if(v.target===t&&S&&(u("ANIMATION_END"),!o.current)){const R=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=R)})}},m=v=>{v.target===t&&(s.current=Af(i.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function Af(e){return e?.animationName||"none"}function B4(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var V4=Symbol("radix.slottable");function z4(e){const t=({children:n})=>E.jsx(E.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=V4,t}var W4=ap[" useInsertionEffect ".trim().toString()]||ao;function Hr({prop:e,defaultProp:t,onChange:n=()=>{},caller:i}){const[o,s,r]=U4({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:o;{const f=w.useRef(e!==void 0);w.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const d=w.useCallback(f=>{if(l){const p=j4(f)?f(e):f;p!==e&&r.current?.(p)}else s(f)},[l,e,s,r]);return[u,d]}function U4({defaultProp:e,onChange:t}){const[n,i]=w.useState(e),o=w.useRef(n),s=w.useRef(t);return W4(()=>{s.current=t},[t]),w.useEffect(()=>{o.current!==n&&(s.current?.(n),o.current=n)},[n,o]),[n,i,s]}function j4(e){return typeof e=="function"}var $4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),K4="VisuallyHidden",tA=w.forwardRef((e,t)=>E.jsx(gt.span,{...e,ref:t,style:{...$4,...e.style}}));tA.displayName=K4;var nA=tA,[yp]=Bs("Tooltip",[wp]),bp=wp(),iA="TooltipProvider",q4=700,_w="tooltip.open",[Y4,rb]=yp(iA),oA=e=>{const{__scopeTooltip:t,delayDuration:n=q4,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:s}=e,r=w.useRef(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),E.jsx(Y4,{scope:t,isOpenDelayedRef:r,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),r.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>r.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(d=>{l.current=d},[]),disableHoverableContent:o,children:s})};oA.displayName=iA;var yd="Tooltip",[X4,Ud]=yp(yd),sA=e=>{const{__scopeTooltip:t,children:n,open:i,defaultOpen:o,onOpenChange:s,disableHoverableContent:r,delayDuration:l}=e,u=rb(yd,e.__scopeTooltip),d=bp(t),[f,p]=w.useState(null),m=yc(),v=w.useRef(0),b=r??u.disableHoverableContent,S=l??u.delayDuration,R=w.useRef(!1),[x,T]=Hr({prop:i,defaultProp:o??!1,onChange:P=>{P?(u.onOpen(),document.dispatchEvent(new CustomEvent(_w))):u.onClose(),s?.(P)},caller:yd}),F=w.useMemo(()=>x?R.current?"delayed-open":"instant-open":"closed",[x]),A=w.useCallback(()=>{window.clearTimeout(v.current),v.current=0,R.current=!1,T(!0)},[T]),M=w.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),I=w.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{R.current=!0,T(!0),v.current=0},S)},[S,T]);return w.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),E.jsx(QP,{...d,children:E.jsx(X4,{scope:t,contentId:m,open:x,stateAttribute:F,trigger:f,onTriggerChange:p,onTriggerEnter:w.useCallback(()=>{u.isOpenDelayedRef.current?I():A()},[u.isOpenDelayedRef,I,A]),onTriggerLeave:w.useCallback(()=>{b?M():(window.clearTimeout(v.current),v.current=0)},[M,b]),onOpen:A,onClose:M,disableHoverableContent:b,children:n})})};sA.displayName=yd;var Lw="TooltipTrigger",rA=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=Ud(Lw,n),s=rb(Lw,n),r=bp(n),l=w.useRef(null),u=Vt(t,l,o.onTriggerChange),d=w.useRef(!1),f=w.useRef(!1),p=w.useCallback(()=>d.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),E.jsx(ZP,{asChild:!0,...r,children:E.jsx(gt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:u,onPointerMove:Ae(e.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ae(e.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:Ae(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ae(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:Ae(e.onBlur,o.onClose),onClick:Ae(e.onClick,o.onClose)})})});rA.displayName=Lw;var ab="TooltipPortal",[Q4,Z4]=yp(ab,{forceMount:void 0}),aA=e=>{const{__scopeTooltip:t,forceMount:n,children:i,container:o}=e,s=Ud(ab,t);return E.jsx(Q4,{scope:t,forceMount:n,children:E.jsx(li,{present:n||s.open,children:E.jsx(sb,{asChild:!0,container:o,children:i})})})};aA.displayName=ab;var Sc="TooltipContent",lA=w.forwardRef((e,t)=>{const n=Z4(Sc,e.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...s}=e,r=Ud(Sc,e.__scopeTooltip);return E.jsx(li,{present:i||r.open,children:r.disableHoverableContent?E.jsx(cA,{side:o,...s,ref:t}):E.jsx(J4,{side:o,...s,ref:t})})}),J4=w.forwardRef((e,t)=>{const n=Ud(Sc,e.__scopeTooltip),i=rb(Sc,e.__scopeTooltip),o=w.useRef(null),s=Vt(t,o),[r,l]=w.useState(null),{trigger:u,onClose:d}=n,f=o.current,{onPointerInTransitChange:p}=i,m=w.useCallback(()=>{l(null),p(!1)},[p]),v=w.useCallback((b,S)=>{const R=b.currentTarget,x={x:b.clientX,y:b.clientY},T=o6(x,R.getBoundingClientRect()),F=s6(x,T),A=r6(S.getBoundingClientRect()),M=l6([...F,...A]);l(M),p(!0)},[p]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(u&&f){const b=R=>v(R,f),S=R=>v(R,u);return u.addEventListener("pointerleave",b),f.addEventListener("pointerleave",S),()=>{u.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",S)}}},[u,f,v,m]),w.useEffect(()=>{if(r){const b=S=>{const R=S.target,x={x:S.clientX,y:S.clientY},T=u?.contains(R)||f?.contains(R),F=!a6(x,r);T?m():F&&(m(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,f,r,d,m]),E.jsx(cA,{...e,ref:s})}),[e6,t6]=yp(yd,{isInside:!1}),n6=z4("TooltipContent"),cA=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:r,...l}=e,u=Ud(Sc,n),d=bp(n),{onClose:f}=u;return w.useEffect(()=>(document.addEventListener(_w,f),()=>document.removeEventListener(_w,f)),[f]),w.useEffect(()=>{if(u.trigger){const p=m=>{m.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,f]),E.jsx(gp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:E.jsxs(JP,{"data-state":u.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(n6,{children:i}),E.jsx(e6,{scope:n,isInside:!0,children:E.jsx(nA,{id:u.contentId,role:"tooltip",children:o||i})})]})})});lA.displayName=Sc;var uA="TooltipArrow",i6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=bp(n);return t6(uA,n).isInside?null:E.jsx(eA,{...o,...i,ref:t})});i6.displayName=uA;function o6(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,i,o,s)){case s:return"left";case o:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function s6(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function r6(e){const{top:t,right:n,bottom:i,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:i},{x:o,y:i}]}function a6(e,t){const{x:n,y:i}=e;let o=!1;for(let s=0,r=t.length-1;s<t.length;r=s++){const l=t[s],u=t[r],d=l.x,f=l.y,p=u.x,m=u.y;f>i!=m>i&&n<(p-d)*(i-f)/(m-f)+d&&(o=!o)}return o}function l6(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),c6(t)}function c6(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const o=e[i];for(;t.length>=2;){const s=t[t.length-1],r=t[t.length-2];if((s.x-r.x)*(o.y-r.y)>=(s.y-r.y)*(o.x-r.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;n.length>=2;){const s=n[n.length-1],r=n[n.length-2];if((s.x-r.x)*(o.y-r.y)>=(s.y-r.y)*(o.x-r.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var u6=sA,d6=rA,h6=aA,dA=lA,f6=w.createContext(void 0);function jd(e){const t=w.useContext(f6);return e||t||"ltr"}function oD(e){const t=g6(e),n=w.forwardRef((i,o)=>{const{children:s,...r}=i,l=w.Children.toArray(s),u=l.find(m6);if(u){const d=u.props.children,f=l.map(p=>p===u?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:p);return E.jsx(t,{...r,ref:o,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function g6(e){const t=w.forwardRef((n,i)=>{const{children:o,...s}=n;if(w.isValidElement(o)){const r=C6(o),l=v6(s,o.props);return o.type!==w.Fragment&&(l.ref=i?Nr(i,r):r),w.cloneElement(o,l)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p6=Symbol("radix.slottable");function m6(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p6}function v6(e,t){const n={...t};for(const i in t){const o=e[i],s=t[i];/^on[A-Z]/.test(i)?o&&s?n[i]=(...l)=>{const u=s(...l);return o(...l),u}:o&&(n[i]=o):i==="style"?n[i]={...o,...s}:i==="className"&&(n[i]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function C6(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sp(e){const t=e+"CollectionProvider",[n,i]=Bs(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),r=S=>{const{scope:R,children:x}=S,T=de.useRef(null),F=de.useRef(new Map).current;return E.jsx(o,{scope:R,itemMap:F,collectionRef:T,children:x})};r.displayName=t;const l=e+"CollectionSlot",u=oD(l),d=de.forwardRef((S,R)=>{const{scope:x,children:T}=S,F=s(l,x),A=Vt(R,F.collectionRef);return E.jsx(u,{ref:A,children:T})});d.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",m=oD(f),v=de.forwardRef((S,R)=>{const{scope:x,children:T,...F}=S,A=de.useRef(null),M=Vt(R,A),I=s(f,x);return de.useEffect(()=>(I.itemMap.set(A,{ref:A,...F}),()=>{I.itemMap.delete(A)})),E.jsx(m,{[p]:"",ref:M,children:T})});v.displayName=f;function b(S){const R=s(e+"CollectionConsumer",S);return de.useCallback(()=>{const T=R.collectionRef.current;if(!T)return[];const F=Array.from(T.querySelectorAll(`[${p}]`));return Array.from(R.itemMap.values()).sort((I,P)=>F.indexOf(I.ref.current)-F.indexOf(P.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:r,Slot:d,ItemSlot:v},b,i]}function w6(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ka="NavigationMenu",[lb,hA,y6]=Sp(Ka),[Nw,b6,S6]=Sp(Ka),[cb]=Bs(Ka,[y6,S6]),[R6,co]=cb(Ka),[x6,E6]=cb(Ka),fA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,onValueChange:o,defaultValue:s,delayDuration:r=200,skipDelayDuration:l=300,orientation:u="horizontal",dir:d,...f}=e,[p,m]=w.useState(null),v=Vt(t,L=>m(L)),b=jd(d),S=w.useRef(0),R=w.useRef(0),x=w.useRef(0),[T,F]=w.useState(!0),[A,M]=Hr({prop:i,onChange:L=>{const V=L!=="",z=l>0;V?(window.clearTimeout(x.current),z&&F(!1)):(window.clearTimeout(x.current),x.current=window.setTimeout(()=>F(!0),l)),o?.(L)},defaultProp:s??"",caller:Ka}),I=w.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>M(""),150)},[M]),P=w.useCallback(L=>{window.clearTimeout(R.current),M(L)},[M]),_=w.useCallback(L=>{A===L?window.clearTimeout(R.current):S.current=window.setTimeout(()=>{window.clearTimeout(R.current),M(L)},r)},[A,M,r]);return w.useEffect(()=>()=>{window.clearTimeout(S.current),window.clearTimeout(R.current),window.clearTimeout(x.current)},[]),E.jsx(gA,{scope:n,isRootMenu:!0,value:A,dir:b,orientation:u,rootNavigationMenu:p,onTriggerEnter:L=>{window.clearTimeout(S.current),T?_(L):P(L)},onTriggerLeave:()=>{window.clearTimeout(S.current),I()},onContentEnter:()=>window.clearTimeout(R.current),onContentLeave:I,onItemSelect:L=>{M(V=>V===L?"":L)},onItemDismiss:()=>M(""),children:E.jsx(gt.nav,{"aria-label":"Main","data-orientation":u,dir:b,...f,ref:v})})});fA.displayName=Ka;var Hw="NavigationMenuSub",T6=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,onValueChange:o,defaultValue:s,orientation:r="horizontal",...l}=e,u=co(Hw,n),[d,f]=Hr({prop:i,onChange:o,defaultProp:s??"",caller:Hw});return E.jsx(gA,{scope:n,isRootMenu:!1,value:d,dir:u.dir,orientation:r,rootNavigationMenu:u.rootNavigationMenu,onTriggerEnter:p=>f(p),onItemSelect:p=>f(p),onItemDismiss:()=>f(""),children:E.jsx(gt.div,{"data-orientation":r,...l,ref:t})})});T6.displayName=Hw;var gA=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:i,dir:o,orientation:s,children:r,value:l,onItemSelect:u,onItemDismiss:d,onTriggerEnter:f,onTriggerLeave:p,onContentEnter:m,onContentLeave:v}=e,[b,S]=w.useState(null),[R,x]=w.useState(new Map),[T,F]=w.useState(null);return E.jsx(R6,{scope:t,isRootMenu:n,rootNavigationMenu:i,value:l,previousValue:w6(l),baseId:yc(),dir:o,orientation:s,viewport:b,onViewportChange:S,indicatorTrack:T,onIndicatorTrackChange:F,onTriggerEnter:en(f),onTriggerLeave:en(p),onContentEnter:en(m),onContentLeave:en(v),onItemSelect:en(u),onItemDismiss:en(d),onViewportContentChange:w.useCallback((A,M)=>{x(I=>(I.set(A,M),new Map(I)))},[]),onViewportContentRemove:w.useCallback(A=>{x(M=>M.has(A)?(M.delete(A),new Map(M)):M)},[]),children:E.jsx(lb.Provider,{scope:t,children:E.jsx(x6,{scope:t,items:R,children:r})})})},pA="NavigationMenuList",mA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,o=co(pA,n),s=E.jsx(gt.ul,{"data-orientation":o.orientation,...i,ref:t});return E.jsx(gt.div,{style:{position:"relative"},ref:o.onIndicatorTrackChange,children:E.jsx(lb.Slot,{scope:n,children:o.isRootMenu?E.jsx(TA,{asChild:!0,children:s}):s})})});mA.displayName=pA;var vA="NavigationMenuItem",[D6,CA]=cb(vA),wA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,...o}=e,s=yc(),r=i||s||"LEGACY_REACT_AUTO_VALUE",l=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(()=>{}),p=w.useRef(!1),m=w.useCallback((b="start")=>{if(l.current){f.current();const S=Bw(l.current);S.length&&hb(b==="start"?S:S.reverse())}},[]),v=w.useCallback(()=>{if(l.current){const b=Bw(l.current);b.length&&(f.current=O6(b))}},[]);return E.jsx(D6,{scope:n,value:r,triggerRef:u,contentRef:l,focusProxyRef:d,wasEscapeCloseRef:p,onEntryKeyDown:m,onFocusProxyEnter:m,onRootContentClose:v,onContentFocusOutside:v,children:E.jsx(gt.li,{...o,ref:t})})});wA.displayName=vA;var Gw="NavigationMenuTrigger",yA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:i,...o}=e,s=co(Gw,e.__scopeNavigationMenu),r=CA(Gw,e.__scopeNavigationMenu),l=w.useRef(null),u=Vt(l,r.triggerRef,t),d=FA(s.baseId,r.value),f=PA(s.baseId,r.value),p=w.useRef(!1),m=w.useRef(!1),v=r.value===s.value;return E.jsxs(E.Fragment,{children:[E.jsx(lb.ItemSlot,{scope:n,value:r.value,children:E.jsx(DA,{asChild:!0,children:E.jsx(gt.button,{id:d,disabled:i,"data-disabled":i?"":void 0,"data-state":fb(v),"aria-expanded":v,"aria-controls":f,...o,ref:u,onPointerEnter:Ae(e.onPointerEnter,()=>{m.current=!1,r.wasEscapeCloseRef.current=!1}),onPointerMove:Ae(e.onPointerMove,Tg(()=>{i||m.current||r.wasEscapeCloseRef.current||p.current||(s.onTriggerEnter(r.value),p.current=!0)})),onPointerLeave:Ae(e.onPointerLeave,Tg(()=>{i||(s.onTriggerLeave(),p.current=!1)})),onClick:Ae(e.onClick,()=>{s.onItemSelect(r.value),m.current=v}),onKeyDown:Ae(e.onKeyDown,b=>{const R={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];v&&b.key===R&&(r.onEntryKeyDown(),b.preventDefault())})})})}),v&&E.jsxs(E.Fragment,{children:[E.jsx(nA,{"aria-hidden":!0,tabIndex:0,ref:r.focusProxyRef,onFocus:b=>{const S=r.contentRef.current,R=b.relatedTarget,x=R===l.current,T=S?.contains(R);(x||!T)&&r.onFocusProxyEnter(x?"start":"end")}}),s.viewport&&E.jsx("span",{"aria-owns":f})]})]})});yA.displayName=Gw;var F6="NavigationMenuLink",sD="navigationMenu.linkSelect",bA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,active:i,onSelect:o,...s}=e;return E.jsx(DA,{asChild:!0,children:E.jsx(gt.a,{"data-active":i?"":void 0,"aria-current":i?"page":void 0,...s,ref:t,onClick:Ae(e.onClick,r=>{const l=r.target,u=new CustomEvent(sD,{bubbles:!0,cancelable:!0});if(l.addEventListener(sD,d=>o?.(d),{once:!0}),bg(l,u),!u.defaultPrevented&&!r.metaKey){const d=new CustomEvent(Qf,{bubbles:!0,cancelable:!0});bg(l,d)}},{checkForDefaultPrevented:!1})})})});bA.displayName=F6;var ub="NavigationMenuIndicator",SA=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=co(ub,e.__scopeNavigationMenu),s=!!o.value;return o.indicatorTrack?Xy.createPortal(E.jsx(li,{present:n||s,children:E.jsx(P6,{...i,ref:t})}),o.indicatorTrack):null});SA.displayName=ub;var P6=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,o=co(ub,n),s=hA(n),[r,l]=w.useState(null),[u,d]=w.useState(null),f=o.orientation==="horizontal",p=!!o.value;w.useEffect(()=>{const b=s().find(S=>S.value===o.value)?.ref.current;b&&l(b)},[s,o.value]);const m=()=>{r&&d({size:f?r.offsetWidth:r.offsetHeight,offset:f?r.offsetLeft:r.offsetTop})};return Vw(r,m),Vw(o.indicatorTrack,m),u?E.jsx(gt.div,{"aria-hidden":!0,"data-state":p?"visible":"hidden","data-orientation":o.orientation,...i,ref:t,style:{position:"absolute",...f?{left:0,width:u.size+"px",transform:`translateX(${u.offset}px)`}:{top:0,height:u.size+"px",transform:`translateY(${u.offset}px)`},...i.style}}):null}),Rc="NavigationMenuContent",RA=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=co(Rc,e.__scopeNavigationMenu),s=CA(Rc,e.__scopeNavigationMenu),r=Vt(s.contentRef,t),l=s.value===o.value,u={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...i};return o.viewport?E.jsx(A6,{forceMount:n,...u,ref:r}):E.jsx(li,{present:n||l,children:E.jsx(xA,{"data-state":fb(l),...u,ref:r,onPointerEnter:Ae(e.onPointerEnter,o.onContentEnter),onPointerLeave:Ae(e.onPointerLeave,Tg(o.onContentLeave)),style:{pointerEvents:!l&&o.isRootMenu?"none":void 0,...u.style}})})});RA.displayName=Rc;var A6=w.forwardRef((e,t)=>{const n=co(Rc,e.__scopeNavigationMenu),{onViewportContentChange:i,onViewportContentRemove:o}=n;return ao(()=>{i(e.value,{ref:t,...e})},[e,t,i]),ao(()=>()=>o(e.value),[e.value,o]),null}),Qf="navigationMenu.rootContentDismiss",xA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:i,triggerRef:o,focusProxyRef:s,wasEscapeCloseRef:r,onRootContentClose:l,onContentFocusOutside:u,...d}=e,f=co(Rc,n),p=w.useRef(null),m=Vt(p,t),v=FA(f.baseId,i),b=PA(f.baseId,i),S=hA(n),R=w.useRef(null),{onItemDismiss:x}=f;w.useEffect(()=>{const F=p.current;if(f.isRootMenu&&F){const A=()=>{x(),l(),F.contains(document.activeElement)&&o.current?.focus()};return F.addEventListener(Qf,A),()=>F.removeEventListener(Qf,A)}},[f.isRootMenu,e.value,o,x,l]);const T=w.useMemo(()=>{const A=S().map(V=>V.value);f.dir==="rtl"&&A.reverse();const M=A.indexOf(f.value),I=A.indexOf(f.previousValue),P=i===f.value,_=I===A.indexOf(i);if(!P&&!_)return R.current;const L=(()=>{if(M!==I){if(P&&I!==-1)return M>I?"from-end":"from-start";if(_&&M!==-1)return M>I?"to-start":"to-end"}return null})();return R.current=L,L},[f.previousValue,f.value,f.dir,S,i]);return E.jsx(TA,{asChild:!0,children:E.jsx(gp,{id:b,"aria-labelledby":v,"data-motion":T,"data-orientation":f.orientation,...d,ref:m,disableOutsidePointerEvents:!1,onDismiss:()=>{const F=new Event(Qf,{bubbles:!0,cancelable:!0});p.current?.dispatchEvent(F)},onFocusOutside:Ae(e.onFocusOutside,F=>{u();const A=F.target;f.rootNavigationMenu?.contains(A)&&F.preventDefault()}),onPointerDownOutside:Ae(e.onPointerDownOutside,F=>{const A=F.target,M=S().some(P=>P.ref.current?.contains(A)),I=f.isRootMenu&&f.viewport?.contains(A);(M||I||!f.isRootMenu)&&F.preventDefault()}),onKeyDown:Ae(e.onKeyDown,F=>{const A=F.altKey||F.ctrlKey||F.metaKey;if(F.key==="Tab"&&!A){const I=Bw(F.currentTarget),P=document.activeElement,_=I.findIndex(z=>z===P),V=F.shiftKey?I.slice(0,_).reverse():I.slice(_+1,I.length);hb(V)?F.preventDefault():s.current?.focus()}}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,F=>{r.current=!0})})})}),db="NavigationMenuViewport",EA=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=!!co(db,e.__scopeNavigationMenu).value;return E.jsx(li,{present:n||s,children:E.jsx(M6,{...i,ref:t})})});EA.displayName=db;var M6=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,children:i,...o}=e,s=co(db,n),r=Vt(t,s.onViewportChange),l=E6(Rc,e.__scopeNavigationMenu),[u,d]=w.useState(null),[f,p]=w.useState(null),m=u?u?.width+"px":void 0,v=u?u?.height+"px":void 0,b=!!s.value,S=b?s.value:s.previousValue;return Vw(f,()=>{f&&d({width:f.offsetWidth,height:f.offsetHeight})}),E.jsx(gt.div,{"data-state":fb(b),"data-orientation":s.orientation,...o,ref:r,style:{pointerEvents:!b&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":m,"--radix-navigation-menu-viewport-height":v,...o.style},onPointerEnter:Ae(e.onPointerEnter,s.onContentEnter),onPointerLeave:Ae(e.onPointerLeave,Tg(s.onContentLeave)),children:Array.from(l.items).map(([x,{ref:T,forceMount:F,...A}])=>{const M=S===x;return E.jsx(li,{present:F||M,children:E.jsx(xA,{...A,ref:Nr(T,I=>{M&&I&&p(I)})})},x)})})}),k6="FocusGroup",TA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,o=co(k6,n);return E.jsx(Nw.Provider,{scope:n,children:E.jsx(Nw.Slot,{scope:n,children:E.jsx(gt.div,{dir:o.dir,...i,ref:t})})})}),rD=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],I6="FocusGroupItem",DA=w.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...i}=e,o=b6(n),s=co(I6,n);return E.jsx(Nw.ItemSlot,{scope:n,children:E.jsx(gt.button,{...i,ref:t,onKeyDown:Ae(e.onKeyDown,r=>{if(["Home","End",...rD].includes(r.key)){let u=o().map(p=>p.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(r.key)&&u.reverse(),rD.includes(r.key)){const p=u.indexOf(r.currentTarget);u=u.slice(p+1)}setTimeout(()=>hb(u)),r.preventDefault()}})})})});function Bw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hb(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function O6(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function Vw(e,t){const n=en(t);ao(()=>{let i=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(i),o.unobserve(e)}}},[e,n])}function fb(e){return e?"open":"closed"}function FA(e,t){return`${e}-trigger-${t}`}function PA(e,t){return`${e}-content-${t}`}function Tg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var AA=fA,MA=mA,_6=wA,kA=yA,L6=bA,IA=SA,OA=RA,_A=EA;const LA=w.forwardRef((e,t)=>{const n=Oe.c(12);let i,o,s;n[0]!==e?({className:o,children:i,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);let r;n[4]!==o?(r=St("relative z-10 flex max-w-max flex-1 items-center justify-center",o),n[4]=o,n[5]=r):r=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=E.jsx(GA,{}),n[6]=l):l=n[6];let u;return n[7]!==i||n[8]!==s||n[9]!==t||n[10]!==r?(u=E.jsxs(AA,{ref:t,className:r,...s,children:[i,l]}),n[7]=i,n[8]=s,n[9]=t,n[10]=r,n[11]=u):u=n[11],u});LA.displayName=AA.displayName;const NA=w.forwardRef((e,t)=>{const n=Oe.c(9);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]!==i?(s=St("group flex flex-1 list-none items-center justify-center space-x-1",i),n[3]=i,n[4]=s):s=n[4];let r;return n[5]!==o||n[6]!==t||n[7]!==s?(r=E.jsx(MA,{ref:t,className:s,...o}),n[5]=o,n[6]=t,n[7]=s,n[8]=r):r=n[8],r});NA.displayName=MA.displayName;const N6=_6,HA=Ic("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),H6=w.forwardRef((e,t)=>{const n=Oe.c(12);let i,o,s;n[0]!==e?({className:o,children:i,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);let r;n[4]!==o?(r=St(HA(),"group",o),n[4]=o,n[5]=r):r=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=E.jsx(jF,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"}),n[6]=l):l=n[6];let u;return n[7]!==i||n[8]!==s||n[9]!==t||n[10]!==r?(u=E.jsxs(kA,{ref:t,className:r,...s,children:[i," ",l]}),n[7]=i,n[8]=s,n[9]=t,n[10]=r,n[11]=u):u=n[11],u});H6.displayName=kA.displayName;const G6=w.forwardRef((e,t)=>{const n=Oe.c(9);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]!==i?(s=St("data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full md:absolute md:w-auto",i),n[3]=i,n[4]=s):s=n[4];let r;return n[5]!==o||n[6]!==t||n[7]!==s?(r=E.jsx(OA,{ref:t,className:s,...o}),n[5]=o,n[6]=t,n[7]=s,n[8]=r):r=n[8],r});G6.displayName=OA.displayName;const B6=L6,GA=w.forwardRef((e,t)=>{const n=Oe.c(10);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]===Symbol.for("react.memo_cache_sentinel")?(s=St("absolute top-full left-0 flex justify-center"),n[3]=s):s=n[3];let r;n[4]!==i?(r=St("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",i),n[4]=i,n[5]=r):r=n[5];let l;return n[6]!==o||n[7]!==t||n[8]!==r?(l=E.jsx("div",{className:s,children:E.jsx(_A,{className:r,ref:t,...o})}),n[6]=o,n[7]=t,n[8]=r,n[9]=l):l=n[9],l});GA.displayName=_A.displayName;const V6=w.forwardRef((e,t)=>{const n=Oe.c(10);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]!==i?(s=St("data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden",i),n[3]=i,n[4]=s):s=n[4];let r;n[5]===Symbol.for("react.memo_cache_sentinel")?(r=E.jsx("div",{className:"bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md"}),n[5]=r):r=n[5];let l;return n[6]!==o||n[7]!==t||n[8]!==s?(l=E.jsx(IA,{ref:t,className:s,...o,children:r}),n[6]=o,n[7]=t,n[8]=s,n[9]=l):l=n[9],l});V6.displayName=IA.displayName;const BA=w.createContext({theme:"dark",setTheme:()=>{}});function gb(){const e=w.useContext(BA);if(e===void 0)throw new Error("useAppContext must be used within a AppContextProvider");return e}const z6=u6,W6=d6,VA=w.forwardRef((e,t)=>{const n=Oe.c(11);let i,o,s;n[0]!==e?({className:i,sideOffset:s,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);const r=s===void 0?4:s;let l;n[4]!==i?(l=St("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 origin-[--radix-tooltip-content-transform-origin] overflow-hidden rounded-md px-3 py-1.5 text-xs",i),n[4]=i,n[5]=l):l=n[5];let u;return n[6]!==o||n[7]!==t||n[8]!==r||n[9]!==l?(u=E.jsx(h6,{children:E.jsx(dA,{ref:t,sideOffset:r,className:l,...o})}),n[6]=o,n[7]=t,n[8]=r,n[9]=l,n[10]=u):u=n[10],u});VA.displayName=dA.displayName;var U6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j6=U6.reduce((e,t)=>{const n=jy(`Primitive.${t}`),i=w.forwardRef((o,s)=>{const{asChild:r,...l}=o,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),$6="Label",zA=w.forwardRef((e,t)=>E.jsx(j6.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zA.displayName=$6;var WA=zA;const K6=Ic("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q6=w.forwardRef((e,t)=>{const n=Oe.c(9);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]!==i?(s=St(K6(),i),n[3]=i,n[4]=s):s=n[4];let r;return n[5]!==o||n[6]!==t||n[7]!==s?(r=E.jsx(WA,{ref:t,className:s,...o}),n[5]=o,n[6]=t,n[7]=s,n[8]=r):r=n[8],r});q6.displayName=WA.displayName;var Y6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X6=Y6.reduce((e,t)=>{const n=jy(`Primitive.${t}`),i=w.forwardRef((o,s)=>{const{asChild:r,...l}=o,u=r?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Q6="Separator",aD="horizontal",Z6=["horizontal","vertical"],UA=w.forwardRef((e,t)=>{const{decorative:n,orientation:i=aD,...o}=e,s=J6(i)?i:aD,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return E.jsx(X6.div,{"data-orientation":s,...l,...o,ref:t})});UA.displayName=Q6;function J6(e){return Z6.includes(e)}var jA=UA;const bd=w.forwardRef((e,t)=>{const n=Oe.c(14);let i,o,s,r;n[0]!==e?({className:i,orientation:s,decorative:r,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r):(i=n[1],o=n[2],s=n[3],r=n[4]);const l=s===void 0?"horizontal":s,u=r===void 0?!0:r,d=l==="horizontal"?"h-[1px] w-full":"h-full w-[1px]";let f;n[5]!==i||n[6]!==d?(f=St("bg-border shrink-0",d,i),n[5]=i,n[6]=d,n[7]=f):f=n[7];let p;return n[8]!==u||n[9]!==l||n[10]!==o||n[11]!==t||n[12]!==f?(p=E.jsx(jA,{ref:t,decorative:u,orientation:l,className:f,...o}),n[8]=u,n[9]=l,n[10]=o,n[11]=t,n[12]=f,n[13]=p):p=n[13],p});bd.displayName=jA.displayName;const eW=Ic("group/field data-[invalid=true]:text-destructive flex w-full gap-3",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start"],responsive:["@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function tW(e){const t=Oe.c(11);let n,i,o;t[0]!==e?({className:n,orientation:o,...i}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=o):(n=t[1],i=t[2],o=t[3]);const s=o===void 0?"vertical":o;let r;t[4]!==n||t[5]!==s?(r=St(eW({orientation:s}),n),t[4]=n,t[5]=s,t[6]=r):r=t[6];let l;return t[7]!==s||t[8]!==i||t[9]!==r?(l=E.jsx("div",{role:"group","data-slot":"field","data-orientation":s,className:r,...i}),t[7]=s,t[8]=i,t[9]=r,t[10]=l):l=t[10],l}const pb=w.forwardRef((e,t)=>{const n=Oe.c(11);let i,o,s;n[0]!==e?({className:i,type:s,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);let r;n[4]!==i?(r=St("border-input file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),n[4]=i,n[5]=r):r=n[5];let l;return n[6]!==o||n[7]!==t||n[8]!==r||n[9]!==s?(l=E.jsx("input",{type:s,className:r,ref:t,...o}),n[6]=o,n[7]=t,n[8]=r,n[9]=s,n[10]=l):l=n[10],l});pb.displayName="Input";function nW(){const e=Oe.c(27),t=cp(),[n,i]=w.useState("");let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];const[s,r]=w.useState(o),[l,u]=w.useState(!1),[d,f]=w.useState(!1),p=w.useRef(null),m=w.useRef(null);let v,b;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{const V=function(K){p.current&&!p.current.contains(K.target)&&f(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},b=[],e[1]=v,e[2]=b):(v=e[1],b=e[2]),w.useEffect(v,b);let S,R;e[3]!==n?(S=()=>{if(n.trim())return m.current&&clearTimeout(m.current),m.current=setTimeout(async()=>{u(!0);const{data:V,error:z}=await $t.from("companies").select(`
          id,
          name,
          company_problems(count)
        `).ilike("name",`%${n.trim()}%`).order("name").limit(8);if(u(!1),z||!V)return;const K=V.map(iW);r(K),f(!0)},400),()=>{m.current&&clearTimeout(m.current)}},R=[n],e[3]=n,e[4]=S,e[5]=R):(S=e[4],R=e[5]),w.useEffect(S,R);let x;e[6]!==t?(x=function(z){f(!1),i(""),t(`/company/${z.id}`)},e[6]=t,e[7]=x):x=e[7];const T=x;let F;e[8]===Symbol.for("react.memo_cache_sentinel")?(F=V=>{const z=V.target.value;i(z),z.trim()||(r([]),f(!1))},e[8]=F):F=e[8];let A;e[9]!==s.length?(A=()=>s.length>0&&f(!0),e[9]=s.length,e[10]=A):A=e[10];let M;e[11]!==n||e[12]!==A?(M=E.jsx(tW,{children:E.jsx(pb,{placeholder:"Search a company...",className:"bg-input/30 h-8 w-full rounded-sm shadow-none",value:n,onChange:F,onFocus:A})}),e[11]=n,e[12]=A,e[13]=M):M=e[13];let I;e[14]!==l?(I=l&&E.jsx(Ky,{className:"absolute top-2 right-2"}),e[14]=l,e[15]=I):I=e[15];let P;e[16]!==M||e[17]!==I?(P=E.jsxs("div",{className:"relative",children:[M,I]}),e[16]=M,e[17]=I,e[18]=P):P=e[18];let _;e[19]!==T||e[20]!==l||e[21]!==d||e[22]!==s?(_=d&&E.jsx("div",{className:"bg-background border-border absolute top-full z-50 mt-1 w-full overflow-hidden rounded-md border shadow-md",children:l?E.jsx("div",{className:"text-muted-foreground px-3 py-2 text-sm",children:"Searching"}):s.length===0?E.jsx("div",{className:"text-muted-foreground px-3 py-2 text-sm",children:"No companies found"}):E.jsx("ul",{children:s.map(V=>E.jsx("li",{children:E.jsxs("button",{className:"hover:bg-muted/50 flex w-full cursor-pointer items-center justify-between gap-2 px-3 py-2 text-left transition-colors",onClick:()=>T(V),children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(UF,{className:"text-muted-foreground h-4 w-4 shrink-0"}),E.jsx("span",{className:"text-primary text-sm",children:V.name})]}),E.jsxs("span",{className:"text-muted-foreground shrink-0 text-xs",children:[V.problem_count," ",V.problem_count===1?"problem":"problems"]})]})},V.id))})}),e[19]=T,e[20]=l,e[21]=d,e[22]=s,e[23]=_):_=e[23];let L;return e[24]!==P||e[25]!==_?(L=E.jsxs("div",{className:"relative w-full max-w-full sm:w-96",ref:p,children:[P,_]}),e[24]=P,e[25]=_,e[26]=L):L=e[26],L}function iW(e){return{id:e.id,name:e.name,problem_count:e.company_problems[0]?.count??0}}function oW(){const e=Oe.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=E.jsx("div",{children:E.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[E.jsx("title",{children:"GitHub"}),E.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})}),e[0]=t):t=e[0],t}function sW(){const e=Oe.c(3);let t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=E.jsx("div",{className:"hidden h-full items-center justify-between md:flex",children:E.jsx(LA,{children:E.jsxs(NA,{children:[E.jsx(lD,{title:"",icon:E.jsx(YF,{size:20}),path:"/"}),E.jsx(lD,{title:"All Problems",path:"/all-problems"})]})})}),n=E.jsx(rW,{}),e[0]=t,e[1]=n):(t=e[0],n=e[1]);let i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=E.jsx("div",{className:"bg-background font-geist sticky top-0 z-50 flex h-(--header-height) w-full",children:E.jsxs("div",{className:"flex w-full items-center justify-between px-6",children:[t,n,E.jsxs("div",{className:"flex h-full items-center justify-between gap-4",children:[E.jsx(Yo,{to:"https://github.com/hitarth-gg/visor-leetcode",target:"_blank",children:E.jsx(io,{variant:"ghost",size:"icon",className:"h-8 cursor-pointer",children:E.jsx(oW,{})})}),E.jsx(cW,{}),E.jsx(nW,{}),E.jsx(lW,{})]})]})}),e[2]=i):i=e[2],i}function rW(){const e=Oe.c(15),[t,n]=w.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{n(aW)},e[0]=i):i=e[0];let o;e[1]!==t?(o=E.jsx("div",{className:"flex md:hidden",children:E.jsx(io,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 [&>svg]:size-5",onClick:i,children:t?E.jsx(wB,{}):E.jsx(uB,{})})}),e[1]=t,e[2]=o):o=e[2];const s=!t,r=t?"opacity-100":"pointer-events-none opacity-0";let l;e[3]!==r?(l=St("bg-background/80 fixed inset-x-0 bottom-0 z-40 backdrop-blur-sm","transition-[opacity,transform] duration-200 ease-out",r),e[3]=r,e[4]=l):l=e[4];let u,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(u={top:"var(--header-height)"},d=()=>{n(!1),document.body.style.overflow=""},e[5]=u,e[6]=d):(u=e[5],d=e[6]);let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=E.jsxs(Yo,{to:"/",className:"hover:bg-accent flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium",onClick:()=>{n(!1),document.body.style.overflow=""},children:[E.jsx(YF,{size:18}),"Home"]}),e[7]=f):f=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=E.jsxs("nav",{className:"flex flex-col gap-2 p-4",children:[f,E.jsx(Yo,{to:"/all-problems",className:"hover:bg-accent flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium",onClick:()=>{n(!1),document.body.style.overflow=""},children:"All Problems"})]}),e[8]=p):p=e[8];let m;e[9]!==s||e[10]!==l?(m=E.jsx("div",{"aria-hidden":s,className:l,style:u,onClick:d,children:p}),e[9]=s,e[10]=l,e[11]=m):m=e[11];let v;return e[12]!==o||e[13]!==m?(v=E.jsxs(E.Fragment,{children:[o,m]}),e[12]=o,e[13]=m,e[14]=v):v=e[14],v}function aW(e){const t=!e;return document.body.style.overflow=t?"hidden":"",t}function lW(){const e=cp(),[t,n]=w.useState(null),[i,o]=w.useState(!1);w.useEffect(()=>{$t.auth.getSession().then(({data:l})=>n(l.session));const{data:{subscription:r}}=$t.auth.onAuthStateChange((l,u)=>{n(u)});return()=>r.unsubscribe()},[]);async function s(){await $t.auth.signOut(),e("/sign-in")}return t?E.jsxs(z6,{children:[E.jsx(W6,{asChild:!0,children:E.jsx(io,{variant:"outline",size:"icon",className:"h-8 cursor-pointer px-3 shadow-none",onClick:async()=>{o(!0);try{await s()}finally{o(!1)}},disabled:i,children:i?E.jsx(Ky,{}):E.jsx(lB,{})})}),E.jsx(VA,{children:E.jsx("p",{children:"Sign out"})})]}):E.jsx(Yo,{to:"/sign-in",children:E.jsxs(io,{variant:"default",className:"h-8 cursor-pointer px-3",children:[E.jsx(XF,{}),E.jsx("p",{children:"Sign In"})]})})}function lD(e){const t=Oe.c(8),{title:n,path:i,icon:o}=e;let s;t[0]!==n?(s=St(HA(),"h-8 gap-1.5 px-2.5 text-sm",!n&&"p-2"),t[0]=n,t[1]=s):s=t[1];const r=n||o;let l;t[2]!==i||t[3]!==r?(l=E.jsx(Yo,{className:"",to:i,children:r}),t[2]=i,t[3]=r,t[4]=l):l=t[4];let u;return t[5]!==s||t[6]!==l?(u=E.jsx(N6,{className:"",children:E.jsx(B6,{asChild:!0,className:s,children:l})}),t[5]=s,t[6]=l,t[7]=u):u=t[7],u}function cW(){const e=Oe.c(8),{setTheme:t,theme:n}=gb();let i;e[0]!==t||e[1]!==n?(i=()=>{t(n==="light"?"dark":"light")},e[0]=t,e[1]=n,e[2]=i):i=e[2];let o;e[3]!==n?(o=n==="light"?E.jsx(gB,{}):E.jsx(hB,{}),e[3]=n,e[4]=o):o=e[4];let s;return e[5]!==i||e[6]!==o?(s=E.jsx(io,{variant:"ghost",size:"icon",className:"h-8 w-8 cursor-pointer p-0",onClick:i,children:o}),e[5]=i,e[6]=o,e[7]=s):s=e[7],s}function cD(e){const t=Oe.c(5),{children:n}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=E.jsx(sW,{}),t[0]=i):i=t[0];let o;t[1]!==n?(o=n??E.jsx(ZH,{}),t[1]=n,t[2]=o):o=t[2];let s;return t[3]!==o?(s=E.jsx("div",{children:E.jsxs(oA,{children:[i,E.jsx("main",{className:"",children:o})]})}),t[3]=o,t[4]=s):s=t[4],s}function uW(){const e=Oe.c(9),[,t]=w.useState(null),[n]=w.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=async function(){t(null);const{error:m}=await $t.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/visor-leetcode/auth/callback`}});m&&t(m.message)},e[0]=i):i=e[0];const o=i;let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s=E.jsxs("div",{className:"flex w-full flex-col items-start justify-start",children:[E.jsx("div",{className:"text-primary text-3xl",children:"Welcome"}),E.jsx("div",{className:"text-muted-foreground text-sm",children:"Sign in or create an account to store your progress."})]}),e[1]=s):s=e[1];let r,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=E.jsx("img",{src:"https://img.icons8.com/?size=192&id=V5cGWnc9R4xj&format=png",className:"h-5 w-5",alt:"Google"}),l=E.jsx("span",{children:"Continue with Google"}),e[2]=r,e[3]=l):(r=e[2],l=e[3]);let u;e[4]!==n?(u=E.jsx("div",{className:"mt-6 flex w-full flex-col items-start gap-4",children:E.jsxs(io,{variant:"outline",size:"lg",className:"bg-muted/40 text-md flex w-full cursor-pointer items-center justify-center gap-4 shadow-none",onClick:o,disabled:n,children:[r,l]})}),e[4]=n,e[5]=u):u=e[5];let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=E.jsx("div",{className:"text-muted-foreground mt-2 w-full text-center text-xs",children:"No email based sign in yet, because the DB runs on Supabase Free tier with email based verification limits."}),e[6]=d):d=e[6];let f;return e[7]!==u?(f=E.jsx("div",{className:"bg-background text-primary font-geist flex min-h-full w-full flex-col items-center gap-4",children:E.jsxs("div",{className:"flex w-96 flex-col items-center gap-2 px-6 py-16",children:[s,u,d]})}),e[7]=u,e[8]=f):f=e[8],f}function dW(){const e=Oe.c(4),t=cp();let n,i;e[0]!==t?(n=()=>{(async function(){const{data:l,error:u}=await $t.auth.getSession();if(u){t(`/sign-in?error=${encodeURIComponent(u.message)}`);return}if(!l.session){t("/sign-in");return}t("/")})()},i=[t],e[0]=t,e[1]=n,e[2]=i):(n=e[1],i=e[2]),w.useEffect(n,i);let o;return e[3]===Symbol.for("react.memo_cache_sentinel")?(o=E.jsxs("div",{className:"bg-background font-geist flex min-h-full w-full flex-col items-center justify-center gap-3",children:[E.jsx("div",{className:"border-primary h-6 w-6 animate-spin rounded-full border-2 border-t-transparent"}),E.jsx("p",{className:"text-muted-foreground text-sm",children:"Signing you in"})]}),e[3]=o):o=e[3],o}function Ht(e){if(e?.length)return e[e.length-1]}function Gr(e,t,n){if(e===t)return!0;if(!e||!t)return e==null&&t==null;const i=e.length;if(i!==t.length)return!1;for(let o=0;o<i;o++)if(e[o]!==t[o]&&!n?.(e[o],t[o]))return!1;return!0}function Bu(e,t){if(e){for(const n of e)if(t(n))return!0}}function ts(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function hW(e,t){let n=0,i=0;for(;n<e.length;n++)t.includes(e[n])||(e[i]=e[n],i++);for(;i<e.length;)e.pop()}function uD(e,t,n){for(let i=0;i<t.length;i++)ts(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var As=e=>e==null||e===""?null:e;function ye(e){return e!=null&&e!==""}function tn(e){return!ye(e)}var zw=e=>e!=null&&typeof e.toString=="function"?e.toString():null,Sd=(e,t)=>{const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i},fW=(e,t,n=!1)=>e==null?t==null?0:-1:t==null?1:(typeof e=="object"&&e.toNumber&&(e=e.toNumber()),typeof t=="object"&&t.toNumber&&(t=t.toNumber()),!n||typeof e!="string"?e>t?1:e<t?-1:0:e.localeCompare(t)),Oa=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const{frameworkOverrides:i}=this,o=l=>{const u=i?()=>i.wrapIncoming(l):l;t?this.dispatchAsync(u):u()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const l=new Set(s);for(const u of l)s?.has(u)&&o(()=>u(e))}const r=this.getGlobalListeners(t);if(r.size>0){const l=new Set(r);for(const u of l)o(()=>u(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)},n=this.frameworkOverrides;n?n.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[];for(const t of e)t()}},gW=/[&<>"']/g,pW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Bc(e){return e?.toString().toString()??null}function ed(e){return Bc(e)?.replace(gW,t=>pW[t])??null}function dD(e){return typeof e=="string"&&e.startsWith("=")&&e.length>1}function mW(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(o=>o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")).join(" ")}function Vo(e){return e.eRootDiv.getRootNode()}function Yt(e){return Vo(e).activeElement}function kn(e){const{gos:t,eRootDiv:n}=e;let i=null;const o=t.get("getDocument");return o&&ye(o)?i=o():n&&(i=n.ownerDocument),i&&ye(i)?i:document}function mb(e){const t=Yt(e);return t===null||t===kn(e).body}function vb(e){return kn(e).defaultView||window}function Cb(e){let t=null,n=null;try{t=kn(e).fullscreenElement}catch{}finally{t||(t=Vo(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function vW(e){return Cb(e)?.clientWidth??(window.innerWidth||-1)}function CW(e){return Cb(e)?.clientHeight??(window.innerHeight||-1)}function ko(e,t,n){n==null||typeof n=="string"&&n==""?$A(e,t):Io(e,t,n)}function Io(e,t,n){e.setAttribute(KA(t),n.toString())}function $A(e,t){e.removeAttribute(KA(t))}function KA(e){return`aria-${e}`}function _a(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function wW(e){const t=e?.direction;return t==="asc"?"ascending":t==="desc"?"descending":t==="mixed"?"other":"none"}function yW(e){return e.getAttribute("aria-label")}function xc(e,t){ko(e,"label",t)}function Rd(e,t){ko(e,"labelledby",t)}function qA(e,t){ko(e,"live",t)}function bW(e,t){ko(e,"atomic",t)}function SW(e,t){ko(e,"relevant",t)}function wb(e,t){ko(e,"invalid",t)}function RW(e,t){ko(e,"disabled",t)}function YA(e,t){ko(e,"hidden",t)}function Ww(e,t){Io(e,"expanded",t)}function xW(e,t){Io(e,"setsize",t)}function EW(e,t){Io(e,"posinset",t)}function TW(e,t){Io(e,"rowcount",t)}function XA(e,t){Io(e,"rowindex",t)}function DW(e,t){Io(e,"rowspan",t)}function FW(e,t){Io(e,"colcount",t)}function QA(e,t){Io(e,"colindex",t)}function PW(e,t){Io(e,"colspan",t)}function AW(e,t){Io(e,"sort",t)}function MW(e){$A(e,"sort")}function ZA(e,t){ko(e,"selected",t)}function kW(e,t){ko(e,"controls",t)}function IW(e,t){kW(e,t.id),Rd(t,e.id)}function hD(e,t){ko(e,"owns",t)}function Rp(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var OW="[tabindex], input, select, button, textarea, [href]",JA="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function td(e){return!e||!e.matches("input, select, button, textarea")||!e.matches(JA)?!1:Po(e)}function Nt(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||YA(e,!t)}function _W(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||YA(e,!t)}function xd(e,t){const n="disabled",i=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);i(e);const o=e.querySelectorAll("input")??[];for(const s of o)i(s)}function Ta(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function qa(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:o,borderBottomWidth:s,borderLeftWidth:r,paddingTop:l,paddingRight:u,paddingBottom:d,paddingLeft:f,marginTop:p,marginRight:m,marginBottom:v,marginLeft:b,boxSizing:S}=window.getComputedStyle(e),R=Number.parseFloat;return{height:R(t||"0"),width:R(n||"0"),borderTopWidth:R(i||"0"),borderRightWidth:R(o||"0"),borderBottomWidth:R(s||"0"),borderLeftWidth:R(r||"0"),paddingTop:R(l||"0"),paddingRight:R(u||"0"),paddingBottom:R(d||"0"),paddingLeft:R(f||"0"),marginTop:R(p||"0"),marginRight:R(m||"0"),marginBottom:R(v||"0"),marginLeft:R(b||"0"),boxSizing:S}}function yb(e){const t=qa(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom-t.borderTopWidth-t.borderBottomWidth:t.height}function Ed(e){const t=qa(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight-t.borderLeftWidth-t.borderRightWidth:t.width}function eM(e){const{height:t,marginBottom:n,marginTop:i}=qa(e);return Math.floor(t+n+i)}function Dg(e){const{width:t,marginLeft:n,marginRight:i}=qa(e);return Math.floor(t+n+i)}function tM(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:o,borderBottomWidth:s}=qa(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(o||0),bottom:t.bottom+(s||0)}}function Fg(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function Pg(e,t,n){n&&(t*=-1),e.scrollLeft=t}function xi(e){for(;e?.firstChild;)e.firstChild.remove()}function Mr(e){e?.parentNode&&e.remove()}function bb(e){return!!e.offsetParent}function Po(e){return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!bb(e)||window.getComputedStyle(e).visibility!=="visible")}function Sb(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Td(e){return()=>{const t=e();return t?nM(t)||LW(t):!0}}function nM(e){return e.clientWidth<e.scrollWidth}function LW(e){return e.clientHeight<e.scrollHeight}function Ag(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Qo(e,t)}function Qo(e,t){t=Rb(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function nd(e,t){t=Rb(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Rb(e){return typeof e=="number"?`${e}px`:e}function xb(e){return e instanceof Node||e instanceof HTMLElement}function bi(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function NW(e,t){if(!t.isContentEditable)return;const n=vb(e).getSelection();if(!n)return;const i=kn(e).createRange();i.selectNodeContents(t),i.collapse(!1),n.removeAllRanges(),n.addRange(i)}function Vs(e,t,n){const o=vb(e).ResizeObserver,s=o?new o(n):null;return s?.observe(t),()=>s?.disconnect()}function zs(e,t){const n=vb(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var iM="data-ref",DC;function fD(){return DC??(DC=document.createTextNode(" ")),DC.cloneNode()}function La(e){const{attrs:t,children:n,cls:i,ref:o,role:s,tag:r}=e,l=document.createElement(r);if(i&&(l.className=i),o&&l.setAttribute(iM,o),s&&l.setAttribute("role",s),t)for(const u of Object.keys(t))l.setAttribute(u,t[u]);if(n)if(typeof n=="string")l.textContent=n;else{let u=!0;for(const d of n)d&&(typeof d=="string"?(l.appendChild(document.createTextNode(d)),u=!1):typeof d=="function"?l.appendChild(d()):(u&&(l.appendChild(fD()),u=!1),l.append(La(d)),l.appendChild(fD())))}return l}var HW=["touchstart","touchend","touchmove","touchcancel","scroll"],GW=["wheel"],FC={},Mg=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof FC[n]=="boolean")return FC[n];const i=document.createElement(e[n]||"div");return n="on"+n,FC[n]=n in i}})();function BW(e,t){return!t||!e?!1:zW(t).indexOf(e)>=0}function VW(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function zW(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():VW(t)}function WW(e,t,n){const i=UW(t);let o;i!=null&&(o={passive:i}),e.addEventListener(t,n,o)}var UW=e=>{const t=HW.includes(e),n=GW.includes(e);if(t)return!0;if(n)return!1};function oM(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),o=Math.abs(e.clientY-t.clientY);return Math.max(i,o)<=n}var ac=(e,t)=>{const n=e.identifier;for(let i=0,o=t.length;i<o;++i){const s=t[i];if(s.identifier===n)return s}return null};function Dd(e,t){return e.gos.isElementInThisInstance(t.target)}function jW(e,t,n){const o=e.getBoundingClientRect().height,s=vW(n)-2,r=CW(n)-2;if(!e.offsetParent)return;const u=tM(e.offsetParent),{clientY:d,clientX:f}=t;let p=d-u.top-o/2,m=f-u.left-10;const v=kn(n),b=v.defaultView||window,S=b.pageYOffset||v.documentElement.scrollTop,R=b.pageXOffset||v.documentElement.scrollLeft;s>0&&m+e.clientWidth>s+R&&(m=s+R-e.clientWidth),m<0&&(m=0),r>0&&p+e.clientHeight>r+S&&(p=r+S-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}var Zf=(e,...t)=>{for(const n of t){const[i,o,s,r]=n;i.addEventListener(o,s,r),e.push(n)}},Eb=e=>{if(e){for(const[t,n,i,o]of e)t.removeEventListener(n,i,o);e.length=0}},Tr=e=>{e.cancelable&&e.preventDefault()};function $W(e,t){return t}function sM(e){return e?.getLocaleTextFunc()??$W}function KW(e,t,n,i){const o=t[n];return e.getLocaleTextFunc()(n,typeof o=="function"?o(i):o,i)}function qW(e){return(t,n,i)=>e({key:t,defaultValue:n,variableValues:i})}function YW(e){return(t,n,i)=>{let o=e?.[t];if(o&&i?.length){let s=0;for(;!(s>=i.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",i[s++])}return o??n}}var ci=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new Oa),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const o=t[i];o&&n.push(this._setupListener(e,i,o))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;if(XW(e))e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null);else{const o=QW(e);e instanceof HTMLElement?WW(e,t,n):o?e.addListener(t,n):e.addEventListener(t,n),i=o?()=>(e.removeListener(t,n),null):()=>(e.removeEventListener(t,n),null)}return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==i),null)}setupPropertyListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupPropertyListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=o.changeSet.id}const s={type:"propertyChanged",changeSet:o.changeSet,source:o.source};t(s)};for(const o of e)this.setupPropertyListener(o,i)}getLocaleTextFunc(){return sM(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function XW(e){return e.__addEventListener!==void 0}function QW(e){return e.eventServiceType==="global"}var re=class extends ci{},Uw=new Set,xp=(e,t)=>{Uw.has(t)||(Uw.add(t),e())};xp._set=Uw;var ZW={pending:!1,funcs:[]},JW={pending:!1,funcs:[]};function jw(e,t="setTimeout",n){const i=t==="raf"?JW:ZW;if(i.funcs.push(e),i.pending)return;i.pending=!0;const o=()=>{const s=i.funcs.slice();i.funcs.length=0,i.pending=!1;for(const r of s)r()};t==="raf"?zs(n,o):window.setTimeout(o,0)}function Hn(e,t,n){let i;return function(...o){const s=this;return window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(s,o)},n),i}}function gD(e,t){let n=0;return function(...i){const o=this,s=Date.now();s-n<t||(n=s,e.apply(o,i))}}function eU(e,t,n,i=100){const o=Date.now();let s=null,r=!1;const l=()=>{s!=null&&(window.clearInterval(s),s=null)};e.addDestroyFunc(l);const u=()=>{const d=Date.now()-o>i;(t()||d)&&(n(),r=!0,l())};u(),r||(s=window.setInterval(u,10))}var rM=new Set(["__proto__","constructor","prototype"]);function tU(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(i=>!rM.has(i)))t(n,e[n])}}function si(e,t,n=!0,i=!1){ye(t)&&tU(t,(o,s)=>{let r=e[o];r!==s&&(i&&r==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(r={},e[o]=r),pD(s)&&pD(r)&&!Array.isArray(r)?si(r,s,n,i):(n||s!==void 0)&&(e[o]=s))})}function pD(e){return typeof e=="object"&&e!==null}var Tb=class Es{static applyGlobalGridOptions(t){if(!Es.gridOptions)return{...t};let n={};return si(n,Es.gridOptions,!0,!0),Es.mergeStrategy==="deep"?si(n,t,!0,!0):n={...n,...t},Es.gridOptions.context&&(n.context=Es.gridOptions.context),t.context&&(Es.mergeStrategy==="deep"&&n.context&&si(t.context,n.context,!0,!0),n.context=t.context),n}static applyGlobalGridOption(t,n){if(Es.mergeStrategy==="deep"){const i=aM(t);if(i&&typeof i=="object"&&typeof n=="object")return Es.applyGlobalGridOptions({[t]:n})[t]}return n}};Tb.gridOptions=void 0;Tb.mergeStrategy="shallow";var Db=Tb;function aM(e){return Db.gridOptions?.[e]}var lM={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipSwitchShowDelay:200,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,refreshAfterGroupEdit:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,enableFilterHandlers:!1},cM="https://www.ag-grid.com";function Na(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function id(e,...t){xp(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function lc(e,...t){xp(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var uM=new Set,kg={},Da={},Jf,dM=!1,hM=!1,nU=!1;function iU(e){const[t,n]=e.version.split(".")||[],[i,o]=Jf.split(".")||[];return t===i&&n===o}function oU(e){Jf||(Jf=e.version);const t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;e.version?iU(e)||lc(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Jf}.`)):lc(t(`'${e.moduleName}' is incompatible.`));const n=e.validate?.();n&&!n.isValid&&lc(`${n.message}`)}function Fd(e,t,n=!1){n||(dM=!0),oU(e);const i=e.rowModels??["all"];uM.add(e);let o;t!==void 0?(hM=!0,Da[t]===void 0&&(Da[t]={}),o=Da[t]):o=kg;for(const s of i)o[s]===void 0&&(o[s]={}),o[s][e.moduleName]=e;if(e.dependsOn)for(const s of e.dependsOn)Fd(s,t,n)}function sU(e){delete Da[e]}function $w(e,t,n){const i=o=>!!kg[o]?.[e]||!!Da[t]?.[o]?.[e];return i(n)||i("all")}function Fb(){return hM}function rU(e,t){const n=Da[e]??{};return[...Object.values(kg.all??{}),...Object.values(n.all??{}),...Object.values(kg[t]??{}),...Object.values(n[t]??{})]}function aU(){return new Set(uM)}function lU(e,t){const n=Da[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function cU(){return dM}function fM(){return nU}var gM=class{static register(e){Fd(e,void 0)}static registerModules(e){for(const t of e)Fd(t,void 0)}};function pM(e){for(const t of e){if("setLicenseKey"in t)return t;if(t.dependsOn){const n=pM(t.dependsOn);if(n)return n}}}var Ce="35.1.0",mD=2e3,vD=100,mM="_version_",vM=null,cc=`${cM}/javascript-data-grid`;function uU(e){vM=e}function dU(e){cc=e}function CM(e,t,n){return vM?.(e,t)??[pU(e,t,n)]}function Pb(e,t,n,i,o){e(`${i?"warning":"error"} #${t}`,...CM(t,n,o))}function hU(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function fU(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=hU(e)),t}function eg(e){return e===void 0?"undefined":e===null?"null":e}function Kw(e,t){return`${e}?${t.toString()}`}function gU(e,t,n){const i=Array.from(t.entries()).sort((s,r)=>r[1].length-s[1].length);let o=Kw(e,t);for(const[s,r]of i){if(s===mM)continue;const l=o.length-n;if(l<=0)break;const u="...",d=l+u.length,f=r.length-d>vD?r.slice(0,r.length-d)+u:r.slice(0,vD)+u;t.set(s,f),o=Kw(e,t)}return o}function wM(e,t){const n=new URLSearchParams;if(n.append(mM,Ce),t)for(const s of Object.keys(t))n.append(s,fU(t[s]));const i=`${cc}/errors/${e}`,o=Kw(i,n);return o.length<=mD?o:gU(i,n,mD)}var pU=(e,t,n)=>{const i=wM(e,t);return`${`${n?n+` 
`:""}Visit ${i}`}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function fe(...e){Pb(id,e[0],e[1],!0)}function Dt(...e){Pb(lc,e[0],e[1],!1)}function Ku(e,t,n){Pb(lc,e,t,!1,n)}function mU(e,t){const n=t[0];return`error #${n} `+CM(n,t[1],e).join(" ")}function Zo(...e){return mU(void 0,e)}function yM(e,t){return e.get("rowModelType")===t}function Cn(e,t){return yM(e,"clientSide")}function Vc(e,t){return yM(e,"serverSide")}function Yn(e,t){return e.get("domLayout")===t}function Fa(e){return _g(e)!==void 0}function bM(e){return typeof e.get("getRowHeight")=="function"}function vU(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function CU({gos:e,formula:t}){const n=e.get("rowNumbers");return n||!!t?.active&&n!==!1}function kr(e,t,n=!1,i){const{gos:o,environment:s}=e;if(i==null&&(i=s.getDefaultRowHeight()),bM(o)){if(n)return{height:i,estimated:!0};const u={node:t,data:t.data},d=o.getCallback("getRowHeight")(u);if(qw(d))return d===0&&fe(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&o.get("masterDetail"))return wU(o);const r=o.get("rowHeight");return{height:r&&qw(r)?r:i,estimated:!1}}function wU(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return qw(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Pa(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||tn(i))return t.getDefaultRowHeight();const o=t.refreshRowHeightVariable();return o!==-1?o:(fe(24),t.getDefaultRowHeight())}function qw(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function SM(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function Ha(e,t,n,i){const o=e.getDomDataKey();let s=t[o];tn(s)&&(s={},t[o]=s),s[n]=i}function uc(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function RM(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Yn(e,"print"))}function Fs(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function Ig(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function xM(e){return e.get("grandTotalRow")}function EM(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function TM(e,t,n){return!!t.group&&!t.footer&&EM(e,n)}function Ec(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(xp(()=>fe(25,{id:i}),"getRowIdString"),i=String(i)),i}}function yU(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function bU(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function dc(e){return e?.checkboxes??!0}function tg(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Og(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function PC(e){return e?.hideDisabledCheckboxes??!1}function SU(e){return typeof e.get("rowSelection")!="string"}function Ir(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function hc(e){const t=e.get("cellSelection")??!1;return(typeof t=="object"&&t.enableColumnSelection)??!1}function DM(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function RU(e){const t=DM(e);return t===!0||t==="enableSelection"}function xU(e){const t=DM(e);return t===!0||t==="enableDeselection"}function Yw(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function _g(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Lg(e){return _g(e)==="multiRow"}function EU(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Ng(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function FM(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function TU(e){const t=e.get("rowSelection");return typeof t=="string"?!1:t?.mode==="multiRow"?t.ctrlASelectsRows??!1:!1}function Pd(e){const t=Ng(e);return t==="descendants"||t==="filteredDescendants"}function CD(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function DU(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Hi(e){return e.get("columnMenu")==="legacy"}function FU(e){return!Hi(e)}function PU(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function AU(e,t,n){typeof e!="object"&&(e={});const i={...e};for(const o of n){const s=t[o];typeof s<"u"&&(i[o]=s)}return i}function MU(e,t){if(!e)return;const n={};let i=!1;for(const r of Object.keys(e))n[r]=e[r],i=!0;if(!i)return;const o={type:"gridOptionsChanged",options:n};t.dispatchEvent(o);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function Ne(e,t){return e.addCommon(t)}function ng(e,t){return e[t]??e.gridOptions?.[t]??aM(t)??lM[t]}function kU({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var IU={resizable:!0,sortable:!0},OU=0;function PM(){return OU++}function Or(e){return e instanceof Ya}var _U=["asc","desc",null],LU=[{type:"absolute",direction:"asc"},{type:"absolute",direction:"desc"},null],Ya=class extends re{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=PM(),this.autoHeaderHeight=null,this.sortDef=xo(),this._wasSortExplicitlyRemoved=!1,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.formulaRef=null,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Oa,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=ed(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}initState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t?.initCol(this);const o=e.hide;o!==void 0?this.visible=!o:this.visible=!e.initialHide,n?.initCol(this),i?.initCol(this)}setColDef(e,t,n){const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.initState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ye(t)&&t.includes(".")&&!i,this.tooltipFieldContainsDots=ye(n)&&n.includes(".")&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const i=e.recreateColDef(this.colDef);this.setColDef(i,i,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){const t=e.width??e.initialWidth??200;return Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Ne(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??IU[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Ne(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sortDef.direction}getSortDef(){return this.sortDef.direction?this.sortDef:null}getColDefAllowedSortTypes(){const e=[],{sort:t,initialSort:n}=this.colDef,i=t===null?t:Ls(t?.type),o=n===null?n:Ls(n?.type);return i&&e.push(i),o&&e.push(o),e}getSortingOrder(){const e=this.getColDefAllowedSortTypes().includes("absolute")?LU:_U;return(this.colDef.sortingOrder??this.gos.get("sortingOrder")??e).map(t=>xo(t))}getAvailableSortTypes(){const e=this.getSortingOrder().reduce((t,n)=>(n.direction&&t.push(n.type),t),this.getColDefAllowedSortTypes());return new Set(e)}get wasSortExplicitlyRemoved(){return this._wasSortExplicitlyRemoved}setSortDef(e,t=!1){t||(this._wasSortExplicitlyRemoved=!e.direction),this.sortDef=e}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.getSort()==="asc"}isSortDescending(){return this.getSort()==="desc"}isSortNone(){return tn(this.getSort())}isSorting(){return ye(this.getSort())}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return fe(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e?.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e?.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Ne(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(tn(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(tn(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}isAllowFormula(){return this.colDef.allowFormula===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&si(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function xo(e){return fc(e)?{direction:e.direction,type:e.type}:{direction:Ep(e),type:Ls(e)}}function Fr(e){return e==="asc"||e==="desc"||e===null}function Ab(e){return e==="default"||e==="absolute"}function fc(e){if(!e||typeof e!="object")return!1;const t=e;return Ab(t.type)&&Fr(t.direction)}function ig(e,t){return e?t?e.type===t.type&&e.direction===t.direction:e?e.direction===null:!0:t?t.direction===null:!0}function Ep(e){return Fr(e)?e:null}function Ls(e){return Ab(e)?e:"default"}function NU(e,t){const n=t.sortSvc.getDisplaySortForColumn(e),i=Ls(n?.type),o=Ep(n?.direction),s=e.getAvailableSortTypes(),r=s.has("default"),l=s.has("absolute");return{isDefaultSortAllowed:r,isAbsoluteSortAllowed:l,isAbsoluteSort:i==="absolute",isDefaultSort:i==="default",isAscending:o==="asc",isDescending:o==="desc",direction:o}}function ei(e){return e instanceof og}var og=class extends re{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=PM(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Or(t)?e(t):ei(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){if(this.children)for(const t of this.children)Or(t)?e.push(t):ei(t)&&t.addLeafColumns(e)}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);for(const t of this.getLeafColumns())t.__addEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=()=>{for(const t of this.getLeafColumns())t.__removeEventListener("visibleChanged",e);this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,r=i.length;s<r;s++){const l=i[s];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const o=e&&t&&n;this.expandable!==o&&(this.expandable=o,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{for(const i of n)ei(i)&&i.isPadding()?t(i.children):e.push(i)};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},HU={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function wD(e,t,n){const i={},o=e.gos;return Object.assign(i,o.get("defaultColGroupDef")),Object.assign(i,t),o.validateColDef(i,n),i}var GU=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=zw(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i]){const o=String(i);return e&&n>0&&fe(273,{providedId:e,usedId:o}),this.existingKeys[o]=!0,o}n++}}},Tp="ag-Grid-AutoColumn",AM="ag-Grid-SelectionColumn",MM="ag-Grid-RowNumbersColumn";function kM(e){const t=[],n=i=>{for(let o=0;o<i.length;o++){const s=i[o];Or(s)?t.push(s):ei(s)&&n(s.getChildren())}};return n(e),t}function Ds(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function Hg(e,t,n){const i={};if(!t)return;ks(null,t,s=>{i[s.getInstanceId()]=s}),n&&ks(null,n,s=>{i[s.getInstanceId()]=null});const o=Object.values(i).filter(s=>s!=null);e.context.destroyBeans(o)}function Mb(e){return e.getId().startsWith(Tp)}function Br(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(AM)??!1}function Ms(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(MM)??!1}function BU(e){return Br(e)||Ms(e)}function Gg(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function VU(e,t){return Gr(e,t,(n,i)=>n.getColId()===i.getColId())}function zU(e){e.map={};for(const t of e.list)e.map[t.getId()]=t}function gc(e){return e==="optionsUpdated"?"gridOptionsChanged":e}function od(e,t){return e===t||e.colId==t||e.getColDef()===t}var WU=(e,t)=>(n,i)=>{const o={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(o.value1=e[n],s=!0),ye(i)&&e[i]!==void 0&&(o.value2=e[i],s=!0)),!s&&t&&(t[n]!==void 0&&(o.value1=t[n]),ye(i)&&t[i]!==void 0&&(o.value2=t[i])),o};function UU(e,t){const n={...e,sort:void 0,colId:t},i=IM(e);return i&&(n.sort=i.direction,n.sortType=i.type),n}function IM(e){const{sort:t,initialSort:n}=e,i=fc(t)||Fr(t),o=fc(n)||Fr(n);return i?xo(t):o?xo(n):null}var jU=(e,t)=>{ei(e)&&e.setupExpandable(),e.originalParent=t};function $U(e,t=null,n,i,o){const s=new GU,{existingCols:r,existingGroups:l,existingColKeys:u}=KU(i);s.addExistingKeys(u);const d=OM(e,t,0,n,r,s,l,o),{colGroupSvc:f}=e,p=f?.findMaxDepth(d,0)??0,m=f?f.balanceColumnTree(d,0,p,s):d;return ks(null,m,jU),{columnTree:m,treeDepth:p}}function KU(e){const t=[],n=[],i=[];return e&&ks(null,e,o=>{if(ei(o)){const s=o;n.push(s)}else{const s=o;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function OM(e,t,n,i,o,s,r,l){if(!t)return[];const{colGroupSvc:u}=e,d=new Array(t.length);for(let f=0;f<d.length;f++){const p=t[f];u&&JU(p)?d[f]=u.createProvidedColumnGroup(i,p,n,o,s,r,l):d[f]=qU(e,i,p,o,s,l)}return d}function qU(e,t,n,i,o,s){const r=XU(n,i);r&&i?.splice(r.idx,1);let l=r?.column;if(l){const u=Xw(e,n,l.getColId());l.setColDef(u,n,s),YU(e,l,u,s)}else{const u=o.getUniqueKey(n.colId,n.field),d=Xw(e,n,u);l=new Ya(d,n,u,t),e.context.createBean(l)}return e.dataTypeSvc?.addColumnListeners(l),l}function _M(e,t,n,i,o,s,r,l){const{sortSvc:u,pinnedCols:d,colFlex:f}=e;n!==void 0&&t.setVisible(!n,l),u&&(u.updateColSort(t,i,l),o!==void 0&&u.setColSortIndex(t,o)),s!==void 0&&d?.setColPinned(t,s),r!==void 0&&f?.setColFlex(t,r)}function YU(e,t,n,i){_M(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const o=t.getFlex();if(!(o!=null&&o>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const s=t.getActualWidth();t.setActualWidth(s,i)}}function XU(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function Xw(e,t,n,i){const{gos:o,dataTypeSvc:s}=e,r={},l=o.get("defaultColDef");si(r,l,!1,!0);const u=QU(e,r,t,n);u&&ZU(e,u,r);const d=r.cellDataType;si(r,t,!1,!0),d!==void 0&&(r.cellDataType=d);const f=o.get("autoGroupColumnDef"),p=Fs(o);return t.rowGroup&&f&&p&&si(r,{sort:f.sort,initialSort:f.initialSort},!1,!0),s?.postProcess(r),s?.validateColDef(r),o.validateColDef(r,n,i),r}function QU(e,t,n,i){const o=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,i),s=n.type??o??t.type;return t.type=s,s?Gg(s):void 0}function ZU(e,t,n){if(!t.length)return;const i=Object.assign({},HU),o=e.gos.get("columnTypes")||{};for(const s of Object.keys(o)){const r=o[s];s in i?fe(34,{key:s}):(r.type&&fe(35),i[s]=r)}for(const s of t){const r=i[s.trim()];r?si(n,r,!1,!0):fe(36,{t:s})}}function JU(e){return e.children!==void 0}function ks(e,t,n){if(t)for(let i=0;i<t.length;i++){const o=t[i];ei(o)&&ks(o,o.getChildren(),n),n(o,e)}}function LM(e,t){const n=[],i=[],o=[];return e.forEach(r=>{const l=r.getColDef().lockPosition;l==="right"?o.push(r):l==="left"||l===!0?n.push(r):i.push(r)}),t.get("enableRtl")?[...o,...i,...n]:[...n,...i,...o]}function NM(e,t){let n=!0;return ks(null,t,i=>{if(!ei(i))return;const o=i;if(!o.getColGroupDef()?.marryChildren)return;const l=[];for(const m of o.getLeafColumns()){const v=e.indexOf(m);l.push(v)}const u=Math.max.apply(Math,l),d=Math.min.apply(Math,l),f=u-d,p=o.getLeafColumns().length-1;f>p&&(n=!1)}),n}function HM(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function GM(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,o=HM(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:o??null,columns:t,column:i,source:n})}function ej(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,o=HM(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:o,columns:t,column:i,source:n})}function tj(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function Tc(e,t,n,i,o=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:i})}function To(e,t,n){const{colModel:i,rowGroupColsSvc:o,pivotColsSvc:s,autoColSvc:r,selectionColSvc:l,colAnimation:u,visibleCols:d,pivotResultCols:f,environment:p,valueColsSvc:m,eventSvc:v,gos:b}=e,S=i.getColDefCols()??[],R=l?.getColumns();if(!S.length&&!R?.length)return!1;if(t?.state&&!t.state.forEach)return fe(32),!1;const x=(M,I,P,_,L)=>{if(!M)return;const V=WU(I,t.defaultState),z=V("flex").value1,K=V("sort").value1,se=V("sortType").value1,he=Fr(K)||Ab(se),J=Ls(se),N=Ep(K),q=he?{type:J,direction:N}:void 0;if(_M(e,M,V("hide").value1,q,V("sortIndex").value1,V("pinned").value1,z,n),z==null){const G=V("width").value1;if(G!=null){const ee=M.getColDef().minWidth??p.getDefaultColumnMinWidth();ee!=null&&G>=ee&&M.setActualWidth(G,n)}}L||!M.isPrimary()||(m?.syncColumnWithState(M,n,V),o?.syncColumnWithState(M,n,V,P),s?.syncColumnWithState(M,n,V,_))},T=(M,I,P)=>{const _=BM(e,n),L=I.slice(),V={},z={},K=[],se=[],he=[];let J=0;const N=o?.columns.slice()??[],q=s?.columns.slice()??[];for(const oe of M){const O=oe.colId;if(O.startsWith(Tp)){K.push(oe),he.push(oe);continue}if(Br(O)){se.push(oe),he.push(oe);continue}const Q=P(O);Q?(x(Q,oe,V,z,!1),ts(L,Q)):(he.push(oe),J+=1)}const G=oe=>x(oe,null,V,z,!1);L.forEach(G),o?.sortColumns(yD.bind(o,V,N)),s?.sortColumns(yD.bind(s,z,q)),i.refreshCols(!1,n);const ee=(oe,O,U=[])=>{for(const Q of O){const ae=oe(Q.colId);ts(U,ae),x(ae,Q,null,null,!0)}U.forEach(G)};return ee(oe=>r?.getColumn(oe)??null,K,r?.getColumns()?.slice()),ee(oe=>l?.getColumn(oe)??null,se,l?.getColumns()?.slice()),ij(t,i,b),d.refresh(n),v.dispatchEvent({type:"columnEverythingChanged",source:n}),_(),{unmatchedAndAutoStates:he,unmatchedCount:J}};u?.start();let{unmatchedAndAutoStates:F,unmatchedCount:A}=T(t.state||[],S,M=>i.getColDefCol(M));if(F.length>0||ye(t.defaultState)){const M=f?.getPivotResultCols()?.list??[];A=T(F,M,I=>f?.getPivotResultCol(I)??null).unmatchedCount}return u?.finish(),A===0}function nj(e,t){const{colModel:n,autoColSvc:i,selectionColSvc:o,eventSvc:s,gos:r}=e,l=n.getColDefCols();if(!l?.length)return;const u=n.getColDefColTree(),d=kM(u),f=[];let p=1e3,m=1e3;const v=T=>{const F=VM(T);tn(F.rowGroupIndex)&&F.rowGroup&&(F.rowGroupIndex=p++),tn(F.pivotIndex)&&F.pivot&&(F.pivotIndex=m++),f.push(F)};i?.getColumns()?.forEach(v),o?.getColumns()?.forEach(v),d?.forEach(v),To(e,{state:f},t);const b=i?.getColumns()??[],x=[...o?.getColumns()??[],...b,...l].map(T=>({colId:T.colId}));To(e,{state:x,applyOrder:!0},t),s.dispatchEvent(Ne(r,{type:"columnsReset",source:t}))}function BM(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:o,colModel:s,sortSvc:r,eventSvc:l}=e,u={rowGroupColumns:n?.columns.slice()??[],pivotColumns:i?.columns.slice()??[],valueColumns:o?.columns.slice()??[]},d=Bg(e),f={};for(const p of d)f[p.colId]=p;return()=>{const p=(I,P,_,L)=>{const V=P.map(L),z=_.map(L);if(Gr(V,z))return;const se=new Set(P);for(const J of _)se.delete(J)||se.add(J);const he=[...se];l.dispatchEvent({type:I,columns:he,column:he.length===1?he[0]:null,source:t})},m=I=>{const P=[];return s.forAllCols(_=>{const L=f[_.getColId()];L&&I(L,_)&&P.push(_)}),P},v=I=>I.getColId();p("columnRowGroupChanged",u.rowGroupColumns,n?.columns??[],v),p("columnPivotChanged",u.pivotColumns,i?.columns??[],v);const S=m((I,P)=>{const _=I.aggFunc!=null,L=_!=P.isValueActive(),V=_&&I.aggFunc!=P.getAggFunc();return L||V});S.length>0&&tj(l,"columnValueChanged",S,t),Tc(l,m((I,P)=>I.width!=P.getActualWidth()),!0,t),GM(l,m((I,P)=>I.pinned!=P.getPinned()),t),ej(l,m((I,P)=>I.hide==P.isVisible()),t);const A=m((I,P)=>!ig(P.getSortDef(),{type:Ls(I.sortType),direction:Ep(I.sort)})||I.sortIndex!=P.getSortIndex());A.length>0&&r?.dispatchSortChangedEvents(t,A);const M=Bg(e);sj(d,M,t,s,l)}}function Bg(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,o=t.getColDefCols();if(tn(o)||!t.isAlive())return[];const s=n?.columns,r=i?.columns,l=[],u=f=>{const p=f.isRowGroupActive()&&s?s.indexOf(f):null,m=f.isPivotActive()&&r?r.indexOf(f):null,v=f.isValueActive()?f.getAggFunc():null,b=f.getSortIndex()!=null?f.getSortIndex():null;l.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:f.getSort(),sortType:f.getSortDef()?.type,sortIndex:b,aggFunc:v,rowGroup:f.isRowGroupActive(),rowGroupIndex:p,pivot:f.isPivotActive(),pivotIndex:m,flex:f.getFlex()??null})};t.forAllCols(f=>u(f));const d=new Map(t.getCols().map((f,p)=>[f.getColId(),p]));return l.sort((f,p)=>{const m=d.has(f.colId)?d.get(f.colId):-1,v=d.has(p.colId)?d.get(p.colId):-1;return m-v}),l}function VM(e){const t=(R,x)=>R??x??null,n=e.getColDef(),i=xo(t(n.sort,n.initialSort)),o=i.direction,s=i.type,r=t(n.sortIndex,n.initialSortIndex),l=t(n.hide,n.initialHide),u=t(n.pinned,n.initialPinned),d=t(n.width,n.initialWidth),f=t(n.flex,n.initialFlex);let p=t(n.rowGroupIndex,n.initialRowGroupIndex),m=t(n.rowGroup,n.initialRowGroup);p==null&&!m&&(p=null,m=null);let v=t(n.pivotIndex,n.initialPivotIndex),b=t(n.pivot,n.initialPivot);v==null&&!b&&(v=null,b=null);const S=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:o,sortType:s,sortIndex:r,hide:l,pinned:u,width:d,flex:f,rowGroup:m,rowGroupIndex:p,pivot:b,pivotIndex:v,aggFunc:S}}function ij(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];for(const o of e.state)o.colId!=null&&i.push(o.colId);oj(t.cols,i,t,n)}function oj(e,t,n,i){if(e==null)return;let o=[];const s={};for(const l of t){if(s[l])continue;const u=e.map[l];u&&(o.push(u),s[l]=!0)}let r=0;for(const l of e.list){const u=l.getColId();if(s[u]!=null)continue;u.startsWith(Tp)?o.splice(r++,0,l):o.push(l)}if(o=LM(o,i),!NM(o,n.getColTree())){fe(39);return}e.list=o}function sj(e,t,n,i,o){const s={};for(const f of t)s[f.colId]=f;const r={};for(const f of e)s[f.colId]&&(r[f.colId]=!0);const l=e.filter(f=>r[f.colId]),u=t.filter(f=>r[f.colId]),d=[];u.forEach((f,p)=>{const m=l?.[p];if(m&&m.colId!==f.colId){const v=i.getCol(m.colId);v&&d.push(v)}}),d.length&&o.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var yD=(e,t,n,i)=>{const o=e[n.getId()],s=e[i.getId()],r=o!=null,l=s!=null;if(r&&l)return o-s;if(r)return-1;if(l)return 1;const u=t.indexOf(n),d=t.indexOf(i),f=u>=0,p=d>=0;return f&&p?u-d:f?-1:1};function zM(e,t){return e+"_"+t}function vn(e){return e instanceof Ad}var Ad=class extends re{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.colIdSanitised=ed(this.getUniqueId())}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return zM(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){for(const e of this.displayedChildren)vn(e)&&e.checkLeft();if(this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Ht(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;for(const t of this.displayedChildren??[])e+=t.getActualWidth();return e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;for(const t of this.displayedChildren)t.isResizable()&&(e=!0);return e}getMinWidth(){let e=0;for(const t of this.displayedChildren)e+=t.getMinWidth();return e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){for(const t of this.displayedChildren??[])Or(t)?e.push(t):vn(t)&&t.addDisplayedLeafColumns(e)}addLeafColumns(e){for(const t of this.children??[])Or(t)?e.push(t):vn(t)&&t.addLeafColumns(e)}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e?.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e?.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}for(const n of this.children??[]){if(vn(n)&&!n.displayedChildren?.length)continue;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Z={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},rj=65,aj=67,lj=86,cj=68,uj=90,dj=89;function WM(e){const{keyCode:t}=e;let n;switch(t){case rj:n=Z.A;break;case aj:n=Z.C;break;case lj:n=Z.V;break;case cj:n=Z.D;break;case uj:n=Z.Z;break;case dj:n=Z.Y;break;default:n=e.code}return n}function hj(e,t){return new ct(n=>{n(window.setInterval(e,t))})}var ct=class qu{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new qu(n=>{let i=t.length;const o=new Array(i);t.forEach((s,r)=>{s.then(l=>{o[r]=l,i--,i===0&&n(o)})})}):qu.resolve()}static resolve(t=null){return new qu(n=>n(t))}then(t){return new qu(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t;for(const n of this.waiters)n(t)}onReject(t){}},xe=null;function bD(e){return typeof e?.getGui=="function"}function Bi(e){return La(e)}function fj(e,t,n){const i=Si(e,t,n);if(i){const{className:s}=i;if(typeof s=="string"&&s.includes("ag-icon")||typeof s=="object"&&s["ag-icon"])return i}const o=Bi({tag:"span"});return o.appendChild(i),o}function Si(e,t,n){let i=null;e==="smallDown"?fe(262):e==="smallLeft"?fe(263):e==="smallRight"&&fe(264);const o=n?.getColDef().icons;if(o&&(i=o[e]),t.gos&&!i){const s=t.gos.get("icons");s&&(i=s[e])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else{fe(38,{iconName:e});return}if(typeof s=="string")return Sb(s);if(xb(s))return s;fe(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),Bi({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var $d=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.includes(" ")){const i=(e||"").split(" ");if(i.length>1){for(const o of i)this.toggleCss(o,t);return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},gj=0,zc=class extends ci{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=gj++,this.cssManager=new $d(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui()),this.addGlobalCss()}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(iM):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const o=this[t];if(o===xe)this[t]=i??e;else{const s=n?.[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${o}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);for(const i of n){if(!(i instanceof HTMLElement))continue;const o=this.createComponentFromElement(i,s=>{const r=s.getGui();if(r)for(const l of i.attributes??[])r.setAttribute(l.name,l.value)},t);if(o){if(o.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);o.addItems(s)}this.swapComponentForNode(o,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)}}createComponentFromElement(e,t,n){const i=e.nodeName,o=this.getDataRefAttribute(e),s=i.indexOf("AG-")===0,r=s?this.componentSelectors.get(i):null;let l=null;if(r){const u=n&&o?n[o]:void 0;l=new r.component(u),l.setParentComponent(this),this.createBean(l,null,t)}else if(s)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,o,n,l),l}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e,t){const n=t??this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui());for(const i of e)i.setAttribute("tabindex",n.toString())}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=Sb(e):i=La(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let o=0;o<t.length;o++){const s=t[o];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),xb(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.prepend(n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;_W(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Nt(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css===SD?(this.css=[e],this.addGlobalCss()):(this.css||(this.css=[]),this.css.push(e))}addGlobalCss(){if(Array.isArray(this.css)){const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;for(const t of this.css??[])this.beans.environment.addGlobalCSS(t,e)}this.css=SD}},SD=Symbol(),dn=class extends zc{},pj=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}.ag-dnd-ghost-not-allowed{border:var(--ag-drag-and-drop-image-not-allowed-border)}",mj={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},vj=class extends dn{constructor(){super(),this.dragSource=null,this.eIcon=xe,this.eLabel=xe,this.eGhost=xe,this.registerCSS(pj)}postConstruct(){const e=t=>fj(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(mj),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eGhost:n,eIcon:i,dragSource:o,dropIconMap:s,gos:r}=this;xi(i);let l=null;e||(e=o?.getDefaultIconName?o.getDefaultIconName():"notAllowed"),l=s[e],n.classList.toggle("ag-dnd-ghost-not-allowed",e==="notAllowed"),i.classList.toggle("ag-shake-left-to-right",t),!(l===s.hide&&r.get("suppressDragLeaveHidesColumns"))&&l&&i.appendChild(l)}setLabel(e){this.eLabel.textContent=e}},Cj=class extends ci{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.dragSource=null,this.dragImageCompPromise=null,this.dragImageComp=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.dropTargets=[],this.externalDropZoneCount=0,this.lastDropTarget=null}addDragSource(e,t=!1){const n={capturePointer:!0,dragSource:e,eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:i=>this.onDragStart(e,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push(n),this.beans.dragSvc.addDragSource(n)}setDragImageCompIcon(e,t=!1){const n=this.dragImageComp;n&&(t||this.dragImageLastIcon!==e)&&(this.dragImageLastIcon=e,n.setIcon(e,t))}removeDragSource(e){const{dragSourceAndParamsList:t,beans:n}=this;for(let i=0,o=t.length;i<o;i++)if(t[i].dragSource===e){const s=t[i];n.dragSvc?.removeDragSource(s),t.splice(i,1);break}}destroy(){const{dragSourceAndParamsList:e,dropTargets:t,beans:n}=this,i=n.dragSvc;for(const o of e)i?.removeDragSource(o);e.length=0,t.length=0,this.externalDropZoneCount=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){const e=this.lastMouseEvent;e&&this.onDragging(e,!0)}onDragStart(e,t){this.lastMouseEvent=t,this.dragSource=e,this.dragItem=e.getDragItem();const n=e.eElement.getBoundingClientRect();this.dragInitialSourcePointerOffsetX=t.clientX-n.left,this.dragInitialSourcePointerOffsetY=t.clientY-n.top,e.onDragStarted?.(),this.createAndUpdateDragImageComp(e)}onDragStop(e){const{dragSource:t,lastDropTarget:n}=this;if(t?.onDragStopped?.(),n){const i=this.dropTargetEvent(n,e,!1);n.onDragStop?.(i)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t,lastMouseEvent:n}=this;if(e?.onDragCancelled?.(),t&&n){const i=this.dropTargetEvent(t,n,!1);t.onDragCancel?.(i)}this.clearDragAndDropProperties()}onDragging(e,t=!1){this.positionDragImageComp(e);const n=this.findCurrentDropTarget(e),{lastDropTarget:i,dragSource:o,dragItem:s}=this;let r=!1;if(n!==i){if(r=!0,i){const l=this.dropTargetEvent(i,e,t);i.onDragLeave?.(l)}if(i!==null&&!n?this.handleExit(o,s):i===null&&n&&this.handleEnter(o,s),n){const l=this.dropTargetEvent(n,e,t);n.onDragEnter?.(l)}this.lastDropTarget=n}else if(n){const l=this.dropTargetEvent(n,e,t);n.onDragging?.(l),l?.changed&&(r=!0)}this.lastMouseEvent=e,r&&this.updateDragImageComp()}clearDragAndDropProperties(){this.removeDragImageComp(this.dragImageComp),this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0,this.lastMouseEvent=null,this.lastDraggingEvent=null,this.lastDropTarget=null,this.dragItem=null,this.dragInitialSourcePointerOffsetX=0,this.dragInitialSourcePointerOffsetY=0,this.dragSource=null}getAllContainersFromDropTarget(e){const t=e.getContainer(),n=e.getSecondaryContainers?.(),i=n?.length;if(!i)return[[t]];const o=new Array(i+1);o[0]=[t];for(let s=0;s<i;++s)o[s+1]=n[s];return o}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const o=(l,u)=>{for(const d of u){const{width:f,height:p,left:m,right:v,top:b,bottom:S}=d.getBoundingClientRect();if(f===0||p===0)return!1;const R=l.clientX>=m&&l.clientX<v,x=l.clientY>=b&&l.clientY<S;if(!R||!x)return!1}return!0};for(const l of n)if(o(e,l)){i=!0;break}const{eElement:s,type:r}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:i&&t.isInterestedIn(r,s)}findCurrentDropTarget(e){const t=[],n=this.dropTargets;for(let r=0,l=n.length;r<l;++r){const u=n[r];this.isMouseOnDropTarget(e,u)&&t.push(u)}const i=t.length;if(i===0)return null;if(i===1)return t[0];const s=Vo(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let r=0,l=s.length;r<l;++r){const u=s[r];for(let d=0,f=t.length;d<f;d++){const p=t[d],m=this.getAllContainersFromDropTarget(p);let v=!1;for(let b=0,S=m.length;b<S&&!v;b++){const R=m[b];for(let x=0,T=R.length;x<T;x++)if(R[x]===u){v=!0;break}}if(v)return p}}return null}addDropTarget(e){this.dropTargets.push(e),e.external&&this.externalDropZoneCount++}removeDropTarget(e){const t=e.getContainer(),n=this.dropTargets;let i=0;for(let o=0,s=n.length;o<s;++o){const r=n[o];if(r.getContainer()===t){r.external&&--this.externalDropZoneCount;continue}i!==o&&(n[i]=r),++i}n.length=i}hasExternalDropZones(){return this.externalDropZoneCount>0}findExternalZone(e){const t=this.dropTargets;for(let n=0,i=t.length;n<i;++n){const o=t[n];if(o.external&&o.getContainer()===e)return o}return null}dropTargetEvent(e,t,n){const{dragSource:i,dragItem:o,lastDraggingEvent:s,lastMouseEvent:r,dragInitialSourcePointerOffsetX:l,dragInitialSourcePointerOffsetY:u}=this,d=e.getContainer(),f=d.getBoundingClientRect(),{clientX:p,clientY:m}=t,v=p-(r?.clientX||0),b=m-(r?.clientY||0),S=this.createEvent({event:t,x:p-f.left,y:m-f.top,vDirection:b>0?"down":b<0?"up":null,hDirection:v<0?"left":v>0?"right":null,initialSourcePointerOffsetX:l,initialSourcePointerOffsetY:u,dragSource:i,fromNudge:n,dragItem:o,dropZoneTarget:d,dropTarget:s?.dropTarget??null,changed:!!s?.changed});return this.lastDraggingEvent=S,S}positionDragImageComp(e){const t=this.dragImageComp?.getGui();t&&jW(t,e,this.beans)}removeDragImageComp(e){this.dragImageComp===e&&(this.dragImageComp=null),e&&(e.getGui()?.remove(),this.destroyBean(e))}createAndUpdateDragImageComp(e){const t=this.createDragImageComp(e)??null;this.dragImageCompPromise=t,t?.then(n=>{const i=this.lastMouseEvent;if(t!==this.dragImageCompPromise||!i||!this.isAlive()){this.destroyBean(n);return}this.dragImageCompPromise=null,this.dragImageLastIcon=void 0,this.dragImageLastLabel=void 0;const o=this.dragImageComp;o!==n&&(this.dragImageComp=n,this.removeDragImageComp(o)),n&&(this.appendDragImageComp(n),this.updateDragImageComp(),this.positionDragImageComp(i))})}appendDragImageComp(e){const t=e.getGui(),n=t.style;n.position="absolute",n.zIndex="9999",this.beans.dragSvc?.hasPointerCapture()&&(n.pointerEvents="none"),this.gos.setInstanceDomData(t),this.beans.environment.applyThemeClasses(t),n.top="20px",n.left="20px";const i=Cb(this.beans);i?i.appendChild(t):this.warnNoBody()}updateDragImageComp(){const{dragImageComp:e,dragSource:t,lastDropTarget:n,lastDraggingEvent:i,dragImageLastLabel:o}=this;if(!e)return;this.setDragImageCompIcon(n?.getIconName?.(i)??null);let s=t?.dragItemName;typeof s=="function"&&(s=s(i)),s||(s=""),o!==s&&(this.dragImageLastLabel=s,e.setLabel(s))}};function UM(e){return typeof e=="object"&&!!e.component}function wj(e){return e?e.prototype&&"getGui"in e.prototype:!1}function jM(e,t,n,i){const{name:o}=n;let s,r,l,u,d,f;if(t){const p=t,m=p[o+"Selector"],v=m?m(i):null,b=S=>{typeof S=="string"?s=S:S!=null&&S!==!0&&(e.isFrameworkComponent(S)?l=S:r=S)};v?(b(v.component),u=v.params,d=v.popup,f=v.popupPosition):b(p[o])}return{compName:s,jsComp:r,fwComp:l,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:f}}var yj=class extends re{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,o=!1){const{name:s,cellRenderer:r}=t;let{compName:l,jsComp:u,fwComp:d,paramsFromSelector:f,popupFromSelector:p,popupPositionFromSelector:m}=jM(this.beans.frameworkOverrides,e,t,i),v,b;const S=F=>{const A=this.registry.getUserComponent(s,F);A&&(u=A.componentFromFramework?void 0:A.component,d=A.componentFromFramework?A.component:void 0,v=A.params,b=A.processParams)};if(l!=null&&S(l),u==null&&d==null&&n!=null&&S(n),u&&r&&!wj(u)&&(u=this.agCompUtils?.adaptFunction(t,u)),!u&&!d){const{validation:F}=this.beans;o&&(l!==n||!n)?l?F?.isProvidedUserComp(l)||Dt(50,{compName:l}):n?F||Dt(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):Dt(216,{name:s}):n&&!F&&Dt(146,{comp:n});return}const R=this.mergeParams(e,t,i,f,v,b),x=u==null,T=u??d;return{componentFromFramework:x,componentClass:T,params:R,type:t,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(T,x,R,t)}}newAgStackInstance(e,t,n,i){const o=!t;let s;o?s=new e:s=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(s);const r=s.init?.(n);return r==null?ct.resolve(s):r.then(()=>s)}mergeParams(e,t,n,i=null,o,s){const r={...n,...o},u=e?.[t.name+"Params"];if(typeof u=="function"){const d=u(n);si(r,d)}else typeof u=="object"&&si(r,u);return si(r,i),s?s(r):r}},bj={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},Sj={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Rj={name:"headerComponent",optionalMethods:["refresh"]},xj={name:"innerHeaderComponent"},Ej={name:"innerHeaderGroupComponent"},Tj={name:"headerGroupComponent"},Dj={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Fj={name:"loadingCellRenderer",cellRenderer:!0},Pj={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},Aj={name:"tooltipComponent"},kb={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},Mj={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},kj={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},Ij={name:"loadingCellRenderer",cellRenderer:!0},Oj={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},_j={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function Lj(e,t){return e.getCompDetailsFromGridOptions(Sj,"agDragAndDropImage",t,!0)}function Nj(e,t,n){return e.getCompDetails(t,Rj,"agColumnHeader",n)}function Hj(e,t,n){return e.getCompDetails(t,xj,void 0,n)}function Gj(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,Tj,"agColumnGroupHeader",t)}function Bj(e,t,n){return e.getCompDetails(t,Ej,void 0,n)}function Vj(e,t){return e.getCompDetailsFromGridOptions(kj,void 0,t,!0)}function zj(e,t){return e.getCompDetailsFromGridOptions(Ij,"agLoadingCellRenderer",t,!0)}function Wj(e,t){return e.getCompDetailsFromGridOptions(Oj,"agGroupRowRenderer",t,!0)}function Uj(e,t){return e.getCompDetailsFromGridOptions(_j,"agDetailCellRenderer",t,!0)}function RD(e,t,n){return e.getCompDetails(t,Dj,void 0,n)}function xD(e,t,n){return e.getCompDetails(t,Fj,"agSkeletonCellRenderer",n,!0)}function $M(e,t,n){return e.getCompDetails(t,Pj,"agCellEditor",n,!0)}function jj(e,t,n,i){const o=t.filter;return UM(o)&&(t={filter:o.component,filterParams:t.filterParams}),e.getCompDetails(t,kb,i,n,!0)}function $j(e,t,n){return e.getCompDetails(t,bj,"agDateInput",n,!0)}function Kj(e,t){return e.getCompDetails(t.colDef,Aj,"agTooltipComponent",t,!0)}function qj(e,t,n,i){return e.getCompDetails(t,Mj,i,n)}function KM(e,t){return jM(e,t,kb)}function AC(e,t,n){return e.mergeParams(t,kb,n)}var Yj=class extends Cj{createEvent(e){return Ne(this.gos,e)}createDragImageComp(e){const{gos:t,beans:n}=this;return Lj(n.userCompFactory,Ne(t,{dragSource:e}))?.newAgStackInstance()}handleEnter(e,t){e?.onGridEnter?.(t)}handleExit(e,t){e?.onGridExit?.(t)}warnNoBody(){fe(54)}isDropZoneWithinThisGrid(e){return this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody.contains(e.dropZoneTarget)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}};function Xj(e){return{tag:"div",cls:e}}var Qj=class extends dn{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(Xj(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const i=this.getGui();xi(i);let o;this.destroyListeners();const s=document.createDocumentFragment(),r=this.className,l=({type:d,label:f})=>{const p=x=>{this.dispatchLocalEvent({type:d,event:x})};["apply","clear","reset","cancel"].includes(d)||fe(75);const m=d==="apply",b=Bi({tag:"button",attrs:{type:m&&t?"submit":"button"},ref:`${d}FilterButton`,cls:`ag-button ag-standard-button ${r}-button${m?" "+r+"-apply-button":""}`,children:f});this.activateTabIndex([b]),m&&(o=b);const S=x=>{x.key===Z.ENTER&&(x.preventDefault(),p(x))},R=this.listeners;b.addEventListener("click",p),R.push(()=>b.removeEventListener("click",p)),b.addEventListener("keydown",S),R.push(()=>b.removeEventListener("keydown",S)),s.append(b)};for(const d of e)l(d);this.eApply=o;const u=this.validationTooltipFeature;o&&!u?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!o&&u&&(this.validationTooltipFeature=this.destroyBean(u)),i.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(xd(n,!e),this.validationMessage=t,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){for(const e of this.listeners)e();this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},Zj={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",bigintFilter:"BigInt Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",yesterday:"Yesterday",today:"Today",tomorrow:"Tomorrow",last7Days:"Last 7 Days",lastWeek:"Last Week",thisWeek:"This Week",nextWeek:"Next Week",last30Days:"Last 30 Days",lastMonth:"Last Month",thisMonth:"This Month",nextMonth:"Next Month",last90Days:"Last 90 Days",lastQuarter:"Last Quarter",thisQuarter:"This Quarter",nextQuarter:"Next Quarter",lastYear:"Last Year",thisYear:"This Year",yearToDate:"Year To Date",nextYear:"Next Year",last6Months:"Last 6 Months",last12Months:"Last 12 Months",last24Months:"Last 24 Months",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`,minDateValidation:e=>`Date must be after ${e[0]}`,maxDateValidation:e=>`Date must be before ${e[0]}`,strictMinValueValidation:e=>`Must be greater than ${e[0]}`,strictMaxValueValidation:e=>`Must be less than ${e[0]}`};function Ro(e,t,n){return KW(e,Zj,t,n)}function Ib(e,t){const{debounceMs:n}=e;return Dp(e)?(n!=null&&fe(71),0):n??t}function Dp(e){return(e.buttons?.indexOf("apply")??-1)>=0}function qM(e,t,n,i){let o=Ro(e,n);if(typeof t=="function"){const s=Ro(e,i);o=t({filterOptionKey:i,filterOption:s,placeholder:o})}else typeof t=="string"&&(o=t);return o}var Jj=class extends dn{constructor(e,t,n,i,o,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=i,this.isGlobalButtons=o,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,i=n.useForm,o=i?"form":"div";this.setTemplate({tag:o,cls:"ag-filter-wrapper"}),i&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:r})=>{s===this.column&&this.resetButtonsPanel(r,this.params)},filterStateChanged:({column:s,state:r})=>{s===this.column&&this.eButtons?.updateValidity(r.valid!==!1)},filterAction:({column:s,action:r,event:l})=>{s===this.column&&this.afterAction(r,l)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const r=this.params;this.resetButtonsPanel(r,r,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:i,readOnly:o}=t??{},{buttons:s,readOnly:r,useForm:l}=e;if(!n&&o===r&&Sd(i,s))return;const u=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let d=this.eButtons;if(u){const f=s.map(p=>{const m=`${p}Filter`;return{type:p,label:Ro(this,m)}});if(this.applyActive=Dp(this.params),!d){d=this.createBean(new Qj),this.appendChild(d.getGui());const p=this.column,m=v=>({event:b})=>{this.updateModel(p,v,{fromButtons:!0}),this.afterAction(v,b)};d?.addManagedListeners(d,{apply:m("apply"),clear:m("clear"),reset:m("reset"),cancel:m("cancel")}),this.eButtons=d}d.updateButtons(f,l)}else this.applyActive=!1,d&&(Mr(d.getGui()),this.eButtons=this.destroyBean(d))}close(e){const t=this.hidePopup;if(!t)return;const n=e,i=n?.key;let o;(i===Z.ENTER||i===Z.SPACE)&&(o={keyboardEvent:n}),t(o),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:i}=this,o=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),o&&i&&this.close(t);break}case"reset":{o&&i&&this.close();break}case"cancel":{o&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===Z.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply",{fromButtons:!0}),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},e8=":where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}",t8={tag:"div",cls:"ag-filter"},n8=class extends dn{constructor(e,t,n){super(t8),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??ct.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:i}}=this,o=i.getFilterUiForDisplay(t)??null;this.wrapper=o,o?.then(s=>{if(!s)return;const{isHandler:r,comp:l}=s;let u;if(r){const d=!!this.enableGlobalButtonCheck,f=this.createBean(new Jj(t,s,i,i.updateModel.bind(i),d&&i.isGlobalButtons,d));this.comp=f,u=f.getGui()}else this.registerCSS(e8),u=l.getGui(),ye(u)||fe(69,{guiFromFilter:u});this.appendChild(u),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):l.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(xi(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}};function YM(e){return!!e.operator}var XM="ag-resizer-wrapper",pr=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),i8={tag:"div",cls:XM,children:[pr("eTopLeft","topLeft"),pr("eTop","top"),pr("eTopRight","topRight"),pr("eRight","right"),pr("eBottomRight","bottomRight"),pr("eBottom","bottom"),pr("eBottomLeft","bottomLeft"),pr("eLeft","left")]},o8=class extends ci{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config={popup:!1,...t}}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,i=n/2-this.getWidth()/2,o=t/2-this.getHeight()/2;this.offsetElement(i,o,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:i,width:o,minHeight:s,height:r,x:l,y:u}=this.config;this.offsetParent||this.setOffsetParent();let d=0,f=0;const p=Po(this.element);if(p){const m=this.findBoundaryElement(),v=window.getComputedStyle(m);if(v.minWidth!=null){const b=m.offsetWidth-this.element.offsetWidth;f=Number.parseInt(v.minWidth,10)-b}if(v.minHeight!=null){const b=m.offsetHeight-this.element.offsetHeight;d=Number.parseInt(v.minHeight,10)-b}}if(this.minHeight=s||d,this.minWidth=i||f,o&&this.setWidth(o),r&&this.setHeight(r),(!o||!r)&&this.refreshSize(),t)this.center(e);else if(l||u)this.offsetElement(l,u,e);else if(p&&n){let m=this.boundaryEl,v=!0;if(m||(m=this.findBoundaryElement(),v=!1),m){const b=Number.parseFloat(m.style.top),S=Number.parseFloat(m.style.left);v?this.offsetElement(Number.isNaN(S)?0:S,Number.isNaN(b)?0:b,e):this.setPosition(S,b)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}for(const t of Object.keys(e)){const n=!!e[t],i=this.getResizerElement(t),o={dragStartPixels:0,eElement:i,onDragStart:s=>this.onResizeStart(s,t),onDragging:this.onResize.bind(this),onDragStop:s=>this.onResizeEnd(s,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(o),this.resizeListeners.push(o),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=n)}}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.includes("%"))nd(n,e),e=eM(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const o=this.getAvailableHeight();o&&e>o&&(e=o)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?nd(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:Number.parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,r=e?0:o.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:f}=d.getBoundingClientRect();l=f-i.bottom}}return n+r-s-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.includes("%"))Qo(t,e),e=Dg(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:o}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;o&&e+s>o&&(e=o-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Qo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:Number.parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:i}=this.config,o=i?this.boundaryEl:this.element;o&&(this.popupSvc?.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(Number.parseFloat(o.style.left),Number.parseFloat(o.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=Vs(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:o,topBuffer:s}=e,r=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!o,r)?0:r,d=this.shouldSkipY(t,!!i,s,l)?0:l;return{movementX:u,movementY:d}}shouldSkipX(e,t,n,i){const o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:o.left;let u=l<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=r.right;return u?!0:(t?u=i<0&&e.clientX>l+s.left||i>0&&e.clientX<l+s.left:n?u=i<0&&e.clientX>r.right||i>0&&e.clientX<l+s.left:u=i<0&&e.clientX>r.right||i>0&&e.clientX<r.right,u)}shouldSkipY(e,t,n=0,i){const o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:o.top;let u=l<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=r.bottom;return u?!0:(t?u=i<0&&e.clientY>l+s.top+n||i>0&&e.clientY<l+s.top:u=i<0&&e.clientY>r.bottom||i>0&&e.clientY<r.bottom,u)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(La(i8)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0,this.element.querySelector(`.${XM}`)?.remove(),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(const i of e){const o=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let s=this.minHeight||0,r=this.minWidth||0;if(o){const l=window.getComputedStyle(i);l.minHeight&&(s=Number.parseInt(l.minHeight,10)),l.minWidth&&(r=Number.parseInt(l.minWidth,10))}else s=i.offsetHeight,r=i.offsetWidth;t+=s,n+=r}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const o=n[i];o!==t&&(e?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:o,isBottom:s,isLeft:r}=this.currentResizer,l=o||r,u=s||i,{movementX:d,movementY:f}=this.calculateMouseMovement({e,isLeft:r,isTop:i}),p=this.position.x,m=this.position.y;let v=0,b=0;if(l&&d){const S=r?-1:1,R=this.getWidth(),x=R+d*S;let T=!1;r&&(v=R-x,(p+v<=0||x<=this.minWidth)&&(T=!0,v=0)),T||this.setWidth(x)}if(u&&f){const S=i?-1:1,R=this.getHeight(),x=R+f*S;let T=!1;i?(b=R-x,(m+b<=0||x<=this.minHeight)&&(T=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(T=!0),T||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&v||b)&&this.offsetElement(p+v,m+b)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:o,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+o,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},s8=class extends o8{},MC,kC,IC,OC,Qw,Zw,_C;function Vr(){return MC===void 0&&(MC=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),MC}function Dc(){return kC===void 0&&(kC=/(firefox)/i.test(navigator.userAgent)),kC}function QM(){return IC===void 0&&(IC=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),IC}function Aa(){return OC===void 0&&(OC=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),OC}function Jw(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!Dc())?null:t.toString()}function r8(){if(_C!==void 0)return _C;if(!document.body)return-1;let e=1e6;const t=Dc()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return n.remove(),_C=e,e}function Ob(){return Zw==null&&ZM(),Zw}function ZM(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.remove(),n!=null&&(Zw=n,Qw=n===0)}function JM(){return Qw==null&&ZM(),Qw}var ey=!1,Vg=0;function a8(e){Vg>0||(e.addEventListener("keydown",zg),e.addEventListener("mousedown",zg))}function l8(e){Vg>0||(e.removeEventListener("keydown",zg),e.removeEventListener("mousedown",zg))}function zg(e){const t=ey,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(ey=n)}function c8(e){const t=kn(e);return a8(t),Vg++,()=>{Vg--,l8(t)}}function ek(){return ey}function pc(e,t,n=!1){const i=OW;let o=JA;t&&(o+=", "+t),n&&(o+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(u=>Po(u)),r=Array.prototype.slice.apply(e.querySelectorAll(o));return r.length?((u,d)=>u.filter(f=>d.indexOf(f)===-1))(s,r):s}function Ga(e,t=!1,n=!1,i=!1){const o=pc(e,i?".ag-tab-guard":null,n),s=t?Ht(o):o[0];return s?(s.focus({preventScroll:!0}),!0):!1}function Xa(e,t,n,i){const o=pc(t,n?':not([tabindex="-1"])':null),s=Yt(e);let r;n?r=o.findIndex(u=>u.contains(s)):r=o.indexOf(s);const l=r+(i?-1:1);return l<0||l>=o.length?null:o[l]}function tk(e,t=5){let n=0;for(;e&&Jw(e)===null&&++n<=t;)e=e.parentElement;return Jw(e)===null?null:e}var u8="ag-focus-managed",nk=class extends ci{constructor(e,t={isStopPropagation:()=>!1,stopPropagation:()=>{}},n={}){super(),this.eFocusable=e,this.stopPropagationCallbacks=t,this.callbacks=n,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const o=Xa(this.beans,this.eFocusable,!1,i.shiftKey);o&&(o.focus(),i.preventDefault())},...n}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(u8),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||this.stopPropagationCallbacks.isStopPropagation(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){this.stopPropagationCallbacks.stopPropagation(t);return}t.key===Z.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},ik="__ag_Grid_Stop_Propagation";function Ba(e){e[ik]=!0}function Is(e){return e[ik]===!0}var _b={isStopPropagation:Is,stopPropagation:Ba},Kd=class extends nk{constructor(e,t){super(e,_b,t)}},d8=class extends dn{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Kd(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new s8(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}areStatesEqual(e,t){return e===t}refresh(e){const t=e,n=this.params;this.params=t;const{source:i,state:o,additionalEventAttributes:s}=t;i==="colDef"&&this.updateParams(t,n);const r=this.state;this.state=o;const l=s?.fromAction;return(l&&l!=="apply"||o.model!==r.model||!this.areStatesEqual(o.state,r.state))&&this.setModelIntoUi(o.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=Dp(e),this.setupApplyDebounced()}doesFilterPass(e){fe(283);const{getHandler:t,model:n,column:i}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(i)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return fe(284),this.params.model!=null}setupApplyDebounced(){const e=Ib(this.params,this.defaultDebounceMs),t=Hn(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return fe(285),this.params.model}setModel(e){fe(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:{valid:n=!0,model:i}}=this;if(!n)return!1;const o=!this.areModelsEqual(t.model,i);return o&&t.onAction("apply",e),o}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),i={model:n,state:this.getState(),valid:this.canApply(n)};this.state=i;const{params:o,gos:s,eventSvc:r,applyActive:l}=this;o.onStateChange(i),o.onUiChange(this.getUiChangeEventParams()),s.get("enableFilterHandlers")||r.dispatchEvent({type:"filterModified",column:o.column,filterInstance:this}),i.valid&&(e??(e=l?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced())}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const i=e==="floatingFilter"||e==="columnFilter";i?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(i)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e,t){return Ro(this,e,t)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function h8(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function Lb(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return n&&i&&o}function f8(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ye(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function g8(e,t){return!e&&!t?!0:!e||!t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function p8(e){let t=0,n;const{pinnedRowModel:i,rowModel:o,pageBounds:s}=e;return i?.getPinnedTopRowCount()?n="top":o.getRowCount()?(n=null,t=s.getFirstRow()):i?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function m8(e){let t,n=null;const{pinnedRowModel:i,pageBounds:o}=e,s=i?.getPinnedBottomRowCount(),r=i?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?t=o.getLastRow():r&&(n="top",t=r-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function Ns(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Jl(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function v8(e,t,n){const{rowModel:i,pinnedRowModel:o}=e;let s;return s??(s=i?.getRowNode(t)),n?s??(s=o?.getPinnedRowById(t,n)):(s??(s=o?.getPinnedRowById(t,"top")),s??(s=o?.getPinnedRowById(t,"bottom"))),s}function Wg(e,t,n=!1){const{rowIndex:i,rowPinned:o}=t,{pageBounds:s,pinnedRowModel:r,rowModel:l}=e;if(i===0)return o==="top"?null:o==="bottom"&&l.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:r?.isRowsToRender("top")?{rowIndex:r.getPinnedTopRowCount()-1,rowPinned:"top"}:null;if(n){const u=o?void 0:l.getRow(i);return ok(e,u,!0)??{rowIndex:i-1,rowPinned:o}}return{rowIndex:i-1,rowPinned:o}}function ED(e,t,n=!1){const{rowIndex:i,rowPinned:o}=t,{pageBounds:s,pinnedRowModel:r,rowModel:l}=e;if(C8(e,t))return o==="bottom"?null:o==="top"&&l.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:r?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;if(n){const u=o?void 0:l.getRow(i);return ok(e,u)??{rowIndex:i+1,rowPinned:o}}return{rowIndex:i+1,rowPinned:o}}function ok(e,t,n=!1){const{gos:i,rowRenderer:o}=e;if(!t?.sticky||!RM(i))return;const s=o.getStickyTopRowCtrls(),r=o.getStickyBottomRowCtrls(),l=!r.some(p=>p.rowNode.rowIndex===t.rowIndex),u=l?s:r,d=(n?-1:1)*(l?-1:1);let f;for(let p=0;p<u.length;p++)if(u[p].rowNode.rowIndex===t.rowIndex){f=u[p+d];break}return f?{rowIndex:f.rowNode.rowIndex,rowPinned:null}:void 0}function C8(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:o,pageBounds:s}=e;return n==="top"?(o?.getPinnedTopRowCount()??0)-1<=i:n==="bottom"?(o?.getPinnedBottomRowCount()??0)-1<=i:s.getLastRow()<=i}function w8(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===Z.TAB){const o=i.shiftKey;Xa(e,n,!1,o)||Fc(e,o)&&i.preventDefault()}}})}function y8(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Ma(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.exclusive}function Fp(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.exclusive}function Fc(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function b8(e,t){const n=e.focusSvc,i=n.getFocusedCell();if(i&&t&&Lb(i,t)){const{rowIndex:o,rowPinned:s,column:r}=t;mb(e)&&n.setFocusedCell({rowIndex:o,column:r,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!ek()})}}function $o(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Nb(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const o=i.getGroupRowCount()||0;for(let s=0;s<o;s++){const r=i.getGroupRowCtrlAtIndex(s),l=t[s];if(r){const u=S8(e,r);(l==null||u>l)&&(t[s]=u)}}}return t}function S8(e,t){let i=e.colModel.isPivotMode()?x8(e):rk(e);const o=t.getHeaderCellCtrls();for(const s of o){const{column:r}=s,l=r.getAutoHeaderHeight();l!=null&&l>i&&r.isAutoHeaderHeight()&&(i=l)}return i}function Hb(e){let n=e.colModel.isPivotMode()?R8(e):qd(e);return e.colModel.forAllCols(i=>{const o=i.getAutoHeaderHeight();o!=null&&o>n&&i.isAutoHeaderHeight()&&(n=o)}),n}function qd(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function sk(e){return e.gos.get("floatingFiltersHeight")??qd(e)}function rk(e){return e.gos.get("groupHeaderHeight")??qd(e)}function R8(e){return e.gos.get("pivotHeaderHeight")??qd(e)}function x8(e){return e.gos.get("pivotGroupHeaderHeight")??rk(e)}function E8(e,t){return e.headerRowIndex===t.headerRowIndex&&e.column===t.column}var T8=class extends re{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:o,touchSvc:s,ctrlsSvc:r}=i;o&&this.createManagedBean(new Kd(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),s?.mockHeaderContextMenu(this,l),r.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>zs(this.beans,()=>e()),stylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=Nb(e).reduce((r,l)=>r+l,0),i=Hb(e);e.filterManager?.hasFloatingFilters()&&(t+=sk(e)),t+=n,t+=i;const o=e.environment.getHeaderRowBorderWidth(),s=t+o;if(this.headerHeightWithBorder!==s){this.headerHeightWithBorder=s;const r=`${s}px`;this.comp.setHeightAndMinHeight(r)}this.headerHeight!==t&&(this.headerHeight=t,this.eventSvc.dispatchEvent({type:"headerHeightChanged"}))}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:o}=this,{headerNavigation:s,focusSvc:r}=o;(s.navigateHorizontally(i,!0,e)||!n&&r.focusOverlay(!1)||Fc(o,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case Z.LEFT:t="LEFT";case Z.RIGHT:{ye(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case Z.UP:t="UP";case Z.DOWN:{ye(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(Yt(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:i,ctrlsSvc:o}=this.beans;if(!e&&!n||!i?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===o.getHeaderRowContainerCtrl()?.eViewport)&&i.showHeaderContextMenu(void 0,e,n)}},Gb=class extends re{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Yn(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,o=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let r;e?r=i+o+s:(r=i,this.addSpacer&&(this.gos.get("enableRtl")?o:s)===0&&n.verticalScrollShowing&&(r+=n.getScrollbarWidth())),this.callback(r)}},Wc=class extends re{};function Yd(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var Bb=class extends re{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Ht(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=ye(this.columnOrGroup.getOldLeft());t?.isActive()&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!Yn(n,"print")||e.getPinned()==="left")return t;const s=i.getColsLeftWidth();if(e.getPinned()==="right"){const r=i.bodyWidth;return s+r+t}return s+t}setLeft(e){if(ye(e)&&(this.eCell.style.left=`${e}px`),vn(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&PW(this.ariaEl,t.length)}}},D8="ag-column-first",F8="ag-column-last";function ak(e,t,n,i){return tn(e)?[]:A8(e.headerClass,e,t,n,i)}function lk(e,t,n){e.toggleCss(D8,n.isColAtEdge(t,"first")),e.toggleCss(F8,n.isColAtEdge(t,"last"))}function P8(e,t,n,i){return Ne(t,{colDef:e,column:n,columnGroup:i})}function A8(e,t,n,i,o){if(tn(e))return[];let s;if(typeof e=="function"){const r=P8(t,n,i,o);s=e(r)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var M8=0,ck="headerCtrl",Vb=class extends re{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.reAttemptToFocus=!1,this.instanceId=e.getUniqueId()+"-"+M8++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}setComp(e,t,n,i,o){t.setAttribute("col-id",this.column.colIdSanitised),this.wireComp(e,t,n,i,o),this.reAttemptToFocus&&(this.reAttemptToFocus=!1,this.focus(this.lastFocusEvent??void 0))}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),o=i?.suppressHeaderKeyboardEvent;if(!ye(o))return!1;const s=Ne(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!o(s)}getWrapperHasFocus(){return Yt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:o}=this,s=p=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:m,paddingBottom:v,borderBottomWidth:b,borderTopWidth:S}=qa(this.eGui),R=m+v+b+S,T=t.offsetHeight+R;if(p<5){const A=!kn(o)?.contains(t),M=T==0;if(A||M){jw(()=>s(p+1),"raf",o);return}}this.setColHeaderHeight(this.column,T)};let r=!1,l;const u=()=>{const p=this.column.isAutoHeaderHeight();p&&!r&&d(),!p&&r&&f()},d=()=>{r=!0,this.comp.toggleCss("ag-header-cell-auto-height",!0),s(0),l=Vs(this.beans,t,()=>s(0))},f=()=>{r=!1,l&&l(),this.comp.toggleCss("ag-header-cell-auto-height",!1),l=void 0};u(),i.addDestroyFunc(()=>f()),i.addManagedListeners(this.column,{widthChanged:()=>r&&s(0)}),i.addManagedEventListeners({sortChanged:()=>{r&&window.setTimeout(()=>s(0))}}),n&&n(u)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(lk(e,t,n.visibleCols),QA(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Ma(this.beans);this.eGui&&bi(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Yt(this.beans),n=e.key===Z.LEFT||e.key===Z.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey&&!e.ctrlKey&&!e.metaKey)return;if((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),(e.ctrlKey||e.metaKey)&&WM(e)===Z.C)return this.beans.clipboardSvc?.copyToClipboard();if(!n)return;const s=e.key===Z.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===Z.LEFT!==t.get("enableRtl");const o=n.getPinned(),s=t.get("enableRtl");return o&&s!==(o==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAGE_HOME:case Z.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=ck,{eGui:n,gos:i}=this;Ha(i,n,t,this),e.addDestroyFunc(()=>Ha(i,n,t,null))}focus(e){if(!this.isAlive())return!1;const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus()):this.reAttemptToFocus=!0,!0}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:o,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&i.preventDefault(),o?.isHeaderContextMenuEnabled(n)&&o.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},k8=class extends Vb{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}wireComp(e,t,n,i,o){this.comp=e;const{rowCtrl:s,column:r,beans:l}=this,{colResize:u,context:d,colHover:f,rangeSvc:p}=l,m=Yd(this,d,o);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:b=>this.setRefreshFunction("measuring",b),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),u?this.resizeFeature=m.createManagedBean(u.createResizeFeature(s.pinned,r,n,e,this)):Nt(n,!1),f?.createHoverFeature(m,[r],t),p?.createRangeHighlightFeature(m,r,e),m.createManagedBean(new Bb(r,t,l)),m.createManagedBean(new Kd(t,{shouldStopEventPropagation:b=>this.shouldStopEventPropagation(b),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(r,{colDefChanged:()=>this.refresh(),formulaRefChanged:()=>this.refresh(),headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const v=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:v,columnRowGroupChanged:v,columnPivotChanged:v,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Ne(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return Nj(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return Ne(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||Hi(this.gos)),showColumnMenu:(s,r)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:r})},showColumnMenuAfterMouseClick:(s,r)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:r})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,r)=>{t?.setSortForColumn(this.column,xo(s),!!r,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,r)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,r)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Z.SPACE?this.selectAllFeature?.onSpaceKeyDown(e):e.key===Z.ENTER?this.onEnterKeyDown(e):e.key===Z.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){const{column:t,gos:n,sortable:i,beans:o}=this;let s=!1;(e.ctrlKey||e.metaKey)&&(s=this.showMenuOnKeyPress(e,!0)),s||(!e.altKey&&hc(n)?o.rangeSvc?.handleColumnSelection(t,e):i&&o.sortSvc?.progressSort(t,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();return TD(n)&&n.onMenuKeyboardShortcut(t)?(e.preventDefault(),!0):!1}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),ek()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=ak(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n);for(const o of n)i.has(o)?i.delete(o):this.comp.toggleCss(o,!0);for(const o of i)this.comp.toggleCss(o,!1)};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria();for(const e of Object.values(this.refreshFunctions))e()}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,o=Nb(this.beans),s=o.reduce((m,v)=>m+v,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:r,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",r>0);const u=Hb(i);if(r===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${u}px`);return}n.toggleCss("ag-header-span-total",l);const d=(this.column.getFirstRealParent()?.getLevel()??-1)+1,f=o.length-d;let p=0;for(let m=0;m<f;m++)p+=o[o.length-1-m];e.style.setProperty("top",`${-p}px`),e.style.setProperty("height",`${u+p}px`)}refreshAriaSort(){let e=null;const{beans:t,column:n,comp:i,sortable:o}=this;if(o){const s=this.getLocaleTextFunc(),r=t.sortSvc?.getDisplaySortForColumn(n)??null;i.setAriaSort(wW(r)),e=s("ariaSortableColumn","Press ENTER to sort")}else i.setAriaSort();this.setAriaDescriptionProperty("sort",e)}refreshAriaMenu(){let e=null;this.menuEnabled&&(e=this.getLocaleTextFunc()("ariaMenuColumn","Press ALT DOWN to open column menu")),this.setAriaDescriptionProperty("menu",e)}refreshAriaFilterButton(){let e=null;const{openFilterEnabled:t,gos:n}=this;t&&!Hi(n)&&(e=this.getLocaleTextFunc()("ariaFilterColumn","Press CTRL ENTER to open filter")),this.setAriaDescriptionProperty("filterButton",e)}refreshAriaFiltered(){let e=null;this.column.isFilterActive()&&(e=this.getLocaleTextFunc()("ariaColumnFiltered","Column Filtered")),this.setAriaDescriptionProperty("filter",e)}refreshAriaCellSelection(){let e=null;const{gos:t,column:n,beans:i}=this;if(hc(t)){const s=this.getLocaleTextFunc(),r=i.rangeSvc?.isColumnInAnyRange(n);e=s("ariaColumnCellSelection",`Press CTRL+SPACE to ${r?"de":""}select all visible cells in this column`)}this.setAriaDescriptionProperty("cellSelection",e)}setAriaDescriptionProperty(e,t){const n=this.ariaDescriptionProperties;t!=null?n.set(e,t):n.delete(e)}announceAriaDescription(){const{beans:e,eGui:t,ariaDescriptionProperties:n}=this;if(!t.contains(Yt(e)))return;const i=Array.from(n.keys()).sort((o,s)=>o==="filter"?-1:s.charCodeAt(0)-o.charCodeAt(0)).map(o=>n.get(o)).join(". ");e.ariaAnnounce?.announceValue(i,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered(),this.refreshAriaCellSelection()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=o=>this.handleMouseOverChange(o.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=o=>this.handleContextMenuMouseEvent(o,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return TD(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function TD(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var I8=0,LC=class extends re{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=I8++,this.comp=null,this.allCtrls=[];let i="ag-header-row-column";n==="group"?i="ag-header-row-group":n==="filter"&&(i="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${i}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=Yn(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=Yd(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,stylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Yn(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Nb(this.beans);for(let o=0;o<t.length;o++){if(o===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[o]};e+=t[o]}const n=Hb(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const i=sk(this.beans);return{topOffset:e,rowHeight:i}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:o,visibleCols:s}=this.beans;return o.isHeaderWrapperFocused(i)?s.isVisible(i.column):!1};if(e)for(const[i,o]of e)n(o)?this.ctrlsById.set(i,o):this.destroyBean(o);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let o;if(n&&(o=n.get(i),n.delete(i)),o&&o.column!=e&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case"filter":{o=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":o=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:o=this.createBean(new k8(e,this));break}t.set(i,o)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];for(const t of["left",null,"right"])e.push(...this.getComponentsToRender(t));return e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(o=>o.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},O8=class extends re{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:o,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const r=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:r,advancedFilterEnabledChanged:r});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),o.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:i}=this.beans;let o=0;const s=t.getFocusHeaderToUseAfterRefresh(),r=()=>{const p=i.headerGroupRowCount;o=p,e||(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls));const m=this.groupsRowCtrls.length;if(m!==p){if(m>p){for(let v=p;v<m;v++)this.destroyBean(this.groupsRowCtrls[v]);this.groupsRowCtrls.length=p;return}for(let v=m;v<p;v++){const b=this.createBean(new LC(v,this.pinned,"group"));this.groupsRowCtrls.push(b)}}},l=()=>{const p=o++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new LC(p,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==p&&this.columnsRowCtrl.setRowIndex(p)},u=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const p=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){p();return}e||p();const m=o++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==m&&this.filtersRowCtrl.setRowIndex(m):this.filtersRowCtrl=this.createBean(new LC(m,this.pinned,"filter"))},d=this.getAllCtrls();r(),l(),u();const f=this.getAllCtrls();this.comp.setCtrls(f),this.restoreFocusOnHeader(t,s),d.length!==f.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(i=>i.column===e);if(Or(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const o=this.getAllCtrls()[e];return o?o.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t,scroll:!1})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Gb(e=>this.comp.setCenterWidth(`${e}px`),!0))}},zb=class extends zc{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e?.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Pp=class extends zb{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.eEditor.destroy(),this.errorMessages=null,super.destroy()}};function _8(e){e.valueCache?.expire()}function L8(e,t){const{colKey:n,rowNode:i,useFormatter:o,from:s="edit"}=t,r=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(!r)return null;const l=e.valueSvc.getValueForDisplay({column:r,node:i,includeValueFormatted:o,from:s});return o?l.valueFormatted??Bc(l.value):l.value}var Ap=class extends dn{constructor(){super()}},N8={tag:"div",cls:"ag-overlay-exporting-center",children:[{tag:"span",ref:"eExportingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eExportingText",cls:"ag-exporting-text"}]},H8=class extends Ap{constructor(){super(...arguments),this.eExportingIcon=xe,this.eExportingText=xe}init(e){const{beans:t}=this;this.setTemplate(N8);const n=Si("overlayExporting",t,null);n&&this.eExportingIcon.appendChild(n);const i=e.exporting?.overlayText??this.getLocaleTextFunc()("exportingOoo","Exporting...");this.eExportingText.textContent=i,t.ariaAnnounce.announceValue(i,"overlay")}},G8={tag:"div",cls:"ag-overlay-loading-center",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},B8=class extends Ap{constructor(){super(...arguments),this.eLoadingIcon=xe,this.eLoadingText=xe}init(e){const{beans:t,gos:n}=this,i=As(n.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(i??G8),!i){const o=Si("overlayLoading",t,null);o&&this.eLoadingIcon.appendChild(o);const s=e.loading?.overlayText??this.getLocaleTextFunc()("loadingOoo","Loading...");this.eLoadingText.textContent=s,t.ariaAnnounce.announceValue(s,"overlay")}}},V8={tag:"span",cls:"ag-overlay-no-matching-rows-center"},z8=class extends Ap{init(e){const{beans:t}=this;this.setTemplate(V8);const n=e.noMatchingRows?.overlayText??this.getLocaleTextFunc()("noMatchingRows","No Matching Rows");this.getGui().textContent=n,t.ariaAnnounce.announceValue(n,"overlay")}},W8={tag:"span",cls:"ag-overlay-no-rows-center"},U8=class extends Ap{init(e){const{beans:t,gos:n}=this,i=As(n.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(i??W8),!i){const o=e.noRows?.overlayText??this.getLocaleTextFunc()("noRowsToShow","No Rows To Show");this.getGui().textContent=o,t.ariaAnnounce.announceValue(o,"overlay")}}},j8=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-label-align-right){.ag-label,.ag-wrapper{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column}:where(.ag-label-align-top){.ag-label,.ag-wrapper{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",$8=class extends zc{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(j8)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:o,labelEllipsis:s}=this.config;o!=null&&this.setDisabled(o),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),s!=null&&this.setLabelEllipsis(s),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;xi(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Nt(t,!1),_a(t,"presentation")):(Nt(t,!0),_a(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Ag(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return xd(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},uk=class extends $8{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n,ariaLabel:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),i!=null&&this.setAriaLabel(i),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||yW(e)!==null?Rd(e,""):Rd(e,t??"")}setAriaLabel(e){return xc(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Qo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function K8(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var xa=class extends uk{constructor(e,t,n="text",i="input"){super(e,e?.template??K8(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=xe,this.eWrapper=xe,this.eInput=xe}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:o,inputWidth:s,inputPlaceholder:r,autoComplete:l,tabIndex:u}=this.config;o!=null&&this.setInputName(o),s!=null&&this.setInputWidth(s),r!=null&&this.setInputPlaceholder(r),l!=null&&this.setAutoComplete(l),this.addInputListeners(),this.activateTabIndex([n],u)}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,bi(this.eInput,"type",e))}getInputElement(){return this.eInput}getWrapperElement(){return this.eWrapper}setInputWidth(e){return Ag(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return bi(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return xc(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return xd(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)bi(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";bi(this.eInput,"autocomplete",t)}return this}},Wb=class extends xa{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t,name:n}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t),n!=null&&this.setName(n)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},Ub={selector:"AG-CHECKBOX",component:Wb},q8=".ag-checkbox-cell{height:100%}",Y8={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},X8=class extends dn{constructor(){super(Y8,[Ub]),this.eCheckbox=xe,this.registerCSS(q8)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),qA(i,"polite"),this.addManagedListeners(i,{click:o=>{if(Ba(o),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:o=>{Ba(o)}}),this.addManagedElementListeners(e.eGridCell,{keydown:o=>{if(o.key===Z.SPACE&&!t.isDisabled()){e.eGridCell===Yt(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),o.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:o,node:s}=e;if(s.group&&o)if(typeof i=="boolean")t=i;else{const p=o.getColId();p.startsWith(Tp)?t=i==null||i===""?void 0:i==="true":s.aggData&&s.aggData[p]!==void 0||s.sourceRowIndex>=0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:r}=this;if(!n){r.setDisplayed(!1);return}r.setValue(t);const l=e.disabled??!o?.isCellEditable(s);r.setDisabled(l);const u=this.getLocaleTextFunc(),d=Rp(u,t),f=l?d:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;r.setInputAriaLabel(f)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:i,value:o}=t,{editSvc:s}=this.beans;if(!n)return;const r={rowNode:i,column:n};s?.dispatchCellEvent(r,null,"cellEditingStarted",{value:o});const l=i.setDataValue(n,e,"ui");s?.dispatchCellEvent(r,null,"cellEditingStopped",{oldValue:o,newValue:e,valueChanged:l}),l||this.updateCheckbox(t)}};function Ws(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Mp(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function Q8(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var DD="row-group-",jb="t-",$b="b-",Z8=0,_r=class{constructor(e){this.id=void 0,this.destroyed=!1,this._groupData=void 0,this.master=!1,this.detail=void 0,this.rowIndex=null,this.field=null,this.rowGroupColumn=null,this.key=null,this.sourceRowIndex=-1,this._leafs=void 0,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Z8++,this.alreadyRendered=!1,this.formulaRowIndex=null,this.hovered=!1,this.__selected=!1,this.beans=e}get groupData(){const e=this._groupData;return e!==void 0?e:this.footer?this.sibling?.groupData:this.beans.groupStage?.loadGroupData(this)??null}set groupData(e){this._groupData=e}get allLeafChildren(){const e=this._leafs;return e===void 0?this.beans.groupStage?.loadLeafs?.(this)??null:e}set allLeafChildren(e){this._leafs=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:i}=this.beans,o=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,o,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const l=this.sibling.createDataChangedEvent(e,o,t);this.sibling.__localEventService?.dispatchEvent(l)}i.dispatchEvent({type:"rowNodeDataChanged",node:this});const r=this.pinnedSibling;r&&(r.data=e,r.__localEventService?.dispatchEvent(r.createDataChangedEvent(e,o,t)),i.dispatchEvent({type:"rowNodeDataChanged",node:r}))}updateDataOnDetailNode(){const e=this.detailNode;e&&(e.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Dt(13),null):this.rowPinned==="top"?jb+this.rowIndex:this.rowPinned==="bottom"?$b+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,i=n?.createDaemonNode?.(this),o=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const s=this.createDataChangedEvent(e,o,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=Ec(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(DD)&&Dt(14,{groupPrefix:DD})}else this.id=void 0;else this.id=e}setRowTop(e){if(this.oldRowTop=this.rowTop,this.rowTop===e)return;this.rowTop=e,this.dispatchRowEvent("topChanged");const t=e!==null;this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:o,gos:s,editSvc:r}=this.beans;if(e==null)return!1;let l=i.getCol(e)??i.getColDefCol(e);if(!l)return!1;if(!this.group){const f=l.getColDef();f.pivotValueColumn&&(l=f.pivotValueColumn)}const u=o.getValueForDisplay({column:l,node:this,from:"data"}).value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:f},data:p,rowIndex:m,rowPinned:v}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:v,column:l,colDef:l.colDef,data:p,node:this,oldValue:u,newValue:t,value:t,source:n}),!1}if(r&&!r.committing){const f=r.setDataValue({rowNode:this,column:l},t,n);if(f!=null)return f}const d=o.setValue(this,l,t,n);return this.dispatchCellChangedEvent(l,t,u),d&&this.pinnedSibling?.dispatchCellChangedEvent(l,t,u),d}getDataValue(e){const{colModel:t,valueSvc:n,formula:i}=this.beans;if(e==null)return;const o=t.getCol(e)??t.getColDefCol(e);if(!o)return;let s=n.getValue(o,this,"data");return i&&o.isAllowFormula()&&i.isFormula(s)&&(s=i.resolveValue(o,this)),s}updateHasChildren(){let e=this.group&&!this.footer||!!this.childrenAfterGroup?.length;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){if(this.footer)return this.sibling.isSelected();const e=this.rowPinned&&this.pinnedSibling;return e?e.isSelected():this.__selected}depthFirstSearch(e){const t=this.childrenAfterGroup;if(t)for(let n=0,i=t.length;n<i;++n)t[n].depthFirstSearch(e);e(this)}getAggregatedChildren(e){const t=this.beans;return t.aggStage?.getAggregatedChildren(this,t.colModel.getCol(e))??[]}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){(this.__localEventService??(this.__localEventService=new Oa)).addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e);const n=this.__localEventService??(this.__localEventService=new Oa);this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,n);const i=this.frameworkEventListenerService?.wrap(e,t)??t;n.addEventListener(e,i)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){const n=this.__localEventService;n&&(n.removeEventListener(e,t),n.noRegisteredListenersExist()&&(this.__localEventService=null))}isFullWidthCell(){if(fe(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t?.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){const e=this.childStore;return e?e.getFirstNode():this.childrenAfterSort?.[0]??null}_destroy(e){if(this.destroyed)return!1;this.destroyed=!0;const t=this.pinnedSibling;if(t?.rowPinned&&!this.rowPinned&&this.beans.pinnedRowModel?.pinRow(t,null),e?this.clearRowTopAndRowIndex():(this.setRowTop(null),this.setRowIndex(null)),!this.footer){const n=this.detailNode;n&&n._destroy(e);const i=this.sibling;i&&i._destroy(e)}return!0}};function J8(e,t,n){return Ne(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var e7=new Set(["__autoHeights","__checkAutoHeightsDebounced","__localEventService","__objectId","_groupData","_leafs","childStore","groupValue","oldRowTop","sticky","treeNodeFlags","treeParent"]),t7=(e,t)=>{const n=new _r(t);for(const i of Object.keys(e))e7.has(i)||(n[i]=e[i]);return n.oldRowTop=null,n},ty=(e,t,n)=>{if(!n)return;let i=n.rowIndex;if(i==null)return;i+=t;const o=e.getRowCount();for(;i>=0&&i<o;){const s=e.getRow(i);if(!s||!s.footer&&!s.detail)return s;i+=t}},FD=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:i}=this;t.has(e)||(t.add(e),n.add(e),i.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),ts(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:i}=this;e.clear(),i.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,i=e?.getSortOptions()??[],o=this.order,s=o7(o);if(o.sort((l,u)=>t?.compareRowNodes(i,l,u)||(l.pinnedSibling?.rowIndex??0)-(u.pinnedSibling?.rowIndex??0)),!s)return;const r=xM(n);r==="bottom"||r==="pinnedBottom"?this.order.push(s):this.order.unshift(s)}hide(e){const{all:t,visible:n}=this,i=n.size;return t.forEach(o=>e(o)?n.delete(o):n.add(o)),this.order=Array.from(n),this.sort(),i!=n.size}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function dk(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?dk(t):!1}function NC(e,t){const{gos:n,rowModel:i,filterManager:o}=e;return Vc(n)?!i.getRowNode(t.id):o?.isAnyFilterPresent()?!dk(t):n.get("pivotMode")?!t.group:!1}function n7(e){return!!e.footer&&e.level===-1}function i7(e){return!!e.pinnedSibling&&n7(e.pinnedSibling)}function o7(e){const t=e.findIndex(i7);if(t>-1)return e.splice(t,1)?.[0]}var PD=class extends re{constructor(){super(...arguments),this.csrm=null}postConstruct(){const{gos:e,beans:t}=this;this.top=new FD(t,"top"),this.bottom=new FD(t,"bottom"),this.csrm=Ws(t)??null;const n=o=>NC(t,o.pinnedSibling),i=()=>{const o=e.get("isRowPinned");o&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,o(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:o})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow();let s=!1;this.forContainers(l=>{s||(s=l.hide(n))});const r=this.refreshRowPositions();(!o||r||s)&&this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(r7),this.refreshRowPositions()},rowNodeDataChanged:({node:o})=>{(e.get("isRowPinnable")?.(o)??!0)||this.pinRow(o,null)},firstDataRendered:i}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(o=>o.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:o})=>{this._grandTotalPinned=o==="pinnedBottom"?"bottom":o==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",i)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(i=>n.push(i)),n.forEach(i=>this.pinRow(i,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(t!=null&&e.destroyed)return;if(e.footer){const r=e.level;if(r>-1)return;if(r===-1){this._grandTotalPinned=t,this.csrm?.reMapRows();return}}const i=e.rowPinned??e.pinnedSibling?.rowPinned;if(i!=null&&t!=null&&t!=i){const r=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(r,null,n),this.pinRow(l,t,n);return}const s=n&&a7(this.beans,e,n);if(s){s.forEach(r=>this.pinRow(r,t));return}if(t==null){const r=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(r);if(!l)return;l.delete(r);const u=r.pinnedSibling;HC(r),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(u)}else{const r=AD(this.beans,e,t),l=this.getContainer(t);l.add(r),NC(this.beans,e)&&l.hide(u=>NC(this.beans,u.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const o=kr(this.beans,i);i.setRowTop(t),i.setRowHeight(o.height),t+=o.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return MD(this.top)}getPinnedBottomTotalHeight(){return MD(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,i=>{const o=i.pinnedSibling?.id;o!=null&&n.push(o)}),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const i of e[n]){const o=this.beans.rowModel.getRowNode(i);o?this.pinRow(o,n):t.queue(i)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(i=>{const o=this.beans.rowModel.getRowNode(i);o&&n.add(o)});for(const i of n)e.unqueue(i.id),this.pinRow(i,t)})}pinGrandTotalRow(){const{csrm:e,beans:t,_grandTotalPinned:n}=this;if(!e)return;const i=e.rootNode?.sibling;if(!i)return;const o=i.pinnedSibling,s=o&&this.findPinnedRowNode(o);if(n){if(s&&s.floating!==n&&(HC(o),s.delete(o)),!s||s.floating!==n){const r=AD(t,i,n);this.getContainer(n).add(r)}}else{if(!s)return;HC(o),s.delete(o)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=i=>s7(this.beans,i);if(e)return t(this.getContainer(e));let n=!1;return this.forContainers(i=>{const o=t(i);n||(n=o)}),n}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function s7(e,t){let n=0,i=!1;return t.forEach((o,s)=>{if(i||(i=o.rowTop!==n),o.setRowTop(n),o.rowHeightEstimated||o.rowHeight==null){const r=kr(e,o).height;i||(i=o.rowHeight!==r),o.setRowHeight(r)}o.setRowIndex(s),n+=o.rowHeight}),i}function AD(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const i=t7(t,e);i.setRowTop(null),i.setRowIndex(null),i.rowPinned=n;const o=n==="top"?jb:$b;return i.id=`${o}${n}-${t.id}`,i.pinnedSibling=t,t.pinnedSibling=i,i}function HC(e){if(!e.pinnedSibling)return;e.rowPinned=null,e._destroy(!1);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function r7(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function a7(e,t,n){const{rowSpanSvc:i}=e,o=(n&&i?.isCellSpanning(n,t))??!1;if(n&&o)return i?.getCellSpan(n,t)?.spannedNodes}function MD(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}var kD=class extends re{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({stylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Vu(this.pinnedBottomRows,t),Vu(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const o=kr(this.beans,i);i.setRowTop(t),i.setRowHeight(o.height),t+=o.height,e=!0}};return Vu(this.pinnedBottomRows,n),t=0,Vu(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=Ec(this.gos),o=t==="top"?jb:$b,s=new Set(n.order),r=[],l=new Set;let u=0,d=-1;for(const f of e){const p=i?.({data:f,level:0,rowPinned:t})??o+this.nextId++;if(l.has(p)){fe(96,{id:p,data:f});continue}d++,l.add(p),r.push(p);const m=sd(n,p);if(m!==void 0)m.data!==f&&m.updateData(f),u+=this.setRowTopAndRowIndex(m,u,d),s.delete(p);else{const v=new _r(this.beans);v.id=p,v.data=f,v.rowPinned=t,u+=this.setRowTopAndRowIndex(v,u,d),n.cache[p]=v,n.order.push(p)}}for(const f of s)sd(n,f)?.clearRowTopAndRowIndex(),delete n.cache[f];n.order=r}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(kr(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return ID(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return ID(this.pinnedBottomRows)}getPinnedTopRowCount(){return iy(this.pinnedTopRows)}getPinnedBottomRowCount(){return iy(this.pinnedBottomRows)}getPinnedTopRow(e){return ny(this.pinnedTopRows,e)}getPinnedBottomRow(e){return ny(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return sd(this.getCache(t),e)}forEachPinnedRow(e,t){return Vu(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function ID(e){const t=iy(e);if(t===0)return 0;const n=ny(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function sd(e,t){return e.cache[t]}function ny(e,t){return sd(e,e.order[t])}function Vu(e,t){e.order.forEach((n,i)=>{const o=sd(e,n);o&&t(o,i)})}function iy(e){return e.order.length}var l7=class extends re{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),i=xM(e),s=!!n||(i==="pinnedBottom"||i==="pinnedTop"),r=s?this.inner instanceof kD:this.inner instanceof PD;this.inner&&r&&this.destroyBean(this.inner),(r||!this.inner)&&(this.inner=this.createManagedBean(s?new PD:new kD))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},c7=500,u7=550,Mf,d7=e=>{if(!Mf)Mf=new WeakSet;else if(Mf.has(e))return!1;return Mf.add(e),!0},va=class{constructor(e,t=!1){this.eElement=e,this.preventClick=t,this.startListener=null,this.handlers=[],this.eventSvc=void 0,this.touchStart=null,this.lastTapTime=null,this.longPressTimer=0,this.moved=!1}addEventListener(e,t){let n=this.eventSvc;if(!n){if(n===null)return;this.eventSvc=n=new Oa;const i=this.onTouchStart.bind(this);this.startListener=i,this.eElement.addEventListener("touchstart",i,{passive:!0})}n.addEventListener(e,t)}removeEventListener(e,t){this.eventSvc?.removeEventListener(e,t)}onTouchStart(e){if(this.touchStart||!d7(e))return;const t=e.touches[0];this.touchStart=t;const n=this.handlers;if(!n.length){const i=this.eElement,o=i.ownerDocument,s=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this),l=this.onTouchCancel.bind(this),u={passive:!0},d={passive:!1};Zf(n,[i,"touchmove",s,u],[o,"touchcancel",l,u],[o,"touchend",r,d],[o,"contextmenu",Tr,d])}this.clearLongPress(),this.longPressTimer=window.setTimeout(()=>{this.longPressTimer=0,this.touchStart===t&&!this.moved&&(this.moved=!0,this.eventSvc?.dispatchEvent({type:"longTap",touchStart:t,touchEvent:e}))},u7)}onTouchMove(e){const{moved:t,touchStart:n}=this;if(!t&&n){const i=ac(n,e.touches);i&&!oM(i,n,4)&&(this.clearLongPress(),this.moved=!0)}}onTouchEnd(e){const t=this.touchStart;!t||!ac(t,e.changedTouches)||(this.moved||(this.eventSvc?.dispatchEvent({type:"tap",touchStart:t}),this.checkDoubleTap(t)),this.preventClick&&Tr(e),this.cancel())}onTouchCancel(e){const t=this.touchStart;!t||!ac(t,e.changedTouches)||(this.lastTapTime=null,this.cancel())}checkDoubleTap(e){let t=Date.now();const n=this.lastTapTime;n&&t-n>c7&&(this.eventSvc?.dispatchEvent({type:"doubleTap",touchStart:e}),t=null),this.lastTapTime=t}cancel(){this.clearLongPress(),Eb(this.handlers),this.touchStart=null}clearLongPress(){window.clearTimeout(this.longPressTimer),this.longPressTimer=0,this.moved=!1}destroy(){const e=this.startListener;e&&(this.startListener=null,this.eElement.removeEventListener("touchstart",e)),this.cancel(),this.eElement=null,this.eventSvc=null}},h7=1,f7=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,this.instanceId=h7++,e?.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){this.id=e.id,this.beans.context=this,this.destroyCallback=e.destroyCallback;for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];for(const t of e.beanClasses){const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}for(const t of e.derivedBeans??[]){const{beanName:n,bean:i}=t(this);this.beans[n]=i,this.createdBeans.push(i)}e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){const n=this.beans;for(const i of e)i.preWireBeans?.(n),i.wireBeans?.(n);for(const i of e)i.preConstruct?.();t&&e.forEach(t);for(const i of e)i.postConstruct?.()}getBeans(){return this.beans}getBean(e){return this.beans[e]}getId(){return this.id}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[],this.destroyCallback?.()}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function g7(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var p7=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],OD=Object.fromEntries(p7.map((e,t)=>[e,t]));function m7(e,t){const n=(e.beanName?OD[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?OD[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function v7(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var sg={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},Kb=class extends re{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?sg.AUTO_HEIGHT:t.print?sg.PRINT:sg.NORMAL;this.view.updateLayoutClasses(n,t)}},hk=class extends dn{constructor(e,t){super(),this.direction=t,this.eViewport=xe,this.eContainer=xe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",QM()||Aa())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=JM(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),zs(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;eU(this,()=>Po(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},C7={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},w7=class extends hk{constructor(){super(C7,"horizontal"),this.eLeftSpacer=xe,this.eRightSpacer=xe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Gb(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),Qo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let o=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(o+=i),Qo(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i,r=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),nd(this.getGui(),s),nd(this.eViewport,s),nd(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(r,100):r()}getScrollPosition(){return Fg(this.eViewport,this.enableRtl)}setScrollPosition(e){Po(this.eViewport)||this.attemptSettingScrollPosition(e),Pg(this.eViewport,e,this.enableRtl)}},fk=class extends re{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},y7={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},b7=class extends hk{constructor(){super(y7,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new fk(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,o=i===0&&n?16:i;this.toggleCss("ag-scrollbar-invisible",n),Qo(this.getGui(),o),Qo(this.eViewport,o),Qo(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),o=n.scrollTop;i!=o&&this.setScrollPosition(o,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Po(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},mr="Viewport",_D="fakeVScrollComp",GC=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],LD=100,BC=150,S7=class extends re{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Hn(this,()=>this.lastScrollSource[1]=null,BC),this.resetLastVScrollDebounced=Hn(this,()=>this.lastScrollSource[0]=null,BC)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),bodyHeightChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,mr)});for(const e of GC){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Hn(this,this.onVScroll.bind(this,mr),LD):this.onVScroll.bind(this,mr),i=t?Hn(this,this.onVScroll.bind(this,_D),LD):this.onVScroll.bind(this,_D);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...GC,mr]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Pg(n,e,this.enableRtl)}}getViewportForSource(e){return e===mr?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=Fg(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===mr?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===mr?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},BC)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Aa()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=yb(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of GC)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(mr)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),Pg(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let o=-1;for(let s=0;s<i;s++){const r=n.getRow(s);if(typeof e=="function"){if(r&&e(r)){o=s;break}}else if(e===r||e===r.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,t)}ensureIndexVisible(e,t,n=0){if(Yn(this.gos,"print"))return;const{rowModel:i}=this.beans,o=i.getRowCount();if(typeof e!="number"||e<0||e>=o){fe(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:r,rowContainerHeight:l,rowRenderer:u}=this.beans;s.wrapIncoming(()=>{const d=this.ctrlsSvc.getGridBodyCtrl(),f=i.getRow(e);let p,m,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:b,stickyBottomHeight:S}=d,R=f.rowTop,x=f.rowHeight,T=r.getPixelOffset(),F=f.rowTop-T,A=F+f.rowHeight,M=this.getVScrollPosition(),I=l.divStretchOffset,P=M.top+I,_=M.bottom+I,L=_-P,V=l.getScrollPositionForPixel(F),z=l.getScrollPositionForPixel(A-L),K=Math.min((V+z)/2,F),se=P+b>F,he=_-S<A;let J=null;t==="top"?J=V-b:t==="bottom"?J=z+S:t==="middle"?J=K:se?J=V-b:he&&(z-V>L?J=V-b:J=z+S),J!==null&&(this.setVerticalScrollPosition(J),u.redraw({afterScroll:!0})),p=R!==f.rowTop||x!==f.rowHeight,m=b!==d.stickyTopHeight||S!==d.stickyBottomHeight,v++}while((p||m)&&v<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(f?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const b=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const S=this.getVScrollPosition().top;b!==S&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=i.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){for(const e of this.clearRetryListenerFncs)e();this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,o=n.getCol(e);if(!o||o.isPinned()||!this.visibleCols.isColDisplayed(o))return;const s=this.getPositionedHorizontalScroll(o,t);i.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),o=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),r=this.enableRtl;let l=(r?n:i)||o,u=r?i:n;t!=="auto"&&(l=t==="start",u=t==="end");const d=t==="middle";if(l||u||d){const{colLeft:f,colMiddle:p,colRight:m}=this.getColumnBounds(e);return d?p-s/2:l?r?m:f:r?f-s:m-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:o}=this.getColumnBounds(e),s=this.enableRtl,r=s?t>o:n<o,l=s?n<i:t>i;return{columnBeforeStart:r,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),o=e.getLeft(),s=t?-1:1,r=t?n-o:o,l=r+i*s,u=r+i/2*s;return{colLeft:r,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},ND={horizontal:{overflow:e=>e.scrollWidth-e.clientWidth,scrollSize:e=>e.scrollWidth,clientSize:e=>e.clientWidth,opposite:"vertical"},vertical:{overflow:e=>e.scrollHeight-e.clientHeight,scrollSize:e=>e.scrollHeight,clientSize:e=>e.clientHeight,opposite:"horizontal"}};function R7(e,t,n=Ob()||0,i,o){return gk(e,t,"horizontal",n,i,o)}function x7(e,t,n=Ob()||0,i,o){return gk(e,t,"vertical",n,i,o)}function gk(e,t,n,i,o,s){const r=ND[n],l=ND[r.opposite],u=o?Po(o):!0,d=s?Po(s):!0,f=r.overflow(e);if(f<=0)return!1;if(!t||i===0)return!0;const p=l.overflow(t);if(p<=0)return!0;if(f<=i){if(u&&d&&E7({candidateOverflow:p,candidateScrollSize:l.scrollSize(t),candidateClientSize:l.clientSize(t),scrollbarWidth:i}))return!1;const m=r.clientSize(e)+i;return r.scrollSize(e)<=m}return!0}function E7({candidateOverflow:e,candidateScrollSize:t,candidateClientSize:n,scrollbarWidth:i}){if(e<=0||e>i)return!1;const o=n+i;return t>n&&t<=o}var T7=class extends re{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{zs(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=yb(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){if(!this.isAlive())return;const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const{centerContainerCtrl:e,beans:t}=this,n=e.getCenterWidth(),i=e.getViewportScrollLeft();t.colViewport.setScrollPosition(n,i)}};function pk(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function rg(e,t,n,i){const o=t.getColDef().cellRendererParams?.suppressMouseEventHandling;return mk(e,t,n,i,o)}function D7(e,t,n,i){const o=t?.suppressMouseEventHandling;return mk(e,void 0,n,i,o)}function mk(e,t,n,i,o){return o?o(Ne(e,{column:t,node:n,event:i})):!1}function vk(e,t,n){let i=t;for(;i;){const o=SM(e,i,n);if(o)return o;i=i.parentElement}return null}var Ug="cellCtrl";function qb(e,t){return vk(e,t,Ug)}var jg="renderedRow";function F7(e,t){return vk(e,t,jg)}function oy(e,t,n,i,o){const s=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const r=Ne(e,{event:t,editing:o,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(s&&s(r))}function P7(e){const{pinnedRowModel:t,rowModel:n,rangeSvc:i,visibleCols:o}=e;if(!i||o.allCols.length===0)return;const s=t?.isEmpty("top")??!0,r=t?.isEmpty("bottom")??!0,l=s?null:"top";let u,d;r?(u=null,d=n.getRowCount()-1):(u="bottom",d=t?.getPinnedBottomRowCount()??-1),i.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:d,rowEndPinned:u})}var A7=class extends re{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){let e="mousedown";Mg("pointerdown")?e="pointerdown":Mg("touchstart")&&(e="touchstart");const t=["dblclick","contextmenu","mouseover","mouseout","click",e];for(const n of t){const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})}}processMouseEvent(e,t){if(!Dd(this.beans,t)||Is(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:qb(t,e),rowCtrl:F7(t,e)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!oy(this.gos,n,e.rowNode,e.column,i)&&t==="keydown"&&(!i&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,i),pk(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:o,navigation:s}=this.beans,l=o.getFocusedCell()?.column;if(!oy(this.gos,n,i,l,!1)){const d=n.key;if(t==="keydown")switch(d){case Z.PAGE_HOME:case Z.PAGE_END:case Z.PAGE_UP:case Z.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case Z.LEFT:case Z.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case Z.UP:case Z.DOWN:e.onKeyboardNavigate(n);break;case Z.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Dd(this.beans,e))return;const n=WM(e),{clipboardSvc:i,undoRedo:o}=this.beans;if(n===Z.A)return this.onCtrlAndA(e);if(n===Z.C)return this.onCtrlAndC(i,e);if(n===Z.D)return this.onCtrlAndD(i,e);if(n===Z.V)return this.onCtrlAndV(i,e);if(n===Z.X)return this.onCtrlAndX(i,e);if(n===Z.Y)return this.onCtrlAndY(o);if(n===Z.Z)return this.onCtrlAndZ(o,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:o}=this;n&&Ir(o)&&!TU(o)&&t.isRowsToRender()?P7(this.beans):i&&i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:FM(o)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},kf=e=>e.topRowCtrls,If=e=>e.getStickyTopRowCtrls(),Of=e=>e.getStickyBottomRowCtrls(),_f=e=>e.bottomRowCtrls,Lf=e=>e.allRowCtrls,VC=e=>e.getCtrls("top"),zC=e=>e.getCtrls("center"),WC=e=>e.getCtrls("bottom"),M7={center:{type:"center",name:"center-cols",getRowCtrls:Lf,getSpannedRowCtrls:zC},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Lf,getSpannedRowCtrls:zC},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Lf,getSpannedRowCtrls:zC},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Lf},topCenter:{type:"center",name:"floating-top",getRowCtrls:kf,getSpannedRowCtrls:VC},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:kf,getSpannedRowCtrls:VC},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:kf,getSpannedRowCtrls:VC},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:kf},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:If},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:If},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:If},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:If},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Of},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Of},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Of},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Of},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:_f,getSpannedRowCtrls:WC},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:_f,getSpannedRowCtrls:WC},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:_f,getSpannedRowCtrls:WC},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:_f}};function Ck(e){return`ag-${Xd(e).name}-viewport`}function wk(e){const t=Xd(e);return t.container??`ag-${t.name}-container`}function k7(e){return`ag-${Xd(e).name}-spanned-cells-container`}function Xd(e){return M7[e]}var I7=["topCenter","topLeft","topRight"],O7=["bottomCenter","bottomLeft","bottomRight"],_7=["center","left","right"],L7=["center","left","right","fullWidth"],N7=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],H7=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],G7=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],yk=["stickyTopCenter","stickyTopLeft","stickyTopRight"],bk=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],B7=[...yk,"stickyTopFullWidth",...bk,"stickyBottomFullWidth"],V7=[...I7,...O7,..._7,...yk,...bk],z7=class extends re{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Xd(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new T7(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new A7(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:o,rangeSvc:s}=this.beans,r=()=>this.onPinnedWidthChanged();this.forContainers(H7,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(o?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:r})}),this.forContainers(G7,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(o?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:r})}),this.forContainers(L7,()=>this.createManagedBean(new fk(this.eContainer,this.name==="center"?i:void 0))),s&&this.forContainers(V7,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(N7,()=>this.createManagedBean(new Gb(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if(B7.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=Yn(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ed(this.eViewport)}getCenterViewportScrollLeft(){return Fg(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Vs(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return bb(this.eViewport)}getViewportScrollLeft(){return Fg(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){const{beans:e,gos:t,eViewport:n}=this,i=t.get("alwaysShowHorizontalScroll"),{ctrlsSvc:o}=e,s=o.getGridBodyCtrl()?.eBodyViewport,r=o.get("fakeHScrollComp")?.getGui(),l=o.get("fakeVScrollComp")?.getGui();return i||R7(n,s,void 0,r,l)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Pg(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Yn(this.gos,"print"),o=this.gos.get("embedFullWidthRows")||n,s=t.filter(r=>{const l=r.isFullWidth();return this.options.fullWidth?!o&&l:o||!l});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},W7="ag-force-vertical-scroll",U7="ag-selectable",j7="ag-column-moving",$7=class extends re{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,o,s,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=o,this.eStickyTop=s,this.eStickyBottom=r,this.eCenterColsViewport=n.querySelector(`.${Ck("center")}`),this.eFullWidthContainer=n.querySelector(`.${wk("fullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Kb(this.comp)),this.scrollFeature=this.createManagedBean(new S7(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,o,s,r]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=JM()?16:0,o=`calc(100% + ${n+i}px)`;zs(this.beans,()=>this.comp.setBodyViewportWidth(o)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t,gos:n}=this;let i=n.get("treeData");if(!i){const o=t.isPivotMode();i=(e?e.columns.length:0)>=(o?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){for(const t of e)this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,o=Ta(i,"ag-root",t);t.classList.toggle("ag-has-focus",!o)},focusout:n=>{const{target:i,relatedTarget:o}=n,s=t.contains(o),r=Ta(o,"ag-root",t);Ta(i,"ag-root",t)||(!s||r)&&t.classList.remove("ag-has-focus")}})}setColumnMovingCss(e){this.comp.setColumnMovingCss(j7,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(U7,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const{gos:e,comp:t,ctrlsSvc:n}=this,i=e.get("alwaysShowVerticalScroll"),o=i?W7:null,s=Yn(e,"normal");t.setAlwaysVerticalScrollClass(o,i);const r=n.get("center")?.eViewport,l=n.get("fakeHScrollComp")?.getGui(),u=n.get("fakeVScrollComp")?.getGui();return i||s&&x7(this.eBodyViewport,r,void 0,u,l)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const o=n&&uc(this.gos)&&!e.stretching,s=o?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,o)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({stylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:i,eBottom:o,beans:{popupSvc:s,touchSvc:r}}=this,l=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:l}),r?.mockBodyContextMenu(this,l),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const u=this.onStickyWheel.bind(this);for(const f of[t,n,i,o])this.addManagedElementListeners(f,{wheel:u});const d=this.onHorizontalWheel.bind(this);for(const f of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(f).eContainer,{wheel:d});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&Dd(this.beans,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),i=e?.getPinnedBottomTotalHeight(),o=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),r=o-s,l=n?r+n:0,u=i?r+i:0;this.comp.setTopHeight(l),this.comp.setBottomHeight(u),this.comp.setTopInvisible(l<=0),this.comp.setBottomInvisible(u<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,r=i+s;n.setStickyBottomBottom(`${r}px`)}},mc={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Sk=class extends ci{constructor(e,t){super(),this.stopPropagationCallbacks=t,this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:n,eTopGuard:i,eBottomGuard:o,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:l,focusInnerElement:u,onFocusIn:d,onFocusOut:f,shouldStopEventPropagation:p,onTabKeyDown:m,handleKeyDown:v,isEmpty:b,eFocusableElement:S}=e;this.comp=n,this.eTopGuard=i,this.eBottomGuard=o,this.providedFocusInnerElement=u,this.eFocusableElement=S,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!l,this.providedFocusIn=d,this.providedFocusOut=f,this.providedShouldStopEventPropagation=p,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=v,this.providedIsEmpty=b}postConstruct(){this.createManagedBean(new nk(this.eFocusableElement,this.stopPropagationCallbacks,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards();for(const e of[this.eTopGuard,this.eBottomGuard])this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():pc(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=kn(this.beans),n=pc(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let o,s;e?(o=0,s=i):(o=i+1,s=n.length);const r=n.slice(o,s),l=this.gos.get("tabIndex");r.sort((u,d)=>{const f=Number.parseInt(u.getAttribute("tabindex")||"0"),p=Number.parseInt(d.getAttribute("tabindex")||"0");return p===l?1:f===l?-1:f===0?1:p===0?-1:f-p}),r[e?r.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=pc(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Xa(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},K7=class extends ci{constructor(e,t){super(),this.comp=e,this.stopPropagationCallbacks=t}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i,stopPropagationCallbacks:o}=this,s=[t,n],r={setTabIndex:x=>{for(const T of s)x==null?T.removeAttribute("tabindex"):T.setAttribute("tabindex",x)}};this.addTabGuards(t,n);const{focusTrapActive:l=!1,onFocusIn:u,onFocusOut:d,focusInnerElement:f,handleKeyDown:p,onTabKeyDown:m,shouldStopEventPropagation:v,isEmpty:b,forceFocusOutWhenTabGuardsAreEmpty:S,isFocusableContainer:R}=e;this.tabGuardCtrl=this.createManagedBean(new Sk({comp:r,focusTrapActive:l,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:u,onFocusOut:d,focusInnerElement:f,handleKeyDown:p,onTabKeyDown:m,shouldStopEventPropagation:v,isEmpty:b,forceFocusOutWhenTabGuardsAreEmpty:S,isFocusableContainer:R},o))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=kn(this.beans).createElement("div"),n=e==="top"?mc.TAB_GUARD_TOP:mc.TAB_GUARD_BOTTOM;return t.classList.add(mc.TAB_GUARD,n),_a(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.prepend(e),n.append(t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];xi(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){xb(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.before(t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Mr(e),Mr(t),super.destroy()}},q7=class extends zc{initialiseTabGuard(e,t){this.tabGuardFeature=this.createManagedBean(new K7(this,t)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},Y7=class extends q7{initialiseTabGuard(t){super.initialiseTabGuard(t,_b)}},X7=class extends re{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getId());const{dragAndDrop:i,ctrlsSvc:o}=this.beans;i?.registerGridDropTarget(()=>this.eGui,this),this.createManagedBean(new Kb(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=Vs(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),o.register("gridCtrl",this)}isDetailGrid(){return tk(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:o,focusSvc:s}=this.beans,r=o.allCols,l=Ht(r);if(s.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){if(this.gos.getCallback("focusGridInnerElement")?.({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:o}=this.beans,s=o.allCols;if(e){if(n.length>1)return this.focusContainer(Ht(n),e);const r=Ht(s);if(i.focusGridView({column:r,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Ma(this.beans)){if(i.focusGridView({column:s[0],backwards:e}))return!0;for(let r=1;r<n.length;r++)if(Ga(n[r].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n}=this.getNextFocusableIndex(t,e),i=t[n];i?this.focusContainer(i):this.forceFocusOutOfContainer(e)}isFocusable(){const e=this.beans;return!Fp(e)||!Ma(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=Yt(this.beans),i=e.findIndex(s=>s.getGui().contains(n)),o=i+(t?-1:1);return{indexWithFocus:i,nextIndex:o}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=Ga(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Ue=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},HD={dispatchEvent:"CommunityCore",...Ue("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Ue("GridState",{getState:0,setState:0}),...Ue("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ue("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ue("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ue("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ue("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ue("ValueCache",{expireValueCache:0}),...Ue("CellApi",{getCellValue:0}),...Ue("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ue("Sort",{onSortChanged:0}),...Ue("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Ue("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ue("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ue("HighlightChanges",{flashCells:0}),...Ue("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Ue("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ue("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ue("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ue("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ue("ColumnResize",{setColumnWidths:0}),...Ue("ColumnHover",{isColumnHovered:0}),...Ue("EditCore",{getCellEditorInstances:0,getEditingCells:0,getEditRowValues:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Ue("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Ue("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ue("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ue("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Ue("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ue("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Ue("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ue("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0}),...Ue("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ue("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0,onRowHeightChanged:0,resetRowHeights:0}),...Ue("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ue("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ue("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ue("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ue("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ue("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ue("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ue("ContextMenu",{showContextMenu:0}),...Ue("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ue("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ue("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ue("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ue("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ue("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0,onRowHeightChanged:0,resetRowHeights:0}),...Ue("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ue("StatusBar",{getStatusPanel:0}),...Ue("AiToolkit",{getStructuredSchema:0})},UC={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Q7=(e,t)=>e.eventSvc.dispatchEvent(t),Rk=class{};Reflect.defineProperty(Rk,"name",{value:"GridApi"});var Z7=class extends re{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new Rk,this.fns={...UC,dispatchEvent:Q7},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(HD))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:i}=this;n!==UC&&(n[e]=i?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)fe(26,{fnName:e,preDestroyLink:i});else{const o=HD[e];n.assertModuleRegistered(o,`api.${e}`)&&fe(27,{fnName:e,module:o})}}destroy(){super.destroy(),this.fns=UC,this.beans=null}};function J7(e){return e.context.getId()}function e9(e){e.gridDestroySvc.destroy()}function t9(e){return e.gridDestroySvc.destroyCalled}function n9(e,t){return e.gos.get(t)}function i9(e,t,n){xk(e,{[t]:n})}function xk(e,t){e.gos.updateGridOptions({options:t})}function o9(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var s9={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},r9=class extends dn{constructor(e,t,n){super(s9),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Si("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:o}=this,s=n.getColDef().dndSourceOnRowDrag,r=e.dataTransfer;if(r.setDragImage(i,0,0),s){const l=Ne(o,{rowNode:t,dragEvent:e});s(l)}else try{const l=JSON.stringify(t.data);r.setData("application/json",l),r.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function a9(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function l9(e,t){const n=e.dragAndDrop?.findExternalZone(t.getContainer());n&&e.dragAndDrop?.removeDropTarget(n)}function c9(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function u9(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function d9(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const i=t?.row;let o=t?.dropIndicatorPosition;o!=="above"&&o!=="below"&&o!=="inside"&&(o="none");const s=i?.rowIndex;s==null||o==="none"?n.clear():n.set(i,o)}var Ek=(e,t)=>{if(t!=null&&e?.setPointerCapture)try{return e.setPointerCapture(t),e.hasPointerCapture(t)}catch{}return!1},h9=(e,t)=>{if(typeof PointerEvent>"u"||!(t instanceof PointerEvent))return null;const n=t.pointerId;if(!Ek(e,n))return null;const i={eElement:e,pointerId:n,onLost(o){g9(i,o)}};return e.addEventListener("lostpointercapture",i.onLost),i},f9=e=>{if(!e)return;Tk(e);const{eElement:t,pointerId:n}=e;if(t){try{t.releasePointerCapture(n)}catch{}e.eElement=null}},Tk=e=>{const{eElement:t,onLost:n}=e;t&&n&&(t.removeEventListener("lostpointercapture",n),e.onLost=null)},g9=(e,t)=>{Tk(e);const{eElement:n,pointerId:i}=e;n&&t.pointerId===i&&Ek(n,i)},Gl,ec,jC={passive:!0},vr={passive:!1},Go=e=>{if(!ec)ec=new WeakSet;else if(ec.has(e))return!1;return ec.add(e),!0},p9=class extends ci{constructor(){super(...arguments),this.beanName="dragSvc",this.dragging=!1,this.drag=null,this.dragSources=[]}get startTarget(){return this.drag?.start.target??null}isPointer(){return!!Gl?.has(Vo(this.beans))}hasPointerCapture(){const e=this.drag?.pointerCapture;return!!(e&&this.beans.eRootDiv.hasPointerCapture?.(e.pointerId))}destroy(){this.drag&&this.cancelDrag();const e=this.dragSources;for(const t of e)GD(t);e.length=0,super.destroy()}removeDragSource(e){const t=this.dragSources;for(let n=0,i=t.length;n<i;++n){const o=t[n];if(o.params===e){t.splice(n,1),GD(o);break}}}addDragSource(e){if(!this.isAlive())return;const{eElement:t,includeTouch:n}=e,i=[];let o;if(n){const d=t.style;d&&(o=d.touchAction,d.touchAction="none")}const s={handlers:i,params:e,oldTouchAction:o};this.dragSources.push(s),Zf(i,[t,"pointerdown",d=>this.onPointerDown(e,d),vr],[t,"mousedown",d=>this.onMouseDown(e,d)]);const u=this.gos.get("suppressTouch");n&&!u&&Zf(i,[t,"touchstart",f=>this.onTouchStart(e,f),vr])}cancelDrag(e){const t=this.drag;e??(e=t?.eElement),e&&this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),t?.params.onDragCancel?.(),this.destroyDrag()}shouldPreventMouseEvent(e){const t=e.type;return(t==="mousemove"||t==="pointermove")&&e.cancelable&&Dd(this.beans,e)&&!td(KC(e))}initDrag(e,...t){this.drag=e;const n=this.beans,i=l=>this.onScroll(l),o=l=>this.onKeyDown(l),s=Vo(n),r=kn(n);Zf(e.handlers,[s,"contextmenu",Tr],[s,"keydown",o],[r,"scroll",i,{capture:!0}],[r.defaultView||window,"scroll",i],...t)}destroyDrag(){this.dragging=!1;const e=this.drag;if(e){const t=e.rootEl;Gl?.get(t)===e&&Gl.delete(t),this.drag=null,f9(e.pointerCapture),Eb(e.handlers)}}onPointerDown(e,t){if(this.isPointer())return;const n=this.beans;if(ec?.has(t))return;const i=t.pointerType;if(i==="touch"&&(n.gos.get("suppressTouch")||!e.includeTouch||(e.stopPropagationForTouch&&t.stopPropagation(),td(KC(t))))||!t.isPrimary||i==="mouse"&&t.button!==0)return;this.destroyDrag();const o=Vo(n),s=e.eElement,r=t.pointerId,l=new $C(o,e,t,r);Gl??(Gl=new WeakMap),Gl.set(o,l);const u=m=>{m.pointerId===r&&this.onMouseOrPointerMove(m)},d=m=>{m.pointerId===r&&this.onMouseOrPointerUp(m)},f=m=>{m.pointerId===r&&Go(m)&&this.cancelDrag()},p=m=>this.draggingPreventDefault(m);this.initDrag(l,[o,"pointerup",d],[o,"pointercancel",f],[o,"pointermove",u,vr],[o,"touchmove",p,vr],[s,"mousemove",p,vr]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Go(t)}onTouchStart(e,t){if(this.gos.get("suppressTouch")||!e.includeTouch||!Go(t)||td(KC(t)))return;if(e.stopPropagationForTouch&&t.stopPropagation(),this.isPointer()){this.dragging&&Tr(t);return}this.destroyDrag();const i=this.beans,o=Vo(i),s=new $C(o,e,t.touches[0]),r=m=>this.onTouchMove(m),l=m=>this.onTouchUp(m),u=m=>this.onTouchCancel(m),d=m=>this.draggingPreventDefault(m),f=Vo(i),p=t.target??e.eElement;this.initDrag(s,[p,"touchmove",r,jC],[p,"touchend",l,jC],[p,"touchcancel",u,jC],[f,"touchmove",d,vr],[f,"touchend",l,vr],[f,"touchcancel",u,vr]),e.dragStartPixels===0&&this.onMove(s.start)}draggingPreventDefault(e){this.dragging&&Tr(e)}onMouseDown(e,t){if(t.button!==0||ec?.has(t)||this.isPointer())return;const n=this.beans;this.destroyDrag();const i=new $C(Vo(n),e,t),o=l=>this.onMouseOrPointerMove(l),s=l=>this.onMouseOrPointerUp(l),r=Vo(n);this.initDrag(i,[r,"mousemove",o],[r,"mouseup",s]),e.dragStartPixels===0?this.onMouseOrPointerMove(t):Go(t)}onScroll(e){if(!Go(e))return;const t=this.drag,n=t?.lastDrag;n&&this.dragging&&t.params?.onDragging?.(n)}onMouseOrPointerMove(e){Go(e)&&(Vr()&&kn(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&Tr(e),this.onMove(e))}onTouchCancel(e){const t=this.drag;!t||!Go(e)||ac(t.start,e.changedTouches)&&this.cancelDrag()}onTouchMove(e){const t=this.drag;if(!t||!Go(e))return;const n=ac(t.start,e.touches);n&&(this.onMove(n),this.draggingPreventDefault(e))}onMove(e){const t=this.drag;if(!t)return;t.lastDrag=e;const n=t.params;if(!this.dragging){const i=t.start,s=n.dragStartPixels??4;if(oM(e,i,s)||(this.dragging=!0,n.capturePointer&&(t.pointerCapture=h9(this.beans.eRootDiv,e)),this.eventSvc.dispatchEvent({type:"dragStarted",target:n.eElement}),n.onDragStart?.(i),this.drag!==t)||(n.onDragging?.(i),this.drag!==t))return}n.onDragging?.(e)}onTouchUp(e){const t=this.drag;t&&Go(e)&&this.onUp(ac(t.start,e.changedTouches))}onMouseOrPointerUp(e){Go(e)&&this.onUp(e)}onUp(e){const t=this.drag;t&&(e||(e=t.lastDrag),e&&this.dragging&&(this.dragging=!1,t.params.onDragStop?.(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t.params.eElement})),this.destroyDrag())}onKeyDown(e){e.key===Z.ESCAPE&&this.cancelDrag()}},GD=e=>{Eb(e.handlers);const t=e.oldTouchAction;if(t!=null){const n=e.params.eElement.style;n&&(n.touchAction=t)}},$C=class{constructor(e,t,n,i=null){this.rootEl=e,this.params=t,this.start=n,this.pointerId=i,this.handlers=[],this.lastDrag=null,this.pointerCapture=null,this.eElement=t.eElement}},KC=e=>{const t=e.target;return t instanceof Element?t:null},m9=class extends p9{shouldPreventMouseEvent(e){return this.gos.get("enableCellTextSelection")&&super.shouldPreventMouseEvent(e)}},v9=class extends re{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},C9={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},Nf={skipAriaHidden:!0},w9=class extends dn{constructor(e,t,n,i,o,s=!1){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=o,this.alwaysVisible=s,this.dragSource=null,this.disabled=!1}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,customGui:t}=this;t?this.setDragElement(t,this.dragStartPixels):(this.setTemplate(C9),this.getGui().appendChild(Si("rowDrag",e,null)),this.addDragSource()),this.alwaysVisible||this.initCellDrag()}initCellDrag(){const{beans:e,rowNode:t}=this,n=this.refreshVisibility.bind(this);this.addManagedListeners(e.eventSvc,{rowDragVisibilityChanged:n}),this.addManagedListeners(t,{dataChanged:n,cellChanged:n}),this.refreshVisibility()}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}refreshVisibility(){if(this.alwaysVisible)return;const{beans:e,column:t,rowNode:n}=this,{gos:i,dragAndDrop:o,rowDragSvc:s}=e,r=s?.visibility;let u=!(r==="suppress"||r==="hidden"&&!o?.hasExternalDropZones()),d=u;if(u&&!this.isCustomGui()&&t){const f=t.getColDef().rowDrag;if(f===!1)u=!1;else{const p=typeof f=="function";d=t.isRowDrag(n),u=p||d}}u&&d&&n.footer&&i.get("rowDragManaged")&&(d=!1,u=!0),d&&(d=u),u||this.setDisplayed(u,Nf),d||this.setVisible(d,Nf),this.setDisabled(!d||r==="disabled"&&!o?.hasExternalDropZones()),u&&this.setDisplayed(u,Nf),d&&this.setVisible(d,Nf)}setDisabled(e){e!==this.disabled&&(this.disabled=e,this.getGui()?.classList?.toggle("ag-drag-handle-disabled",e))}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();if(this.gos.get("enableCellTextSelection")){this.removeMouseDownListener();const i=Mg("pointerdown")?{pointerdown:Tr}:{mousedown:Tr};this.mouseDownListener=this.addManagedElementListeners(t,i)[0]}const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:i=>this.getDragItemName(i,n),getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}getDragItemName(e,t){const n=e?.dragItem||this.getDragItem(),i=(e?.dropTarget?.rows.length??n.rowNodes?.length)||1,o=this.column?.getColDef()?.rowDragText??this.gos.get("rowDragText");if(o)return o(n,i);if(i!==1)return`${i} ${t("rowDragRows","rows")}`;const s=this.cellValueFn();return s||`1 ${t("rowDragRow","rows")}`}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},y9=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.includes("x"),this.scrollVertically=e.scrollAxis.includes("y"),this.scrollByTick=e.scrollByTick??20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}get scrolling(){return this.tickingInterval!==null}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<i.left+o,this.tickRight=e.clientX>i.right-o,this.tickUp=e.clientY<i.top+o&&!n,this.tickDown=e.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},ag=class{constructor(){this.reordered=!1,this.removals=[],this.updates=new Set,this.adds=new Set}},$g=e=>{let t=e.childrenAfterGroup;for(;t?.length;){const n=t[0];if(n.sourceRowIndex>=0)return n;t=n.childrenAfterGroup}},b9=(e,t,n,i)=>{if(!t.size||!e)return!1;let o=!1;const s=e.length??0;let r=-1;n&&(r=n.sourceRowIndex,n=r<0?$g(n):null,n&&(r=n.sourceRowIndex)),r<0||r>=s?r=s:i||++r;let l=r,u=Math.min(r,s-1);for(const p of t){const m=p.sourceRowIndex;m<l&&(l=m),m>u&&(u=m)}let d=l;for(let p=l;p<r;++p){const m=e[p];t.has(m)||(m.sourceRowIndex!==d&&(m.sourceRowIndex=d,e[d]=m,o=!0),++d)}let f=u;for(let p=u;p>=r;--p){const m=e[p];t.has(m)||(m.sourceRowIndex!==f&&(m.sourceRowIndex=f,e[f]=m,o=!0),--f)}for(const p of t)p.sourceRowIndex!==d&&(p.sourceRowIndex=d,e[d]=p,o=!0),++d;return o};function S9(e,t){return qb(e,t.target)?.getFocusedCellPosition()??null}function BD(e,t){const n=Yn(e.gos,"normal"),i=t;let o,s;i.clientX!=null||i.clientY!=null?(o=i.clientX,s=i.clientY):(o=i.x,s=i.y);const{pageFirstPixel:r}=e.pageBounds.getCurrentPagePixelRange();if(s+=r,n){const l=e.ctrlsSvc.getScrollFeature(),u=l.getVScrollPosition(),d=l.getHScrollPosition();o+=d.left,s+=u.top}return{x:o,y:s}}var Md=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let o=0;o<i.length;++o)this.depthFirstSearchChangedPath(i[o],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let o=0,s=i.length;o<s;++o){const r=i[o];r.childrenAfterGroup?this.depthFirstSearchEverything(r,t,n):n&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;){this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={});for(const i of t)this.nodeIdsToColumns[n.id][i.getId()]=!0;n=n.parent}}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>n[o.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>!n[o.getId()])}},R9=.25,x9=class extends re{constructor(e){super(),this.eContainer=e,this.lastDraggingEvent=null,this.autoScroll=null,this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,t=>{const n=()=>t.gridBodyCtrl.scrollFeature.getVScrollPosition().top,i=new y9({scrollContainer:t.gridBodyCtrl.eBodyViewport,scrollAxis:"y",getVerticalPosition:n,setVerticalPosition:o=>t.gridBodyCtrl.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{const o=n();if(this.autoScrollOldV!==o){this.autoScrollOldV=o,this.autoScrollChanging=!0;return}const s=this.autoScrollChanging;this.autoScrollChanged=s,this.autoScrollChanging=!1,s&&(e.dragAndDrop?.nudge(),this.autoScrollChanged=!1)}});this.autoScroll=i,this.clearAutoScroll()})}destroy(){super.destroy(),this.clearAutoScroll(),this.autoScroll=null,this.lastDraggingEvent=null,this.eContainer=null}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(e){return e?.dropTarget?.allowed===!1||this.beans.rowDragSvc.visibility!=="visible"?"notAllowed":"move"}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=this.beans.selectionSvc?.getSelectedNodes();if(n&&n.indexOf(t)>=0)return n.slice().sort(E9)}return[t]}onDragEnter(e){this.dragging(e,!0)}onDragging(e){this.dragging(e,!1)}dragging(e,t){const{lastDraggingEvent:n,beans:i}=this;if(t){const l=this.getRowNodes(e);e.dragItem.rowNodes=l,zD(l,!0)}this.lastDraggingEvent=e;const o=e.fromNudge,s=this.makeRowsDrop(n,e,o,!1);i.rowDropHighlightSvc?.fromDrag(e),t&&this.dispatchGridEvent("rowDragEnter",e),this.dispatchGridEvent("rowDragMove",e);const r=this.autoScroll;s?.rowDragManaged&&s.moved&&s.allowed&&s.sameGrid&&!s.suppressMoveWhenRowDragging&&(!o&&!r?.scrolling||this.autoScrollChanged)&&this.dropRows(s),r?.check(e.event)}isFromThisGrid(e){return e.dragSource.dragSourceDomDataKey===this.gos.getDomDataKey()}makeRowsDrop(e,t,n,i){const{beans:o,gos:s}=this,r=this.newRowsDrop(t,i),l=o.rowModel;if(t.dropTarget=r,t.changed=!1,!r)return null;let{sameGrid:u,rootNode:d,source:f,target:p}=r;p??(p=l.getRow(l.getRowCount()-1)??null);const m=this.beans.groupEditSvc,v=!!m?.canSetParent(r);let b=null;if(p?.footer){const R=ty(l,-1,p)??ty(l,1,p);v&&(b=p.sibling??d),p=R??null}p?.detail&&(p=p.parent),r.moved&&(r.moved=f!==p);let S=.5;if(p&&(u&&r.moved&&(b||!v)?S=f.rowIndex>p.rowIndex?-.5:.5:S=(r.y-p.rowTop-p.rowHeight/2)/p.rowHeight||0),!v&&u&&p&&r.moved&&Cn(s)){const R=T9(l,r);R&&(S=f.rowIndex>R.rowIndex?-.5:.5,p=R,r.moved&&(r.moved=f!==p))}return r.target=p,r.newParent=b,r.pointerPos=D9(p,r.y),r.yDelta=S,m?.fixRowsDrop(r,v,n,S),this.validateRowsDrop(r,v,i),t.changed||(t.changed=VD(e?.dropTarget,r)),r}newRowsDrop(e,t){const{beans:n,gos:i}=this,o=n.rowModel.rootNode,s=Cn(i)?i.get("rowDragManaged"):!1,r=i.get("suppressMoveWhenRowDragging"),l=this.isFromThisGrid(e);let{rowNode:u,rowNodes:d}=e.dragItem;if(d||(d=u?[u]:[]),u||(u=d[0]),!u||!o)return null;const f=this.beans.dragAndDrop.isDropZoneWithinThisGrid(e);let p=!0;s&&(!d.length||n.rowDragSvc.visibility!=="visible"||(r||!l)&&!f)&&(p=!1);const m=BD(n,e).y,v=this.getOverNode(m);return{api:n.gridApi,context:n.gridOptions.context,draggingEvent:e,rowDragManaged:s,suppressMoveWhenRowDragging:r,sameGrid:l,withinGrid:f,treeData:!1,rootNode:o,moved:u!==v,y:m,overNode:v,overIndex:v?.rowIndex??-1,pointerPos:"none",position:"none",source:u,target:v??null,newParent:null,rows:d,allowed:p,highlight:!t&&s&&r&&(f||!l),yDelta:0,inside:!1,droppedManaged:!1}}validateRowsDrop(e,t,n){const{source:i,target:o,yDelta:s,inside:r,moved:l,rowDragManaged:u,suppressMoveWhenRowDragging:d}=e;e.moved&&(e.moved=i!==o);const{position:f,fallbackPosition:p}=this.computeDropPosition(l,r,s);e.position=f,t||(e.newParent=null),this.enforceSuppressMoveWhenRowDragging(e,d,"initial");const m=(!u||e.allowed)&&this.gos.get("isRowValidDropPosition");m&&this.applyDropValidator(e,t,n,u,m),u&&(e.rows=this.filterRows(e)),this.beans.groupEditSvc?.clearNewSameParent(e,t),this.enforceSuppressMoveWhenRowDragging(e,d,"final"),e.position==="inside"&&(!e.allowed||!e.newParent)&&(e.position=p)}computeDropPosition(e,t,n){const i=n<0?"above":"below";return e?{position:t?"inside":i,fallbackPosition:i}:{position:"none",fallbackPosition:i}}enforceSuppressMoveWhenRowDragging(e,t,n){if(t){if(n==="initial"){e.moved||(e.allowed=!1);return}(!e.rows.length||e.position==="none")&&(e.allowed=!1)}}applyDropValidator(e,t,n,i,o){this.beans.groupEditSvc?.clearNewSameParent(e,t);const s=o(e);if(!s){e.allowed=!1;return}if(typeof s!="object")return;s.rows!==void 0&&(e.rows=s.rows??[]),t&&s.newParent!==void 0&&(e.newParent=s.newParent),s.target!==void 0&&(e.target=s.target),s.position&&(e.position=s.position),s.allowed!==void 0?e.allowed=s.allowed:i||(e.allowed=!0);const r=e.draggingEvent;s.changed&&r&&(r.changed=!0),!n&&s.highlight!==void 0&&(e.highlight=s.highlight)}addRowDropZone(e){if(!e.getContainer()){fe(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e.getContainer())){fe(56);return}const n=e.fromGrid?e:{getContainer:e.getContainer,onDragEnter:e.onDragEnter&&(o=>e.onDragEnter(this.rowDragEvent("rowDragEnter",o))),onDragLeave:e.onDragLeave&&(o=>e.onDragLeave(this.rowDragEvent("rowDragLeave",o))),onDragging:e.onDragging&&(o=>e.onDragging(this.rowDragEvent("rowDragMove",o))),onDragStop:e.onDragStop&&(o=>e.onDragStop(this.rowDragEvent("rowDragEnd",o))),onDragCancel:e.onDragCancel&&(o=>e.onDragCancel(this.rowDragEvent("rowDragCancel",o)))},i={isInterestedIn:o=>o===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){return{getContainer:this.getContainer.bind(this),onDragEnter:n=>{this.onDragEnter(n),e?.onDragEnter?.(this.rowDragEvent("rowDragEnter",n))},onDragLeave:n=>{this.onDragLeave(n),e?.onDragLeave?.(this.rowDragEvent("rowDragLeave",n))},onDragging:n=>{this.onDragging(n),e?.onDragging?.(this.rowDragEvent("rowDragMove",n))},onDragStop:n=>{this.onDragStop(n),e?.onDragStop?.(this.rowDragEvent("rowDragEnd",n))},onDragCancel:n=>{this.onDragCancel(n),e?.onDragCancel?.(this.rowDragEvent("rowDragCancel",n))},fromGrid:!0}}getOverNode(e){const{pageBounds:t,rowModel:n}=this.beans,o=e>t.getCurrentPagePixelRange().pageLastPixel?-1:n.getRowIndexAtPixel(e);return o>=0?n.getRow(o):void 0}rowDragEvent(e,t){const n=this.beans,{dragItem:i,dropTarget:o,event:s,vDirection:r}=t,l=o?.rootNode===n.rowModel.rootNode,u=l?o.y:BD(n,t).y,d=l?o.overNode:this.getOverNode(u),f=l?o.overIndex:d?.rowIndex??-1;return{api:n.gridApi,context:n.gridOptions.context,type:e,event:s,node:i.rowNode,nodes:i.rowNodes,overIndex:f,overNode:d,y:u,vDirection:r,rowsDrop:o}}dispatchGridEvent(e,t){const n=this.rowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e,!1)}onDragStop(e){const t=this.lastDraggingEvent?.dropTarget??null,n=this.makeRowsDrop(this.lastDraggingEvent,e,!1,!0);this.dispatchGridEvent("rowDragEnd",e),n?.allowed&&n.rowDragManaged&&(!t?.droppedManaged||VD(t,n))&&this.dropRows(n),this.stopDragging(e,!0)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e,!0)}stopDragging(e,t){this.clearAutoScroll(),this.beans.groupEditSvc?.stopDragging(t),this.beans.rowDropHighlightSvc?.fromDrag(null),zD(e.dragItem.rowNodes,!1),this.lastDraggingEvent=null}clearAutoScroll(){this.autoScroll?.ensureCleared(),this.autoScrollChanged=!1,this.autoScrollChanging=!1,this.autoScrollOldV=null}dropRows(e){return e.droppedManaged=!0,e.sameGrid?this.csrmMoveRows(e):this.csrmAddRows(e)}csrmAddRows({position:e,target:t,rows:n}){const i=Ec(this.gos),o=this.beans.rowModel,s=n.filter(({data:l,rowPinned:u})=>!o.getRowNode(i?.({data:l,level:0,rowPinned:u})??l.id)).map(({data:l})=>l);if(s.length===0)return!1;let r;if(t){const l=t.sourceRowIndex>=0?t:$g(t);l&&(r=l.sourceRowIndex+(e==="above"?0:1))}return o.updateRowData({add:s,addIndex:r}),!0}filterRows(e){const{groupEditSvc:t}=this.beans,{rows:n,sameGrid:i}=e;let o;for(let s=0,r=n.length;s<r;++s){let l=!0;const u=n[s];(!u||u.footer||i&&u.destroyed&&!u.group||!this.csrmGetLeaf(u))&&(l=!1),l&&t&&!t.canDropRow(u,e)&&(l=!1),l?o?.push(u):o??(o=n.slice(0,s))}return o??n}csrmMoveRows(e){const t=this.beans.groupEditSvc;return t?.isGroupingDrop(e)?t.dropGroupEdit(e):this.csrmMoveRowsReorder(e)}csrmMoveRowsReorder({position:e,target:t,rows:n,newParent:i,rootNode:o}){let s=!1;const r=new Set;for(const m of n){i&&m.parent!==i&&(m.treeParent=i,s=!0);const v=this.csrmGetLeaf(m);v&&r.add(v)}if(!s&&r.size===0)return!1;const l=this.beans.focusSvc,u=l.getFocusedCell(),d=u&&Jl(this.beans,u);if(r.size&&b9(o._leafs,r,t,e==="above")&&(s=!0),!s)return!1;const f=this.beans.rowModel,p=new ag;return p.reordered=!0,f.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Md(!1,o),changedRowNodes:p}),d?d.focusCell():l.clearFocusedCell(),!0}csrmGetLeaf(e){if(e.sourceRowIndex>=0)return e.destroyed?void 0:e;const t=this.beans.groupEditSvc;return t?t.csrmFirstLeaf(e):$g(e)}},VD=(e,t)=>e!==t&&(!e||e.sameGrid!==t.sameGrid||e.allowed!==t.allowed||e.position!==t.position||e.target!==t.target||e.source!==t.source||e.newParent!==t.newParent||!Gr(e.rows,t.rows)),E9=({rowIndex:e},{rowIndex:t})=>e!==null&&t!==null?e-t:0,zD=(e,t)=>{for(let n=0,i=e?.length||0;n<i;++n){const o=e[n];o.dragging!==t&&(o.dragging=t,o.dispatchRowEvent("draggingChanged"))}},T9=(e,t)=>{let n=null,i=t.target;if(i&&t.rows.indexOf(i)<0)return null;const o=t.source;if(!i||!o)return null;let s=i.rowIndex-o.rowIndex;const r=s<0?-1:1;s=t.suppressMoveWhenRowDragging?Math.abs(s):1;const l=new Set(t.rows);do{const u=ty(e,r,i);if(!u)break;l.has(u)||(n=u,--s),i=u}while(s>0);return n},D9=(e,t)=>{const n=e?.rowTop,i=e?.rowHeight??0;if(n==null||!i||i<=0)return"none";const o=t-n,s=i*R9;return o<=s?"above":o>=i-s?"below":"inside"},F9=class extends re{constructor(){super(...arguments),this.beanName="rowDragSvc",this.rowDragFeature=null,this.visibility="suppress"}setupRowDrag(e,t){const n=t.createManagedBean(new x9(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n;const o=()=>this.refreshVisibility();this.addManagedPropertyListeners(["rowDragManaged","suppressRowDrag","refreshAfterGroupEdit"],o),this.addManagedEventListeners({newColumnsLoaded:o,columnRowGroupChanged:o,columnPivotModeChanged:o,sortChanged:o,filterChanged:o}),this.visibility=this.computeVisibility()}createRowDragComp(e,t,n,i,o,s){return new w9(e,t,n,i,o,s)}createRowDragCompForRow(e,t){if(Ir(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,o,s){const r=this.gos;return r.get("rowDragManaged")&&(!Cn(r)||r.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,o,s)}cancelRowDrag(){this.rowDragFeature?.lastDraggingEvent&&this.beans.dragSvc?.cancelDrag()}computeVisibility(){const e=this.beans,t=e.gos;if(t.get("suppressRowDrag"))return"suppress";if(!t.get("rowDragManaged"))return"visible";const i=e.colModel.isPivotMode();return(i||e.rowGroupColsSvc?.columns?.length)&&!t.get("refreshAfterGroupEdit")?"hidden":i||e.filterManager?.isAnyFilterPresent()||e.sortSvc?.isSortActive()?"disabled":"visible"}refreshVisibility(){const e=this.visibility,t=this.computeVisibility();e!==t&&(this.visibility=t,this.eventSvc?.dispatchEvent({type:"rowDragVisibilityChanged"}))}},P9=class extends re{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.dragging=!1,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row,t=this.dragging;!e||e?.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position),this.dragging=t}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;this.dragging=!1,e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,i=e.uiLevel,o=t!==this.position,s=i!==this.uiLevel;this.dragging=!1,(n||o||s)&&(n&&this.clear(),this.uiLevel=i,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}fromDrag(e){const t=e?.dropTarget;if(t){const{highlight:n,target:i,position:o}=t;if(n&&i&&o!=="none"){this.set(i,o),this.dragging=!0;return}}this.dragging&&this.clear()}},Dk={moduleName:"Drag",version:Ce,beans:[m9]},A9={moduleName:"DragAndDrop",version:Ce,dynamicBeans:{dndSourceComp:r9},icons:{rowDrag:"grip"}},Fk={moduleName:"SharedDragAndDrop",version:Ce,beans:[Yj],dependsOn:[Dk],userComponents:{agDragAndDropImage:vj},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},M9={moduleName:"RowDrag",version:Ce,beans:[P9,F9],apiFunctions:{addRowDropZone:a9,removeRowDropZone:l9,getRowDropZoneParams:c9,getRowDropPositionIndicator:u9,setRowDropPositionIndicator:d9},dependsOn:[Fk]},k9={moduleName:"HorizontalResize",version:Ce,beans:[v9],dependsOn:[Dk]},I9=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",O9=class extends re{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const o=s=>{for(;s.length;){const r=s.pop();r&&r()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),o(n)},0),window.setTimeout(()=>{t(),o(i)},200)})}};function _9(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function L9(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var N9=class extends re{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;if(t)for(const n of t)n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&i?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function H9(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,o)=>{const s=e.indexOf(i),r=e.indexOf(o);return s-r})}function G9(e){const t=[...e];for(const n of e){let i=null,o=n.getParent();for(;o!=null&&o.getDisplayedLeafColumns().length===1;)i=o,o=o.getParent();if(i!=null){const r=!!i.getColGroupDef()?.marryChildren?i.getProvidedColumnGroup().getLeafColumns():i.getLeafColumns();for(const l of r)t.includes(l)||t.push(l)}}return t}function B9(e,t,n,i){const o=i.allCols;let s=null,r=null;for(let l=0;l<e.length;l++){const u=e[l],d=n.getProposedColumnOrder(t,u);if(!n.doesOrderPassRules(d))continue;const f=d.filter(m=>o.includes(m));if(r===null)r=f;else if(!Gr(f,r))break;const p=z9(d);(s===null||p<s.fragCount)&&(s={move:u,fragCount:p})}return s}function Pk(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:o,fakeEvent:s,pinned:r,gos:l,colModel:u,colMoves:d,visibleCols:f}=e;let{allMovingColumns:p}=e;t&&(p=G9(p));const m=p.slice();H9(u.getCols(),m);const v=U9({movingCols:m,draggingRight:n,xPosition:i,pinned:r,gos:l,colModel:u,visibleCols:f}),b=V9(m,u);if(v.length===0)return;const S=v[0];if(b!==null&&(t||!o)&&!s&&(!n&&S>=b||n&&S<=b))return;const x=B9(v,m,d,f);if(!x)return;const T=x.move;if(!(T>u.getCols().length-m.length))return{columns:m,toIndex:T}}function Ak(e){const{columns:t,toIndex:n}=Pk(e)||{},{finished:i,colMoves:o}=e;return!t||n==null?null:(o.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function V9(e,t){const n=t.getCols(),i=e.map(u=>n.indexOf(u)).sort((u,d)=>u-d),o=i[0];return Ht(i)-o!==i.length-1?null:o}function z9(e){function t(i){const o=[];let s=i.getOriginalParent();for(;s!=null;)o.push(s),s=s.getOriginalParent();return o}let n=0;for(let i=0;i<e.length-1;i++){let o=t(e[i]),s=t(e[i+1]);[o,s]=o.length>s.length?[o,s]:[s,o];for(const r of o)s.indexOf(r)===-1&&n++}return n}function W9(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function U9(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:o,gos:s,colModel:r,visibleCols:l}=e;if(s.get("suppressMovableColumns")||t.some(F=>F.getColDef().suppressMovable))return[];const d=W9(l,o),f=r.getCols(),p=d.filter(F=>t.includes(F)),m=d.filter(F=>!t.includes(F)),v=f.filter(F=>!t.includes(F));let b=0,S=i;if(n){let F=0;for(const A of p)F+=A.getActualWidth();S-=F}if(S>0){for(let F=0;F<m.length;F++){const A=m[F];if(S-=A.getActualWidth(),S<0)break;b++}n&&b++}let R;if(b>0){const F=m[b-1];R=v.indexOf(F)+1}else R=v.indexOf(m[0]),R===-1&&(R=0);const x=[R],T=(F,A)=>F-A;if(n){let F=R+1;const A=f.length-1;for(;F<=A;)x.push(F),F++;x.sort(T)}else{let F=R;const A=f.length-1;let M=f[F];for(;F<=A&&d.indexOf(M)<0;)F++,x.push(F),M=f[F];F=R-1;const I=0;for(;F>=I;)x.push(F),F--;x.sort(T).reverse()}return x}function sy(e){const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:o,useHeaderRow:s,skipScrollPadding:r}=e;let l=o.getHeaderRowContainerCtrl(t)?.eViewport,{x:u}=e;return l?(n&&(u-=l.getBoundingClientRect().left),i.get("enableRtl")&&(s&&(l=l.querySelector(".ag-header-row")),u=l.clientWidth-u),t==null&&!r&&(u+=o.get("center").getCenterViewportScrollLeft()),u):0}function qC(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var WD=7,ry=100,Hf=ry/2,j9=5,$9=100,K9=class extends re{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ye(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},i=n?.columns??[];for(const o of i){const s=o.getPinned();if(o.getColDef().lockPinned){if(s==e)return"move";continue}const r=n?.containerType;if(r===e||!e)return"move";if(e&&(!s||r!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const o=t.visibleState,s=(n||[]).filter(r=>o[r.getId()]&&!r.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:o,ctrlsSvc:s}=this.beans,r=o.get("suppressMoveWhenColumnDragging");if(i&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&tn(e.hDirection))return;const l=sy({x:e.x,pinned:this.pinned,gos:o,ctrlsSvc:s});t||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(e,t,n,l,i):this.handleColumnDragWhileAllowingMovement(e,t,n,l,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const i=e.filter(o=>!o.getColDef().lockVisible);i.length&&this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,i,o){const s=this.getAllMovingColumns(e,!0);if(o){const r=this.isAttemptingToPin(s);r&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:l,xPosition:u}=this.getNormalisedXPositionInfo(s,r)||{};if(l==null||u==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:u,fromEnter:t,fakeEvent:n,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,o){const s=this.getAllMovingColumns(e),r=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,u=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:l,xPosition:i,fromLeft:r,fromEnter:t,fakeEvent:n}),d=Ak({...u,finished:o});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const o=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return i?i.filter(o):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:o,fromEnter:s,fakeEvent:r}=e,{gos:l,colModel:u,colMoves:d,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:o,xPosition:i,pinned:this.pinned,fromEnter:s,fakeEvent:r,gos:l,colModel:u,colMoves:d,visibleCols:f}}highlightHoveredColumn(e,t){const{gos:n,colModel:i}=this.beans,o=n.get("enableRtl"),s=i.getCols().filter(f=>f.isVisible()&&f.getPinned()===this.pinned);let r=null,l=null,u=null;for(const f of s){if(l=f.getActualWidth(),r=this.getNormalisedColumnLeft(f,0,o),r!=null){const p=r+l;if(r<=t&&p>=t){u=f;break}}r=null,l=null}if(u)e.indexOf(u)!==-1&&(u=null);else{for(let f=s.length-1;f>=0;f--){const p=s[f],m=s[f].getParent();if(!m){u=p;break}const v=m?.getDisplayedLeafColumns();if(v.length){u=Ht(v);break}}if(!u)return;r=this.getNormalisedColumnLeft(u,0,o),l=u.getActualWidth()}if(u==null||r==null||l==null){this.lastHighlightedColumn?.column!==u&&this.clearHighlighted();return}let d;if(t-r<l/2){const f=s.indexOf(u);f===0?d=0:(d=1,u=s[f-1])}else d=1;(this.lastHighlightedColumn?.column!==u||this.lastHighlightedColumn?.position!==d)&&this.clearHighlighted(),UD(u,d),this.lastHighlightedColumn={column:u,position:d}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,o=n.get("enableRtl"),{firstMovingCol:s,column:r,position:l}=this.getColumnMoveAndTargetInfo(e,t,o);if(!s||!r||l==null)return;const u=i.allCols,d=u.indexOf(s),f=u.indexOf(r),p=l===0,m=d<f||d===f&&!p;let v=0;if(p?m&&(v-=1):m||(v+=1),f+v===d)return;const b=u[f+v];if(!b)return;const S=this.getNormalisedColumnLeft(b,20,o);return{fromLeft:m,xPosition:S}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:o,lastMovingCol:s}=q9(e);if(!o||!s||i.column||!t)return{firstMovingCol:o,...i};const l=this.getPinDirection()==="left";return{firstMovingCol:o,position:l?1:0,column:l!==n?o:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:o}=this.beans,s=e.getLeft();if(s==null)return null;const r=e.getActualWidth();return sy({x:n?s+r-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:o})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>WD;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:o,fromLeft:s}=e,r=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:i,fakeEvent:o}),{columns:l,toIndex:u}=Pk(r)||{};l&&u!=null&&(this.lastMovedInfo={columns:l,toIndex:u}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(UD(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let o,s;this.gos.get("enableRtl")?(o=e<n+Hf,s=e>i-Hf):(s=e<n+Hf,o=e>i-Hf),this.needToMoveRight=o,this.needToMoveLeft=s,s||o?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),$9),this.beans.dragAndDrop.setDragImageCompIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.setDragImageCompIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*j9,e>ry&&(e=ry);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:i,dragAndDrop:o,gos:s}=this.beans;if(this.failedMoveAttempts<=WD+1||!i)return;if(o.setDragImageCompIcon("pinned"),!s.get("suppressMoveWhenColumnDragging")){const r=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(r,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(r=>!r.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:o,dragAndDrop:s}=this.beans;return o?.setColsPinned(i,t,"uiColumnDragged"),n&&s.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function UD(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function q9(e){const t=e.length;let n,i;for(let o=0;o<t;o++){if(!n){const s=e[o];s.getLeft()!=null&&(n=s)}if(!i){const s=e[t-1-o];s.getLeft()!=null&&(i=s)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var Y9=class extends re{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let o;const s=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":o=[[s,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":o=[[s,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:o=[[s,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=o}),this.moveColumnFeature=this.createManagedBean(new K9(n)),this.bodyDropPivotTarget=this.createManagedBean(new N9(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},X9=class extends re{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const o=i[e];this.moveColumns([o],t,n)}moveColumns(e,t,n,i=!0){const{colModel:o,colAnimation:s,visibleCols:r,eventSvc:l}=this.beans,u=o.getCols();if(!u)return;if(t>u.length-e.length){fe(30,{toIndex:t});return}s?.start();const d=o.getColsForKeys(e);this.doesMovePassRules(d,t)&&(uD(o.getCols(),d,t),r.refresh(n),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:i,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!NM(e,t.getColTree())||!(o=>{const s=d=>d?d==="left"||d===!0?-1:1:0,r=n.get("enableRtl");let l=r?1:-1,u=!0;for(const d of o){const f=s(d.getColDef().lockPosition);r?f>l&&(u=!1):f<l&&(u=!1),l=f}return u})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return uD(i,e,t),i}createBodyDropTarget(e,t){return new Y9(e,t)}moveHeader(e,t,n,i,o){const{ctrlsSvc:s,gos:r,colModel:l,visibleCols:u,focusSvc:d}=this.beans,f=t.getBoundingClientRect(),p=f.left,m=vn(n),v=m?f.width:n.getActualWidth(),b=e==="left"!==r.get("enableRtl"),S=sy({x:b?p-20:p+v+20,pinned:i,fromKeyboard:!0,gos:r,ctrlsSvc:s}),R=d.focusedHeader;Ak({allMovingColumns:m?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:S,pinned:i,fromEnter:!1,fakeEvent:!1,gos:r,colModel:l,colMoves:this,visibleCols:u,finished:!0});let x;if(m){const T=n.getDisplayedLeafColumns();x=b?T[0]:Ht(T)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!o.isAlive()||r.get("ensureDomOrder"))&&R){let T;if(m){const F=n.getGroupId(),A=n.getLeafColumns();if(!A.length)return;const M=A[0].getParent();if(!M)return;T=Q9(M,F)}else T=n;T&&d.focusHeaderPosition({headerPosition:{...R,column:T}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:o,dragAndDrop:s,visibleCols:r}=this.beans;let l=!i.get("suppressDragLeaveHidesColumns");const u=vn(t),d=u?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:u?()=>J9(t,r.allCols):()=>Z9(t),dragItemName:n,onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),qC(d,!0)},onDragStopped:()=>qC(d,!1),onDragCancelled:()=>qC(d,!1),onGridEnter:m=>{if(l){const{columns:v=[],visibleState:b}=m??{},S=u?x=>!b||b[x.getColId()]:()=>!0,R=v.filter(x=>!x.getColDef().lockVisible&&S(x));o.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{if(l){const v=m?.columns?.filter(b=>!b.getColDef().lockVisible)||[];o.setColsVisible(v,!1,"uiColumnMoved")}}};return s.addDragSource(p,!0),p}};function Q9(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function Z9(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function J9(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};for(const l of n)i[l.getId()]=l.isVisible();const o=[];for(const l of t)n.indexOf(l)>=0&&(o.push(l),ts(n,l));for(const l of n)o.push(l);const s=[],r=e.getLeafColumns();for(const l of o)r.indexOf(l)!==-1&&s.push(l);return{columns:o,columnsInSplit:s,visibleState:i,containerType:s[0]?.pinned}}var e$={moduleName:"ColumnMove",version:Ce,beans:[X9,O9],apiFunctions:{moveColumnByIndex:_9,moveColumns:L9},dependsOn:[Fk],css:[I9]},t$=class extends re{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;for(const s of e)this.cloneItemIntoDummy(s,n);i.appendChild(n);const o=Math.ceil(n.getBoundingClientRect().width);return n.remove(),t=t??this.gos.get("autoSizePadding"),o+t}getHeaderCellForColumn(e){let t=null;for(const n of this.beans.ctrlsSvc.getHeaderRowContainerCtrls()){const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}return t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),o=i.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(o.add("ag-header","ag-header-row"),i.style.position="static"):o.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some(u=>r.classList.contains(u))){for(let u=0;u<r.classList.length;u++){const d=r.classList[u];d!="ag-row-position-absolute"&&o.add(d)}break}r=r.parentElement}i.appendChild(n),t.appendChild(i)}},Mk={moduleName:"AutoWidth",version:Ce,beans:[t$]};function n$(e,t,n=!0,i="api"){e.colResize?.setColumnWidths(t,!1,n,i)}var i$=class extends re{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:o,groupAfterStartWidth:s,groupAfterRatios:r}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=o,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=r,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),o=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(o,n,e)}getInitialValues(e){const t=u=>u.reduce((d,f)=>d+f.getActualWidth(),0),n=(u,d)=>u.map(f=>f.getActualWidth()/d),i=this.getColumnsToResize(),o=t(i),s=n(i,o),r={columnsToResize:i,resizeStartWidth:o,resizeRatios:s};let l=null;if(e&&(l=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),l){const u=l.getDisplayedLeafColumns(),d=r.groupAfterColumns=u.filter(p=>p.isResizable()),f=r.groupAfterStartWidth=t(d);r.groupAfterRatios=n(d,f)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){const{columnsToResize:o,resizeStartWidth:s,resizeRatios:r,groupAfterColumns:l,groupAfterStartWidth:u,groupAfterRatios:d}=e,f=[];if(f.push({columns:o,ratios:r,width:t}),l){const p=t-s;f.push({columns:l,ratios:d,width:u-p})}this.beans.colResize?.resizeColumnSets({resizeSets:f,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},o$=class extends re{constructor(e,t,n,i,o){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=o}postConstruct(){const e=[];let t,n;const i=()=>{if(Nt(this.eResize,t),!t)return;const{horizontalResizeSvc:r,colAutosize:l}=this.beans,u=r.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(u),n&&l&&e.push(l.addColumnAutosizeListeners(this.eResize,this.column))},o=()=>{for(const r of e)r();e.length=0},s=()=>{const r=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(r!==t||l!==n)&&(t=r,n=l,o(),i())};s(),this.addDestroyFunc(o),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:o,beans:s}=this,r=this.normaliseResizeAmount(t),l=o+r,u=[{key:n,newWidth:l}],{pinnedCols:d,ctrlsSvc:f,colResize:p}=s;if(this.column.getPinned()){const m=d?.leftWidth??0,v=d?.rightWidth??0,b=Ed(f.getGridBodyCtrl().eBodyViewport)-50;if(m+v+(r-i)>b)return}this.lastResizeAmount=r,p?.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},s$=class extends re{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const o=[],{colModel:s,gos:r,visibleCols:l}=this.beans;for(const u of e){const d=s.getColDefCol(u.key)||s.getCol(u.key);if(!d)continue;if(o.push({width:u.newWidth,ratios:[1],columns:[d]}),r.get("colResizeDefault")==="shift"&&(t=!t),t){const p=l.getColAfter(d);if(!p)continue;const m=d.getActualWidth()-u.newWidth,v=p.getActualWidth()+m;o.push({width:v,ratios:[1],columns:[p]})}}o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(f=>r$(f)))){if(n){const f=t&&t.length>0?t[0].columns:null;Tc(this.eventSvc,f,n,i)}return}const s=[],r=[];for(const f of t){const{width:p,columns:m,ratios:v}=f,b={},S={};for(const T of m)r.push(T);let R=!0,x=0;for(;R;){if(x++,x>1e3){Dt(31);break}R=!1;const T=[];let F=0,A=p;m.forEach((I,P)=>{if(S[I.getId()])A-=b[I.getId()];else{T.push(I);const L=v[P];F+=L}});const M=1/F;T.forEach((I,P)=>{const _=P===T.length-1;let L;_?L=A:(L=Math.round(v[P]*p*M),A-=L);const V=I.getMinWidth(),z=I.getMaxWidth();L<V?(L=V,S[I.getId()]=!0,R=!0):z>0&&L>z&&(L=z,S[I.getId()]=!0,R=!0),b[I.getId()]=L})}for(const T of m){const F=b[T.getId()];T.getActualWidth()!==F&&(T.setActualWidth(F,i),s.push(T))}}const l=s.length>0;let u=[];if(l){const{colFlex:f,visibleCols:p,colViewport:m}=this.beans;u=f?.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0})??[],p.setLeftValues(i),p.updateBodyWidths(),m.checkViewportColumns()}const d=r.concat(u);(l||n)&&Tc(this.eventSvc,d,n,i,u)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),o=e.getMinWidth(),s=e.getMaxWidth(),r=Math.min(Math.max(i+t,o),s);this.setColumnWidths([{key:e,newWidth:r}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,o){return new o$(e,t,n,i,o)}createGroupResizeFeature(e,t,n,i){return new i$(e,t,n,i)}};function r$(e){const{columns:t,width:n}=e;let i=0,o=0,s=!0;for(const u of t){const d=u.getMinWidth();i+=d||0;const f=u.getMaxWidth();f>0?o+=f:s=!1}const r=n>=i,l=!s||n<=o;return r&&l}var a$={moduleName:"ColumnResize",version:Ce,beans:[s$],apiFunctions:{setColumnWidths:n$},dependsOn:[k9,Mk]},l$=class extends re{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);for(const t of this.columnGroup.getLeafColumns())t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})}removeListenersOnChildrenColumns(){for(const e of this.removeChildListenersFuncs)e();this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},c$=class extends Vb{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}wireComp(e,t,n,i,o){const{column:s,beans:r}=this,{context:l,colNames:u,colHover:d,rangeSvc:f,colResize:p}=r;this.comp=e,o=Yd(this,l,o),this.setGui(t,o),this.displayName=u.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(o),this.setupExpandable(o),this.setupTooltip(),this.refreshAnnouncement(),this.setupAutoHeight({wrapperElement:i,compBean:o}),this.setupUserComp(),this.addHeaderMouseListeners(o,i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,v=s.getProvidedColumnGroup().getLeafColumns();d?.createHoverFeature(o,v,t),f?.createRangeHighlightFeature(o,s,e),o.createManagedBean(new Bb(s,t,r)),o.createManagedBean(new l$(e,s)),p?this.resizeFeature=o.createManagedBean(p.createGroupResizeFeature(e,n,m,s)):e.setResizableDisplayed(!1),o.createManagedBean(new Kd(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(o,v),this.addManagedEventListeners({cellSelectionChanged:()=>this.refreshAnnouncement()}),o.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(o),o.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Ne(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=Ht(t)===e;if(!n&&!i)return;const o=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(u=>u.column.isMoving());let r=!1,l=!1;if(s){const u=this.beans.gos.get("enableRtl"),d=o===1,f=o===0;n&&(u?l=d:r=f),i&&(u?r=f:l=d)}this.comp.toggleCss("ag-header-highlight-before",r),this.comp.toggleCss("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:i}=this.beans,o=this.column,s=o.getProvidedColumnGroup(),r=Ne(n,{displayName:this.displayName,columnGroup:o,setExpanded:u=>{e.setColumnGroupOpened(s,u,"gridInitializing")},setTooltip:(u,d)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(u,d)},showColumnMenu:(u,d)=>i?.showMenuAfterButtonClick(s,u,"columnMenu",d),showColumnMenuAfterMouseClick:(u,d)=>i?.showMenuAfterMouseEvent(s,u,"columnMenu",d),eGridHeader:this.eGui}),l=Gj(t,r);l&&this.comp.setUserCompDetails(l)}addHeaderMouseListeners(e,t){const{column:n,comp:i,beans:{rangeSvc:o},gos:s}=this,r=f=>this.handleMouseOverChange(f.type==="mouseenter"),l=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",n.getProvidedColumnGroup()),u=f=>this.handleContextMenuMouseEvent(f,void 0,n.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:r,mouseleave:r,click:l,contextmenu:u}),i.toggleCss("ag-header-group-cell-selectable",hc(s));const d=o?.createHeaderGroupCellMouseListenerFeature(this.column,t);d&&this.createManagedBean(d)}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=ak(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(o=>o.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text"));for(const i of n)this.comp.toggleCss(i,!0)}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),o=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());for(const s of i)e.addManagedListeners(s,{movingChanged:o});o()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription())}handleKeyDown(e){if(super.handleKeyDown(e),!this.getWrapperHasFocus())return;const{column:n,expandable:i,gos:o,beans:s}=this,r=hc(o);if(e.key==Z.ENTER){if(r&&!e.altKey)s.rangeSvc?.handleColumnSelection(n,e);else if(i){const l=!n.isExpanded();s.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),l,"uiColumnExpanded")}}}refreshAnnouncement(){let e;const{gos:t,column:n,beans:i}=this;if(hc(t)){const s=this.getLocaleTextFunc(),r=i.rangeSvc?.isColumnInAnyRange(n);e=s("ariaColumnCellSelection",`Press CTRL+SPACE to ${r?"de":""}select all visible cells in this column group`)}this.ariaAnnouncement=e}announceAriaDescription(){const{beans:e,eGui:t,ariaAnnouncement:n}=this;!n||!t.contains(Yt(e))||e.ariaAnnounce?.announceValue(n,"columnHeader")}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function u$(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function d$(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function h$(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function f$(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function g$(e){return e.colGroupSvc?.getColumnGroupState()??[]}function p$(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function m$(e){e.colGroupSvc?.resetColumnGroupState("api")}function v$(e){return e.visibleCols.treeLeft}function C$(e){return e.visibleCols.treeCenter}function w$(e){return e.visibleCols.treeRight}function y$(e){return e.visibleCols.getAllTrees()}var kk=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function b$(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var S$=class extends re{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:i,colGroupSvc:o,colViewport:s,selectionColSvc:r}=this.beans;t||this.buildTrees(i,o),o?.updateOpenClosedVisibility(),this.leftCols=YC(this.treeLeft),this.centerCols=YC(this.treeCenter),this.rightCols=YC(this.treeRight),r?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(i),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(i,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const i=n.getProvidedColumnGroup().getLevel()+1;i>e&&(e=i);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Ds(this.centerCols),t=Ds(this.leftCols),n=Ds(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let o,s;this.gos.get("enableRtl")?(o=t?t[0]:null,s=n?Ht(n):null):(o=t?Ht(t):null,s=n?n[0]:null);for(const r of e.getCols())r.setLastLeftPinned(r===o,i),r.setFirstRightPinned(r===s,i)}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(u=>u.getPinned()=="left"),o=n.filter(u=>u.getPinned()=="right"),s=n.filter(u=>u.getPinned()!="left"&&u.getPinned()!="right"),r=new kk,l=u=>t?t.createColumnGroups(u):u.columns;this.treeLeft=l({columns:i,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:o,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:s,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],o=[];for(const s of t){const r=s.getPinned();r?r===!0||r==="left"?n.push(s):o.push(s):i.push(s)}this.ariaOrderColumns=n.concat(i).concat(o)}getAriaColIndex(e){let t;return vn(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){for(const e of[this.treeLeft,this.treeRight,this.treeCenter])for(const t of e)vn(t)&&t.checkLeft()}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),o=this.gos.get("enableRtl");for(const s of[this.leftCols,this.rightCols,this.centerCols]){if(o){let r=Ds(s);for(const l of s)r-=l.getActualWidth(),l.setLeft(r,e)}else{let r=0;for(const l of s)l.setLeft(r,e),r+=l.getActualWidth()}b$(i,s)}for(const s of i)s.setLeft(null,e)}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const o=[];let s=null;for(let r=0;r<t.length;r++){const l=t[r],u=t.length-r,d=Math.min(l.getColSpan(e),u),f=[l];if(d>1){const m=d-1;for(let v=1;v<=m;v++)f.push(t[r+v]);r+=m}let p;if(n){p=!1;for(const m of f)n(m)&&(p=!0)}else p=!0;p&&(o.length===0&&s&&i&&i(l)&&o.push(s),o.push(l)),s=l}return o}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};ka(this.treeCenter,!1,e),ka(this.treeLeft,!1,e),ka(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?Ht(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Ds(this.leftCols)}getDisplayedColumnsRightWidth(){return Ds(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let o;if(vn(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;o=i?s[0]:Ht(s)}else o=e;return(i?n[0]:Ht(n))===o}};function ka(e,t,n){if(e)for(let i=0;i<e.length;i++){const o=e[i];if(vn(o)){const s=t?o.getDisplayedChildren():o.getChildren();ka(s,t,n)}n(o)}}function YC(e){const t=[];return ka(e,!0,n=>{Or(n)&&t.push(n)}),t}var R$=class extends re{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return ks(null,t,n=>{ei(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];ks(null,t,i=>{if(ei(i)){const o=i.getColGroupDef(),s={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:o,eventSvc:s}=this.beans;if(!n.getColTree().length)return;i?.start();const l=[];for(const u of e){const d=u.groupId,f=u.open,p=this.getProvidedColGroup(d);p&&p.isExpanded()!==f&&(p.setExpanded(f),l.push(p))}o.refresh(t,!0),l.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),i?.finish()}setColumnGroupOpened(e,t,n){let i;ei(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return ks(null,this.beans.colModel.getColTree(),n=>{ei(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),o=t==="After"?Ht(i):i[0],s=`getCol${t}`;for(;;){const r=this.beans.visibleCols[s](o);if(!r)return null;const l=this.getColGroupAtLevel(r,n);if(l!==e)return l}}getColGroupAtLevel(e,t){let n=e.getParent(),i,o;for(;i=n.getProvidedColumnGroup().getLevel(),o=n.getPaddingLevel(),!(i+o<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();ka(e,!1,t=>{vn(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(vn(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let o=null;return ka(n,!1,s=>{if(vn(s)){const r=s;let l;i?l=e===r.getGroupId()&&t===r.getPartId():l=e===r.getGroupId(),l&&(o=r)}}),o}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:o,isStandaloneStructure:s}=e,r=this.mapOldGroupsById(o),l=[];let u=t;for(;u.length;){const d=u;u=[];let f=0;const p=m=>{const v=f;f=m;const b=d[v],R=(vn(b)?b.getProvidedColumnGroup():b).getOriginalParent();if(R==null){for(let T=v;T<m;T++)l.push(d[T]);return}const x=this.createColumnGroup(R,n,r,i,s);for(let T=v;T<m;T++)x.addChild(d[T]);u.push(x)};for(let m=1;m<d.length;m++){const v=d[m],S=(vn(v)?v.getProvidedColumnGroup():v).getOriginalParent(),R=d[f],T=(vn(R)?R.getProvidedColumnGroup():R).getOriginalParent();S!==T&&p(m)}f<d.length&&p(d.length)}return s||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,n,i,o,s,r){const l=o.getUniqueKey(t.groupId||null,null),u=wD(this.beans,t,l),d=new og(u,l,!1,n);this.createBean(d);const f=this.findExistingGroup(t,s);f&&s.splice(f.idx,1);const p=f?.group;p&&d.setExpanded(p.isExpanded());const m=OM(this.beans,u.children,n+1,e,i,o,s,r);return d.setChildren(m),d}balanceColumnTree(e,t,n,i){const o=[];for(let s=0;s<e.length;s++){const r=e[s];if(ei(r)){const l=r,u=this.balanceColumnTree(l.getChildren(),t+1,n,i);l.setChildren(u),o.push(l)}else{let l,u;for(let d=t;d<n;d++){const f=i.getUniqueKey(null,null),p=wD(this.beans,null,f),m=new og(p,f,!0,d);this.createBean(m),u&&u.setChildren([m]),u=m,l||(l=u)}if(l&&u)if(o.push(l),e.some(f=>ei(f))){u.setChildren([r]);continue}else{u.setChildren(e);break}o.push(r)}}return o}findDepth(e){let t=0,n=e;for(;n?.[0]&&ei(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const o=e[i];if(ei(o)){const s=o,r=this.findMaxDepth(s.getChildren(),t+1);n<r&&(n=r)}}return n}balanceTreeForAutoCols(e,t){const n=[];for(const i of e){let o=i;for(let s=t-1;s>=0;s--){const r=new og(null,`FAKE_PATH_${i.getId()}_${s}`,!0,s);this.createBean(r),r.setChildren([o]),o.originalParent=r,o=r}t===0&&(i.originalParent=null),n.push(o)}return n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const o=t[i];if(o.getColGroupDef()&&o.getId()===e.groupId)return{idx:i,group:o}}}createColumnGroup(e,t,n,i,o){const s=e.getGroupId(),r=t.getInstanceIdForKey(s),l=zM(s,r);let u=n[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),ye(u)?u.reset():(u=new Ad(e,s,r,i),o||this.createBean(u)),u}mapOldGroupsById(e){const t={},n=i=>{for(const o of i)if(vn(o)){const s=o;t[o.getUniqueId()]=s,n(s.getChildren())}};return e&&n(e),t}setupParentsIntoCols(e,t){for(const n of e??[])if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,vn(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}}},x$={moduleName:"ColumnGroup",version:Ce,dynamicBeans:{headerGroupCellCtrl:c$},beans:[R$],apiFunctions:{getAllDisplayedColumnGroups:y$,getCenterDisplayedColumnGroups:C$,getColumnGroup:d$,getColumnGroupState:g$,getDisplayNameForColumnGroup:f$,getLeftDisplayedColumnGroups:v$,getProvidedColumnGroup:h$,getRightDisplayedColumnGroups:w$,resetColumnGroupState:m$,setColumnGroupOpened:u$,setColumnGroupState:p$}},E$=class extends re{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(gc(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),gc(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:o,pivotColsSvc:s,valueColsSvc:r,visibleCols:l,eventSvc:u,groupHierarchyColSvc:d}=t,f=this.colDefs?BM(t,e):void 0;n?.expire();const p=this.colDefCols?.list,m=this.colDefCols?.tree,v=$U(t,this.colDefs,!0,m,e);Hg(t,this.colDefCols?.tree,v.columnTree);const b=v.columnTree,S=v.treeDepth,R=kM(b),x={};for(const T of R)x[T.getId()]=T;this.colDefCols={tree:b,treeDepth:S,list:R,map:x},this.createColumnsForService([d],this.colDefCols,e),o?.extractCols(e,p),s?.extractCols(e,p),r?.extractCols(e,p),this.ready=!0,this.changeEventsDispatching=!0,this.refreshCols(!0,e),this.changeEventsDispatching=!1,l.refresh(e),u.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&i?.applyAutosizeStrategy()}refreshCols(e,t){if(!this.colDefCols)return;const n=this.cols?.tree;this.saveColOrder();const{autoColSvc:i,selectionColSvc:o,rowNumbersSvc:s,quickFilter:r,pivotResultCols:l,showRowGroupCols:u,rowAutoHeight:d,visibleCols:f,colViewport:p,eventSvc:m,formula:v}=this.beans,b=this.selectCols(l,this.colDefCols);v?.setFormulasActive(b),this.createColumnsForService([i,o,s],b,t);const S=vU(this.gos,this.showingPivotResult);(!e||S)&&this.restoreColOrder(b),this.positionLockedCols(b),u?.refresh(),r?.refreshCols(),this.setColSpanActive(),d?.setAutoHeightActive(b),f.clear(),p.clear(),Gr(n,this.cols.tree)||m.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t,n){for(const i of e)i&&(i.createColumns(t,o=>{this.lastOrder=o(this.lastOrder),this.lastPivotOrder=o(this.lastPivotOrder)},n),i.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:i,list:o,tree:s,treeDepth:r}=n??t;return this.cols={list:o.slice(),map:{...i},tree:s.slice(),treeDepth:r},n&&(n.list.some(u=>this.cols?.map[u.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{beans:e,showingPivotResult:t,cols:n}=this,{valueColsSvc:i,selectionColSvc:o}=e,s=this.isPivotMode()&&!t,r=o?.isSelectionColumnEnabled(),l=CU(e),u=i?.columns;return n.list.filter(f=>{const p=Mb(f);if(s){const m=u?.includes(f);return p||m||r&&Br(f)||l&&Ms(f)}else return p||f.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1,e),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){To(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(p=>e.map[p.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const i=p=>{const m=p.getOriginalParent();return m?m.getChildren().length>1?!0:i(m):!1};if(!n.some(p=>i(p))){const p=new Set(n);for(const m of e.list)p.has(m)||n.push(m);e.list=n;return}const o=new Map;for(let p=0;p<n.length;p++){const m=n[p];o.set(m,p)}const s=e.list.filter(p=>!o.has(p));if(s.length===0){e.list=n;return}const r=(p,m)=>{const v=m?m.getOriginalParent():p.getOriginalParent();if(!v)return null;let b=null,S=null;for(const R of v.getChildren())if(!(R===m||R===p)){if(R instanceof Ya){const x=o.get(R);if(x==null)continue;(b==null||b<x)&&(b=x,S=R);continue}R.forEachLeafColumn(x=>{const T=o.get(x);T!=null&&(b==null||b<T)&&(b=T,S=x)})}return S??r(p,v)},l=[],u=new Map;for(const p of s){const m=r(p,null);if(m==null){l.push(p);continue}const v=u.get(m);v===void 0?u.set(m,p):Array.isArray(v)?v.push(p):u.set(m,[v,p])}const d=new Array(e.list.length);let f=d.length-1;for(let p=l.length-1;p>=0;p--)d[f--]=l[p];for(let p=n.length-1;p>=0;p--){const m=n[p],v=u.get(m);if(v)if(Array.isArray(v))for(let b=v.length-1;b>=0;b--){const S=v[b];d[f--]=S}else d[f--]=v;d[f--]=m}e.list=d}positionLockedCols(e){e.list=LM(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(e){return this.colDefCols&&this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[],e)}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1,t);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=gc(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){Hg(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i,groupHierarchyColSvc:o}=this.beans;Bu(this.colDefCols?.list,e)||Bu(n?.columns?.list,e)||Bu(i?.columns?.list,e)||Bu(o?.columns?.list,e)||Bu(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let l=0;l<i.length;l++)if(od(i[l],e))return i[l];const{autoColSvc:o,selectionColSvc:s,groupHierarchyColSvc:r}=this.beans;return o?.getColumn(e)??s?.getColumn(e)??r?.getColumn(e)??null}},T$={tag:"div",cls:"ag-skeleton-container"},D$=class extends dn{constructor(){super(T$)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Rd(t.eParentOfValue)),Rd(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");xc(this.getGui(),n)}setupLoading(t){const n=Bi({tag:"div",cls:"ag-skeleton-effect"}),i=t.node.rowIndex;if(i!=null){const r=75+25*(i%2===0?Math.sin(i):Math.cos(i));n.style.width=`${r}%`}this.getGui().appendChild(n);const o=this.getLocaleTextFunc(),s=t.deferRender?o("ariaDeferSkeletonCellLoading","Cell is loading"):o("ariaSkeletonCellLoading","Row data is loading");xc(this.getGui(),s)}refresh(t){return!1}},F$={moduleName:"CheckboxCellRenderer",version:Ce,userComponents:{agCheckboxCellRenderer:X8}},P$={moduleName:"SkeletonCellRenderer",version:Ce,userComponents:{agSkeletonCellRenderer:D$}};function A$(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function M$(e){return e.colModel.getColumnDefs(!0)}function k$(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function I$(e,t){return e.colModel.getColDefCol(t)}function O$(e){return e.colModel.getColDefCols()}function _$(e,t){return To(e,t,"api")}function L$(e){return Bg(e)}function N$(e){nj(e,"api")}function H$(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function G$(e){return e.visibleCols.isPinningLeft()}function B$(e){return e.visibleCols.isPinningRight()}function V$(e,t){return e.visibleCols.getColAfter(t)}function z$(e,t){return e.visibleCols.getColBefore(t)}function W$(e,t,n){e.colModel.setColsVisible(t,n,"api")}function U$(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function j$(e){return e.colModel.getCols()}function $$(e){return e.visibleCols.leftCols}function K$(e){return e.visibleCols.centerCols}function q$(e){return e.visibleCols.rightCols}function Y$(e){return e.visibleCols.allCols}function X$(e){return e.colViewport.getViewportColumns()}function ay(e,t){if(!e)return;const n=e,i={};for(const o of Object.keys(n)){if(t&&t.indexOf(o)>=0||rM.has(o))continue;const s=n[o];typeof s=="object"&&s!==null&&s.constructor===Object?i[o]=ay(s):i[o]=s}return i}var Q$=class extends re{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i,o=!1){const s=e.slice();t?s.sort((u,d)=>n.indexOf(u)-n.indexOf(d)):(n||o)&&s.sort((u,d)=>i.indexOf(u)-i.indexOf(d));const r=this.rowGroupColsSvc?.columns,l=this.pivotColsSvc?.columns;return this.buildColumnDefs(s,r,l)}buildColumnDefs(e,t=[],n=[]){const i=[],o={};for(const s of e){const r=this.createDefFromColumn(s,t,n);let l=!0,u=r,d=s.getOriginalParent(),f=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=o[d.getGroupId()];if(m){m.children.push(u),l=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[u],o[p.groupId]=p,u=p,d=d.getOriginalParent()),d!=null&&f===d){l=!1;break}f=d}l&&i.push(u)}return i}createDefFromGroup(e){const t=ay(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=ay(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSortDef(),i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},Z$=class extends re{constructor(){super(...arguments),this.beanName="colFlex",this.columnsHidden=!1}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth,{visibleCols:i,colDelayRenderSvc:o}=this.beans,s=i.centerCols;let r=-1;if(e.resizingCols){const S=new Set(e.resizingCols);for(let R=s.length-1;R>=0;R--)if(S.has(s[R])){r=R;break}}let l=!1;const u=s.map((S,R)=>{const x=S.getFlex(),T=x!=null&&x>0&&R>r;return l||(l=T),{col:S,isFlex:T,flex:Math.max(0,x??0),initialSize:S.getActualWidth(),min:S.getMinWidth(),max:S.getMaxWidth(),targetSize:0}});if(l?(o?.hideColumns("colFlex"),this.columnsHidden=!0):this.columnsHidden&&this.revealColumns(o),!n||!l)return[];let d=u.length,f=u.reduce((S,R)=>S+R.flex,0),p=n;const m=(S,R)=>{S.frozenSize=R,S.col.setActualWidth(R,t),p-=R,f-=S.flex,d-=1},v=S=>S.frozenSize!=null;for(const S of u)S.isFlex||m(S,S.initialSize);for(;d>0;){const S=Math.round(f<1?p*f:p);let R,x=0,T=0;for(const M of u){if(v(M))continue;R=M,T+=S*(M.flex/f);const I=T-x,P=Math.round(I);M.targetSize=P,x+=P}R&&(R.targetSize+=S-x);let F=0;for(const M of u){if(v(M))continue;const I=M.targetSize,P=Math.min(Math.max(I,M.min),M.max);F+=P-I,M.violationType=P===I?void 0:P<I?"max":"min",M.targetSize=P}const A=F===0?"all":F>0?"min":"max";for(const M of u)v(M)||(A==="all"||M.violationType===A)&&m(M,M.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const b=u.filter(S=>S.isFlex&&!S.violationType).map(S=>S.col);if(e.fireResizedEvent){const S=u.filter(x=>x.initialSize!==x.frozenSize).map(x=>x.col),R=u.filter(x=>x.flex).map(x=>x.col);Tc(this.eventSvc,S,!0,t,R)}return this.revealColumns(o),b}revealColumns(e){this.columnsHidden&&(e?.revealColumns("colFlex"),this.columnsHidden=!1)}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},Ei=e=>{if(typeof e=="bigint")return e;let t;if(typeof e=="number")t=e;else if(typeof e=="string"&&(t=e.trim(),t===""||(t.endsWith("n")&&(t=t.slice(0,-1)),!/^[+-]?\d+$/.test(t))))return null;if(t==null)return null;try{return BigInt(t)}catch{return null}},Yb="T",J$=new RegExp(`[${Yb} ]`),eK=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${Yb}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Uo(e,t){return e.toString().padStart(t,"0")}function ri(e,t=!0,n=Yb){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(o=>Uo(o,2)).join("-");return t&&(i+=n+[e.getHours(),e.getMinutes(),e.getSeconds()].map(o=>Uo(o,2)).join(":")),i}function Gf(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Uo(e.getDate(),2),Uo(e.getHours(),2),`:${Uo(e.getMinutes(),2)}`,`:${Uo(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Uo(e.getDate(),2)].map(String):null}var XC=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"},jD=["January","February","March","April","May","June","July","August","September","October","November","December"],QC=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function tK(e,t){if(t==null)return ri(e,!1);const n=Uo(e.getFullYear(),4),i={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>jD[e.getMonth()],MMM:()=>jD[e.getMonth()].slice(0,3),MM:()=>Uo(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${XC(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${XC(e.getDate())}`,DD:()=>Uo(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>QC[e.getDay()],ddd:()=>QC[e.getDay()].slice(0,3),dd:()=>QC[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${XC(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(i).join("|"),"g");return t.replace(o,s=>s in i?i[s]():s)}function lg(e,t=!1){return!!ai(e,t)}function nK(e){return lg(e,!0)}function ai(e,t=!1,n){if(!e||!n&&!eK.test(e))return null;const[i,o]=e.split(J$);if(!i)return null;const s=i.split("-").map(v=>Number.parseInt(v,10));if(s.filter(v=>!isNaN(v)).length!==3)return null;const[r,l,u]=s,d=new Date(r,l-1,u);if(d.getFullYear()!==r||d.getMonth()!==l-1||d.getDate()!==u||!o&&t)return null;if(!o||o==="00:00:00")return d;const[f,p,m]=o.split(":").map(v=>Number.parseInt(v,10));if(f>=0&&f<24)d.setHours(f);else if(t)return null;if(p>=0&&p<60)d.setMinutes(p);else if(t)return null;if(m>=0&&m<60)d.setSeconds(m);else if(t)return null;return d}function rd(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let o=e;for(let s=0;s<i.length;s++){if(o==null)return;o=o[i[s]]}return o}var iK=["dateTimeString","dateString","text","number","bigint","boolean","date"],oK=class extends re{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},bigint({filterModuleBean:e}){return e?{cellEditor:"agTextCellEditor"}:{cellEditor:"agTextCellEditor",comparator:{default:lK,absolute:cK}}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:({node:e,event:t,column:n})=>t.key===Z.SPACE&&n.isCellEditable(e)}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(i,o)=>{const s=t.getColDefCol(n),r=s?.getColDef();if(!s||!r)return 0;const l=i==null?"":e({column:s,node:null,value:i}),u=o==null?"":e({column:s,node:null,value:o});return l===u?0:l>u?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},i=f=>p=>{const{column:m,node:v,value:b}=p;let S=m.getColDef().valueFormatter;return S===f.groupSafeValueFormatter&&(S=f.valueFormatter),this.beans.valueSvc.formatValue(m,v,b,S)};for(const f of Object.keys(e)){const p=e[f],m={...p,groupSafeValueFormatter:qD(p,this.gos)};t[f]=m,n[f]=i(m)}const o=this.gos.get("dataTypeDefinitions")??{},s={};for(const f of Object.keys(o)){const p=o[f],m=this.processDataTypeDefinition(p,o,[f],e);m&&(t[f]=m,p.dataTypeMatcher&&(s[f]=p.dataTypeMatcher),n[f]=i(m))}const{valueParser:r,valueFormatter:l}=e.object,{valueParser:u,valueFormatter:d}=t.object;this.hasObjectValueParser=u!==r,this.hasObjectValueFormatter=d!==l,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const i of iK)delete n[i],n[i]=e[i]??t[i].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,i){let o;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let r=i[s];const l=t[s];if(r&&l&&(r=l),!KD(e,r,s))return;o=$D(r,e)}else{if(n.includes(s)){fe(44);return}const r=t[s];if(!KD(e,r,s))return;const l=this.processDataTypeDefinition(r,t,[...n,s],i);if(!l)return;o=$D(l,e)}return{...o,groupSafeValueFormatter:qD(o,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;i===void 0&&(i=e.cellDataType);const{field:o}=t;if((i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(o,n):!1),this.addFormulaCellEditorToColDef(e,t),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){fe(47,{cellDataType:i});return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,s,n),s.columnTypes}addFormulaCellEditorToColDef(e,t){!(t.allowFormula??e.allowFormula)||t.cellEditor||(e.cellEditor="agFormulaCellEditor")}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Cn(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(ZC(t,i))return!1;const o=t.type===null?e.type:t.type;if(o){const s=n.get("columnTypes")??{};if(Gg(o).some(l=>{const u=s[l.trim()];return u&&ZC(u,i)}))return!1}return!ZC(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const s=e.includes(".")&&!this.gos.get("suppressFieldDotNotation");n=rd(i,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?._leafs;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[o]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:r}=s;r&&(o?.(),this.isPendingInference=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},o={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const r=this.columnStateUpdatesPendingInference[s],l=this.colModel.getCol(s);if(!l)continue;const u=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))continue;const d=l.getColDef();if(t&&d.type&&d.type!==u.type){const f=uK(l,r);f.rowGroup&&f.rowGroupIndex==null&&(i[s]=f),f.pivot&&f.pivotIndex==null&&(o[s]=f),n.push(f)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,o)),n.length&&To(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:o}=this.beans;return i?.restoreColumnOrder(n,e),o?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=Xw(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!n||e.getColDef().allowFormula&&this.beans.formula?.isFormula(t)?!0:n(t)}validateColDef(e){const t=n=>fe(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:i,formatValueFuncs:o}=this,s=n[t];s&&i.colFilter?.setColDefPropsForDataType(e,s,o[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){const o=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:i,formatValue:o,filterModuleBean:this.beans.filterManager});e.cellEditor==="agFormulaCellEditor"&&s.cellEditor!==e.cellEditor&&(s.cellEditor=e.cellEditor),Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:i=>ai(i.newValue&&String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):ri(i.value,n)??"",dataTypeMatcher:i=>i instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>ai(n)??void 0,dateFormatter:n=>ri(n??null,t)??void 0,valueParser:n=>lg(String(n.newValue))?n.newValue:null,valueFormatter:n=>lg(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&lg(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},bigint:{baseDataType:"bigint",valueParser:t=>{const{newValue:n}=t;return n==null||typeof n=="string"&&n.trim()===""?null:Ei(n)},valueFormatter:t=>t.value==null?"":typeof t.value!="bigint"?e("invalidBigInt","Invalid BigInt"):String(t.value),dataTypeMatcher:t=>typeof t=="bigint"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:zw(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&nK(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>zw(t.value)??""}}}destroyColumnStateUpdateListeners(){for(const e of this.columnStateUpdateListenerDestroyFuncs)e();this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function $D(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...Gg(e.columnTypes),...Gg(t.columnTypes)]),n}function KD(e,t,n){return t?t.baseDataType!==e.baseDataType?(fe(46),!1):!0:(fe(45,{parentCellDataType:n}),!1)}var sK=e=>typeof e=="bigint"||typeof e=="number",rK=e=>e==="number"||e==="bigint";function qD(e,t){if(e.valueFormatter)return n=>{const{node:i,colDef:o,column:s,value:r}=n;if(i?.group){const l=(o.pivotValueColumn??s).getAggFunc();if(l){if(l==="first"||l==="last")return e.valueFormatter(n);const{baseDataType:u}=e;if(rK(u)&&l!=="count"){if(sK(r))return e.valueFormatter(n);if(r==null)return;if(typeof r=="object"){if(typeof r.toNumber=="function")return e.valueFormatter({...n,value:r.toNumber()});if("value"in r)return e.valueFormatter({...n,value:r.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function aK(e,t,n,i){if(!t[n])return!1;const o=e[n];return o===null?(t[n]=!1,!1):i===void 0?!!o:o===i}function lK(e,t){if(e==null)return t==null?0:-1;if(t==null)return 1;const n=Ei(e),i=Ei(t);return n!=null&&i!=null?n===i?0:n>i?1:-1:0}function cK(e,t){if(e==null)return t==null?0:-1;if(t==null)return 1;const n=YD(e),i=YD(t);return n!=null&&i!=null?n===i?0:n>i?1:-1:0}function YD(e){const t=Ei(e);return t==null?null:t<0n?-t:t}function ZC(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>aK(e,t,n,i))}function uK(e,t){const n=VM(e);for(const i of t)delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex;return n}var dK={moduleName:"DataType",version:Ce,beans:[oK],dependsOn:[F$]},hK={moduleName:"ColumnFlex",version:Ce,beans:[Z$]},Ik={moduleName:"ColumnApi",version:Ce,beans:[Q$],apiFunctions:{getColumnDef:A$,getDisplayNameForColumn:k$,getColumn:I$,getColumns:O$,applyColumnState:_$,getColumnState:L$,resetColumnState:N$,isPinning:H$,isPinningLeft:G$,isPinningRight:B$,getDisplayedColAfter:V$,getDisplayedColBefore:z$,setColumnsVisible:W$,setColumnsPinned:U$,getAllGridColumns:j$,getDisplayedLeftColumns:$$,getDisplayedCenterColumns:K$,getDisplayedRightColumns:q$,getAllDisplayedColumns:Y$,getAllDisplayedVirtualColumns:X$,getColumnDefs:M$}},fK=class extends re{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:o}=this.beans;return n&&o?o.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,o){const s=e.headerValueGetter;if(s){const r=Ne(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:o});return typeof s=="function"?s(r):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,r)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return mW(e.field)}return""}},gK=class extends re{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}getScrollPosition(){return this.scrollPosition}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,o=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!o)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const r=i.bodyWidth;this.viewportLeft=r-t-e,this.viewportRight=r-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||pK(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,o=this.viewportRight+200,s=t<i&&n<i,r=t>o&&n>o;return!s&&!r}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const r=s.getLeft();return ye(r)&&r>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,o=i.centerCols;return i.getColsForRow(e,o,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=i=>{const o=new Set,s={};for(const r of i){let l=r.getParent();const u=r.isSpanHeaderHeight();for(;l&&!o.has(l);){if(u&&l.isPadding()){l=l.getParent();continue}const f=l.getProvidedColumnGroup().getLevel();s[f]??(s[f]=[]),s[f].push(l),o.add(l),l=l.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function pK(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var mK=class extends re{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(o){const s=t(o),r=typeof s;if(r==="string"||r==="number"||r==="boolean"){this.eGui=Sb("<span>"+s+"</span>");return}if(s==null){this.eGui=Bi({tag:"span"});return}this.eGui=s}}return n}},vK={moduleName:"CellRendererFunction",version:Ce,beans:[mK]},CK=class extends ci{constructor(){super(...arguments),this.beanName="registry"}registerDynamicBeans(e){if(e){this.dynamicBeans??(this.dynamicBeans={});for(const t of Object.keys(e))this.dynamicBeans[t]=e[t]}}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(this.getDynamicError(e,!0));const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(this.getDynamicError(e,!1));return}return new i(...n)}};function wK(e){return typeof e=="object"&&!!e.getComp}var yK=class extends CK{constructor(){super(...arguments),this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:o}=e;if(n){const s=(r,l,u,d)=>{this.agGridDefaults[r]=l,(u||d)&&(this.agGridDefaultOverrides[r]={params:u,processParams:d})};for(const r of Object.keys(n)){let l=n[r];if(wK(l)&&(l=l.getComp(this.beans)),typeof l=="object"){const{classImp:u,params:d,processParams:f}=l;s(r,u,d,f)}else s(r,l)}}this.registerDynamicBeans(i);for(const s of o??[])this.selectors[s.selector]=s;if(t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(l,u,d,f)=>({componentFromFramework:u,component:l,params:d,processParams:f}),{frameworkOverrides:i}=this.beans,o=i.frameworkComponent(t,this.gos.get("components"));if(o!=null)return n(o,!0);const s=this.jsComps[t];if(s){const l=i.isFrameworkComponent(s);return n(s,l)}const r=this.agGridDefaults[t];if(r){const l=this.agGridDefaultOverrides[t];return n(r,!1,l?.params,l?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}getDynamicError(e,t){return t?Zo(279,{name:e}):this.beans.validation?.missingDynamicBean(e)??Zo(256)}},bK=23,SK=class extends re{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{if(this.updateReady(),this.ready){for(const e of this.readyCallbacks)e(this.params);this.readyCallbacks.length=0}},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===bK&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},RK=':where([class^=ag-]),:where([class^=ag-]):after,:where([class^=ag-]):before{box-sizing:border-box}:where([class^=ag-]):where(button){color:inherit}:where([class^=ag-]):where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}:where([class^=ag-]) ::-ms-clear{display:none}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block}.ag-measurement-element-border:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}.ag-popup-child{top:0;z-index:5}.ag-popup-child:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-chart,.ag-dnd-ghost,.ag-external,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-disabled .ag-icon,[disabled] .ag-icon{opacity:.5}.ag-icon-grip.ag-disabled,.ag-icon-grip[disabled]{opacity:.35}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}',Xb=typeof window!="object"||!window?.document?.fonts?.forEach,Ok=!1,Va=(e,t,n,i,o,s,r=!1)=>{if(Xb||Ok)return;i&&(e=`@layer ${CSS.escape(i).replaceAll("\\.",".")} { ${e} }`);let l=Ko.map.get(t);if(l||(l=[],Ko.map.set(t,l)),l.some(p=>p.css===e))return;const u=document.createElement("style");s&&u.setAttribute("nonce",s),u.dataset.agGlobalCss=n,u.textContent=e;const d={css:e,el:u,priority:o,isParams:r};let f;for(const p of l){if(p.priority>o)break;f=p}if(f){f.el.after(u);const p=l.indexOf(f);l.splice(p+1,0,d)}else t.nodeName==="STYLE"?t.after(u):t.insertBefore(u,t.querySelector(":not(title, meta)")),l.push(d)},_k=(e,t,n,i)=>{Va(RK,e,"shared",t,0,n),i?.forEach((o,s)=>o.forEach(r=>Va(r,e,s,t,0,n)))},xK=(e,t,n,i,o,s)=>{if(Xb||Ok)return;const r=Ko.grids.get(e);r?r.paramsCss=t:Ko.grids.set(e,{styleContainer:i,paramsCss:t}),ly(i),t&&n&&Va(t,i,n,o,2,s,!0)},EK=e=>{const t=Ko.grids.get(e)?.styleContainer;if(!t)return;Ko.grids.delete(e),Array.from(Ko.grids.values()).some(i=>i.styleContainer===t)?ly(t):(ly(t,!0),Ko.map.delete(t))},ly=(e,t=!1)=>{const n=new Set;for(const o of Ko.grids.values())o.styleContainer===e&&n.add(o.paramsCss);const i=Ko.map.get(e)??[];for(let o=i.length-1;o>=0;o--)(t||i[o].isParams&&!n.has(i[o].css))&&(i[o].el.remove(),i.splice(o,1))},XD,Ko=(XD=typeof window=="object"?window:{}).agStyleInjectionState??(XD.agStyleInjectionState={map:new WeakMap,grids:new Map}),Ao=e=>new Lk(e),br="$default",TK=0,Lk=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:o}){this.feature=e,this.css=i,this.cssImports=o,this.modeParams={[br]:{...n[br]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:o}=this;if(o){const s=`ag-theme-${this.feature??"part"}-${++TK}`;typeof o=="function"&&(o=o()),o=`:where(.${s}) {
${o}
}
`;for(const r of this.cssImports??[])o=`@import url(${JSON.stringify(r)});
${o}`;i={css:o,class:s}}else i=!1;this._inject=i}return i&&e&&Va(i.css,e,i.class,t,1,n),i?i.class:!1}},DK=e=>e.replace(/[A-Z]|\d+/g,t=>`-${t}`).toLowerCase(),Qb=e=>`--ag-${DK(e)}`,ns=e=>`var(${Qb(e)})`,FK=(e,t,n)=>Math.max(t,Math.min(n,e)),PK=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},zo=e=>({ref:"accentColor",mix:e}),eo=e=>({ref:"foregroundColor",mix:e}),no=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),AK=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Ri={ref:"backgroundColor"},tc={ref:"foregroundColor"},Ps={ref:"accentColor"},Kg={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:eo(.15),chromeBackgroundColor:no(.02),browserColorScheme:"light"},MK={...Kg,textColor:tc,accentColor:"#2196f3",invalidColor:"#e02525",fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],subtleTextColor:{ref:"textColor",mix:.5},borderWidth:1,borderRadius:4,spacing:8,fontSize:14,focusShadow:{spread:3,color:zo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},dragAndDropImageBackgroundColor:Ri,dragAndDropImageBorder:!0,dragAndDropImageNotAllowedBorder:{color:{ref:"invalidColor",onto:"dragAndDropImageBackgroundColor",mix:.5}},dragAndDropImageShadow:{ref:"popupShadow"},iconSize:16,iconColor:"inherit",toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Ps,toggleButtonOffBackgroundColor:no(.3),toggleButtonSwitchBackgroundColor:Ri,toggleButtonSwitchInset:2,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},panelBackgroundColor:Ri,panelTitleBarHeight:{ref:"headerHeight"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontFamily:{ref:"headerFontFamily"},panelTitleBarFontSize:{ref:"headerFontSize"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,dialogShadow:{ref:"popupShadow"},dialogBorder:{color:eo(.2)},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},dataFontSize:{ref:"fontSize"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontSize:{ref:"fontSize"},headerFontWeight:500,headerTextColor:{ref:"textColor"},headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,menuBorder:{color:eo(.2)},menuBackgroundColor:no(.03),menuTextColor:no(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"}},kK=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],IK=PK(e=>(e=e.toLowerCase(),kK.find(t=>e.endsWith(t.toLowerCase()))??"length")),kp=e=>typeof e=="object"&&e?.ref?ns(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,Zb=e=>{if(typeof e=="string")return e;if(typeof e=="object"&&e&&"ref"in e){const t=ns(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?ns(e.onto):"transparent"}, ${t} ${FK(e.mix*100,0,100)}%)`}return!1},OK=kp,nc=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:typeof e=="object"&&e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:" "+ns(n)+" ")})`:typeof e=="object"&&e&&"ref"in e?ns(e.ref):!1,_K=kp,cy=(e,t)=>typeof e=="string"?e:e===!0?cy({},t):e===!1?t==="columnBorder"?cy({color:"transparent"},t):"none":typeof e=="object"&&e&&"ref"in e?ns(e.ref):Nk(e.style??"solid")+" "+nc(e.width??{ref:"borderWidth"})+" "+Zb(e.color??{ref:"borderColor"}),QD=e=>[nc(e.offsetX??0),nc(e.offsetY??0),nc(e.radius??0),nc(e.spread??0),Zb(e.color??{ref:"foregroundColor"}),...e.inset?["inset"]:[]].join(" "),LK=e=>typeof e=="string"?e:e===!1?"none":typeof e=="object"&&e&&"ref"in e?ns(e.ref):Array.isArray(e)?e.map(QD).join(", "):QD(e),Nk=kp,Hk=e=>typeof e=="string"?e.includes(",")?e:ZD(e):typeof e=="object"&&e&&"googleFont"in e?Hk(e.googleFont):typeof e=="object"&&e&&"ref"in e?ns(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),ZD(t))).join(", "):!1,ZD=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),NK=kp,Gk=e=>typeof e=="string"?e:typeof e=="object"&&e&&"url"in e?`url(${JSON.stringify(e.url)})`:typeof e=="object"&&e&&"svg"in e?Gk({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):typeof e=="object"&&e&&"ref"in e?ns(e.ref):!1,HK=(e,t,n)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&n.warn(104,{value:e,param:t}),`${e}s`):typeof e=="object"&&e&&"ref"in e?ns(e.ref):!1,GK={color:Zb,colorScheme:OK,length:nc,scale:_K,border:cy,borderStyle:Nk,shadow:LK,image:Gk,fontFamily:Hk,fontWeight:NK,duration:HK},BK=(e,t,n)=>{const i=IK(e);return GK[i](t,e,n)},VK=0,zK=(e,t)=>new Bk({themeLogger:e,overridePrefix:t}),Bk=class Vk{constructor(t,n=[]){this.params=t,this.parts=n}withPart(t){return typeof t=="function"&&(t=t()),t instanceof Lk?new Vk(this.params,[...this.parts,t]):(this.params.themeLogger.preInitErr(259,"Invalid part",{part:t}),this)}withoutPart(t){return this.withPart(Ao({feature:t}))}withParams(t,n=br){return this.withPart(Ao({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:o,moduleCss:s}){if(Xb)return;UK(),_k(t,n,i,s);const r=WK(this);if(r.length>0)for(const l of r)o&&jK(l,i);for(const l of this.parts)l.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=JD(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).concat(this._getParamsClassName()).join(" "))}_getParamsClassName(){return this._paramsClassName??(this._paramsClassName=`ag-theme-params-${++VK}`)}_getModeParams(){let t=this._paramsCache;if(!t){const n={[br]:{...MK}};for(const i of JD(this.parts))for(const o of Object.keys(i.modeParams)){const s=i.modeParams[o];if(s){const r=n[o]??(n[o]={}),l=new Set;for(const u of Object.keys(s)){const d=s[u];d!==void 0&&(r[u]=d,l.add(u))}if(o===br)for(const u of Object.keys(n)){const d=n[u];if(u!==br)for(const f of l)delete d[f]}}}this._paramsCache=t=n}return t}_getParamsCss(){if(!this._paramsCssCache){let t="",n="";const i=this._getModeParams(),{overridePrefix:o,themeLogger:s}=this.params,r=o?`--ag-${o}-`:void 0;for(const d of Object.keys(i)){const f=i[d];if(d!==br){const m=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(d):d}"]) & {
`;t+=m,n+=m}for(const p of Object.keys(f).sort()){const m=f[p],v=BK(p,m,s);if(v===!1)s.error(107,{key:p,value:m});else{const b=Qb(p),S=r?b.replace("--ag-",r):b,R=b.replace("--ag-","--ag-inherited-");t+=`	${b}: var(${R}, ${v});
`,n+=`	${R}: var(${S});
`}}d!==br&&(t+=`}
`,n+=`}
`)}const l=`:where(.${this._getParamsClassName()})`;let u=`${l} {
${t}}
`;u+=`:has(> ${l}):not(${l}) {
${n}}
`,this._paramsCssCache=u}return this._paramsCssCache}},JD=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},WK=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const r=s?.googleFont;typeof r=="string"&&t.add(r)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},e1=!1,UK=()=>{if(!e1){e1=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},jK=async(e,t)=>{const n=`@import url('https://${$K}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Va(n,document.head,`googleFont:${e}`,void 0,0,t)},$K="fonts.googleapis.com",t1={changeKey:"listItemHeight",type:"length",defaultValue:24},KK=class extends ci{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.globalCSS=[]}wireBeans(e){this.eRootDiv=e.eRootDiv}postConstruct(){const{gos:e,eRootDiv:t}=this;e.setInstanceDomData(t);const n=e.get("themeStyleContainer"),i=typeof ShadowRoot<"u",o=i&&t.getRootNode()instanceof ShadowRoot;this.eStyleContainer=(typeof n=="function"?n():n)??(o?t:document.head),!n&&!o&&i&&qK(t,this.shadowRootError.bind(this),this.addDestroyFunc.bind(this)),this.cssLayer=e.get("themeCssLayer"),this.styleNonce=e.get("styleNonce"),this.addManagedPropertyListener("theme",()=>this.handleThemeChange()),this.handleThemeChange(),this.getSizeEl(t1),this.initVariables(),this.addDestroyFunc(()=>EK(this)),this.mutationObserver=new MutationObserver(()=>{this.fireStylesChangedEvent("theme")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}applyThemeClasses(e,t=[]){const{theme:n}=this,i=n?n._getCssClass():this.applyLegacyThemeClasses();for(const o of Array.from(e.classList))o.startsWith("ag-theme-")&&e.classList.remove(o);if(i){const o=e.className;e.className=`${o}${o?" ":""}${i}${t?.length?" "+t.join(" "):""}`}}applyLegacyThemeClasses(){let e="";this.mutationObserver.disconnect();let t=this.eRootDiv;for(;t;){let n=!1;for(const i of Array.from(t.classList))i.startsWith("ag-theme-")&&(n=!0,e=e?`${e} ${i}`:i);n&&this.mutationObserver.observe(t,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement}return e}addGlobalCSS(e,t){this.theme?Va(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(t1)}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===JC?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=La({tag:"div",cls:"ag-measurement-container"}),this.eRootDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=La({tag:"div"});const i=this.setSizeElStyles(t,e);n.appendChild(t),this.sizeEls.set(e,t);const{type:o,noWarn:s}=e;if(o!=="length"&&o!=="border")return t;let r=this.measureSizeEl(e);r==="no-styles"&&!s&&this.varError(i,e.defaultValue);const l=Vs(this.beans,t,()=>{const u=this.measureSizeEl(e);u==="detached"||u==="no-styles"||(this.lastKnownValues.set(e,u),u!==r&&(r=u,this.fireStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>l()),t}setSizeElStyles(e,t){const{changeKey:n,type:i}=t;let o=Qb(n);return i==="border"?(o.endsWith("-width")&&(o=o.slice(0,-6)),e.className="ag-measurement-element-border",e.style.setProperty("--ag-internal-measurement-border",`var(${o}, solid ${JC}px)`)):e.style.width=`var(${o}, ${JC}px)`,o}handleThemeChange(){const{gos:e,theme:t}=this,n=e.get("theme");let i;if(n==="legacy")i=void 0;else{const o=n??this.getDefaultTheme();o instanceof Bk?i=o:this.themeError(o)}i!==t&&this.handleNewTheme(i),this.postProcessThemeChange(i,n)}handleNewTheme(e){const{gos:t,eRootDiv:n,globalCSS:i}=this,o=this.getAdditionalCss();if(e){_k(this.eStyleContainer,this.cssLayer,this.styleNonce,o);for(const[s,r]of i)Va(s,this.eStyleContainer,r,this.cssLayer,0,this.styleNonce);i.length=0}this.theme=e,e?._startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce,moduleCss:o}),xK(this,e?._getParamsCss()??null,e?._getParamsClassName()??null,this.eStyleContainer,this.cssLayer,this.styleNonce),this.applyThemeClasses(n),this.fireStylesChangedEvent("theme")}fireStylesChangedEvent(e){this.eventSvc.dispatchEvent({type:"stylesChanged",[`${e}Changed`]:!0})}},JC=15538,qK=(e,t,n)=>{let i=60;const o=setInterval(()=>{typeof ShadowRoot<"u"&&e.getRootNode()instanceof ShadowRoot&&(t(),clearInterval(o)),(bb(e)||--i<0)&&clearInterval(o)},1e3);n(()=>clearInterval(o))},YK='.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important}.ag-body-viewport::-webkit-scrollbar,.ag-center-cols-viewport::-webkit-scrollbar,.ag-floating-bottom-viewport::-webkit-scrollbar,.ag-floating-top-viewport::-webkit-scrollbar,.ag-header-viewport::-webkit-scrollbar,.ag-sticky-bottom-viewport::-webkit-scrollbar,.ag-sticky-top-viewport::-webkit-scrollbar{display:none!important}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-left-sticky-bottom,.ag-pinned-right-cols-container,.ag-pinned-right-sticky-bottom,.ag-sticky-bottom-container,.ag-sticky-top-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-active),&:where(.ag-scrollbar-scrolling){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value:not(.ag-allow-overflow),.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-data-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-sticky-bottom{box-sizing:content-box!important;:where(.ag-pinned-left-sticky-bottom),:where(.ag-pinned-right-sticky-bottom),:where(.ag-sticky-bottom-container){border-top:var(--ag-row-border);box-sizing:border-box}}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;:where(.ag-column-group-closed-icon),:where(.ag-column-group-opened-icon){cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-data-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-data-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-drag-handle-disabled{opacity:.35;pointer-events:none}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-row-drag-indicator-color);border-radius:calc(var(--ag-row-drag-indicator-width)/2);content:"";height:var(--ag-row-drag-indicator-width);pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-body,.ag-floating-bottom,.ag-floating-top{background-color:var(--ag-data-background-color)}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-data-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label,:where(.ag-header-group-cell-selectable) .ag-header-cell-comp-wrapper{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden)),:where(.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)):before,.ag-header-group-cell:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}.ag-header-cell:where(:not(.ag-floating-filter)):where(:hover):before,.ag-header-group-cell:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}.ag-header-cell:where(:not(.ag-floating-filter)):where(.ag-header-cell-moving):before,.ag-header-group-cell:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}:where(.ag-header-cell:not(.ag-floating-filter)>*,.ag-header-group-cell>*){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{color:var(--ag-subtle-text-color)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-left:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-col-ref{margin-right:var(--ag-spacing)}.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-column-drag-indicator-color);border-radius:calc(var(--ag-column-drag-indicator-width)/2);content:"";height:100%;position:absolute;top:0;width:var(--ag-column-drag-indicator-width)}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2}:where(.ag-ltr) .ag-header-cell-resize{right:-3px}:where(.ag-rtl) .ag-header-cell-resize{left:-3px}.ag-header-cell-resize:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}:where(.ag-ltr) .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}:where(.ag-rtl) .ag-header-cell-resize:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{container-type:normal;display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{container-type:normal;display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);container-type:inline-size;display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color)}.ag-chart-menu-icon:hover,.ag-chart-settings-next:hover,.ag-chart-settings-prev:hover,.ag-column-group-icons:hover,.ag-column-select-header-icon:hover,.ag-filter-toolpanel-expand:hover,.ag-floating-filter-button-button:hover,.ag-group-title-bar-icon:hover,.ag-header-cell-filter-button:hover,.ag-header-cell-menu-button:hover,.ag-header-expand-icon:hover,.ag-panel-title-bar-button-icon:hover,.ag-panel-title-bar-button:hover,.ag-set-filter-group-icons:hover,:where(.ag-group-contracted) .ag-icon:hover,:where(.ag-group-expanded) .ag-icon:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}:where(.ag-filter-active),:where(.ag-filter-toolpanel-group-instance-header-icon),:where(.ag-filter-toolpanel-instance-header-icon){position:relative}:where(.ag-filter-active):after,:where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-filter-toolpanel-instance-header-icon):after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-ltr) :where(.ag-filter-active):after,:where(.ag-ltr) :where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-ltr) :where(.ag-filter-toolpanel-instance-header-icon):after{right:-1px}:where(.ag-rtl) :where(.ag-filter-active):after,:where(.ag-rtl) :where(.ag-filter-toolpanel-group-instance-header-icon):after,:where(.ag-rtl) :where(.ag-filter-toolpanel-instance-header-icon):after{left:-1px}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}',XK={wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Ri,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},cellFontFamily:{ref:"fontFamily"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Ps,rangeSelectionBackgroundColor:zo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:zo(.5),rangeHeaderHighlightColor:AK(.08),rowNumbersSelectedColor:zo(.5),rowHoverColor:zo(.08),columnHoverColor:zo(.05),selectedRowBackgroundColor:zo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},dataBackgroundColor:Ri,oddRowBackgroundColor:{ref:"dataBackgroundColor"},wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},dragHandleColor:eo(.7),headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:eo(.1),iconButtonActiveColor:Ps,iconButtonActiveBackgroundColor:zo(.28),iconButtonActiveIndicatorColor:Ps,setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:eo(.8),cellEditingBorder:{color:Ps},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,columnDropCellBackgroundColor:eo(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:eo(.13)},selectCellBackgroundColor:eo(.07),selectCellBorder:{color:eo(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Ri,filterPanelApplyButtonBackgroundColor:Ps,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:tc,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:tc,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:eo(.15),statusBarLabelColor:tc,statusBarLabelFontWeight:500,statusBarValueColor:tc,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"dataBackgroundColor"},pinnedRowTextColor:{ref:"textColor"},rowDragIndicatorColor:{ref:"rangeSelectionBorderColor"},rowDragIndicatorWidth:2,columnDragIndicatorColor:{ref:"accentColor"},columnDragIndicatorWidth:2},QK=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",zk={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},ZK={...zk,cellBatchEditTextColor:"#f3d0b3"},JK=()=>Ao({feature:"batchEditStyle",params:zk,css:QK}),eq=JK(),tq=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}.ag-standard-button:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}",nq={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},iq=()=>Ao({feature:"buttonStyle",params:{...nq,buttonBackgroundColor:Ri,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Ps}},css:tq}),oq=iq(),sq=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",rq=()=>Ao({feature:"columnDropStyle",css:sq}),Wk=rq(),aq={formulaToken1Color:"#3269c6",formulaToken1BackgroundColor:{ref:"formulaToken1Color",mix:.08},formulaToken1Border:{color:{ref:"formulaToken1Color"}},formulaToken2Color:"#c0343f",formulaToken2BackgroundColor:{ref:"formulaToken2Color",mix:.06},formulaToken2Border:{color:{ref:"formulaToken2Color"}},formulaToken3Color:"#8156b8",formulaToken3BackgroundColor:{ref:"formulaToken3Color",mix:.08},formulaToken3Border:{color:{ref:"formulaToken3Color"}},formulaToken4Color:"#007c1f",formulaToken4BackgroundColor:{ref:"formulaToken4Color",mix:.06},formulaToken4Border:{color:{ref:"formulaToken4Color"}},formulaToken5Color:"#b03e85",formulaToken5BackgroundColor:{ref:"formulaToken5Color",mix:.08},formulaToken5Border:{color:{ref:"formulaToken5Color"}},formulaToken6Color:"#b74900",formulaToken6BackgroundColor:{ref:"formulaToken6Color",mix:.06},formulaToken6Border:{color:{ref:"formulaToken6Color"}},formulaToken7Color:"#247492",formulaToken7BackgroundColor:{ref:"formulaToken7Color",mix:.08},formulaToken7Border:{color:{ref:"formulaToken7Color"}}},lq=()=>Ao({feature:"formulaStyle",params:aq}),cq=lq(),uq={warn:(...e)=>{fe(e[0],e[1])},error:(...e)=>{Dt(e[0],e[1])},preInitErr:(...e)=>{Ku(e[0],e[2],e[1])}},dq=()=>zK(uq).withParams(XK).withPart(oq).withPart(Wk).withPart(eq).withPart(cq),hq='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color)}&:where(.ag-checked):after{background-color:var(--ag-checkbox-checked-shape-color)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input,.ag-radio-button-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}.ag-checkbox-input-wrapper:after,.ag-radio-button-input-wrapper:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}.ag-checkbox-input-wrapper:where(:focus-within,:active),.ag-radio-button-input-wrapper:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color)}&:where(.ag-indeterminate):after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',fq=()=>Ao({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Ri,checkboxUncheckedBorderColor:no(.3),checkboxCheckedBackgroundColor:Ps,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Ri,checkboxIndeterminateBackgroundColor:no(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Ri,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:hq}),gq=fq(),Uk=()=>({...Kg,...ZK,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:no(.05),rowHoverColor:zo(.15),selectedRowBackgroundColor:zo(.2),menuBackgroundColor:no(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:tc,findMatchColor:Ri,findActiveMatchColor:Ri,checkboxUncheckedBorderColor:no(.4),toggleButtonOffBackgroundColor:no(.4),rowBatchEditBackgroundColor:no(.1),formulaToken1Color:"#4da3e5",formulaToken2Color:"#f55864",formulaToken3Color:"#b688f2",formulaToken4Color:"#24bb4a",formulaToken5Color:"#e772ba",formulaToken6Color:"#f69b5f",formulaToken7Color:"#a3e6ff"}),pq=()=>({...Uk(),backgroundColor:"#1f2836"}),mq=()=>Ao({feature:"colorScheme",params:Kg,modeParams:{light:Kg,dark:Uk(),"dark-blue":pq()}}),vq=mq(),jk={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>'},$k={aasc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2012 8.07928C13.6346 8.0793 14.0128 8.15365 14.3359 8.30193C14.6609 8.45018 14.9141 8.65595 15.0947 8.9201C15.2754 9.18439 15.3683 9.49109 15.374 9.83904H14.1904C14.1676 9.60898 14.0695 9.4303 13.8965 9.30291C13.7235 9.1756 13.4889 9.1115 13.1924 9.1115C12.9909 9.1115 12.8204 9.1404 12.6816 9.19744C12.543 9.25255 12.4364 9.32917 12.3623 9.42791C12.2901 9.52678 12.2539 9.63933 12.2539 9.76482C12.2501 9.8692 12.272 9.9604 12.3193 10.0383C12.3688 10.1162 12.4369 10.1843 12.5225 10.2414C12.6079 10.2964 12.7064 10.3451 12.8184 10.3869C12.9304 10.4268 13.0505 10.4609 13.1777 10.4894L13.7031 10.6144C13.9578 10.6715 14.1914 10.7479 14.4043 10.8429C14.6173 10.938 14.8021 11.0547 14.958 11.1935C15.1138 11.3323 15.2348 11.4957 15.3203 11.6838C15.4077 11.8719 15.4522 12.088 15.4541 12.3312C15.4522 12.6885 15.3611 12.9986 15.1807 13.2609C15.0019 13.5214 14.7427 13.7248 14.4043 13.8693C14.0678 14.0118 13.6617 14.0832 13.1865 14.0832C12.7153 14.0832 12.3048 14.0107 11.9551 13.8664C11.6071 13.7219 11.3345 13.5071 11.1387 13.2238C10.9449 12.9387 10.8435 12.5862 10.834 12.1662H12.0283C12.0416 12.362 12.0984 12.5252 12.1973 12.6564C12.298 12.7857 12.4323 12.8838 12.5996 12.9504C12.7688 13.0149 12.96 13.047 13.1729 13.047C13.3817 13.047 13.563 13.0169 13.7168 12.9562C13.8727 12.8954 13.9935 12.8106 14.0791 12.7023C14.1647 12.5939 14.208 12.469 14.208 12.3283C14.2079 12.1974 14.1686 12.0875 14.0908 11.9982C14.0148 11.9089 13.9022 11.8324 13.7539 11.7697C13.6076 11.707 13.4276 11.6501 13.2148 11.5988L12.5791 11.4387C12.0869 11.3189 11.6982 11.1318 11.4131 10.8771C11.128 10.6224 10.9855 10.2793 10.9873 9.84783C10.9854 9.49418 11.0804 9.18439 11.2705 8.9201C11.4625 8.65603 11.7261 8.45015 12.0605 8.30193C12.3951 8.15369 12.7754 8.07928 13.2012 8.07928Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 14.0002H4.48926L4.05664 12.6681H1.94824L1.51465 14.0002H0.19043L2.20703 8.15935H3.79883L5.8125 14.0002ZM2.26172 11.7043H3.74316L3.02539 9.49334H2.98047L2.26172 11.7043Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 8.15935C8.88165 8.15935 9.24031 8.22251 9.52734 8.34978C9.81445 8.47717 10.0303 8.65477 10.1748 8.88103C10.3192 9.10536 10.3916 9.36368 10.3916 9.65642C10.3916 9.88452 10.3461 10.085 10.2549 10.258C10.1637 10.4289 10.0384 10.5696 9.87891 10.6799C9.72117 10.7882 9.54024 10.8657 9.33691 10.9113V10.9679C9.55917 10.9775 9.76716 11.0406 9.96094 11.1564C10.1568 11.2724 10.3158 11.4356 10.4375 11.6447C10.5591 11.8519 10.6201 12.099 10.6201 12.3859C10.6201 12.6958 10.5427 12.9727 10.3887 13.216C10.2366 13.4573 10.0113 13.6486 9.71289 13.7892C9.41443 13.9299 9.04655 14.0002 8.60938 14.0002H6.11426V8.15935H8.45215ZM7.34863 12.9904H8.35547C8.69943 12.9904 8.95057 12.9252 9.1084 12.7941C9.26621 12.661 9.34473 12.4834 9.34473 12.2629C9.34468 12.1014 9.30643 11.9587 9.22852 11.8351C9.15056 11.7116 9.03903 11.6145 8.89453 11.5441C8.75195 11.4738 8.58148 11.4387 8.38379 11.4387H7.34863V12.9904ZM7.34863 10.6037H8.26465C8.43369 10.6036 8.58376 10.5737 8.71484 10.5148C8.84793 10.454 8.95227 10.3683 9.02832 10.258C9.10628 10.1477 9.14551 10.0155 9.14551 9.8615C9.14546 9.65055 9.07008 9.48001 8.91992 9.35076C8.77165 9.22169 8.56064 9.15741 8.28711 9.1574H7.34863V10.6037Z" fill="black"/><path d="M7.16602 0.377127C7.44584 0.189493 7.82551 0.20905 8.08496 0.442557L11.418 3.44256C11.7257 3.71966 11.7507 4.19428 11.4736 4.50213C11.1966 4.80961 10.7228 4.83441 10.415 4.55779L7.60938 2.03338L5.11328 4.53045C4.82042 4.82326 4.34562 4.82322 4.05273 4.53045C3.75986 4.23757 3.75989 3.7628 4.05273 3.4699L7.05273 0.4699L7.16602 0.377127Z" fill="black"/></svg>',adesc:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.3867 11.4697C10.6796 11.1771 11.1544 11.1769 11.4473 11.4697C11.7399 11.7626 11.7399 12.2374 11.4473 12.5303L8.44727 15.5303L8.33398 15.623C8.05425 15.8106 7.67449 15.7909 7.41504 15.5576L4.08203 12.5576C3.77415 12.2805 3.74927 11.8059 4.02637 11.498C4.30342 11.1907 4.77722 11.1657 5.08496 11.4424L7.89062 13.9668L10.3867 11.4697Z" fill="black"/><path d="M13.2012 3.0791C13.6346 3.07912 14.0128 3.1535 14.3359 3.30176C14.6611 3.45006 14.9141 3.65661 15.0947 3.9209C15.2752 4.18513 15.3683 4.49104 15.374 4.83887H14.1904C14.1676 4.60882 14.0695 4.43012 13.8965 4.30273C13.7235 4.17546 13.4889 4.11133 13.1924 4.11133C12.9909 4.11133 12.8204 4.14023 12.6816 4.19727C12.5431 4.25236 12.4364 4.32902 12.3623 4.42773C12.2901 4.52659 12.2539 4.63919 12.2539 4.76465C12.2501 4.86901 12.272 4.96023 12.3193 5.03809C12.3688 5.11604 12.4369 5.18417 12.5225 5.24121C12.6079 5.29623 12.7064 5.34496 12.8184 5.38672C12.9304 5.42661 13.0505 5.46075 13.1777 5.48926L13.7031 5.61426C13.9578 5.67128 14.1914 5.74776 14.4043 5.84277C14.6172 5.93784 14.8021 6.05457 14.958 6.19336C15.1139 6.33216 15.2348 6.49633 15.3203 6.68457C15.4076 6.8727 15.4522 7.08885 15.4541 7.33203C15.4521 7.68929 15.3612 7.99944 15.1807 8.26172C15.0019 8.52216 14.7427 8.72465 14.4043 8.86914C14.0678 9.01165 13.6617 9.08301 13.1865 9.08301C12.7153 9.08299 12.3048 9.01057 11.9551 8.86621C11.6072 8.72173 11.3345 8.50786 11.1387 8.22461C10.9447 7.9394 10.8435 7.58622 10.834 7.16602H12.0283C12.0416 7.36176 12.0985 7.52509 12.1973 7.65625C12.298 7.78554 12.4323 7.88365 12.5996 7.9502C12.7688 8.01477 12.96 8.04785 13.1729 8.04785C13.3817 8.04781 13.5629 8.01678 13.7168 7.95605C13.8727 7.89522 13.9935 7.81051 14.0791 7.70215C14.1646 7.59387 14.2079 7.46965 14.208 7.3291C14.208 7.19796 14.1687 7.08739 14.0908 6.99805C14.0148 6.90868 13.9022 6.83228 13.7539 6.76953C13.6076 6.70685 13.4276 6.64993 13.2148 6.59863L12.5791 6.43848C12.0868 6.31871 11.6982 6.13163 11.4131 5.87695C11.1279 5.62221 10.9855 5.27916 10.9873 4.84766C10.9854 4.49404 11.0804 4.18517 11.2705 3.9209C11.4625 3.65661 11.7259 3.45006 12.0605 3.30176C12.3951 3.15353 12.7754 3.0791 13.2012 3.0791Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.8125 9H4.48926L4.05664 7.66797H1.94824L1.51465 9H0.19043L2.20703 3.15918H3.79883L5.8125 9ZM2.26172 6.7041H3.74316L3.02539 4.49414H2.98047L2.26172 6.7041Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.45215 3.15918C8.88181 3.15918 9.24025 3.22322 9.52734 3.35059C9.81445 3.47798 10.0303 3.6546 10.1748 3.88086C10.3193 4.10518 10.3916 4.36351 10.3916 4.65625C10.3916 4.88432 10.3461 5.08484 10.2549 5.25781C10.1636 5.4289 10.0386 5.57039 9.87891 5.68066C9.72118 5.78898 9.54022 5.86549 9.33691 5.91113V5.96875C9.55913 5.9783 9.76719 6.04044 9.96094 6.15625C10.1568 6.27223 10.3158 6.43538 10.4375 6.64453C10.5591 6.85173 10.6201 7.09875 10.6201 7.38574C10.6201 7.69567 10.5427 7.97245 10.3887 8.21582C10.2366 8.45719 10.0113 8.64841 9.71289 8.78906C9.41442 8.9297 9.04658 8.99999 8.60938 9H6.11426V3.15918H8.45215ZM7.34863 7.99023H8.35547C8.69948 7.99023 8.95057 7.92504 9.1084 7.79395C9.26621 7.66085 9.34473 7.48325 9.34473 7.2627C9.34466 7.10125 9.3064 6.95844 9.22852 6.83496C9.15056 6.71143 9.03899 6.61427 8.89453 6.54395C8.75196 6.47365 8.58145 6.43848 8.38379 6.43848H7.34863V7.99023ZM7.34863 5.60352H8.26465C8.43369 5.60347 8.58376 5.57354 8.71484 5.51465C8.84791 5.45381 8.95228 5.36807 9.02832 5.25781C9.10623 5.14755 9.14551 5.01529 9.14551 4.86133C9.14542 4.65046 9.07002 4.48078 8.91992 4.35156C8.77163 4.22228 8.56087 4.15724 8.28711 4.15723H7.34863V5.60352Z" fill="black"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>'},Cq=(e={})=>{let t="";for(const n of[...Object.keys(jk),...Object.keys($k)]){const i=wq(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},wq=(e,t=1.5)=>{const n=$k[e];if(n)return n;const i=jk[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},yq=(e={})=>Ao({feature:"iconSet",css:()=>Cq(e)}),bq=yq(),Sq=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}&:where(.ag-ltr,.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding:0 var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper),:where(.ag-filter-add-select),:where(.ag-filter-filter),:where(.ag-filter-toolpanel-search),:where(.ag-floating-filter-search-icon),:where(.ag-mini-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper),:where(.ag-ltr) :where(.ag-filter-add-select),:where(.ag-ltr) :where(.ag-filter-filter),:where(.ag-ltr) :where(.ag-filter-toolpanel-search),:where(.ag-ltr) :where(.ag-floating-filter-search-icon),:where(.ag-ltr) :where(.ag-mini-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper),:where(.ag-rtl) :where(.ag-filter-add-select),:where(.ag-rtl) :where(.ag-filter-filter),:where(.ag-rtl) :where(.ag-filter-toolpanel-search),:where(.ag-rtl) :where(.ag-floating-filter-search-icon),:where(.ag-rtl) :where(.ag-mini-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',Rq=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",xq={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},Eq=()=>Ao({feature:"inputStyle",params:{...xq,inputBackgroundColor:Ri,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Ps},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:no(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>Sq+Rq}),Tq=Eq(),Dq='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative}.ag-tab:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}.ag-tab.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}:where(.ag-ltr) .ag-tab.ag-tab-selected:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}:where(.ag-rtl) .ag-tab.ag-tab-selected:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}:where(.ag-ltr) .ag-tab.ag-tab-selected:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}:where(.ag-rtl) .ag-tab.ag-tab-selected:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}.ag-tab:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}.ag-tab.ag-tab-selected:after{opacity:1}',Fq={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},Pq=()=>Ao({feature:"tabStyle",params:{...Fq,tabBarBorder:!0,tabBarBackgroundColor:eo(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Ri},css:Dq}),Aq=Pq(),Mq=()=>({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),kq=()=>dq().withPart(gq).withPart(vq).withPart(bq).withPart(Aq).withPart(Tq).withPart(Wk).withParams(Mq()),Jb=kq(),zr=(e,t,n,i,o)=>({changeKey:e,type:t,defaultValue:n,noWarn:i,cacheDefault:o}),Iq=zr("cellHorizontalPadding","length",16),Oq=zr("indentationLevel","length",0,!0,!0),_q=zr("rowGroupIndentSize","length",0),n1=zr("rowHeight","length",42),i1=zr("headerHeight","length",48),ew=zr("rowBorderWidth","border",1),o1=zr("pinnedRowBorderWidth","border",1),Lq=zr("headerRowBorderWidth","border",1);function Nq(e,t){for(const n of t.sort((i,o)=>i.moduleName.localeCompare(o.moduleName))){const i=n.css;i&&e.set(`module-${n.moduleName}`,i)}}var Hq=class extends KK{initVariables(){this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(n1),this.getSizeEl(i1),this.getSizeEl(ew),this.getSizeEl(o1),this.refreshRowBorderWidthVariable()}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(o1)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ew)}getHeaderRowBorderWidth(){return this.getCSSVariablePixelValue(Lq)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(n1)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(i1)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(Iq)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(Oq),n=this.getCSSVariablePixelValue(_q);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}refreshRowHeightVariable(){const{eRootDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?Number.parseFloat(t):-1}fireStylesChangedEvent(e){e==="rowBorderWidth"&&this.refreshRowBorderWidthVariable(),super.fireStylesChangedEvent(e)}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(ew);this.eRootDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}postProcessThemeChange(e,t){e&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Dt(t?106:239)}getAdditionalCss(){const e=new Map;return e.set("core",[YK]),Nq(e,Array.from(aU())),e}getDefaultTheme(){return Jb}varError(e,t){fe(9,{variable:{cssName:e,defaultValue:t}})}themeError(e){Dt(240,{theme:e})}shadowRootError(){Dt(293)}},Gq=class extends ci{constructor(){super(...arguments),this.beanName="eventSvc",this.eventServiceType="global",this.globalSvc=new Oa}addListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchEvent(e){this.globalSvc.dispatchEvent(this.gos.addCommon(e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(this.gos.addCommon(e))}},Bq=class extends Gq{postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}};function Kk(e,t,n){const i=e.visibleCols.headerGroupRowCount;if(n>=i)return{column:t,headerRowIndex:n};let o=t.getParent();for(;o&&o.getProvidedColumnGroup().getLevel()>n;)o=o.getParent();const s=t.isSpanHeaderHeight();return!o||s&&o.isPadding()?{column:t,headerRowIndex:i}:{column:o,headerRowIndex:o.getProvidedColumnGroup().getLevel()}}var Vq=class extends re{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=kn(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:o,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=o?.getColumnGroup(e)??null)):n=e,!n)return null;const l=s.getHeaderRowContainerCtrl()?.getAllCtrls(),u=Ht(l||[]).type==="filter",d=$o(this.beans)-1;let f=-1,p=n;for(;p;)f++,p=p.getParent();let m=f;return t&&u&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:i}=this.beans,{focusedHeader:o}=n;if(!o)return!1;const{headerRowIndex:s}=o,r=o.column,l=$o(this.beans),u=this.getHeaderRowType(s),d=i.headerGroupRowCount;let{headerRowIndex:f,column:p,headerRowIndexWithoutSpan:m}=e==="UP"?zq(u,r,s):Wq(r,s,d),v=!1;return f<0&&(f=0,p=r,v=!0),f>=l?(f=-1,this.currentHeaderRowWithoutSpan=-1):m!==void 0&&(this.currentHeaderRowWithoutSpan=m),!v&&!p?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:f,column:p},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:o}=this.beans,s={...i.focusedHeader};let r,l;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==o.get("enableRtl")?(l="Before",r=this.findHeader(s,l)):(l="After",r=this.findHeader(s,l));const u=o.getCallback("tabToNextHeader");if(t&&u){const d=i.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:r,direction:l});if(d){const{headerRowIndex:f}=i.focusedHeader||{};f!=null&&f!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return d}return r||!t?i.focusHeaderPosition({headerPosition:r,direction:l,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,l,n)}focusNextHeaderRow(e,t,n){const i=this.beans,o=e.headerRowIndex;let s=null,r;const l=$o(i),u=this.beans.visibleCols.allCols;if(t==="Before"){if(o<=0)return!1;s=Ht(u),r=o-1,this.currentHeaderRowWithoutSpan-=1}else s=u[0],r=o+1,this.currentHeaderRowWithoutSpan<l?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:d,headerRowIndex:f}=Kk(this.beans,s,r);return f>=l&&(f=-1),i.focusSvc.focusHeaderPosition({headerPosition:{column:d,headerRowIndex:f},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(vn(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?Ht(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:i}=this.beans;let o=e.column;if(o instanceof Ad){const u=o.getDisplayedLeafColumns();o=t==="Before"?u[0]:u[u.length-1]}const s=t==="Before"?i.getColBefore(o):i.getColAfter(o);if(!s)return;const r=i.headerGroupRowCount;if(e.headerRowIndex>=r)return{headerRowIndex:e.headerRowIndex,column:s};const l=n?.getColGroupAtLevel(s,e.headerRowIndex);return l?l.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:i.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:l??s}:{headerRowIndex:s instanceof Ya&&s.isSpanHeaderHeight()?i.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function zq(e,t,n){const i=n-1;if(e!=="filter"){const o=t instanceof Ya&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>i||o&&s.isPadding());)s=s.getParent();if(s)return o?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:i}:{column:s,headerRowIndex:i,headerRowIndexWithoutSpan:i}}return{column:t,headerRowIndex:i,headerRowIndexWithoutSpan:i}}function Wq(e,t,n){const i=t+1,o={column:e,headerRowIndex:i,headerRowIndexWithoutSpan:i};if(e instanceof Ad){if(i>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:i};let r=e.getDisplayedChildren()[0];if(r instanceof Ad&&r.isPadding()){const u=r.getDisplayedLeafColumns()[0];u.isSpanHeaderHeight()&&(r=u)}o.column=r,r instanceof Ya&&r.isSpanHeaderHeight()&&(o.headerRowIndex=n,o.headerRowIndexWithoutSpan=i)}return o}var Uq=class extends re{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(c8(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Yt(this.beans),ck)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Yt(this.beans);return this.isDomDataPresentInHierarchy(e,Ug,!0)?!0:this.isDomDataPresentInHierarchy(e,jg,!0)}isDomDataPresentInHierarchy(e,t,n){let i=e;for(;i;){const o=SM(this.gos,i,t);if(o)return o.destroyed&&n?(this.attemptToRecoverFocus(),!1):!0;i=i.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,o={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(o.isFullWidthCell=s.isFullWidth()),o}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:r}=e,l=this.colModel.getCol(t);if(!l){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:As(i),column:l};const u=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...u,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:o,preventScrollOnBrowserFocus:s,sourceEvent:r}),this.previousCellFocusParams=u}isCellFocused(e){return this.focusedCell==null?!1:Lb(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:o,headerRowIndex:s}=this.focusedHeader;return t===o&&n===s&&i==o.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),Ma(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:o,fromCell:s,rowWithoutSpanValue:r,scroll:l=!0}=e;let{headerPosition:u}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(u);if(i){const d=this.focusedHeader,f=$o(this.beans);if(n){const p=this.gos.getCallback("tabToNextHeader");p&&(u=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:d,headerPosition:u,headerRowCount:f}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&o){const m={key:o.key,previousHeaderPosition:d,nextHeaderPosition:u,headerRowCount:f,event:o};u=p(m)}}}return u?this.focusProvidedHeaderPosition({headerPosition:u,direction:t,event:o,fromCell:s,rowWithoutSpanValue:r,scroll:l}):!1}focusHeaderPositionFromUserFunc(e){if(Ma(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:o}=e,s=this.focusedHeader,r=$o(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:r});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:o})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:o,headerRowCount:s}=e,l=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:o,headerRowCount:s});return l===!0?i:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:o,event:s,scroll:r=!0}=e,{column:l,headerRowIndex:u}=t,{filterManager:d,ctrlsSvc:f,headerNavigation:p}=this.beans;if(this.focusedHeader&&E8(e.headerPosition,this.focusedHeader))return!1;if(u===-1)return d?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:l,event:s});r&&p?.scrollToColumn(l,n);const v=f.getHeaderRowContainerCtrl(l.getPinned())?.focusHeader(t.headerRowIndex,l,s)||!1;return p&&v&&(o!=null||i)&&(p.currentHeaderRowWithoutSpan=o??-1),v}focusFirstHeader(){if(this.overlays?.exclusive&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=Kk(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.exclusive&&this.focusOverlay(!0))return!0;const t=$o(this.beans)-1,n=Ht(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===As(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&Ga(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if(this.overlays?.exclusive)return n&&this.focusOverlay(t);if(Fp(this.beans))return t&&!Ma(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Fc(this.beans,t);const o=t?m8(this.beans):p8(this.beans);if(o){const s=e.column??this.focusedHeader?.column,{rowIndex:r,rowPinned:l}=o,u=Ns(this.beans,o);if(!s||!u||r==null)return!1;if(s.isSuppressNavigable(u)){const d=this.gos.get("enableRtl");let f;return!i||i.key===Z.TAB?f=d?Z.LEFT:Z.RIGHT:f=i.key,this.beans.navigation?.navigateToNextCell(null,f,{rowIndex:r,column:s,rowPinned:l||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:r,column:s,rowPinned:l}),t&&this.rowRenderer.getRowByPosition(o)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(o,t)||(this.setFocusedCell({rowIndex:r,column:s,rowPinned:As(l),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:r,rowPinned:l,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:$o(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},jq=class extends re{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){const{gos:e}=this;this.horizontalScrollShowing=e.get("alwaysShowHorizontalScroll")===!0,this.verticalScrollShowing=e.get("alwaysShowVerticalScroll")===!0,this.getScrollbarWidth();const t=this.updateScrollVisible.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,newColumnsLoaded:t})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:Ob();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},$q=class extends re{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},Kq=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],cg=new Set(["gridPreDestroyed","fillStart","pasteStart"]),eS=Kq.reduce((e,t)=>(e[t]=PU(t),e),{}),vc={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agExportingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agNoMatchingRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agBigIntColumnFilter:"BigIntFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agBigIntColumnFloatingFilter:"BigIntFilter",agDateColumnFloatingFilter:"DateFilter",agFormulaCellEditor:"Formula",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"};function s1(e){return`"${e}"`}var qq=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."},rowGroupingHierarchy:{version:"34.3",message:"Use `colDef.groupHierarchy` instead."}}),Yq={allowFormula:"Formula",aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t,...n})=>{const i=n.groupRowEditable;return!!t||!!i?typeof e=="string"?vc[e]??"CustomEditor":"CustomEditor":null},cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:vc[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?vc[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",headerTooltipValueGetter:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",tooltipComponentSelector:"Tooltip",spanRows:"CellSpan",groupHierarchy:"SharedRowGrouping"},Xq=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},allowFormula:{supportedRowModels:["clientSide"]},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return Zo(262);if(t.smallLeft)return Zo(263);if(t.smallRight)return Zo(264)}return null}},sort:{validate:t=>fc(t.sort)||Fr(t.sort)?null:`sort must be of type (SortDirection | SortDef), currently it is ${typeof t.sort=="object"?JSON.stringify(t.sort):eg(t.sort)}`},initialSort:{validate:t=>fc(t.initialSort)||Fr(t.initialSort)?null:`initialSort must be of non-null type (SortDirection | SortDef), currently it is ${typeof t.initialSort=="object"?JSON.stringify(t.initialSort):eg(t.initialSort)}`},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const i=n.filter(o=>!(fc(o)||Fr(o)));if(i.length>0)return`sortingOrder must be an array of type non-null (SortDirection | SortDef)[], incorrect items are: [${i.map(o=>typeof o=="string"||o==null?eg(o):JSON.stringify(o)).join(", ")}]`}else if(!Array.isArray(n)||!n.length)return`sortingOrder must be an array with at least one element, currently it is [${n}]`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(o=>typeof o!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:i,suppressRowTransform:o,enableCellSpan:s,rowDragEntireRow:r,enableCellTextSelection:l})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":i?"colDef.spanRows is not supported with cellSelection.":o?"colDef.spanRows is not supported with suppressRowTransform.":s?r?"colDef.spanRows is not supported with rowDragEntireRow.":l?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."},groupHierarchy:{validate(t,{groupHierarchyConfig:n={}},i){const o=new Set(["year","quarter","month","formattedMonth","day","hour","minute","second"]),s=[];for(const r of t.groupHierarchy??[]){if(typeof r=="object"){i.validation?.validateColDef(r);continue}!o.has(r)&&!(r in n)&&s.push(s1(r))}if(s.length>0){const r=`The following parts of colDef.groupHierarchy are not recognised: ${s.join(", ")}.`,l=`Choose one of ${[...o].map(s1).join(", ")}, or define your own parts in gridOptions.groupHierarchyConfig.`;return`${r}
${l}`}return null}}}),Qq={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,headerTooltipValueGetter:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,groupRowEditable:void 0,groupRowValueSetter:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,tooltipComponentSelector:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0,rowGroupingHierarchy:void 0,groupHierarchy:void 0,allowFormula:void 0},Zq=()=>Object.keys(Qq),Jq=()=>({objectName:"colDef",allProperties:Zq(),docsUrl:"column-properties/",deprecations:qq(),validations:Xq()}),eY=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],tY=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","activeOverlayParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","formulaDataSource","formulaFuncs","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers","groupHierarchyConfig"],nY=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector","suppressOverlays"],qk=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipSwitchShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],iY=["theme","rowSelection"],oY=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],Yk=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","refreshAfterGroupEdit","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows","ssrmExpandAllAffectsAllRows","animateColumnResizing"],sY=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","overlayComponent","loadingOverlayComponent","noRowsOverlayComponent","overlayComponentSelector","activeOverlay","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],rY=()=>[...nY,...tY,...eY,...qk,...sY,...Yk,...oY,...iY],aY=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Bo(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var lY={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"ClientSideRowModelHierarchy",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",refreshAfterGroupEdit:["RowGrouping","TreeData"],rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},cY=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Bo("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Bo("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Bo("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const i=n.domLayout,o=["autoHeight","normal","print"];return i&&!o.includes(i)?`domLayout must be one of [${o.join()}], currently it's ${i}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:i,pinnedBottomRowData:o}){return n&&(i||o)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:i,pinnedTopRowData:o,pinnedBottomRowData:s}){return i&&(o||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:i,pinnedTopRowData:o,pinnedBottomRowData:s}){return i&&(o||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&i?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},groupHierarchyConfig:{validate({groupHierarchyConfig:n={}},i,o){for(const s of Object.keys(n))o.validation?.validateColDef(n[s]);return null}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return Zo(262);if(n.smallLeft)return Zo(263);if(n.smallRight)return Zo(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Bo("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},ssrmExpandAllAffectsAllRows:{validate:n=>{if(typeof n.ssrmExpandAllAffectsAllRows=="boolean"){if(n.rowModelType!=="serverSide")return"'ssrmExpandAllAffectsAllRows' is only supported with the Server Side Row Model.";if(n.ssrmExpandAllAffectsAllRows&&typeof n.getRowId!="function")return"'getRowId' callback must be provided for Server Side Row Model grouping to work correctly."}return null}},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Bo("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Bo("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Bo("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Bo("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>!xo(s));if(o.length>0)return`sortingOrder must be an array of type (SortDirection | SortDef)[], incorrect items are: ${o.map(s=>typeof s=="string"||s==null?eg(s):JSON.stringify(s))}]`}else if(!Array.isArray(i)||!i.length)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},tooltipSwitchShowDelay:{validate:n=>n.tooltipSwitchShowDelay&&n.tooltipSwitchShowDelay<0?"tooltipSwitchShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:o,treeDataParentIdField:s,getDataPath:r,getRowId:l}=n;if(!o&&!s&&!r)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(o){if(r)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(r)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const o=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:o}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Bo("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Bo("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n?.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const i=n.renderingMode,o=["default","legacy"];return i&&!o.includes(i)?`renderingMode must be one of [${o.join()}], currently it's ${i}`:null}},autoSizeStrategy:{validate:({autoSizeStrategy:n})=>{if(!n)return null;const i=["fitCellContents","fitGridWidth","fitProvidedWidth"],o=n.type;return o!=="fitCellContents"&&o!=="fitGridWidth"&&o!=="fitProvidedWidth"?`Invalid Auto-size strategy. \`autoSizeStrategy\` must be one of ${i.map(s=>'"'+s+'"').join(", ")}, currently it's ${o}`:o==="fitProvidedWidth"&&typeof n.width!="number"?`When using the 'fitProvidedWidth' auto-size strategy, must provide a numeric \`width\`. You provided ${n.width}`:null}}},t={};for(const n of Yk)t[n]={expectedType:"boolean"};for(const n of qk)t[n]={expectedType:"number"};return si(t,e),t},uY=()=>({objectName:"gridOptions",allProperties:[...rY(),...Object.values(eS)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:aY(),validations:cY()}),dY=0,hY=0,r1="__ag_grid_instance",fY=class extends re{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.instanceId=hY++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new Oa,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=cg.has(t);if(i&&!e||!i&&e||!gY(t))return;const o=(s,r)=>{const l=eS[s],u=this.gridOptions[l];typeof u=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>u(r))};if(this.gridReadyFired)o(t,n);else if(t==="gridReady"){o(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)o(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"optionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??lM[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ye(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addCommon(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:dY++,properties:[]},o=[],{gridOptions:s,validation:r}=this;for(const l of Object.keys(e)){const u=Db.applyGlobalGridOption(l,e[l]);r?.warnOnInitialPropertyUpdate(n,l);const d=t||typeof u=="object"&&n==="api",f=s[l];if(d||f!==u){s[l]=u;const p={type:l,currentValue:u,previousValue:f,changeSet:i,source:n};o.push(p)}}this.validateGridOptions(this.gridOptions),i.properties=o.map(l=>l.type);for(const l of o)Na(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addCommon(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const i=e[n];if(i==null||i===!1)continue;let o=t[n];typeof o=="function"&&(o=o(e,this.gridOptions,this.beans)),o&&this.assertModuleRegistered(o,n)}}validateGridOptions(e){this.validateOptions(e,lY),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,Yq),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||Dt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Fb(),rowModelType:this.get("rowModelType"),isUmd:fM()}}isModuleRegistered(e){return $w(e,this.gridId,this.get("rowModelType"))}setInstanceDomData(e){e[r1]=this.instanceId}isElementInThisInstance(e){let t=e;for(;t;){const n=t[r1];if(ye(n))return n===this.instanceId;t=t.parentElement}return!1}};function gY(e){return!!eS[e]}var pY=class extends re{constructor(e,t){super(),this.column=e,this.eGui=t,this.lastMovingChanged=0}postConstruct(){this.addManagedElementListeners(this.eGui,{click:e=>e&&this.onClick(e)}),this.addManagedListeners(this.column,{movingChanged:()=>{this.lastMovingChanged=Date.now()}})}onClick(e){const{sortSvc:t,rangeSvc:n,gos:i}=this.beans;if(!(hc(i)?e.altKey:!0))n?.handleColumnSelection(this.column,e);else if(this.column.isSortable()){const s=this.column.isMoving(),l=Date.now()-this.lastMovingChanged<50;s||l||t?.progressSortFromEvent(this.column,e)}}};function mY(e,t){const n={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:n},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:n},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[e?{tag:"span",ref:"eColRef",cls:"ag-header-col-ref"}:null,{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:n},t?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var vY=class extends dn{constructor(){super(...arguments),this.eFilter=xe,this.eFilterButton=xe,this.eSortIndicator=xe,this.eMenu=xe,this.eLabel=xe,this.eText=xe,this.eColRef=xe,this.eSortOrder=xe,this.eSortAsc=xe,this.eSortDesc=xe,this.eSortMixed=xe,this.eSortNone=xe,this.eSortAbsoluteAsc=xe,this.eSortAbsoluteDesc=xe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||e.column.formulaRef!=this.currentRef||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};si(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const{formula:n}=this.beans,i=e.template;return i?i?.trim?i.trim():i:mY(!!n?.active,t)}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:o}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),this.eLabel&&(this.mouseListener??(this.mouseListener=this.createManagedBean(new pY(e.column,this.eLabel)))),n?.setupForHeader(this),this.setMenu(),this.setupSort(),this.setupColumnRefIndicator(),i?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(o,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=Hj(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText&&this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Bc(t))}addInIcon(e,t,n){const i=Si(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Mr(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=Hi(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const o=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=o,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(o)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:i,eMenu:o,eFilterButton:s}=this,r=t.column,l=Hi(n);if(e&&!l){if(i.menuSvc?.isFilterMenuInHeaderEnabled(r))return t.showFilter(s??o??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(o??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:o,eSortAsc:s,eSortDesc:r,eSortMixed:l,eSortNone:u,eSortAbsoluteAsc:d,eSortAbsoluteDesc:f}=this;i.attachCustomElements(o,s,r,l,u,d,f)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n)}setupColumnRefIndicator(){const{eColRef:e,beans:{editModelSvc:t},params:n}=this;e&&(this.currentRef=n.column.formulaRef,e.textContent=this.currentRef,Nt(e,!1),this.addManagedEventListeners({cellEditingStarted:()=>{const i=t?.getEditPositions(),o=!!this.currentRef&&!!i?.some(s=>s.column.isAllowFormula());Nt(e,o)},cellEditingStopped:()=>{Nt(e,!1)}}))}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const i=t.column.isFilterActive();Nt(e,i,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return Mr(t),!1;const o=this.params.column;return this.addInIcon(i,t,o),this.addManagedListeners(o,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent=this.destroyBean(this.innerHeaderComponent),this.mouseListener=this.destroyBean(this.mouseListener)}},CY=class extends re{constructor(e,t){super(),this.eLabel=e,this.columnGroup=t,this.isSticky=!1,this.left=null,this.right=null}postConstruct(){const{columnGroup:e,beans:t}=this,{ctrlsSvc:n}=t;n.whenReady(this,()=>{const i=this.refreshPosition.bind(this);e.getPinned()==null&&this.addManagedEventListeners({bodyScroll:o=>{o.direction==="horizontal"&&this.updateSticky(o.left)}}),this.addManagedListeners(e,{leftChanged:i,displayedChildrenChanged:i}),this.addManagedEventListeners({columnResized:i}),this.refreshPosition()})}refreshPosition(){const{columnGroup:e,beans:t}=this,n=e.getLeft(),i=e.getActualWidth();if(n==null||i===0){this.left=null,this.right=null,this.setSticky(!1);return}this.left=n,this.right=n+i;const o=t.colViewport.getScrollPosition();o!=null&&this.updateSticky(o)}updateSticky(e){const{beans:t,left:n,right:i}=this;if(n==null||i==null){this.setSticky(!1);return}const{gos:o,visibleCols:s}=t,l=o.get("enableRtl")?s.bodyWidth-e:e;this.setSticky(n<l&&i>l)}setSticky(e){const{isSticky:t,eLabel:n}=this;t!==e&&(this.isSticky=e,n.classList.toggle("ag-sticky-label",e))}},wY={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},yY=class extends dn{constructor(){super(wY),this.agOpened=xe,this.agClosed=xe,this.agLabel=xe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&fe(89)}workOutInnerHeaderGroupComponent(e,t){const n=Bj(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:{colGroupSvc:i}}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const o=u=>{if(Is(u))return;const d=!n.isExpanded();i.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(t,o),this.addTouchAndClickListeners(e,o);const s=u=>{Ba(u)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:o}),this.updateIconVisibility();const r=n.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(r,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t){this.beans.touchSvc?.setupForHeaderGroupElement(this,e,t),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();Nt(e,i),Nt(t,!i)}else Nt(e,!1),Nt(t,!1)}addInIcon(e,t){const n=Si(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Nt(t,!1),Nt(n,!1)}}setupLabel(e){const{displayName:t,columnGroup:n}=e,{innerHeaderGroupComponent:i,isLoadingInnerComponent:o}=this,s=i||o;ye(t)&&!s&&(this.agLabel.textContent=Bc(t)),n.getColGroupDef()?.suppressStickyLabel||this.createManagedBean(new CY(this.getGui(),n))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},bY={moduleName:"ColumnHeaderComp",version:Ce,userComponents:{agColumnHeader:vY},icons:{menu:"menu",menuAlt:"menu-alt"}},SY={moduleName:"ColumnGroupHeaderComp",version:Ce,userComponents:{agColumnGroupHeader:yY},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},RY=class extends re{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&fe(92)}createTask(e,t,n,i,o=!1){this.verify();let s=n;i&&this.batchFrameworkComps&&(s="f1");const r={task:e,index:t,createOrder:++this.taskCount,deferred:o};this.addTaskToList(this[s],r),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.deferred!==i.deferred?n.deferred?-1:1:n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:o,beans:s}=this,{ctrlsSvc:r,frameworkOverrides:l}=s,u=t.list,d=n.list,f=i.list,p=Date.now();let m=0;const v=e<=0,b=r.getScrollFeature();for(;v||m<e;){if(!b.scrollGridIfNeeded()){let R;if(u.length)this.sortTaskList(t),R=u.pop().task;else if(d.length)this.sortTaskList(n),R=d.pop().task;else if(f.length)l.wrapOutgoing(()=>{for(;(v||m<e)&&!b.scrollGridIfNeeded();){if(f.length)this.sortTaskList(i),R=f.pop().task,R();else break;m=Date.now()-p}}),R=()=>{};else if(o.length)R=o.pop();else break;R()}m=Date.now()-p}u.length||d.length||f.length||o.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);zs(this.beans,e)}isQueueEmpty(){return!this.ticking}},xY={moduleName:"AnimationFrame",version:Ce,beans:[RY]},EY=class extends re{constructor(){super(...arguments),this.beanName="iconSvc"}createIconNoSpan(e,t){return Si(e,this.beans,t?.column)}},TY=class extends re{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Aa())return;const t=(n,i,o)=>{const{rowCtrl:s,cellCtrl:r}=e.getControlsForEventTarget(o?.target??null);r?.column&&r.dispatchCellContextMenuEvent(o??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,o,s,r)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Aa()||Mg("dblclick"))return!1;const i=Date.now(),o=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,o})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:i}=this.beans;if(t.get("suppressTouch"))return;const{params:o,eMenu:s,eFilterButton:r}=e,l=new va(e.getGui(),!0);e.addDestroyFunc(()=>l.destroy());const u=e.shouldSuppressMenuHide(),d=u&&ye(s)&&o.enableMenu;let f=l;if(d&&(f=new va(s,!0),e.addDestroyFunc(()=>f.destroy())),o.enableMenu||i?.isHeaderContextMenuEnabled(o.column)){const p=d?"tap":"longTap",m=v=>o.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(f,{[p]:m}),e.addManagedListeners(l,{longTap:m})}if(o.enableSorting){const p=m=>{const v=m.touchStart.target;u&&(s?.contains(v)||r?.contains(v))||n?.progressSort(o.column,!1,"uiColumnSorted")};e.addManagedListeners(l,{tap:p})}if(o.enableFilterButton&&r){const p=new va(r,!0);e.addManagedListeners(p,{tap:()=>o.showFilter(r)}),e.addDestroyFunc(()=>p.destroy())}}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new va(t.eGridHeader,!0),i=o=>t.showColumnMenuAfterMouseClick(o.touchStart);e.addManagedListeners(n,{longTap:i}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const i=new va(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Aa())return;const i=new va(t),o=s=>{Dd(this.beans,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(i,{longTap:o}),e.addDestroyFunc(()=>i.destroy())}},DY={moduleName:"Touch",version:Ce,beans:[TY]},FY=class extends re{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Z.UP,i=e===Z.DOWN,o=e===Z.LEFT;let s,r;const{pageBounds:l,gos:u,visibleCols:d,pinnedRowModel:f}=this.beans,{rowPinned:p}=t;if(n||i)p&&f?n?r=0:r=p==="top"?f.getPinnedTopRowCount()-1:f.getPinnedBottomRowCount()-1:r=n?l.getFirstRow():l.getLastRow(),s=t.column;else{const m=u.get("enableRtl");r=t.rowIndex,s=(o!==m?d.allCols:[...d.allCols].reverse()).find(b=>this.isCellGoodToFocusOn({rowIndex:r,rowPinned:null,column:b}))}return s?{rowIndex:r,rowPinned:p,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case Z.UP:n=this.getCellAbove(n);break;case Z.DOWN:n=this.getCellBelow(n);break;case Z.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Z.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,fe(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:o}=this.beans;switch(e.rowPinned){case"top":n=i?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i?.getPinnedBottomRow(e.rowIndex);break;default:n=o.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=ED(this.beans,t,!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=Wg(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned},!0);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let o=e.rowIndex,s=e.rowPinned,r=t.getColAfter(e.column);if(!r){r=i[0];const l=ED(this.beans,e,!0);if(tn(l)||!l.rowPinned&&!(n?.isRowInPage(l.rowIndex)??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:r,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,o=n.allCols;let s=e.rowIndex,r=e.rowPinned,l=n.getColBefore(e.column);if(!l){l=Ht(o);const u=Wg(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned},!0);if(tn(u)||!u.rowPinned&&!(i?.isRowInPage(u.rowIndex)??!0))return null;s=u?u.rowIndex:null,r=u?u.rowPinned:null}return{rowIndex:s,column:l,rowPinned:r}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function PY(e){return e.focusSvc.getFocusedCell()}function AY(e){return e.focusSvc.clearFocusedCell()}function MY(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function kY(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function IY(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function OY(e,t,n=!1){const i=e.headerNavigation?.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}function za(e){const t=e;return t?.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var _Y=class extends re{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new Xk,this.rowValidations=new Qk,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const i=e.pinnedSibling;if(i)return this.getEditRow(i)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(!e||this.edits.size===0)return;const n=this.getEditRow(e),i=e.pinnedSibling,o=t&&i&&this.getEditRow(i);if(!n&&!o)return;const s={...e.data},r=(l,u)=>l.forEach(({pendingValue:d},f)=>{d!==Gn&&(u[f.getColId()]=d)});return n&&r(n,s),o&&r(o,s),s}getEdit(e={},t){const{rowNode:n,column:i}=e,o=this.edits;if(this.suspendEdits||o.size===0||!n||!i)return;const s=o.get(n)?.get(i);if(s)return s;if(t?.checkSiblings){const r=n.pinnedSibling;if(r)return o.get(r)?.get(i)}}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,i)=>{const o=new Map;n.forEach(({editorState:s,...r},l)=>o.set(l,{...r})),t.set(i,o)}),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const i=new Map;t.forEach((o,s)=>i.set(s,{...o})),this.edits.set(n,i)})}setEdit(e,t){const n=this.edits;(n.size===0||!n.has(e.rowNode))&&n.set(e.rowNode,new Map);const i=this.getEdit(e),o={editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0},...i,...t};return this.getEditRow(e.rowNode).set(e.column,o),o}clearEditValue(e){const{rowNode:t,column:n}=e;if(!t)return;const i=s=>{s.editorValue=void 0,s.pendingValue=s.sourceValue,s.state="changed"};if(!n){this.getEditRow(t)?.forEach(i);return}const o=this.getEdit(e);o&&i(o)}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,i)=>{for(const o of n.keys()){const{editorState:s,...r}=n.get(o);t.push({rowNode:i,column:o,...r})}}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:i}=e,{withOpenEditor:o}=t;if(n){const s=this.getEditRow(n,t);return s?i?o?this.getEdit(e)?.state==="editing":s.has(i):s.size!==0?o?Array.from(s.values()).some(({state:r})=>r==="editing"):!0:!1:!1}return o?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:i}=e;i&&!t.has(i)&&t.set(i,{editorValue:void 0,pendingValue:Gn,sourceValue:this.beans.valueSvc.getValue(i,n,"data"),state:"editing",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}}),this.edits.set(n,t)}stop(e,t,n){if(this.hasEdits(e))if(t){const i=this.getEditRow(e.rowNode)?.get(e.column);i&&(i.pendingValue===Gn||i.pendingValue===i.sourceValue)?this.removeEdits(e):i&&n&&(i.editorValue=void 0)}else this.removeEdits(e)}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},Xk=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e?.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:i}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(i,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},Qk=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return e?.rowNode?!!this.getRowValidation(e):this.rowValidations.size>0}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function qg(e,t={}){const{rowIndex:n,rowId:i,rowCtrl:o,rowPinned:s}=t;if(o)return o;const{rowModel:r,rowRenderer:l}=e;let{rowNode:u}=t;return u||(i?u=v8(e,i,s):n!=null&&(u=r.getRow(n))),l.getRowCtrls(u?[u]:[])?.[0]}function Mt(e,t={}){const{cellCtrl:n,colId:i,columnId:o,column:s}=t;if(n)return n;const r=e.colModel.getCol(i??o??uy(s)),l=t.rowCtrl??qg(e,t),u=l?.getCellCtrl(r)??void 0;if(u)return u;const d=t.rowNode??l?.rowNode;if(d)return e.rowRenderer.getCellCtrls([d],[r])?.[0]}function a1(e){const{editSvc:t}=e;t?.isBatchEditing()?(Dr(e,{persist:!0}),Ea(e)):t?.stopEditing(void 0,{source:"api"})}function LY(e,t,n){const{gos:i,popupSvc:o}=t;if(!i.get("stopEditingWhenCellsLoseFocus"))return;const s=r=>{const l=r.relatedTarget;if(Jw(l)===null){a1(t);return}let u=n.some(d=>d.contains(l))&&i.isElementInThisInstance(l);u||(u=!!o&&(o.getActivePopups().some(d=>d.contains(l))||o.isElementWithinCustomPopup(l))),u||a1(t)};for(const r of n)e.addManagedElementListeners(r,{focusout:s})}function uy(e){if(e)return typeof e=="string"?e:e.getColId()}var Gn=Symbol("unedited"),NY=(e,t={})=>{const n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns),i=new Array(n.length);let o=0;for(let s=0,r=n.length;s<r;++s){const u=n[s].comp?.getCellEditor();u&&(i[o++]=za(u))}return i.length=o,i};function HY(e,t,n,i,o,s){t.length===0&&n?.rowNode&&n?.column&&Pc(e,n,{key:i,event:o,cellStartedEdit:s});const{valueSvc:r,editSvc:l,editModelSvc:u}=e,{rowNode:d,column:f}=n??{};for(const p of t){const{rowNode:m,column:v}=p,b=Mt(e,p);if(!b){if(m&&v){const R=r.getValue(v,m,"data"),F=(n?.rowNode===m&&n?.column===v&&i||void 0)??l?.getCellDataValue(p)??r.getValueForDisplay({column:v,node:m,from:"edit"})?.value??R??Gn;u?.setEdit(p,{pendingValue:Ac(e,F,!1,v),sourceValue:R,state:"editing"})}continue}const S=s&&d===b.rowNode&&b.column===f;Pc(e,{rowNode:d,column:b.column},{key:S?i:null,event:S?o:null,cellStartedEdit:S&&s})}}function Eo({pendingValue:e,sourceValue:t}){return e===Gn&&(e=t),e!==t}function GY(e){const t=new Map;for(const[n,i]of e){const o=new Map;for(const[s,r]of i)Eo(r)&&o.set(s,r);o.size>0&&t.set(n,o)}return t}function Pc(e,t,n){const{key:i,event:o,cellStartedEdit:s,silent:r}=n??{},{editModelSvc:l,editSvc:u,gos:d,userCompFactory:f}=e,p=Mt(e,t),m=p?.comp?.getCellEditor(),v=Jk(e,t,i,s&&!r),b=l?.getEdit(t),S=v.value??b?.sourceValue;if(m){l?.setEdit(t,{editorValue:Ac(e,S,!0,t.column),state:"editing"}),m.refresh?.(v);return}const R=t.column.getColDef(),x=$M(f,R,v);if(!x)return;const{popupFromSelector:T,popupPositionFromSelector:F}=x,A=T??!!R.cellEditorPopup,M=F??R.cellEditorPopupPosition;if(eI(x.params,o),!p)return;const{rangeFeature:I,rowCtrl:P,comp:_,onEditorAttachedFuncs:L}=p;l?.setEdit(t,{editorValue:Ac(e,S,!0,t.column),state:"editing"}),p.editCompDetails=x,L.push(()=>I?.unsetComp()),_?.setEditDetails(x,A,M,d.get("reactiveCustomComponents")),P?.refreshRow({suppressFlash:!0});const V=l?.getEdit(t);!r&&!V?.editorState?.cellStartedEditing&&(u?.dispatchCellEvent(t,o,"cellEditingStarted",{value:S}),l?.setEdit(t,{editorState:{cellStartedEditing:!0}}))}function Zk(e,t,n){const i={editorValueExists:!1};if(tS(e)&&(t.getValidationErrors?.()?.length??0)>0||n?.isCancelling)return i;if(n?.isStopping){const s=t?.isCancelAfterEnd?.();if(s)return{...i,isCancelAfterEnd:s}}return{editorValue:t.getValue(),editorValueExists:!0}}function Jk(e,t,n,i){const{valueSvc:o,gos:s,editSvc:r}=e,l=e.gos.get("enableGroupEdit"),u=Mt(e,t),d=t.rowNode?.rowIndex??void 0,f=r?.isBatchEditing(),p=e.colModel.getCol(t.column.getId()),{rowNode:m,column:v}=t,b=u.comp?.getCellEditor(),S=r?.getCellDataValue(t),R=S===void 0?b?Zk(e,b)?.editorValue:void 0:S,x=R===Gn?o.getValueForDisplay({column:p,node:m,from:"edit"})?.value:R;let T=l?R:x;return v.isAllowFormula()&&e.formula?.isFormula(T)&&(T=e.formula?.normaliseFormula(T,!0)??T),Ne(s,{value:T,eventKey:n??null,column:v,colDef:v.getColDef(),rowIndex:d,node:m,data:m.data,cellStartedEdit:!!i,onKeyDown:u?.onKeyDown.bind(u),stopEditing:F=>{r.stopEditing(t,{source:f?"ui":"api",suppressNavigateAfterEdit:F}),kd(e,t,{})},eGridCell:u?.eGui,parseValue:F=>o.parseValue(p,m,F,u?.value),formatValue:u?.formatValue.bind(u),validate:()=>{r?.validateEdit()}})}function ug(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((i,o)=>{i.forEach((s,r)=>{!t&&(s.state==="editing"||s.pendingValue===Gn)||!Eo(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:o,column:r})})})}function BY(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:i,cellStartedEdit:o}=t.editCompDetails.params,{column:s}=t,r=Jk(e,t,i,o),l=s.getColDef(),u=$M(e.userCompFactory,l,r);n.refresh(eI(u.params,i))}function eI(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function Dr(e,t){for(const n of e.editModelSvc?.getEditPositions()??[]){const i=Mt(e,n);if(!i)continue;const o=i.comp?.getCellEditor();if(!o)continue;const{editorValue:s,editorValueExists:r,isCancelAfterEnd:l}=Zk(e,o,t);l&&e.editModelSvc?.setEdit(n,{editorState:{isCancelAfterEnd:l}}),Yu(e,n,s,void 0,!r,t)}}function Yu(e,t,n,i,o,s){const{editModelSvc:r,valueSvc:l}=e;if(!r)return;const{rowNode:u,column:d}=t;if(!(u&&d))return;let f=r.getEdit(t);if(f?.sourceValue===void 0){const p=f?Ac(e,f.editorValue,!1,d):Gn,m={sourceValue:l.getValue(d,u,"data"),pendingValue:p};s?.persist&&(m.state="changed"),f=r.setEdit(t,m)}r.setEdit(t,{editorValue:o?Ac(e,f.sourceValue,!0,d):n}),s?.persist&&VY(e,t)}function Ac(e,t,n,i){const{formula:o}=e;return i.isAllowFormula()&&o?.isFormula(t)?o?.normaliseFormula(t,n)??t:t}function VY(e,t){const{editModelSvc:n}=e,i=n?.getEdit(t),s={pendingValue:Ac(e,i?.editorValue,!1,t.column)};!i?.editorState?.cellStoppedEditing&&i?.state!=="editing"&&(s.state="changed"),n?.setEdit(t,s)}function Ea(e,t,n={}){if(t||(t=e.editModelSvc?.getEditPositions()),t)for(const i of t)kd(e,i,n)}function kd(e,t,n,i=Mt(e,t)){const o=e.editModelSvc,s=o?.getEdit(t);let r;if(s&&s.state!=="editing"&&s.editorState?.cellStoppedEditing?r=s.state:r="changed",!i){s&&o?.setEdit(t,{state:r});return}const l=i.comp,u=l?.getCellEditor();if(l&&!u){if(i?.refreshCell(),s){o?.setEdit(t,{state:r});const f=e.gos.get("enableGroupEdit")?l1(s,n?.cancel):{valueChanged:!1,newValue:void 0,oldValue:s.sourceValue};c1(e,t,f,n)}return}if(tS(e)){const f=s&&u?.getValidationErrors?.(),p=o?.getCellValidationModel();f?.length?p?.setCellValidation(t,{errorMessages:f}):p?.clearCellValidation(t)}s&&o?.setEdit(t,{state:r}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),i?.refreshCell({force:!0,suppressFlash:!0});const d=o?.getEdit(t);if(d&&d.state!=="editing"){const f=n?.cancel,p=e.gos.get("enableGroupEdit")?l1(d,f):zY(d,s,f);c1(e,t,p,n)}}function l1(e,t){const{sourceValue:n,pendingValue:i}=e;let o;return!t&&i!==Gn&&(o=i),{valueChanged:!t&&Eo(e),newValue:o,oldValue:n,value:n}}function zY(e,t,n){if(n||e.editorState.isCancelAfterEnd)return{valueChanged:!1,newValue:void 0,oldValue:e.sourceValue};let i=e.editorValue;return(i==null||i===Gn)&&(i=t?.pendingValue),i===Gn&&(i=void 0),{valueChanged:Eo(e),newValue:i,oldValue:e.sourceValue}}function c1(e,t,n,{silent:i,event:o}={}){const{editSvc:s,editModelSvc:r}=e,l=r?.getEdit(t),{editorState:u}=l||{},{isCancelBeforeStart:d}=u||{};!i&&!d&&(s?.dispatchCellEvent(t,o,"cellEditingStopped",n),r?.setEdit(t,{editorState:{cellStoppedEditing:!0}}))}function WY(e){if(!e)return!1;for(let t=0,n=e.length;t<n;++t){const i=e[t],o=i.cellEditorParams;if(!(!o||!i.editable&&!i.groupRowEditable)&&(o.minLength!==void 0||o.maxLength!==void 0||o.getValidationErrors!==void 0||o.min!==void 0||o.max!==void 0))return!0}return!1}function UY(e){const t=e.rowRenderer.getCellCtrls();for(let n=0,i=t.length;n<i;++n){const s=t[n].comp?.getCellEditor();if(s){const r=za(s);if(r.getValidationElement||r.getValidationErrors)return!0}}return!1}function tS(e){return!!e.gos.get("getFullRowEditValidationErrors")||WY(e.colModel.getColumnDefs())||UY(e)}function Wa(e,t){if(!(t||tS(e)))return;const n=new Xk,{ariaAnnounce:i,localeSvc:o,editModelSvc:s,gos:r}=e,l=r.get("editType")==="fullRow",d=sM(o)("ariaValidationErrorPrefix","Cell Editor Validation"),f=new Set;for(const p of e.rowRenderer.getCellCtrls()){const m=p.comp?.getCellEditor();if(!m)continue;const v=za(m),{rowNode:b,column:S}=p,R=v.getValidationErrors?.()??[],x=v.getValidationElement?.(!1)||!v.isPopup?.()&&p.eGui;if(x){const T=R!=null&&R.length>0,F=T?R.join(". "):"";wb(x,T),T&&i.announceValue(`${d} ${R}`,"editorValidation"),x instanceof HTMLInputElement?x.setCustomValidity(F):x.classList.toggle("invalid",T)}R?.length>0&&n.setCellValidation({rowNode:b,column:S},{errorMessages:R}),f.add(p.rowCtrl)}if(Dr(e,{persist:!1}),s?.setCellValidationModel(n),l){const p=jY(e);s?.setRowValidationModel(p)}for(const p of f.values()){p.rowEditStyleFeature?.applyRowStyles();for(const m of p.getAllCellCtrls())m.tooltipFeature?.refreshTooltip(!0),m.editorTooltipFeature?.refreshTooltip(!0),m.editStyleFeature?.applyCellStyles?.()}}var jY=e=>{const t=new Qk,n=e.gos.get("getFullRowEditValidationErrors"),i=e.editModelSvc?.getEditMap();if(!i)return t;for(const o of i.keys()){const s=i.get(o);if(!s)continue;const r=[],{rowIndex:l,rowPinned:u}=o;for(const f of s.keys()){const p=s.get(f);if(!p)continue;const{editorValue:m,pendingValue:v,sourceValue:b}=p,S=m??(v===Gn?void 0:v)??b;r.push({column:f,colId:f.getColId(),rowIndex:l,rowPinned:u,oldValue:b,newValue:S})}const d=n?.({editorsState:r})??[];d.length>0&&t.setRowValidation({rowNode:o},{errorMessages:d})}return t};function $Y(e){Wa(e,!0);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((i,o)=>{i.forEach(({errorMessages:s},r)=>{n.push({column:r,rowIndex:o.rowIndex,rowPinned:o.rowPinned,messages:s??null})})}),n}function Qd(e){return!!(e.rowPinned&&e.pinnedSibling)}function Zi(e,t,n,i){const o=t==="top";if(!n)return Zi(e,t,o?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),i);if(!i){const u=o?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return Zi(e,t,n,o?e.getPinnedTopRow(u-1):e.getPinnedBottomRow(u-1))}let s=!1,r=!1;const l=[];return e.forEachPinnedRow(t,u=>{if(u===n&&!s){s=!0,l.push(u);return}if(s&&u===i){r=!0,l.push(u);return}s&&!r&&l.push(u)}),l}function KY(e,t,n,{rowNode:i,column:o},s){return Ne(e.gos,{type:n,node:i,data:i.data,value:s,column:o,colDef:o.getColDef(),rowPinned:i.rowPinned,event:t,rowIndex:i.rowIndex})}function qY(e,t=!1){return e===Z.DELETE?!0:!t&&e===Z.BACKSPACE?QM():!1}var YY=class extends re{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case Z.ENTER:this.onEnterKeyDown(e);break;case Z.F2:this.onF2KeyDown(e);break;case Z.ESCAPE:this.onEscapeKeyDown(e);break;case Z.TAB:this.onTabKeyDown(e);break;case Z.BACKSPACE:case Z.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Z.DOWN:case Z.UP:case Z.RIGHT:case Z.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:i}=this;if(!i.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const o=n.getFocusedCellPosition();i.navigation?.navigateToNextCell(e,t,o,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(e.key===Z.LEFT||e.key===Z.RIGHT?n?.ensureColumnVisible(i.column):n?.ensureRowVisible(i.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:o}=this,{gos:s,rangeSvc:r,eventSvc:l,editSvc:u}=i;if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),qY(e,s.get("enableCellEditingOnBackspace"))&&!u?.isEditing(n,{withOpenEditor:!0})){if(r&&Ir(s))r.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const d=i.valueSvc.getDeleteValue(n.column,o);o.setDataValue(n.column,d,"cellClear")}}else u?.isEditing(n,{withOpenEditor:!0})||i.editSvc?.startEditing(n,{startedEdit:!0,event:t});l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:i,navigation:o}=n,s=i?.isEditing(t,{withOpenEditor:!0}),r=t.rowNode,l=i?.isRowEditing(r,{withOpenEditor:!0}),u=d=>{i?.startEditing(d,{startedEdit:!0,event:e,source:"edit"})&&e.preventDefault()};if(s||l){if(this.isCtrlEnter(e)){i?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(Wa(n),i?.checkNavWithValidation(void 0,e)==="block-stop")return;i?.isEditing(t,{withOpenEditor:!0})?i?.stopEditing(t,{event:e,source:"edit"}):l&&!t.isCellEditable()?i?.stopEditing({rowNode:r},{event:e,source:"edit"}):u(t)}else if(n.gos.get("enterNavigatesVertically")){const d=e.shiftKey?Z.UP:Z.DOWN;o?.navigateToNextCell(null,d,t.cellPosition,!1)}else{if(i?.hasValidationErrors())return;i?.hasValidationErrors(t)&&i.revertSingleCellEdit(t,!0),u(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===Z.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(Wa(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),setTimeout(()=>{n?.stopEditing(t,{event:e,cancel:!0})})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:i},cellCtrl:o}=this;if(n||i?.isEditing(o,{withOpenEditor:!0}))return;if(e.key===Z.SPACE)this.onSpaceKeyDown(e);else if(i?.isCellEditable(o,"ui")){if(i?.hasValidationErrors()&&!i?.hasValidationErrors(o))return;i?.startEditing(o,{startedEdit:!0,event:e,source:"api",editable:!0}),!o.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:i}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&Fa(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,i,"spaceKey"),e.preventDefault()}},XY=class extends re{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Is(t))switch(e){case"click":this.onCellClicked(t);break;case"pointerdown":case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:i,editModelSvc:o,frameworkOverrides:s,gos:r}=this.beans,l=e.ctrlKey||e.metaKey,{cellCtrl:u}=this,{column:d,cellPosition:f,rowNode:p}=u,m=rg(r,d,p,e);n&&l&&!m&&n.getCellRangeCount(f)>1&&n.intersectLastRange(!0);const v=u.createEvent(e,"cellClicked");v.isEventHandlingSuppressed=m,t.dispatchEvent(v);const b=d.getColDef();if(b.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{b.onCellClicked(v)})},0),!m&&o?.getState(u)!=="editing"){const S=i?.isEditing(),R=i?.isRangeSelectionEnabledWhileEditing(),x=o?.getCellValidationModel().getCellValidationMap().size??0,T=o?.getRowValidationModel().getRowValidationMap().size??0;if(S&&(R||x>0||T>0))return;i?.shouldStartEditing(u,e)?i?.startEditing(u,{event:e}):i?.shouldStopEditing(u,e)&&(this.beans.gos.get("editType")==="fullRow"?i?.stopEditing(u,{event:e,source:"edit"}):i?.stopEditing(void 0,{event:e,source:"edit"}))}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:o,frameworkOverrides:s,editSvc:r,editModelSvc:l,gos:u}=n,d=rg(u,i.column,i.rowNode,e),f=t.getColDef(),p=i.createEvent(e,"cellDoubleClicked");if(p.isEventHandlingSuppressed=d,o.dispatchEvent(p),typeof f.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{f.onCellDoubleClicked(p)})},0),!d&&r?.shouldStartEditing(i,e)&&l?.getState(i)!=="editing"){const m=r?.isEditing(),v=r?.isRangeSelectionEnabledWhileEditing(),b=l?.getCellValidationModel().getCellValidationMap().size??0,S=l?.getRowValidationModel().getRowValidationMap().size??0;if(m&&(v||b>0||S>0))return;r?.startEditing(i,{event:e})}}onMouseDown(e){const{shiftKey:t}=e,n=e.target,{cellCtrl:i,beans:o}=this,{eventSvc:s,rangeSvc:r,rowNumbersSvc:l,focusSvc:u,gos:d,editSvc:f}=o,{column:p,rowNode:m,cellPosition:v}=i,b=rg(d,p,m,e),S=()=>{const F=i.createEvent(e,"cellMouseDown");F.isEventHandlingSuppressed=b,s.dispatchEvent(F)};if(b){S();return}if(this.isRightClickInExistingRange(e))return;const R=r&&!r.isEmpty(),x=this.containsWidget(n),T=Ms(p);if(!(l&&T&&!l.handleMouseDownOnCell(v,e))){if(!t||!R){const F=f?.isEditing(i),M=d.get("enableCellTextSelection")&&e.defaultPrevented,I=(Vr()||M)&&!F&&!td(n)&&!x;i.focusCell(I,e)}if(t&&R&&!u.isCellFocused(v)){e.preventDefault();const F=u.getFocusedCell();if(F){const{column:A,rowIndex:M,rowPinned:I}=F,P=!!f?.isRangeSelectionEnabledWhileEditing?.();f?.isEditing(F)&&!P&&f?.stopEditing(F),P||u.setFocusedCell({column:A,rowIndex:M,rowPinned:I,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}x||(r?.handleCellMouseDown(e,v),S())}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=kU(this.beans,e);if(n&&i)return!0}return!1}containsWidget(e){return Ta(e,"ag-selection-checkbox",3)||Ta(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}},QY=class extends re{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Gr(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let o=e;const s=e.getPinned();for(let r=0;o&&r<n&&(i.push(o),o=this.beans.visibleCols.getColAfter(o),!(!o||tn(o)||s!==o.getPinned()));r++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ht(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Pa(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},ZY="ag-cell",JY="ag-cell-auto-height",eX="ag-cell-normal-height",tX="ag-cell-focus",nX="ag-cell-first-right-pinned",iX="ag-cell-last-left-pinned",oX="ag-cell-not-inline-editing",sX="ag-cell-wrap-text",rX=0,Cc=class extends re{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:o}=e;this.instanceId=o+"-"+rX++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new QY(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this),this.mouseListener=new XY(this,e,this.column),this.keyboardListener=new YY(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Ir(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(this)),Ms(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Wa(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,i,o,s,r){this.comp=e,this.eGui=t,this.printLayout=o,r??(r=this),this.addDomData(r),this.addFeatures(),r.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,r),this.refreshFirstAndLastStyles(),this.checkFormulaError(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer();const l=s?this.isCellEditable():void 0,u=!l&&this.hasEdit&&this.editSvc?.isEditing(this,{withOpenEditor:!0});if(l||u?this.editSvc?.startEditing(this,{startedEdit:!1,source:"api",silent:!0,continueEditing:!0,editable:l}):this.showValue(!1,!0),this.onCompAttachedFuncs.length){for(const d of this.onCompAttachedFuncs)d();this.onCompAttachedFuncs=[]}}checkFormulaError(){const e=!!this.beans.formula?.getFormulaError(this.column,this.rowNode);this.eGui.classList.toggle("formula-error",e)}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:i,eventSvc:o}=e,s=t.getColDef(),r=this.createCellRendererParams();r.deferRender=!0;const l=xD(n,s,r);if(i.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let u;const d=new ct(p=>{u=p}),[f]=this.addManagedListeners(o,{bodyScrollEnd:()=>{u(),f()}});return{loadingComp:l,onReady:d}}return{loadingComp:l,onReady:ct.resolve()}}showValue(e,t){const{beans:n,column:i,rowNode:o,rangeFeature:s}=this,{userCompFactory:r}=n;let l=this.getValueToDisplay(),u;const d=o.stub&&o.groupData?.[i.getId()]==null,f=i.getColDef();if(d||this.isCellRenderer()){const p=this.createCellRendererParams();!d||Ms(i)?u=RD(r,f,p):u=xD(r,f,p)}if(!u&&!d&&n.findSvc?.isMatch(o,i)){const p=this.createCellRendererParams();u=RD(r,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},p)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(o,{checkSiblings:!0})){const p=this.editSvc.prepDetailsDuringBatch(this,{compDetails:u,valueToDisplay:l});p&&(p.compDetails?u=p.compDetails:p.valueToDisplay&&(l=p.valueToDisplay))}this.comp.setRenderDetails(u,l,e),this.customRowDragComp?.refreshVisibility(),!t&&s&&zs(n,()=>s?.refreshRangeStyleAndHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}getCellValueClass(){const e="ag-cell-value",t=this.column.getColDef().cellRenderer==="agCheckboxCellRenderer";let n="";return t&&(n=" ag-allow-overflow"),`${e}${n}`}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Qd(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=Og(t),o=Br(this.column);return n==="custom"&&i!=="selectionColumn"&&o?!1:e.checkboxSelection||o&&typeof t=="object"&&dc(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),o=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||o}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:o,eGui:s,beans:{valueSvc:r,gos:l,editSvc:u}}=this;return Ne(l,{value:e,valueFormatted:t,getValue:()=>r.getValueForDisplay({column:n,node:i,from:"edit"}).value,setValue:f=>u?.setDataValue({rowNode:i,column:n},f)||i.setDataValue(n,f),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:o.getParentOfValue(),registerRowDragger:(f,p,m,v)=>this.registerRowDragger(f,p,v),setTooltip:(f,p)=>{l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(f,p),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){if(this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e),this.hasEdit&&this.editCompDetails){const{editSvc:t,comp:n}=this;!n?.getCellEditor()&&t.isEditing(this,{withOpenEditor:!0})&&t.startEditing(this,{startedEdit:!1,source:"api",silent:!0})}}refreshCell({force:e,suppressFlash:t,newData:n}={}){const{editStyleFeature:i,customStyleFeature:o,rowCtrl:{rowEditStyleFeature:s},beans:{cellFlashSvc:r,filterManager:l},column:u,comp:d,suppressRefreshCell:f,tooltipFeature:p}=this;if(f)return;const{field:m,valueGetter:v,showRowGroup:b,enableCellChangeFlash:S}=u.getColDef(),R=m==null&&v==null&&b==null,x=e||R||n,T=!!d,F=this.updateAndFormatValue(T),A=x||F;if(T){if(A){this.showValue(!!n,!1);const M=l?.isSuppressFlashingCellsBecauseFiltering();!t&&!M&&S&&r?.flashCell(this),i?.applyCellStyles?.(),o?.applyUserStyles(),o?.applyClassesFromColDef(),s?.applyRowStyles(),this.checkFormulaError()}p?.refreshTooltip(),o?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:i,valueFormatted:o}=this.beans.valueSvc.getValueForDisplay({column:this.column,node:this.rowNode,includeValueFormatted:!0,from:"edit"});return this.value=i,this.valueFormatted=o,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;Ha(this.beans.gos,t,Ug,this),e.addDestroyFunc(()=>Ha(this.beans.gos,t,Ug,null))}createEvent(e,t){const{rowNode:n,column:i,value:o,beans:s}=this;return KY(s,e,t,{rowNode:n,column:i},o)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;lk(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);QA(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:i}=this;if(!i||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const o=()=>{if(!this.isAlive())return;const s=i.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(o,0);return}o()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Ms(this.column)&&(e=!0),bi(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(nX,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(iX,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(Fp(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),i=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(tX,n),n&&(e?.forceBrowserFocus||!this.hasBrowserFocus()&&this.beans.focusSvc.shouldTakeFocus())){let o=this.comp.getFocusableElement();if(i){const r=pc(o,null,!0);r.length&&(o=r[0])}const s=e?e.preventScrollOnBrowserFocus:!0;o.focus({preventScroll:s}),NW(t,o)}n&&this.focusEventWhileNotReady&&(this.focusEventWhileNotReady=null),n&&e&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:As(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(ZY,!0),e.toggleCss(oX,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(JY,t),e.toggleCss(eX,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(sX,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(Yt(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}),i.refreshVisibility())}createRowDragComp(e,t,n){const i=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){for(const e of this.onEditorAttachedFuncs)e();this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}};function nS(e,t,n,i,o,s){if(n==null&&t==null)return;const r={},l={},u=(d,f)=>{for(const p of d.split(" "))p.trim()!=""&&f(p)};if(n){const d=Object.keys(n);for(let f=0;f<d.length;f++){const p=d[f],m=n[p];let v;typeof m=="string"?v=e?e.evaluate(m,i):!0:typeof m=="function"&&(v=m(i)),u(p,b=>{v?r[b]=!0:l[b]=!0})}}if(t&&s)for(const d of Object.keys(t))u(d,f=>{r[f]||(l[f]=!0)});s&&Object.keys(l).forEach(s),Object.keys(r).forEach(o)}function u1(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var aX=class extends re{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=r=>{if(typeof r=="string")e.push(r);else if(Array.isArray(r))for(const l of r)e.push(l)},o=n.get("rowClass");o&&i(o);const s=n.getCallback("getRowClass");if(s){const r={data:t.data,node:t,rowIndex:t.rowIndex},l=s(r);i(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:o}=this.beans,s=Ne(i,{data:e.data,node:e,rowIndex:e.rowIndex});nS(o,void 0,i.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let o;if(i){const s={data:e.data,node:e,rowIndex:e.rowIndex};o=i(s)}if(o||n)return Object.assign({},n,o)}},lX=0,Yg=class extends re{constructor(e,t,n,i,o){super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=o,this.focusEventWhileNotReady=null,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+lX++,this.rowId=ed(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=u1(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=ed(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){const{context:o,rowRenderer:s}=this.beans;i=Yd(this,o,i);const r={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(r),this.updateGui(n,r),this.initialiseRowComp(r);const l=this.rowNode,u=this.rowType==="FullWidthLoading"||l.stub,d=!l.data&&this.beans.rowModel.getType()==="infinite";!u&&!d&&!l.rowPinned&&s.dispatchFirstDataRenderedEvent(),this.setupFocus()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";for(const n of this.allRowGuis)n.element.style.display=t}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Fa(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp,i=this.getInitialRowClasses(e.containerType);for(const o of i)n.toggleCss(o,!0);this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Ww(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Ha(t,e.element,jg,this),e.compBean.addDestroyFunc(()=>Ha(t,e.element,jg,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=ed(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(jw(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(jw(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,o=!!e||!i.isPinningLeft(),s=!!t,r=!!n||!i.isPinningRight();return o&&s&&r}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const{rowNode:e,gos:t,beans:{colModel:n}}=this,i=e.stub&&!t.get("suppressServerSideFullWidthLoadingRow")&&!t.get("groupHideOpenParents"),o=this.isNodeFullWidthCell(),s=t.get("masterDetail")&&e.detail,r=n.isPivotMode(),l=TM(t,e,r);i?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":o?this.rowType="FullWidth":l?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Cc(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},o=(d,f,p)=>{p!=null?i.list.splice(p,0,f):i.list.push(f),i.map[d]=f},s=[];for(const d of t){const f=d.getInstanceId();let p=e.map[f];p&&!this.isCorrectCtrlForSpan(p)&&(p.destroy(),p=void 0),p||(p=this.getNewCellCtrl(d)),p&&o(f,p)}for(const d of e.list){const f=d.column.getInstanceId();if(i.map[f]!=null)continue;!this.isCellEligibleToBeRemoved(d,n)?s.push([f,d]):d.destroy()}if(s.length)for(const[d,f]of s){const p=i.list.findIndex(v=>v.column.getLeft()>f.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);o(d,f,m)}const{focusSvc:r,visibleCols:l}=this.beans,u=r.getFocusedCell();if(u&&u.column.getPinned()==n){const d=u.column.getInstanceId();if(!i.map[d]&&l.allCols.includes(u.column)){const p=this.createFocusedCellCtrl();if(p){const m=i.list.findIndex(b=>b.column.getLeft()>p.column.getLeft()),v=m===-1?void 0:Math.max(m-1,0);o(d,p,v)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t?.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){for(const t of this.allRowGuis){const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)}}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const o=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}}isCellEligibleToBeRemoved(e,t){const{column:o}=e;if(o.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:r}=this.beans,l=r?.isEditing(e),u=e.isCellFocused();return l||u?!(s.allCols.indexOf(o)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Yn(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ye(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),o=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=o}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=i,s.right=o}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(r,l)=>r?r.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(r.element,l).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&n&&i&&o}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:i,eventSvc:o,context:s,rowSpanSvc:r}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...i?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(o,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),r&&this.addManagedListeners(r,{spannedCellsUpdated:({pinned:l})=>{l&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){for(const u of this.allRowGuis)this.addRowDraggerToRow(u);return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{for(const e of this.getAllCellCtrls())e.onRowIndexChanged()},cellChanged:e=>{for(const t of this.getAllCellCtrls())t.onCellChanged(e)}})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}for(const n of this.getAllCellCtrls())n.refreshCell(e);for(const n of this.allRowGuis)this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp);this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",i=t==="inside",o=t==="below",s=t!=="none",r=n||o,l=this.rowNode.uiLevel,u=r&&l>0,d=u?l.toString():"0";for(const f of this.allRowGuis){const p=f.rowComp;p.toggleCss("ag-row-highlight-above",n),p.toggleCss("ag-row-highlight-inside",i),p.toggleCss("ag-row-highlight-below",o),p.toggleCss("ag-row-highlight-indent",u),s?f.element.style.setProperty("--ag-row-highlight-level",d):f.element.style.removeProperty("--ag-row-highlight-level")}}postProcessRowDragging(){const e=this.rowNode.dragging;for(const t of this.allRowGuis)t.rowComp.toggleCss("ag-row-dragging",e)}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:As(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const r=this.rowNode,{focusSvc:l,navigation:u}=this.beans,d=l.getFocusedCell(),f={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:d?.column??i};u?.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Is(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,i=n===e.target,o=Yt(this.beans);let s=!1;n&&o&&(s=n.contains(o)&&o.classList.contains("ag-cell"));let r=null;!i&&!s&&(r=Xa(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!r)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>Po(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:this.gos.get("tabIndex");for(const n of this.allRowGuis)bi(n.element,"tabindex",t)}setupFocus(){this.isFullWidth()&&(this.restoreFullWidthFocus(!0),this.onFullWidthRowFocused(this.focusEventWhileNotReady??void 0))}restoreFullWidthFocus(e=!1){const{focusSvc:t,editSvc:n}=this.beans;if(n?.isEditing(this)||!t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)||!t.shouldTakeFocus())return;const i=this.getFullWidthRowGuiForFocus();if(!i)return;const o=()=>{this.isAlive()&&t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)&&i.element.focus({preventScroll:!0})};if(e){setTimeout(o,0);return}o()}getFullWidthRowGuiForFocus(e){if(this.fullWidthGui)return this.fullWidthGui;const t=this.beans.focusSvc.getFocusedCell(),n=this.beans.colModel.getCol(e?.column??t?.column);if(!n)return;const i=n?.pinned;return i==="right"?this.rightGui:i==="left"?this.leftGui:this.centerGui}setFullWidthRowFocusedClass(e,t){this.forEachGui(void 0,n=>{n.element.classList.toggle("ag-full-width-focus",t&&n===e)})}onFullWidthRowFocused(e){const{focusSvc:t}=this.beans;if(!(this.isFullWidth()&&t.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))){this.setFullWidthRowFocusedClass(void 0,!1);return}const i=this.getFullWidthRowGuiForFocus(e);if(!i){e&&(this.focusEventWhileNotReady=e),this.setFullWidthRowFocusedClass(void 0,!1);return}this.setFullWidthRowFocusedClass(i,!0),this.focusEventWhileNotReady=null,e?.forceBrowserFocus&&i.element.focus({preventScroll:!0})}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};for(const i of e.list)i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i);return n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"pointerdown":case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Ne(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(Is(e))return;const t=this.createRowEventWithSource("rowDoubleClicked",e);t.isEventHandlingSuppressed=this.isSuppressMouseEvent(e),this.beans.eventSvc.dispatchEvent(t)}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Ta(e.target,"ag-row-drag",3),!this.isFullWidth()||this.isSuppressMouseEvent(e))return;const{rangeSvc:t,focusSvc:n}=this.beans;t?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:o,column:s}=i,r=o.element,l=e.target,u=this.rowNode;let d=e.defaultPrevented||Vr();r&&r.contains(l)&&td(l)&&(d=!1),n.setFocusedCell({rowIndex:u.rowIndex,column:s,rowPinned:u.rowPinned,forceBrowserFocus:d})}isSuppressMouseEvent(e){const{gos:t,rowNode:n}=this;if(this.isFullWidth()){const o=this.findFullWidthRowGui(e.target);return D7(t,o?.rowComp.getFullWidthCellRendererParams(),n,e)}const i=qb(t,e.target);return i!=null&&rg(t,i.column,n,e)}onRowClick(e){if(Is(e)||this.lastMouseDownOnDragger)return;const n=this.isSuppressMouseEvent(e),{eventSvc:i,selectionSvc:o}=this.beans,s=this.createRowEventWithSource("rowClicked",e);s.isEventHandlingSuppressed=n,i.dispatchEvent(s),!n&&o?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,o=Ne(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(r,l,u,d)=>this.addFullWidthRowDragging(r,l,u,d),setTooltip:(r,l)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(r,l)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return Uj(s,o);case"FullWidthGroup":{const{value:r,valueFormatted:l}=this.beans.valueSvc.getValueForDisplay({node:this.rowNode,includeValueFormatted:!0,from:"edit"});return o.value=r,o.valueFormatted=l,Wj(s,o)}case"FullWidthLoading":return zj(s,o);default:return Vj(s,o)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:o,context:s}=this.beans;if(!o||!this.isFullWidth())return;const r=o.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(r,s),this.addDestroyFunc(()=>{this.destroyBean(r,s)})}onUiLevelChanged(){const e=u1(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;for(const i of this.allRowGuis)i.rowComp.toggleCss(t,!0),i.rowComp.toggleCss(n,!1)}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();if(this.firstRowOnPage!==e){this.firstRowOnPage=e;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-first",e)}if(this.lastRowOnPage!==t){this.lastRowOnPage=t;for(const n of this.allRowGuis)n.rowComp.toggleCss("ag-row-last",t)}}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];if(this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),!!e.length)for(const t of e)for(const n of this.allRowGuis)n.rowComp.toggleCss(t,!0)}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!0)},e=>{for(const t of this.allRowGuis)t.rowComp.toggleCss(e,!1)})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:o}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&(s.push("ag-row-pinned"),o.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!i.isRowPinned()&&i.pinnedSibling&&s.push("ag-row-pinned-source"),i.isSelected()&&s.push("ag-row-selected"),i.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),i.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),o.expansionSvc?.addExpandedCss(s,i),i.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:r}=o;return r&&(r.processClassesFromGridOptions(s,i),r.preProcessRowClassRules(s,i)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:o,gos:s}=this;n.addManagedListeners(t,{pointerenter:r=>{r.pointerType==="mouse"&&i.dispatchRowEvent("mouseEnter")},pointerleave:r=>{r.pointerType==="mouse"&&i.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(i,{mouseEnter:()=>{!o.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){if(e)t(e);else for(const n of this.allRowGuis)t(n)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=bM(this.gos)?kr(this.beans,this.rowNode).height:void 0,s=o?`${Math.min(n,o)-2}px`:void 0;this.forEachGui(e,r=>{r.element.style.height=`${t}px`,s&&r.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&uc(this.gos)&&!t.sticky)if(t.rowTop!=null){const o=this.roundRowTopToBounds(t.rowTop);this.setRowTop(o)}else for(const o of this.allRowGuis)o.rowComp.toggleCss("ag-opacity-zero",!0);this.fullWidthGui?.element.contains(Yt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>{for(const n of t.list)n.destroy();return{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ye(e)){const t=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,o=this.applyPaginationOffset(i);n=t.isRowPinned()?o:this.beans.rowContainerHeight.getRealPixelPosition(o)}return n+"px"}setRowTopStyle(e){for(const t of this.allRowGuis)this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)}getCellCtrl(e,t=!1){let n=null;for(const i of this.getAllCellCtrls())i.column==e&&(n=i);if(n!=null||t)return n;for(const i of this.getAllCellCtrls())i?.getColSpanningList().indexOf(e)>=0&&(n=i);return n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),i=this.rowNode.rowIndex%2===0,o=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",i),s.rowComp.toggleCss("ag-row-odd",!i),XA(s.element,o)})}},cX=class extends re{constructor(){super(),this.beanName="navigation",this.onPageDown=gD(this.onPageDown,100),this.onPageUp=gD(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,r=S9(this.gos,e);let l=!1;switch(n){case Z.PAGE_HOME:case Z.PAGE_END:!o&&!i&&(this.onHomeOrEndKey(n),l=!0);break;case Z.LEFT:case Z.RIGHT:case Z.UP:case Z.DOWN:if(!r)return!1;o&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,r),l=!0);break;case Z.PAGE_DOWN:case Z.PAGE_UP:!o&&!i&&(l=this.handlePageUpDown(n,r,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===Z.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:i,focusColumn:o,isAsync:s,rowPinned:r}){const{scrollFeature:l}=this.gridBodyCon;ye(n)&&!n.isPinned()&&l.ensureColumnVisible(n),ye(e)&&l.ensureIndexVisible(e,t),s||l.ensureIndexVisible(i);const{focusSvc:u,rangeSvc:d}=this.beans;u.setFocusedCell({rowIndex:i,column:o,rowPinned:r,forceBrowserFocus:!0}),d?.setRangeToCell({rowIndex:i,rowPinned:r,column:o})}onPageDown(e){const t=this.beans,n=tw(t),i=this.getViewportHeight(),{pageBounds:o,rowModel:s,rowAutoHeight:r}=t,l=o.getPixelOffset(),u=n.top+i,d=s.getRowIndexAtPixel(u+l);r?.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,n=tw(t),{pageBounds:i,rowModel:o,rowAutoHeight:s}=t,r=i.getPixelOffset(),l=n.top,u=o.getRowIndexAtPixel(l+r);s?.active?this.navigateToNextPageWithAutoHeight(e,u,!0):this.navigateToNextPage(e,u,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:o}=this.beans,s=this.getViewportHeight(),r=i.getFirstRow(),l=i.getLastRow(),u=i.getPixelOffset(),d=o.getRow(e.rowIndex),f=n?d?.rowHeight-s-u:s-u,p=d?.rowTop+f;let m=o.getRowIndexAtPixel(p+u);if(m===e.rowIndex){const b=n?-1:1;t=m=e.rowIndex+b}let v;n?(v="bottom",m<r&&(m=r),t<r&&(t=r)):(v="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(o.getRow(m))&&(t=m,v="top"),this.navigateTo({scrollIndex:t,scrollType:v,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:o,rowModel:s}=this.beans,r=o.getLastRow();let l=0,u=e.rowIndex;for(;u>=0&&u<=r;){const d=s.getRow(u);if(d){const f=d.rowHeight??0;if(l+f>i)break;l+=f}u+=n}return Math.max(0,Math.min(u,r))}getViewportHeight(){const e=this.beans,t=tw(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),i=this.getNormalisedPosition(n),{rowIndex:o,rowPinned:s,column:r}=i??n,l=r;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l,rowPinned:s})}onHomeOrEndKey(e){const t=e===Z.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:o}=this.beans,s=n.allCols,r=t?i.getFirstRow():i.getLastRow(),l=o.getRow(r);if(!l)return;const u=(t?s:[...s].reverse()).find(d=>!d.isSuppressNavigable(l));u&&this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:u,focusIndex:r,focusColumn:u})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),o=this.beans,{ctrlsSvc:s,pageBounds:r,focusSvc:l,gos:u}=o;if(i!==!1){i?t.preventDefault():i===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:d,rowPinned:f}=e.getRowPosition();(f?d===0:d===r.getFirstRow())&&(u.get("headerHeight")===0||Ma(o)?Fc(o,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof Cc&&e.focusCell(!0),(l.focusOverlay(!1)||Fc(o,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:o}=n,s=i.getFocusedCell();if(!s)return!1;let r=Jl(n,s);return!r&&(r=o.getRowByPosition(s),!r?.isFullWidth())?!1:!!this.tabToNextCellCommon(r,e,t,"api")}tabToNextCellCommon(e,t,n,i="ui"){const{editSvc:o,focusSvc:s}=this.beans;let r;const l=e instanceof Cc?e:e.getAllCellCtrls()?.[0];return o?.isEditing()?r=o?.moveToNextCell(l,t,n,i):r=this.moveToNextCellNotEditing(e,t,n),r===null?r:r||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let o;if(e instanceof Yg){if(o={...e.getRowPosition(),column:t?i[0]:Ht(i)},this.gos.get("embedFullWidthRows")&&n){const r=e.findFullWidthInfoForEvent(n);r&&(o.column=r.column)}}else o=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(o,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Cc)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return ye(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:i}){let o=e;const s=this.beans,{cellNavigation:r,gos:l,focusSvc:u,rowRenderer:d,rangeSvc:f}=s;for(;;){e!==o&&(e=o),t||(o=this.getLastCellOfColSpan(o)),o=r.getNextTabbedCell(o,t);const p=l.getCallback("tabToNextCell");if(ye(p)){const S=p({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:o||null});if(S===!0)o=e;else{if(S===!1)return!1;o={rowIndex:S.rowIndex,column:S.column,rowPinned:S.rowPinned}}}if(!o)return null;if(o.rowIndex<0){const b=$o(s);return u.focusHeaderPosition({headerPosition:{headerRowIndex:b+o.rowIndex,column:o.column},fromCell:!0}),null}const m=l.get("editType")==="fullRow";if(n&&(!m||i)&&!this.isCellEditable(o))continue;this.ensureCellVisible(o);const v=Jl(s,o);if(!v){const b=d.getRowByPosition(o);if(!b||!b.isFullWidth()||n)continue;return{...b.getRowPosition(),column:o?.column}}if(!r.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(o),f?.setRangeToCell(o),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let o=n,s=!1;const r=this.beans,{cellNavigation:l,focusSvc:u,gos:d}=r;for(;o&&(o===n||!this.isValidNavigateCell(o));)d.get("enableRtl")?t===Z.LEFT&&(o=this.getLastCellOfColSpan(o)):t===Z.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=l.getNextCellToFocus(t,o),s=tn(o);if(s&&e&&e.key===Z.UP&&(o={rowIndex:-1,rowPinned:null,column:n.column}),i){const p=d.getCallback("navigateToNextCell");if(ye(p)){const v=p({key:t,previousCellPosition:n,nextCellPosition:o||null,event:e});ye(v)?o={rowPinned:v.rowPinned,rowIndex:v.rowIndex,column:v.column}:o=null}}if(!o)return;if(o.rowIndex<0){const p=$o(r);u.focusHeaderPosition({headerPosition:{headerRowIndex:p+o.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(o);f?this.focusPosition(f):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=Jl(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:o,eventSvc:s}=this.beans,r=n.allCols;if(!i.getRowByPosition(e)?.isFullWidth())return!1;const u=o.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ht(r):r[0])};this.focusPosition(d);const f=t??(u!=null&&f8(d,u));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!Ns(this.beans,e)}getLastCellOfColSpan(e){const t=Jl(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Ht(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=RM(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&n?.sticky,{scrollFeature:o}=this.gridBodyCon;!i&&tn(e.rowPinned)&&o.ensureIndexVisible(e.rowIndex),e.column.isPinned()||o.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function tw(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var uX={moduleName:"KeyboardNavigation",version:Ce,beans:[cX,FY,Vq],apiFunctions:{getFocusedCell:PY,clearFocusedCell:AY,setFocusedCell:MY,setFocusedHeader:OY,tabToNextCell:kY,tabToPreviousCell:IY}},dX=class extends re{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},hX=class extends re{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const o=n.getRowBounds(t);o&&(o.rowIndex=t),this.bottomRowBounds=o,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},fX=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",gX=class extends re{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Nt(n,t),Qo(n,e))}},pX=class extends re{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Yn(e,"print"),o=i?0:t.getColsLeftWidth(),s=i?0:t.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ed(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:o,hasLockedPinned:s}=n;let r=o;!r.length&&!s||(i&&(r=i({columns:r,viewportWidth:t})),r?.length&&(r=r.filter(l=>!Ms(l)),this.setColsPinned(r,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new gX(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:o,visibleCols:s,gos:r}=this.beans;if(!i.cols||!e?.length)return;if(Yn(r,"print")){fe(37);return}o?.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const u=[];for(const d of e){if(!d)continue;const f=i.getCol(d);f&&f.getPinned()!==l&&(this.setColPinned(f,l),u.push(f))}u.length&&(s.refresh(n),GM(this.eventSvc,u,n)),o?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const o=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const r=s==0,l=e.hidden!==r,u=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(u&&n||!u&&i)?s+d:s;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!r),l&&(e.hidden=r,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:o,rightPinnedWidthChanged:o,scrollVisibilityChanged:o,scrollbarWidthChanged:o})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:o}=this,s=Ed(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+o+e>s)if(s>i+o)e=s-i-o;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let o=!1;if(i<e)return{columns:[],hasLockedPinned:o};const{visibleCols:s}=this.beans,r=[...s.leftCols],l=[...s.rightCols];let u=0,d=0;const f=0,p=[];let m=i-f-e;for(;(d<r.length||u<l.length)&&m>0;){if(u<l.length){const v=l[u++];if(v.colDef.lockPinned){o=!0;continue}m-=v.getActualWidth(),p.push(v)}if(d<r.length&&m>0){const v=r[d++];if(v.colDef.lockPinned){o=!0;continue}m-=v.getActualWidth(),p.push(v)}}return{columns:p,hasLockedPinned:o}}},mX={moduleName:"PinnedColumn",version:Ce,beans:[pX],css:[fX]},vX=class extends ci{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Hn(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=kn(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),qA(n,"polite"),SW(n,"additions text"),bW(n,!0),e.eRootDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(xi(e),e.remove()),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},CX=class extends vX{},wX={moduleName:"Aria",version:Ce,beans:[CX]},yX=":where(.ag-delay-render){.ag-cell,.ag-header-cell,.ag-header-group-cell,.ag-row,.ag-spanned-cell-wrapper{visibility:hidden}}",d1="ag-delay-render",bX=class extends re{constructor(){super(...arguments),this.beanName="colDelayRenderSvc",this.hideRequested=!1,this.alreadyRevealed=!1,this.timesRetried=0,this.requesters=new Set}hideColumns(e){this.alreadyRevealed||this.requesters.has(e)||(this.requesters.add(e),this.hideRequested||(this.beans.ctrlsSvc.whenReady(this,t=>{t.gridBodyCtrl.eGridBody.classList.add(d1)}),this.hideRequested=!0))}revealColumns(e){if(this.alreadyRevealed||!this.isAlive()||(this.requesters.delete(e),this.requesters.size>0))return;const{renderStatus:t,ctrlsSvc:n}=this.beans;if(t){if(!t.areHeaderCellsRendered()&&this.timesRetried<5){this.timesRetried++,setTimeout(()=>this.revealColumns(e));return}this.timesRetried=0}n.getGridBodyCtrl().eGridBody.classList.remove(d1),this.alreadyRevealed=!0}},SX={moduleName:"ColumnDelayRender",version:Ce,beans:[bX],css:[yX]};function RX(e){e.overlays?.showLoadingOverlay()}function xX(e){e.overlays?.showNoRowsOverlay()}function EX(e){e.overlays?.hideOverlay()}var TX=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-exporting-wrapper,.ag-overlay-loading-wrapper,.ag-overlay-modal-wrapper{pointer-events:all}.ag-overlay-exporting-center,.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);display:flex;padding:var(--ag-spacing)}",DX={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},tI=class extends dn{constructor(){super(DX),this.eOverlayWrapper=xe,this.activeOverlay=null,this.activePromise=null,this.activeCssClass=null,this.elToFocusAfter=null,this.overlayExclusive=!1,this.oldWrapperPadding=null,this.registerCSS(TX)}handleKeyDown(e){if(e.key!==Z.TAB||e.defaultPrevented||Is(e))return;const{beans:t,eOverlayWrapper:n}=this;if(n&&Xa(t,n,!1,e.shiftKey))return;let o=!1;e.shiftKey?o=t.focusSvc.focusGridView({column:Ht(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):o=Fc(t,!1),o&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper;if(!n)return;const i=n.classList,{AUTO_HEIGHT:o,NORMAL:s,PRINT:r}=sg;i.toggle(o,t.autoHeight),i.toggle(s,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new Kb(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setWrapperComp(this,!1),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)}),this.addManagedEventListeners({gridSizeChanged:this.refreshWrapperPadding.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper?.classList;if(!t){this.activeCssClass=null;return}this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n){if(this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,this.overlayExclusive=n,!e)return this.refreshWrapperPadding(),ct.resolve();if(this.setWrapperTypeClass(t),this.setDisplayed(!0,{skipAriaHidden:!0}),this.refreshWrapperPadding(),n&&this.isGridFocused()){const i=Yt(this.beans);i&&!mb(this.beans)&&(this.elToFocusAfter=i)}return e.then(i=>{const o=this.eOverlayWrapper;if(!o){this.destroyBean(i);return}if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}this.activePromise=null,i&&(this.activeOverlay!==i&&(o.appendChild(i.getGui()),this.activeOverlay=i),n&&this.isGridFocused()&&Ga(o))}),e}refreshWrapperPadding(){if(!this.eOverlayWrapper){this.oldWrapperPadding=null;return}const e=!!this.activeOverlay||!!this.activePromise;let t=0;e&&!this.overlayExclusive&&(t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0),t!==this.oldWrapperPadding&&(this.oldWrapperPadding=t,this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`))}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e){this.overlayExclusive=!1,this.elToFocusAfter=null,this.refreshWrapperPadding();return}let t=this.elToFocusAfter;this.elToFocusAfter=null,this.activeOverlay=null,this.overlayExclusive=!1,t&&!this.isGridFocused()&&(t=null),this.destroyBean(e);const n=this.eOverlayWrapper;n&&xi(n),t?.focus?.({preventScroll:!0}),this.refreshWrapperPadding()}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Yt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setWrapperComp(this,!0),super.destroy(),this.eOverlayWrapper=null}},FX={selector:"AG-OVERLAY-WRAPPER",component:tI},PX=["refresh"],Zd=e=>({name:e,optionalMethods:PX}),ya={id:"agLoadingOverlay",overlayType:"loading",comp:Zd("loadingOverlayComponent"),wrapperCls:"ag-overlay-loading-wrapper",exclusive:!0,compKey:"loadingOverlayComponent",paramsKey:"loadingOverlayComponentParams",isSuppressed:e=>{const t=e.get("loading");return t===!1||e.get("suppressLoadingOverlay")===!0&&t!==!0}},ic={id:"agNoRowsOverlay",overlayType:"noRows",comp:Zd("noRowsOverlayComponent"),wrapperCls:"ag-overlay-no-rows-wrapper",compKey:"noRowsOverlayComponent",paramsKey:"noRowsOverlayComponentParams",isSuppressed:e=>e.get("suppressNoRowsOverlay")},iS={id:"agNoMatchingRowsOverlay",overlayType:"noMatchingRows",comp:Zd("noMatchingRowsOverlayComponent"),wrapperCls:"ag-overlay-no-matching-rows-wrapper"},Xg={id:"agExportingOverlay",overlayType:"exporting",comp:Zd("exportingOverlayComponent"),wrapperCls:"ag-overlay-exporting-wrapper",exclusive:!0},dg={id:"activeOverlay",comp:Zd("activeOverlay"),wrapperCls:"ag-overlay-modal-wrapper",exclusive:!0},AX=e=>e?{agLoadingOverlay:ya,agNoRowsOverlay:ic,agNoMatchingRowsOverlay:iS,agExportingOverlay:Xg}[e]??dg:null,MX=e=>e?{loading:ya,noRows:ic,noMatchingRows:iS,exporting:Xg}[e]:null,kX=class extends re{constructor(){super(...arguments),this.beanName="overlays",this.eWrapper=void 0,this.exclusive=!1,this.oldExclusive=!1,this.currentDef=null,this.showInitialOverlay=!0,this.userForcedNoRows=!1,this.exportsInProgress=0,this.newColumnsLoadedCleanup=null}postConstruct(){const e=this.gos;this.showInitialOverlay=Cn(e);const t=()=>{this.userForcedNoRows||this.updateOverlay(!1)},[n,i,o,s]=this.addManagedEventListeners({newColumnsLoaded:t,rowCountReady:()=>{this.disableInitialOverlay(),t(),i()},rowDataUpdated:t,modelUpdated:t});this.newColumnsLoadedCleanup=n,this.addManagedPropertyListeners(["loading","activeOverlay","activeOverlayParams","overlayComponentParams","loadingOverlayComponentParams","noRowsOverlayComponentParams"],r=>this.onPropChange(new Set(r.changeSet?.properties)))}destroy(){this.doHideOverlay(),super.destroy(),this.eWrapper=void 0}setWrapperComp(e,t){this.isAlive()&&(t?this.eWrapper===e&&(this.eWrapper=void 0):this.eWrapper=e,this.updateOverlay(!1))}isVisible(){return!!this.currentDef}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos;if(!this.eWrapper||e.get("activeOverlay")||this.isDisabled(ya))return;const t=e.get("loading");!t&&t!==void 0||this.doShowOverlay(ya)}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;!this.eWrapper||e.get("activeOverlay")||e.get("loading")||this.isDisabled(ic)||(this.userForcedNoRows=!0,this.doShowOverlay(ic))}async showExportOverlay(e){const{gos:t,beans:n}=this;if(!this.eWrapper||t.get("activeOverlay")||t.get("loading")||this.isDisabled(Xg)||this.userForcedNoRows&&this.currentDef===ic){e();return}const i=this.getDesiredDefWithOverride(Xg);if(!i){e();return}this.exportsInProgress++,this.focusedCell=n.focusSvc.getFocusedCell(),await this.doShowOverlay(i),await new Promise(s=>setTimeout(()=>s()));const o=Date.now();try{e()}finally{const s=Date.now()-o,r=Math.max(0,300-s),l=()=>{this.exportsInProgress--,this.exportsInProgress===0&&(this.updateOverlay(!1),b8(n,this.focusedCell),this.focusedCell=null)};r>0?setTimeout(()=>l(),r):l()}}hideOverlay(){const e=this.gos;this.showInitialOverlay=!1;const t=this.userForcedNoRows;if(this.userForcedNoRows=!1,e.get("loading")){fe(99);return}if(e.get("activeOverlay")){fe(296);return}if(this.currentDef===iS){fe(297);return}this.doHideOverlay(),t&&this.getOverlayDef()!==ic&&this.updateOverlay(!1)}getOverlayWrapperSelector(){return FX}getOverlayWrapperCompClass(){return tI}onPropChange(e){const t=e.has("activeOverlay");if((t||e.has("loading"))&&this.updateOverlay(t))return;const n=this.currentDef,i=this.eWrapper?.activeOverlay;if(i&&n){const o=e.has("activeOverlayParams");if(n===dg)o&&i.refresh?.(this.makeCompParams(!0));else{const s=n.paramsKey;(e.has("overlayComponentParams")||s&&e.has(s))&&i.refresh?.(this.makeCompParams(!1,s,n.overlayType))}}}updateOverlay(e){const t=this.eWrapper;if(!t)return this.currentDef=null,!1;const n=this.getDesiredDefWithOverride(),i=this.currentDef,o=n===dg&&e;return n!==i?n?(this.doShowOverlay(n),!0):(this.disableInitialOverlay(),this.doHideOverlay()):o&&n?(t.hideOverlay(),this.doShowOverlay(n),!0):(n||this.disableInitialOverlay(),!1)}getDesiredDefWithOverride(e){const{gos:t}=this;let n=AX(t.get("activeOverlay"));return n||(n=e??this.getOverlayDef(),n&&this.isDisabled(n)&&(n=null)),n}getOverlayDef(){const{gos:e,beans:t}=this,{rowModel:n}=t,i=e.get("loading");if(i!==void 0){if(this.disableInitialOverlay(),i)return ya}else if(this.showInitialOverlay){if(!this.isDisabled(ya)&&(!e.get("columnDefs")||!e.get("rowData")))return ya;this.disableInitialOverlay()}else this.disableInitialOverlay();const s=n.getOverlayType();return MX(s)}disableInitialOverlay(){this.showInitialOverlay=!1,this.newColumnsLoadedCleanup?.(),this.newColumnsLoadedCleanup=null}doShowOverlay(e){const{gos:t,beans:n}=this,{userCompFactory:i}=n;this.currentDef=e;const o=e!==dg,s=!!e.exclusive;this.exclusive=s;let r;(e.paramsKey&&t.get(e.paramsKey)||e.compKey&&t.get(e.compKey))&&(r=e.paramsKey);let l;o&&(t.get("overlayComponent")||t.get("overlayComponentSelector"))&&(l=i.getCompDetailsFromGridOptions({name:"overlayComponent",optionalMethods:["refresh"]},void 0,this.makeCompParams(!1,e.paramsKey,e.overlayType))),l??(l=i.getCompDetailsFromGridOptions(e.comp,o?e.id:void 0,this.makeCompParams(!o,r,e.overlayType),!1));const u=l?.newAgStackInstance()??null,d=this.eWrapper?this.eWrapper.showOverlay(u,e.wrapperCls,s):ct.resolve();return this.eWrapper?.refreshWrapperPadding(),this.setExclusive(s),d}makeCompParams(e,t,n){const{gos:i}=this,o=e?i.get("activeOverlayParams"):{...i.get("overlayComponentParams"),...t&&i.get(t)||null,overlayType:n};return Ne(i,o??{})}doHideOverlay(){let e=!1;this.currentDef&&(this.currentDef=null,e=!0),this.exclusive=!1;const t=this.eWrapper;return t&&(t.hideOverlay(),t.refreshWrapperPadding(),this.setExclusive(!1)),e}setExclusive(e){this.oldExclusive!==e&&(this.oldExclusive=e,this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"}))}isDisabled(e){const{gos:t}=this;return e.overlayType&&t.get("suppressOverlays")?.includes(e.overlayType)||e.isSuppressed?.(t)===!0}},IX={moduleName:"Overlay",version:Ce,userComponents:{agLoadingOverlay:B8,agNoRowsOverlay:U8,agNoMatchingRowsOverlay:z8,agExportingOverlay:H8},apiFunctions:{showLoadingOverlay:RX,showNoRowsOverlay:xX,hideOverlay:EX},icons:{overlayLoading:"loading",overlayExporting:"loading"},beans:[kX]},OX=class extends re{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=r8(),Na(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;Na(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},_X=400,LX=class extends re{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{for(const s of this.getAllCellCtrls())s.onCellSelectionChanged()},t=()=>{for(const s of this.getAllCellCtrls())s.updateRangeBordersIfRangeCount()},n=()=>{this.eventSvc.addListener("cellSelectionChanged",e),this.eventSvc.addListener("columnMoved",t),this.eventSvc.addListener("columnPinned",t),this.eventSvc.addListener("columnVisible",t)},i=()=>{this.eventSvc.removeListener("cellSelectionChanged",e),this.eventSvc.removeListener("columnMoved",t),this.eventSvc.removeListener("columnPinned",t),this.eventSvc.removeListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ir(this.gos)?n():i()}),Ir(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:o})=>{(!o&&i||o&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.columns;i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Yn(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new NX(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){for(const t of this.getAllCellCtrls())t.onCellFocused(e);for(const t of this.getFullWidthRowCtrls())t.onFullWidthRowFocused(e)}onCellFocusChanged(e){if(e?.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){for(const t of this.getAllCellCtrls())t.onSuppressCellFocusChanged(e);for(const t of this.getFullWidthRowCtrls())t.onSuppressCellFocusChanged(e)}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;if(t)for(const n of this.getAllCellCtrls())t.onFlashCells(n,e)},columnHoverChanged:()=>{for(const e of this.getAllCellCtrls())e.onColumnHover()},displayedColumnsChanged:()=>{for(const e of this.getAllCellCtrls())e.onDisplayedColumnsChanged()},displayedColumnsWidthChanged:()=>{if(this.printLayout)for(const e of this.getAllCellCtrls())e.onLeftChanged()}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){for(const e of this.destroyFuncsForColumnListeners)e();this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.colModel.getCols();for(const t of e){const n=u=>{for(const d of this.getAllCellCtrls())d.column===t&&u(d)},i=()=>{n(u=>u.onLeftChanged())},o=()=>{n(u=>u.onWidthChanged())},s=()=>{n(u=>u.onFirstRightPinnedChanged())},r=()=>{n(u=>u.onLastLeftPinnedChanged())},l=()=>{n(u=>u.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",o),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",r),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",o),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",r),t.__removeEventListener("colDefChanged",l)})}}onDomLayoutChanged(){const e=Yn(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];for(const n of this.getAllRowCtrls()){const i=n.getCellCtrl(e,!0)?.eGui;i&&t.push(i)}return t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:i,beans:o,printLayout:s}=this,r=Object.fromEntries(e.map(u=>[u.rowNode.id,u]));i?.forEachPinnedRow(t,(u,d)=>{const f=e[d];f&&i.getPinnedRowById(f.rowNode.id,t)===void 0&&(f.destroyFirstPass(),f.destroySecondPass()),u.id in r&&n?(e[d]=r[u.id],delete r[u.id]):e[d]=new Yg(u,o,!1,!1,s)});const l=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=l}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=i=>{const o=i[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){for(const i of e??[])this.redrawRow(i,!0);this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&uc(this.gos),o=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:r}=this;if(s){s.checkStickyRows();const l=s.extraTopHeight+s.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(o,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(r.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(Zo(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:$o(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Ne(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=Wg(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const o=this.getRowByPosition(i);if(o?.isAlive())return{...o.getRowPosition(),column:e.column};i=Wg(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const o=t[i].getAllCellCtrls(),s=o.length;for(let r=0;r<s;r++)e.push(o[r])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:i}={}){const o={force:n,newData:!1,suppressFlash:i};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(o);this.refreshFullWidth(e)}refreshRows(e={}){for(const t of this.getRowCtrls(e.rowNodes))t.refreshRow(e);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=dy(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const o=i.rowNode;return hy(o,t)})}getCellCtrls(e,t){let n;ye(t)&&(n={},t.forEach(o=>{const s=this.colModel.getCol(o);ye(s)&&(n[s.getId()]=!0)}));const i=[];for(const o of this.getRowCtrls(e))for(const s of o.getAllCellCtrls()){const r=s.column.getId();n&&!n[r]||i.push(s)}return i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){for(const n of e){const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]}}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let o;const s=this.stickyRowFeature;s&&(o=t?.getFocusCellToUseAfterRefresh()||void 0);const r=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let u=!1;if(s){u=s.checkStickyRows();const f=s.extraTopHeight+s.extraBottomHeight;f&&this.updateContainerHeights(f)}const d=this.firstRenderedRow!==r||this.lastRenderedRow!==l;if(!(i&&!u&&!d)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!u),o!=null)){const f=t?.getFocusCellToUseAfterRefresh();o!=null&&f==null&&(n?.flushAllFrames(),this.restoreFocusedCell(o))}}removeRowCompsNotToDraw(e,t){const n={};for(const s of e)n[s]=!0;const o=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(o,t)}calculateIndexesToDraw(e){const t=[];for(let r=this.firstRenderedRow;r<=this.lastRenderedRow;r++)t.push(r);const n=this.beans.pagination,i=this.beans.focusSvc?.getFocusedCell()?.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&i<this.rowModel.getRowCount()&&t.push(i);const o=r=>{const l=r.rowNode.rowIndex;l==null||l===i||(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(r)&&t.push(l)};for(const r of Object.values(this.rowCtrlsByRowIndex))o(r);if(e)for(const r of Object.values(e))o(r);t.sort((r,l)=>r-l);const s=[];for(let r=0;r<t.length;r++){const l=t[r],u=this.rowModel.getRow(l);u&&!u.sticky&&s.push(l)}return s}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);(this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t);for(const o of i)this.createOrUpdateRowCtrl(o,e,t,n);if(e){const{animationFrameSvc:o}=this.beans;o?.active&&n&&!this.printLayout?o.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];for(const t of this.getFullWidthRowCtrls()){const n=t.rowNode.rowIndex;e.push(n.toString())}this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=dy(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!hy(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let o,s=this.rowCtrlsByRowIndex[e];if(s||(o=this.rowModel.getRow(e),ye(o)&&ye(t)&&t[o.id]&&o.alreadyRendered&&(s=t[o.id],t[o.id]=null)),!s)if(o||(o=this.rowModel.getRow(e)),ye(o))s=this.createRowCon(o,n,i);else return;o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const o=i.instanceId;this.zombieRowCtrls[o]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[o]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.isAlive()&&(this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged())}),window.setTimeout(()=>{for(const i of n)i()},_X))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Pa(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,o;if(!n.isRowsToRender())i=0,o=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),o=t.getLastRow();else{const f=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let v=!1,b,S;do{const A=t.getPixelOffset(),{pageFirstPixel:M,pageLastPixel:I}=t.getCurrentPagePixelRange(),P=e.divStretchOffset,_=p.getVScrollPosition(),L=_.top,V=_.bottom;m?(b=M+P,S=I+P):(b=Math.max(L+A-f,M)+P,S=Math.min(V+A+f,I)+P),this.firstVisibleVPixel=Math.max(L+A,M)+P,this.lastVisibleVPixel=Math.min(V+A,I)+P,v=this.ensureAllRowsInRangeHaveHeightsCalculated(b,S)}while(v);let R=n.getRowIndexAtPixel(b),x=n.getRowIndexAtPixel(S);const T=t.getFirstRow(),F=t.getLastRow();R<T&&(R=T),x>F&&(x=F),i=R,o=x}const s=Yn(this.gos,"normal"),r=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);s&&!r&&o-i>l&&(o=i+l);const u=i!==this.firstRenderedRow,d=o!==this.lastRenderedRow;(u||d)&&(this.firstRenderedRow=i,this.lastRenderedRow=o,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:o}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,zs(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),i=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:o,rowModel:s}=this,r=s.ensureRowHeightsValid(e,t,o.getFirstRow(),o.getLastRow());return(r||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||r||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,o=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),s=this.editSvc?.isEditing(e),r=i.detail;return o||s||r?!!this.isRowPresent(i):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?.getRow(e)??null;if(i)return i;const o=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new Yg(e,this.beans,t,o,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},NX=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e?.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],ts(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],ts(this.entriesList,e)}getEntries(){return this.entriesList}};function dy(e){if(!e)return;const t={top:{},bottom:{},normal:{}};for(const n of e){const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}return t}function hy(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var HX=class extends re{constructor(){super(...arguments),this.beanName="rowNodeSorter",this.accentedSort=!1,this.primaryColumnsSortGroups=!1,this.pivotActive=!1}postConstruct(){this.firstLeaf=Cn(this.gos)?$g:GX,this.addManagedPropertyListeners(["accentedSort","autoGroupColumnDef","treeData"],this.updateOptions.bind(this));const e=this.updatePivotModeState.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,columnPivotChanged:e}),this.updateOptions(),e()}updateOptions(){this.accentedSort=!!this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Fs(this.gos)}updatePivotModeState(){this.pivotActive=this.beans.colModel.isPivotActive()}doFullSortInPlace(e,t){return e.sort((n,i)=>this.compareRowNodes(t,n,i))}compareRowNodes(e,t,n){if(t===n)return 0;const i=this.accentedSort;for(let o=0,s=e.length;o<s;++o){const r=e[o],l=r.sort==="desc";let u=this.getValue(t,r.column),d=this.getValue(n,r.column),f;const p=this.getComparator(r,t);if(p?f=p(u,d,t,n,l):(r.type==="absolute"&&(u=h1(u),d=h1(d)),f=fW(u,d,i)),f)return r.sort==="asc"?f:-f}return 0}getComparator(e,t){const n=e.column.getColDef(),i=this.getComparatorFromColDef(n,e);if(i)return i;if(!n.showRowGroup)return;const o=!t.group&&n.field;if(!o)return;const s=this.beans.colModel.getColDefCol(o);if(s)return this.getComparatorFromColDef(s.getColDef(),e)}getComparatorFromColDef(e,t){const n=e.comparator;if(n!=null)return typeof n=="object"?n[Ls(t.type)]:n}getValue(e,t){const n=this.beans;if(this.primaryColumnsSortGroups){if(e.rowGroupColumn===t)return this.getGroupDataValue(e,t);if(e.group&&t.getColDef().showRowGroup)return}const i=n.valueSvc.getValue(t,e,"data");if(t.isAllowFormula()){const o=n.formula;if(o?.isFormula(i))return o.resolveValue(t,e)}return i}getGroupDataValue(e,t){if(EM(this.gos,this.pivotActive)){const i=this.firstLeaf(e);return i&&this.beans.valueSvc.getValue(t,i,"data")}const n=this.beans.showRowGroupCols?.getShowRowGroupCol(t.getId());return n?e.groupData?.[n.getId()]:void 0}},GX=e=>{if(e.data)return e;let t=e.childrenAfterGroup;for(;t?.length;){const n=t[0];if(n.data)return n;t=n.childrenAfterGroup}},h1=e=>{if(!e)return e;if(typeof e=="bigint")return e<0n?-e:e;const t=Number(e);return isNaN(t)?e:Math.abs(t)};function BX(e){e.sortSvc?.onSortChanged("api")}var ga=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),VX={tag:"span",cls:"ag-sort-indicator-container",children:[ga("Order","order"),ga("Asc","ascending-icon"),ga("Desc","descending-icon"),ga("Mixed","mixed-icon"),ga("AbsoluteAsc","absolute-ascending-icon"),ga("AbsoluteDesc","absolute-descending-icon"),ga("None","none-icon")]},oS=class extends dn{constructor(e){super(),this.eSortOrder=xe,this.eSortAsc=xe,this.eSortDesc=xe,this.eSortMixed=xe,this.eSortNone=xe,this.eSortAbsoluteAsc=xe,this.eSortAbsoluteDesc=xe,e||this.setTemplate(VX)}attachCustomElements(e,t,n,i,o,s,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=o,this.eSortAbsoluteAsc=s,this.eSortAbsoluteDesc=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("sortAbsoluteAscending",this.eSortAbsoluteAsc,e),this.addInIcon("sortAbsoluteDescending",this.eSortAbsoluteDesc,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=Si(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortAbsoluteAsc:n,eSortAbsoluteDesc:i,eSortNone:o,column:s,gos:r,beans:l}=this,{isDefaultSortAllowed:u,isAbsoluteSortAllowed:d,isAbsoluteSort:f,isDefaultSort:p,isAscending:m,isDescending:v,direction:b}=NU(s,l);if(e&&Nt(e,m&&p&&u,{skipAriaHidden:!0}),t&&Nt(t,v&&p&&u,{skipAriaHidden:!0}),o){const S=!s.getColDef().unSortIcon&&!r.get("unSortIcon");Nt(o,!S&&!b,{skipAriaHidden:!0})}n&&Nt(n,m&&f&&d,{skipAriaHidden:!0}),i&&Nt(i,v&&f&&d,{skipAriaHidden:!0})}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Fs(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)?.direction==="mixed";Nt(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),o=n.getDisplaySortIndexForColumn(t)??-1,s=i.some(l=>n.getDisplaySortIndexForColumn(l)??!1),r=o>=0&&s;Nt(e,r,{skipAriaHidden:!0}),o>=0?e.textContent=(o+1).toString():xi(e)}},zX={selector:"AG-SORT-INDICATOR",component:oS},WX=class extends re{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){const{gos:o,showRowGroupCols:s}=this.beans,r=Fs(o);let l=[e];if(r&&e.getColDef().showRowGroup){const p=s?.getSourceColumnsForGroupColumn?.(e)?.filter(m=>m.isSortable());p&&(l=[e,...p])}for(const f of l)this.setColSort(f,t,i);const u=(n||o.get("alwaysMultiSort"))&&!o.get("suppressMultiSort"),d=[];if(!u){const f=this.clearSortBarTheseColumns(l,i);d.push(...f)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(i,d)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,o=Fs(t),s=i?.getShowRowGroupCol(e.getId()),r=o&&s||e,l=this.getColumnsWithSortingOrdered();n.forAllCols(f=>this.setColSortIndex(f,null));const u=l.filter(f=>o&&f.getColDef().showRowGroup?!1:f!==r);(r.getSortDef()?[...u,r]:u).forEach((f,p)=>this.setColSortIndex(f,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{if(t.getSortDef())return e=!0,!0}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSortDef()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getSortingOrder(),n=e.getSortDef();let o=t.findIndex(s=>ig(s,n))+1;return o>=t.length&&(o=0),xo(t[o])}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let o=[];if(t.forAllCols(d=>{d.getSortDef()&&o.push(d)}),t.isPivotMode()){const d=Fs(e);o=o.filter(f=>{const p=!!f.getAggFunc(),m=!f.isPrimary(),v=d?n?.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return p||m||v})}const s=i?.columns.filter(d=>!!d.getSortDef())??[],r={};o.forEach((d,f)=>r[d.getId()]=f),o.sort((d,f)=>{const p=d.getSortIndex(),m=f.getSortIndex();if(p!=null&&m!=null)return p-m;if(p==null&&m==null){const v=r[d.getId()],b=r[f.getId()];return v>b?1:-1}else return m==null?-1:1});const l=Fs(e)&&!!s.length;l&&(o=[...new Set(o.map(d=>n?.getShowRowGroupCol(d.getId())??d))]);const u=new Map;if(o.forEach((d,f)=>u.set(d,f)),l)for(const d of s){const f=n.getShowRowGroupCol(d.getId());u.set(d,u.get(f))}return u}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}collectSortItems(e=!1){const t=[],n=this.getColumnsWithSortingOrdered();for(const i of n){const o=i.getSortDef()?.direction;if(!o)continue;const s=Ls(i.getSortDef()?.type),r={sort:o,type:s};e?r.colId=i.getId():r.column=i,t.push(r)}return t}getSortModel(){return this.collectSortItems(!0)}getSortOptions(){return this.collectSortItems()}canColumnDisplayMixedSort(e){const t=Fs(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSortDef();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,o=i[0].getSortDef();return i.every(r=>ig(r.getSortDef(),o))?o:{type:Ls(e.getSortDef()?.type),direction:"mixed"}}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t){const n=()=>{const{type:i,direction:o}=xo(t.getSortDef());if(e.toggleCss("ag-header-cell-sorted-asc",o==="asc"),e.toggleCss("ag-header-cell-sorted-desc",o==="desc"),e.toggleCss("ag-header-cell-sorted-abs-asc",i==="absolute"&&o==="asc"),e.toggleCss("ag-header-cell-sorted-abs-desc",i==="absolute"&&o==="desc"),e.toggleCss("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(u=>o==u.getSortDef()?.direction);e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:n,columnPinned:n,columnRowGroupChanged:n,displayedColumnsChanged:n})}initCol(e){const{sortIndex:t,initialSortIndex:n}=e.colDef,i=IM(e.colDef);i&&e.setSortDef(i,!0),t!==void 0?t!==null&&(e.sortIndex=t):n!==null&&(e.sortIndex=n)}updateColSort(e,t,n){t!==void 0&&this.setColSort(e,xo(t),n)}setColSort(e,t,n){ig(e.getSortDef(),t)||(e.setSortDef(xo(t),t===void 0),e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new oS(e)}getSortIndicatorSelector(){return zX}},nI={moduleName:"Sort",version:Ce,beans:[WX,HX],apiFunctions:{onSortChanged:BX},userComponents:{agSortIndicator:oS},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",sortAbsoluteAscending:"aasc",sortAbsoluteDescending:"adesc"}},UX=class extends re{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),Na(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,gc(e.source))}}},jX="paste",$X=class extends re{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Cn(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===jX||t.get("suppressChangeDetection"))return;const i=e.node,o=[i],s=this.clientSideRowModel,r=s?.rootNode;if(r&&!i.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),u=new Md(l,r);u.addParentNode(i.parent,[e.column]),s.doAggregate(u),u.forEachChangedNodeDepthFirst(d=>{o.push(d),d.sibling&&o.push(d.sibling)})}n.refreshCells({rowNodes:o})}},KX=class extends re{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Dt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Dt(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.includes("return")?e:"return "+e+";"}},qX=class extends re{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},YX={moduleName:"ValueCache",version:Ce,beans:[qX],apiFunctions:{expireValueCache:_8}},XX={moduleName:"Expression",version:Ce,beans:[KX]},QX={moduleName:"ChangeDetection",version:Ce,beans:[$X]},ZX={moduleName:"CellApi",version:Ce,apiFunctions:{getCellValue:L8}},JX=class extends re{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.formulaDataSvc=e.formulaDataSvc}postConstruct(){this.initialised||this.init()}init(){const{gos:e,valueCache:t}=this;this.executeValueGetter=t?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Vc(e),this.cellExpressions=e.get("enableCellExpressions"),this.isTreeData=e.get("treeData"),this.initialised=!0;const n=i=>this.callColumnCellValueChangedHandler(i);this.eventSvc.addListener("cellValueChanged",n,!0),this.addDestroyFunc(()=>this.eventSvc.removeListener("cellValueChanged",n,!0)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e){const t=this.beans,n=e.column,i=e.node,o=t.showRowGroupColValueSvc,s=!n&&i.group,r=n?.colDef.showRowGroup,l=!this.isTreeData||i.footer;if(o&&l&&(s||r)){const m=o.getGroupValue(i,n,this.displayIgnoresAggData(i));return m==null?{value:null,valueFormatted:null}:{value:m.value,valueFormatted:e.includeValueFormatted?o.formatAndPrefixGroupColValue(m,n,e.exporting):null}}if(!n)return{value:i.key,valueFormatted:null};let u=this.getValue(n,i,e.from,this.displayIgnoresAggData(i)),d=u;const f=t.formula;n.isAllowFormula()&&f?.isFormula(u)&&(e.useRawFormula?(u=f.normaliseFormula(u,!0),d=f.resolveValue(n,i)):(u=f.resolveValue(n,i),d=u));const p=e.includeValueFormatted&&!(e.exporting&&n.colDef.useValueFormatterForExport===!1);return{value:u,valueFormatted:p?this.formatValue(n,i,d):null}}getValue(e,t,n,i=!1){if(this.initialised||this.init(),!t)return;const o=e.getColDef();if(!t.group){const u=o.pivotValueColumn;u&&(e=u)}const s=this.editSvc?.getPendingEditValue(t,e,n);if(s!==void 0)return s;const r=o.showRowGroup;if(typeof r=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(r)??-1)>t.level)return null;let l=this.resolveValue(e,t,i);if(this.cellExpressions&&dD(l)){const u=l.substring(1);l=this.executeValueGetter(u,t.data,e,t)}return l}getFormulaFromDataSource(e,t){const n=this.formulaDataSvc;if(!n?.hasDataSource()||!e.isAllowFormula())return;const i=n.getFormula({column:e,rowNode:t});return dD(i)?i:void 0}displayIgnoresAggData(e){return!e.group||!e.expanded||e.footer||e.leafGroup&&this.colModel.isPivotMode()?!1:!!e.sibling&&!this.gos.get("groupSuppressBlankHeader")}resolveValue(e,t,n){const i=e.getColDef(),o=e.getColId(),s=this.isTreeData,r=this.getFormulaFromDataSource(e,t);if(r!==void 0)return r;const l=!n&&t.aggData&&t.aggData[o]!==void 0;if(s&&l)return t.aggData[o];const u=t.data,d=i.field;if(s&&i.valueGetter)return this.executeValueGetter(i.valueGetter,u,e,t);if(s&&d&&u)return rd(u,d,e.isFieldContainsDots());const f=t.groupData;if(f&&o in f)return t.groupData[o];if(l)return t.aggData[o];const m=i.showRowGroup,v=typeof m!="string"||!t.group,b=this.isSsrm&&n&&!!i.aggFunc,S=this.isSsrm&&t.footer&&t.field&&(m===!0||m===t.field);if(i.valueGetter&&!b)return v?this.executeValueGetter(i.valueGetter,u,e,t):void 0;if(S)return rd(u,t.field,e.isFieldContainsDots());if(d&&u&&!b)return v?rd(u,d,e.isFieldContainsDots()):void 0}parseValue(e,t,n,i){const o=e.getColDef();if(o.allowFormula&&this.beans.formula?.isFormula(n))return n;const s=o.valueParser;if(ye(s)){const r=Ne(this.gos,{node:t,data:t?.data,oldValue:i,newValue:n,colDef:o,column:e});return typeof s=="function"?s(r):this.expressionSvc?.evaluate(s,r)}return n}getDeleteValue(e,t){return ye(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay({column:e,node:t,from:"edit"}).value)??null:null}formatValue(e,t,n,i,o=!0){const{expressionSvc:s}=this.beans;let r=null,l;const u=e.getColDef();if(i?l=i:o&&(l=u.valueFormatter),l){const d=t?t.data:null,f=Ne(this.gos,{value:n,node:t,data:d,colDef:u,column:e});typeof l=="function"?r=l(f):r=s?s.evaluate(l,f):null}else if(u.refData)return u.refData[n]||"";return r==null&&Array.isArray(n)&&(r=n.join(", ")),r}setValue(e,t,n,i){const o=t.getColDef();if(!e.data&&this.canCreateRowNodeData(e,o)&&(e.data={}),!this.isSetValueSupported({column:t,newValue:n,colDef:o}))return!1;const s=this.getValue(t,e,"data"),r=Ne(this.gos,{node:e,data:e.data,oldValue:s,newValue:n,colDef:o,column:t}),l=e.group?o.groupRowValueSetter:void 0;let u=!1,d=!1;if(e.data){const f=this.handleExternalFormulaChange({column:t,eventSource:i,newValue:n,setterParams:r,rowNode:e});if(f!==null)return f;u=this.computeValueChange({column:t,rowNode:e,newValue:n,params:r,rowData:e.data,valueSetter:o.valueSetter,field:o.field})??!0}return l&&(d=l(Ne(this.gos,{node:e,data:e.data,oldValue:s,newValue:n,colDef:o,column:t,eventSource:i,valueChanged:u||n!==s,aggregatedChildren:this.beans.aggStage?.getAggregatedChildren(e,t)??[]}))??!0),!u&&!d?!1:this.finishValueChange(e,t,r,i)}canCreateRowNodeData(e,t){return e.group?!(t.groupRowValueSetter!=null||t.groupRowEditable!=null||t.pivotValueColumn):!0}finishValueChange(e,t,n,i){e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const o=this.getValue(t,e,"data");return this.dispatchCellValueChangedEvent(e,n,o,i),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,n,o,i),!0}isSetValueSupported(e){const{column:t,newValue:n,colDef:i}=e,{field:o,valueSetter:s}=i,r=this.beans.formula,l=t.isAllowFormula()&&r?.isFormula(n),u=!!this.formulaDataSvc?.hasDataSource();return tn(o)&&tn(s)&&!(u&&l)?(fe(17),!1):this.dataTypeSvc&&!this.dataTypeSvc.checkType(t,n)?(fe(135),!1):!0}handleExternalFormulaChange(e){const{column:t,rowNode:n,newValue:i,eventSource:o,setterParams:s}=e,r=this.beans.formula,l=this.formulaDataSvc;if(!l?.hasDataSource()||!t.isAllowFormula())return null;const u=r?.isFormula(i),d=l.getFormula({column:t,rowNode:n});if(u){if(!(d!==i))return!1;l.setFormula({column:t,rowNode:n,formula:i});const p=r?.resolveValue(t,n),m=t.getColDef();if(ye(m.valueSetter)||!tn(m.field)){const v={...s,newValue:p};this.computeValueChange({column:t,rowNode:n,newValue:p,params:v,rowData:n.data,valueSetter:m.valueSetter,field:m.field})}return this.finishValueChange(n,t,s,o)}return d!==void 0&&l.setFormula({column:t,rowNode:n,formula:void 0}),null}computeValueChange(e){const{valueSetter:t,params:n,rowData:i,field:o,column:s,newValue:r}=e;return ye(t)?typeof t=="function"?t(n):this.expressionSvc?.evaluate(t,n):!!i&&this.setValueUsingField(i,o,r,s.isFieldContainsDots())}dispatchCellValueChangedEvent(e,t,n,i){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:i})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let o=!1;if(!i)o=e[t]===n,o||(e[t]=n);else{const s=t.split(".");let r=e;for(;s.length>0&&r;){const l=s.shift();s.length===0?(o=r[l]===n,o||(r[l]=n)):r=r[l]}}return!o}executeValueGetterWithValueCache(e,t,n,i){const o=n.getColId(),s=this.valueCache.getValue(i,o);if(s!==void 0)return s;const r=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,o,r),r}executeValueGetterWithoutValueCache(e,t,n,i){const o=Ne(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:r=>this.getValueCallback(i,r)});let s;return typeof e=="function"?s=e(o):s=this.expressionSvc?.evaluate(e,o),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e,"data"):null}getKeyForNode(e,t){const n=this.getValue(e,t,"data"),i=e.getColDef().keyCreator;let o=n;if(i){const s=Ne(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});o=i(s)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&fe(121)),o}},eQ={moduleName:"CommunityCore",version:Ce,beans:[$q,Z7,yK,yj,OX,S$,Bq,fY,E$,hX,dX,LX,JX,Uq,Hq,jq,SK,UX,fK,gK,EY],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:J7,destroy:e9,isDestroyed:t9,getGridOption:n9,setGridOption:i9,updateGridOptions:xk,isModuleRegistered:o9},dependsOn:[dK,e$,a$,nI,bY,x$,SY,IX,QX,xY,uX,mX,wX,DY,vK,hK,XX,P$,SX]};function fy(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:o}=e;let s=(n??[]).map((u,d)=>({value:u,relevance:tQ(t,u),idx:d}));if(s.sort((u,d)=>u.relevance-d.relevance),i&&(s=s.filter(u=>u.relevance<Math.max(u.value.length,t.length))),s.length>0&&o&&o>0){const d=s[0].relevance*o;s=s.filter(f=>d-f.relevance<0)}const r=[],l=[];for(const u of s)r.push(u.value),l.push(u.idx);return{values:r,indices:l}}function tQ(e,t){const n=e.length,i=t.length;if(i===0)return n||0;let o=e.toLocaleLowerCase(),s=t.toLocaleLowerCase(),r;e.length<t.length&&(r=s,s=o,o=r,r=t,t=e,e=r);let l=new Uint16Array(i+1),u=new Uint16Array(i+1);for(let p=0;p<=i;p++)l[p]=p;let d=0;const f=n/2-10;for(let p=1;p<=n;p++){const m=e[p-1],v=o[p-1];u[0]=p;for(let b=1;b<=i;b++){const S=t[b-1],R=s[b-1];if(v!==R){const x=u[b-1],T=l[b],F=l[b-1];let A=x<T?x:T;F<A&&(A=F),u[b]=A+1|0;continue}if(d++,m===S&&d++,p>1&&b>1){const x=e[p-2],T=o[p-2],F=t[b-2],A=s[b-2];T===A&&(d++,x===F&&d++)}p<f&&d++,u[b]=l[b-1]}r=l,l=u,u=r}return l[i]/(d+1)}var iI={AdvancedFilter:1,AiToolkit:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1,Formula:1},nw=["TextFilter","NumberFilter","BigIntFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],nQ={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:nw,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],RowModelSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...nw,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...nw,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},iQ={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function oQ(e,t){const n=[];for(const i of Array.isArray(e)?e:[e]){const o=nQ[i];if(o)for(const s of o){const r=iQ[s];(!r||r===t)&&n.push(s)}else n.push(i)}return n}var oI=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,sQ=e=>{const t=e.map(i=>`import { ${ad(i)} } from '${iI[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>ad(i,!0)).join(", ")} ]); 

For more info see: ${cc}/modules/`};function ad(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function rQ(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let i="";return!globalThis?.agCharts&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>iI[s])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}function sI({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var f1=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:o,additionalText:s,isUmd:r})=>{const l=oQ(t,o),u=typeof e=="string"?e:uQ[e];if(r)return rQ(u,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),f=d.length>0?`${d.map(m=>ad(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${u} as ${l.length>1?"one of "+l.map(m=>ad(m)).join(", "):ad(l[0])} is not registered${n?" for gridId: "+i:""}. ${f} Check if you have registered the module:
`}
${sQ(l)}`+(s?` 

${s}`:"")},g1=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,aQ=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,lQ={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${aQ(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const o=[],s=[...Object.keys(n??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(i??[]).filter(l=>!!i[l])],r=fy({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return o.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),r.length>0&&o.push(`         Did you mean: [${r.slice(0,3)}]?
`),o.push("If using a custom component check it has been registered correctly."),o},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${cc}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=fy({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:e=>`getRowId callback must be provided for Server Side Row Model ${e?.feature||"selection"} to work correctly.`,189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:f1,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${cc}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>g1("IntegratedChartsModule"),258:()=>g1("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:o})=>f1({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:vc[t],gridId:i,gridScoped:n,rowModelType:o}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${cc}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>oI(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:sI,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`,291:()=>"License Key being set multiple times with different values. This can result in an incorrect license key being used,",292:({colId:e})=>`The Multi Filter for column '${e}' has buttons configured against the child filters. When 'enableFilterHandlers=true', buttons must instead be provided against the parent Multi Filter params. The child filter buttons will be ignored.`,293:()=>"The grid was initialised detached from the DOM and was then inserted into a Shadow Root. Theme styles are probably broken. Pass the themeStyleContainer grid option to let the grid know where in the document to insert theme CSS.",294:()=>"When using the `agRichSelectCellEditor` setting `filterListAsync = true` requires `allowTyping = true` and the `values()` callback must return a Promise of filtered values.",295:({blockedService:e})=>`colDef.allowFormula is not supported with ${e}. Formulas has been turned off.`,296:()=>"Since v35, `api.hideOverlay()` does not hide the overlay when `activeOverlay` is set. Set `activeOverlay=null` instead.",297:()=>'`api.hideOverlay()` does not hide the no matching rows overlay as it is only controlled by grid state. Set `suppressOverlays=["noMatchingRows"] to not show it.'};function cQ(e,t){const n=lQ[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),s=`
See ${wM(e,t)}`;return Array.isArray(i)?i.concat(s):[i,s]}var uQ={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},rI=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${cM}/${this.frameworkName}-data-grid`,dU(this.baseDocLink)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return this.baseDocLink+(e?"/"+e:"")}},p1=new WeakMap,m1=new WeakMap,dQ=1,hQ=class{create(e,t,n,i,o,s){const r=Db.applyGlobalGridOptions(t),l=r.gridId??String(dQ++),u=this.getRegisteredModules(o,l,r.rowModelType),d=this.createBeansList(r.rowModelType,u,l),f=this.createProvidedBeans(e,r,o);if(!d)return;const m={providedBeanInstances:f,beanClasses:d,id:l,beanInitComparator:m7,beanDestroyComparator:v7,derivedBeans:[g7],destroyCallback:()=>{m1.delete(b),p1.delete(e),sU(l),s?.()}},v=new f7(m);this.registerModuleFeatures(v,u),n(v),v.getBean("syncSvc").start(),i?.(v);const b=v.getBean("gridApi");return p1.set(e,b),m1.set(b,e),b}getRegisteredModules(e,t,n){return Fd(eQ,void 0,!0),e?.modules?.forEach(i=>Fd(i,t)),rU(t,v1(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");for(const o of t){n.registerModule(o);const s=o.apiFunctions;if(s){const r=Object.keys(s);for(const l of r)i?.addFunction(l,s[l])}}}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;tn(i)&&(i=new rI);const o={gridOptions:t,eGridDiv:e,eRootDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n?.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},o=v1(e),s=i[o];if(!s){Ku(201,{rowModelType:o},`Unknown rowModelType ${o}.`);return}if(!cU()){Ku(272,void 0,oI());return}if(!e){const l=Object.entries(i).filter(([u,d])=>$w(d,n,u));if(l.length==1){const[u,d]=l[0];if(u!==o){const f={moduleName:d,rowModelType:u};Ku(275,f,sI(f));return}}}if(!$w(s,n,o)){const l=fM(),u=`rowModelType = '${o}'`,d=`Missing module ${s}Module for rowModelType ${o}.`;Ku(200,{reasonOrId:u,moduleName:s,gridScoped:Fb(),gridId:n,rowModelType:o,isUmd:l},d);return}const r=new Set;for(const l of t)for(const u of l.beans??[])r.add(u);return Array.from(r)}};function v1(e){return e??"clientSide"}function fQ(e,t=!1){const n=[],i=[],o=[],s=[],r=[],l=[],u=[],d=[],f=[];let p=0;for(let m=0;m<e.length;m++){const{colId:v,sort:b,sortType:S,sortIndex:R,rowGroup:x,rowGroupIndex:T,aggFunc:F,pivot:A,pivotIndex:M,pinned:I,hide:P,width:_,flex:L}=e[m];f.push(v),b&&(n[R??p++]={colId:v,sort:b,type:S}),x&&(i[T??0]=v),typeof F=="string"&&o.push({colId:v,aggFunc:F}),A&&(s[M??0]=v),I&&(I==="right"?l:r).push(v),P&&u.push(v),(L!=null||_)&&d.push({colId:v,flex:L??void 0,width:_===null?void 0:_})}return{sort:n.length?{sortModel:iw(n)}:void 0,rowGroup:i.length?{groupColIds:iw(i)}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:iw(s)}:void 0,columnPinning:r.length||l.length?{leftColIds:r,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:f.length?{orderedColIds:f}:void 0}}function iw(e){return e.filter(t=>t!=null)}function gQ(e){const t=[];for(const{groupId:n,open:i}of e)i&&t.push(n);return t.length?{openColumnGroupIds:t}:void 0}var pQ=class extends re{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{if(!i){Dt(18),t||Dt(20);return}if(this.isGridApi(i))return i;const o=i;return"current"in o?o.current?.api:(o.api||Dt(19),o.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){if(!this.consuming)for(const t of this.getAlignedGridApis())t.isDestroyed()||t.dispatchEvent(e)}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":fe(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;if(t)for(const n of e.columnGroups){let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")}}processColumnEvent(e){const t=e.column;let n=null;const i=this.beans,{colResize:o,ctrlsSvc:s,colModel:r}=i;if(t&&(n=r.getColDefCol(t.getColId())),t&&!n)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const p=e.api.getColumnState().map(m=>({colId:m.colId}));To(i,{state:p,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const p=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));To(i,{state:p},"alignedGridChanged")}break;case"columnPinned":{const p=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));To(i,{state:p},"alignedGridChanged")}break;case"columnResized":{const f=e,p={};for(const m of l)p[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()};for(const m of f.flexColumns??[])p[m.getId()]&&delete p[m.getId()];o?.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}}const d=s.getGridBodyCtrl().isVerticalScrollShowing();for(const f of this.getAlignedGridApis())f.setGridOption("alwaysShowVerticalScroll",d)}},mQ={moduleName:"AlignedGrids",version:Ce,beans:[pQ],dependsOn:[Ik]};function vQ(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function aI(e,t,n,i,o){t&&(i&&t.parent&&t.parent.level!==-1&&aI(e,t.parent,n,i,o),t.setExpanded(n,void 0,o))}function CQ(e,t){return e.rowModel.getRowNode(t)}function wQ(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function yQ(e){return e.rowRenderer.getRenderedNodes()}function bQ(e,t,n){e.rowModel.forEachNode(t,n)}function SQ(e){return e.rowRenderer.firstRenderedRow}function RQ(e){return e.rowRenderer.lastRenderedRow}function xQ(e,t){return e.rowModel.getRow(t)}function EQ(e){return e.rowModel.getRowCount()}function TQ(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function DQ(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function lI(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function cI(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function FQ(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}var PQ={moduleName:"RowApi",version:Ce,apiFunctions:{redrawRows:vQ,setRowNodeExpanded:aI,getRowNode:CQ,addRenderedRowListener:wQ,getRenderedNodes:yQ,forEachNode:bQ,getFirstDisplayedRowIndex:SQ,getLastDisplayedRowIndex:RQ,getDisplayedRowAtIndex:xQ,getDisplayedRowCount:EQ}},AQ={moduleName:"ScrollApi",version:Ce,apiFunctions:{getVerticalPixelRange:TQ,getHorizontalPixelRange:DQ,ensureColumnVisible:lI,ensureIndexVisible:cI,ensureNodeVisible:FQ}};function MQ(e){e.expansionSvc?.expandAll(!0)}function kQ(e){e.expansionSvc?.expandAll(!1)}function uI(e){e.rowModel?.onRowHeightChanged()}function dI(e){if(e.rowAutoHeight?.active){fe(3);return}e.rowModel?.resetRowHeights()}function IQ(e,t,n){const i=Q8(e);if(i){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Dt(238);return}i.setRowCount(t,n);return}Dt(28);return}Mp(e)?.setRowCount(t,n)}function OQ(e){return Vc(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function _Q(e){return e.rowModel.isLastRowIndexKnown()}var LQ={moduleName:"CsrmSsrmSharedApi",version:Ce,apiFunctions:{expandAll:MQ,collapseAll:kQ}},NQ={moduleName:"RowModelSharedApi",version:Ce,apiFunctions:{onRowHeightChanged:uI,resetRowHeights:dI}},HQ={moduleName:"SsrmInfiniteSharedApi",version:Ce,apiFunctions:{setRowCount:IQ,getCacheBlockState:OQ,isLastRowIndexKnown:_Q}},GQ=class extends re{constructor(e){super(),this.rootNode=e,this.nextId=0,this.allNodesMap={},C1(e)}getRowNode(e){return this.allNodesMap[e]}setNewRowData(e){this.dispatchRowDataUpdateStarted(e),this.destroyAllNodes();const t=C1(this.rootNode),n=new Array(e.length);t._leafs=n;let i=0;const o=this.beans.groupStage?.getNestedDataGetter(),s=o?new Set:null,r=(l,u)=>{const d=l.level+1;for(let f=0,p=u.length;f<p;++f){const m=u[f];if(!m)continue;const v=this.createRowNode(m,d,i);if(n[i++]=v,s&&!s.has(m)){s.add(m),v.treeParent=l;const b=o(m);b&&r(v,b)}}};r(t,e),n.length=i}destroyAllNodes(){const{selectionSvc:e,pinnedRowModel:t,groupStage:n}=this.beans;e?.reset("rowDataChanged"),t?.isManual()&&t.reset(),n?.clearNonLeafs();const i=this.rootNode._leafs;if(i)for(let o=0,s=i.length;o<s;++o)i[o]._destroy(!1);this.allNodesMap=Object.create(null),this.nextId=0}setImmutableRowData(e,t){const{rootNode:n,gos:i}=this;this.dispatchRowDataUpdateStarted(t);const o=Ec(i),s=e.changedRowNodes,{adds:r,updates:l}=s,u=new Set,d=[],f=this.beans.groupStage?.getNestedDataGetter();let p=i.get("suppressMaintainUnsortedOrder")?void 0:!1,m=-1,v=!1;const b=(x,T)=>{if(!p&&p!==void 0){const F=x.sourceRowIndex;p=F<=m,m=F}x.data!==T&&(x.updateData(T),r.has(x)||l.add(x),!x.selectable&&x.isSelected()&&d.push(x))},S=(x,T,F)=>{for(let A=0,M=T.length;A<M;++A){const I=T[A];if(!I)continue;let P=this.getRowNode(o({data:I,level:F}));if(P?(b(P,I),v||(v=!!f&&P.treeParent!==x)):(P=this.createRowNode(I,F),r.add(P)),!f||u.has(P)){u.add(P);continue}u.add(P),P.treeParent=x;const _=f(I);_&&S(P,_,F+1)}};S(n,t,0);const R=this.deleteUnusedNodes(u,s,d,!!e.animate)||p||r.size>0;if(R){const x=n._leafs??(n._leafs=[]);p===void 0?UQ(x,u,s):WQ(x,u)&&(s.reordered=!0)}(R||v||l.size)&&(e.rowDataUpdated=!0,this.deselect(d))}deleteUnusedNodes(e,{removals:t},n,i){const o=this.rootNode._leafs;for(let s=0,r=o.length;s<r;s++){const l=o[s];e.has(l)||this.destroyNode(l,i)&&(t.push(l),l.isSelected()&&n.push(l))}return t.length>0}updateRowData(e,t,n){if(this.dispatchRowDataUpdateStarted(e.add),this.beans.groupStage?.getNestedDataGetter())return fe(268),{remove:[],update:[],add:[]};const i=[],o=Ec(this.gos),s=this.executeRemove(o,e,t,i,n),r=this.executeUpdate(o,e,t,i),l=this.executeAdd(e,t);return this.deselect(i),{remove:s,update:r,add:l}}executeRemove(e,{remove:t},{adds:n,updates:i,removals:o},s,r){const l=this.rootNode._leafs,u=l?.length,d=t?.length;if(!d||!u)return[];let f=0,p=u,m=0;const v=new Array(d);for(let b=0;b<d;++b){const S=this.lookupNode(e,t[b]);if(!S)continue;const R=S.sourceRowIndex;R<p&&(p=R),R>m&&(m=R),v[f++]=S,this.destroyNode(S,r)&&(S.isSelected()&&s.push(S),n.delete(S)||(i.delete(S),o.push(S)))}return v.length=f,f&&zQ(l,p,m),v}executeUpdate(e,{update:t},{adds:n,updates:i},o){const s=t?.length;if(!s)return[];const r=new Array(s);let l=0;for(let u=0;u<s;u++){const d=t[u],f=this.lookupNode(e,d);f&&(f.updateData(d),!f.selectable&&f.isSelected()&&o.push(f),r[l++]=f,n.has(f)||i.add(f))}return r.length=l,r}executeAdd(e,t){var n;const i=(n=this.rootNode)._leafs??(n._leafs=[]),o=i.length,s=e.add,r=s?.length;if(!r)return[];const l=o+r;let u=this.sanitizeAddIndex(i,e.addIndex);if(u<o){for(let p=o-1,m=l-1;p>=u;--p){const v=i[p];v.sourceRowIndex=m,i[m--]=v}t.reordered=!0}i.length=l;const d=new Array(r),f=t.adds;for(let p=0;p<r;p++){const m=this.createRowNode(s[p],0,u);f.add(m),i[u]=m,d[p]=m,u++}return d}dispatchRowDataUpdateStarted(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselect(e){const t="rowDataChanged",n=this.beans.selectionSvc;e.length&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),e.length&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}createRowNode(e,t,n){const i=new _r(this.beans);i.parent=this.rootNode,i.level=t,i.group=!1,i.expanded=!1,n!=null&&(i.sourceRowIndex=n),i.setDataAndId(e,String(this.nextId++));const o=i.id,s=this.allNodesMap;return s[o]&&fe(2,{nodeId:o}),s[o]=i,i}destroyNode(e,t){if(!e._destroy(t))return!1;const n=e.id,i=this.allNodesMap;return i[n]===e&&delete i[n],!0}lookupNode(e,t){if(!e)return VQ(this.rootNode._leafs,t);const n=e({data:t,level:0}),i=this.allNodesMap[n];return i||(Dt(4,{id:n}),null)}sanitizeAddIndex(e,t){const n=e.length;if(typeof t!="number"||t<0||t>=n||Number.isNaN(t))return n;t=Math.ceil(t);const i=this.gos;return t>0&&i.get("treeData")&&i.get("getDataPath")&&(t=BQ(e,t)),t}},BQ=(e,t)=>{for(let n=0,i=e.length;n<i;n++)if(e[n]?.rowIndex==t-1)return n+1;return t},C1=e=>{e.group=!0,e.level=-1,e.id="ROOT_NODE_ID",e._leafs?.length!==0&&(e._leafs=[]);const t=[],n=[],i=[],o=[];e.childrenAfterGroup=t,e.childrenAfterSort=n,e.childrenAfterAggFilter=i,e.childrenAfterFilter=o;const s=e.sibling;return s&&(s.childrenAfterGroup=t,s.childrenAfterSort=n,s.childrenAfterAggFilter=i,s.childrenAfterFilter=o,s.childrenMapped=e.childrenMapped),e.updateHasChildren(),e},VQ=(e,t)=>{if(e)for(let n=0,i=e.length;n<i;n++){const o=e[n];if(o.data===t)return o}return Dt(5,{data:t}),null},zQ=(e,t,n)=>{t=Math.max(0,t);for(let i=t,o=e.length;i<o;++i){const s=e[i];i<=n&&s.destroyed||(s.sourceRowIndex=t,e[t++]=s)}e.length=t},WQ=(e,t)=>{const n=t.size;e.length=n;let i=0,o=!1,s=!1;for(const r of t){const l=r.sourceRowIndex;l===i?s||(s=o):(l>=0?s=!0:o=!0,r.sourceRowIndex=i,e[i]=r),++i}return s},UQ=(e,t,{adds:n})=>{const i=e.length,o=t.size;o>i&&(e.length=o);let s=0;for(let r=0;r<i;++r){const l=e[r];l.destroyed||(s!==r&&(l.sourceRowIndex=s,e[s]=l),++s)}for(const r of n)r.sourceRowIndex<0&&(r.sourceRowIndex=s,e[s++]=r);e.length=s};function gy(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter)}var jQ=class extends re{constructor(){super(...arguments),this.beanName="filterStage",this.step="filter",this.refreshProps=["excludeChildrenWhenTreeDataFiltering"]}wireBeans(e){this.filterManager=e.filterManager}execute(e){const t=!!this.filterManager?.isChildFilterPresent();this.beans.formula?.active?this.softFilter(t,e):this.filterNodes(t,e)}filterNodes(e,t){const n=(i,o)=>{i.hasChildren()&&e&&!o?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const r=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,l=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return r||l}):i.childrenAfterFilter=i.childrenAfterGroup,gy(i)};if(this.doingTreeDataFiltering()){const i=(s,r)=>{if(s.childrenAfterGroup)for(let l=0;l<s.childrenAfterGroup.length;l++){const u=s.childrenAfterGroup[l],d=r||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(s.childrenAfterGroup[l],d):n(u,d)}n(s,r)},o=s=>i(s,!1);t.executeFromRootNode(o)}else{const i=o=>n(o,!1);t.forEachChangedNodeDepthFirst(i,!0)}}softFilter(e,t){const n=i=>{if(i.childrenAfterFilter=i.childrenAfterGroup,i.hasChildren())for(const o of i.childrenAfterGroup)o.softFiltered=e&&!(o.data&&this.filterManager.doesRowPassFilter({rowNode:o}));gy(i)};t.forEachChangedNodeDepthFirst(n,!0)}doingTreeDataFiltering(){const{gos:e}=this;return e.get("treeData")&&!e.get("excludeChildrenWhenTreeDataFiltering")}},$Q=4,KQ=(e,t,n,i,o)=>{const s=t.childrenAfterSort,r=t.childrenAfterAggFilter;if(!r)return s&&s.length>0?s:[];const l=r.length;if(l<=1)return s?.length===l&&(l===0||s[0]===r[0])?s:r.slice();if(!s||l<=$Q)return e.doFullSortInPlace(r.slice(),o);const u=new Map,{updates:d,adds:f}=n,p=[];for(let v=0;v<l;++v){const b=r[v];d.has(b)||f.has(b)||!i.canSkip(b)?(u.set(b,~v),p.push(b)):u.set(b,v)}const m=p.length;return m===0?l===s.length?s:YQ(s,u,p):(p.sort((v,b)=>e.compareRowNodes(o,v,b)||~u.get(v)-~u.get(b)),m===l?p:qQ(e,o,p,s,u,l))},qQ=(e,t,n,i,o,s)=>{const r=new Array(s);let l=0,u=n[l],d,f=-1,p=0,m=0;const v=n.length,b=i.length;for(;;){if(f<0){if(p>=b)break;if(d=i[p++],f=o.get(d)??-1,f<0)continue}if((e.compareRowNodes(t,u,d)||~o.get(u)-f)<0){if(r[m++]=u,++l>=v)break;u=n[l]}else r[m++]=d,f=-1}for(;l<v;)r[m++]=n[l++];if(f<0)return r;for(r[m++]=d;p<b;){const S=i[p++];o.get(S)>=0&&(r[m++]=S)}return r},YQ=(e,t,n)=>{let i=0;n.length=t.size;for(let o=0,s=e.length;o<s;++o){const r=e[o];t.has(r)&&(n[i++]=r)}return n.length=i,n},hI=e=>{const t=e.childrenAfterSort,n=e.sibling;if(n&&(n.childrenAfterSort=t),!!t)for(let i=0,o=t.length-1;i<=o;i++){const s=t[i],r=i===0,l=i===o;s.firstChild!==r&&(s.firstChild=r,s.dispatchRowEvent("firstChildChanged")),s.lastChild!==l&&(s.lastChild=l,s.dispatchRowEvent("lastChildChanged")),s.childIndex!==i&&(s.childIndex=i,s.dispatchRowEvent("childIndexChanged"))}},XQ=class extends re{constructor(){super(...arguments),this.beanName="sortStage",this.step="sort",this.refreshProps=["postSortRows","groupDisplayType","accentedSort"]}execute(e,t){const n=this.beans.sortSvc.getSortOptions(),i=n.length>0&&!!t&&this.gos.get("deltaSort"),{gos:o,colModel:s,rowGroupColsSvc:r,rowNodeSorter:l,rowRenderer:u,showRowGroupCols:d}=this.beans,f=o.get("groupMaintainOrder"),p=s.getCols().some(T=>T.isRowGroupActive()),m=r?.columns,v=s.isPivotMode(),b=o.getCallback("postSortRows");let S=!1,R;const x=T=>{const F=v&&T.leafGroup;let A=f&&p&&!T.leafGroup;A&&(R??(R=this.shouldSortContainsGroupCols(n)),A&&(A=!R));let M=null;if(A){let I=!1;if(m){const P=T.level+1;P<m.length&&(I=m[P].wasSortExplicitlyRemoved)}I||(M=QQ(T))}else!n.length||F||(i&&t?M=KQ(l,T,t,e,n):M=l.doFullSortInPlace(T.childrenAfterAggFilter.slice(),n));if(M||(M=T.childrenAfterAggFilter?.slice()??[]),S||(S=T.childrenAfterSort?.[0]!==M[0]),T.childrenAfterSort=M,hI(T),b){const I={nodes:T.childrenAfterSort};b(I)}};if(e?.forEachChangedNodeDepthFirst(x),S&&o.get("groupHideOpenParents")){const T=d?.columns;T?.length&&u.refreshCells({columns:T,force:!0})}}shouldSortContainsGroupCols(e){const t=e.length;if(!t)return!1;if(Fs(this.gos)){for(let n=0;n<t;++n){const i=e[n].column;if(i.isPrimary()&&i.isRowGroupActive())return!0}return!1}for(let n=0;n<t;++n)if(e[n].column.getColDef().showRowGroup)return!0;return!1}},QQ=e=>{const t=e.childrenAfterSort,n=e.childrenAfterAggFilter,i=t?.length,o=n?.length;if(!i||!o)return null;const s=new Array(o),r=new Set;for(let u=0;u<o;++u)r.add(n[u]);let l=0;for(let u=0;u<i;++u){const d=t[u];r.delete(d)&&(s[l++]=d)}if(r.size===0&&l===i)return t;for(const u of r)s[l++]=u;return s.length=l,s},ZQ=class extends re{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowCountReady=!1,this.nodeManager=void 0,this.rowsToDisplay=[],this.formulaRows=[],this.stages=null,this.asyncTransactions=null,this.asyncTransactionsTimer=0,this.started=!1,this.refreshingData=!1,this.rowDataUpdatedPending=!1,this.refreshingModel=!1,this.pendingNewData=!1,this.noKeepRenderedRows=!1,this.noKeepUndoRedoStack=!1,this.noAnimate=!1,this.rowNodesCountReady=!1,this.stagesRefreshProps=new Map,this.onRowHeightChanged_debounced=Hn(this,this.onRowHeightChanged.bind(this),100)}postConstruct(){const e=this.beans,t=new _r(e);this.rootNode=t,this.nodeManager=this.createBean(new GQ(t));const n=()=>{this.beans.groupStage?.invalidateGroupCols(),this.refreshModel({step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")})};this.addManagedEventListeners({newColumnsLoaded:n,columnRowGroupChanged:n,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:()=>this.refreshModel({step:"pivot"}),columnPivotModeChanged:()=>this.refreshModel({step:"group"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),stylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this),rowExpansionStateChanged:this.onRowGroupOpened.bind(this)}),this.addPropertyListeners()}addPropertyListeners(){const{beans:e,stagesRefreshProps:t}=this,n=[e.groupStage,e.filterStage,e.pivotStage,e.aggStage,e.sortStage,e.filterAggStage,e.flattenStage].filter(i=>!!i);this.stages=n;for(let i=n.length-1;i>=0;--i){const o=n[i];for(const s of o.refreshProps)t.set(s,i)}this.addManagedPropertyListeners([...t.keys(),"rowData"],i=>{const o=i.changeSet?.properties;o&&this.onPropChange(o)}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let o,s=!1;do{o=!1;const r=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(r,n),d=Math.min(l,i);for(let f=u;f<=d;f++){const p=this.getRow(f);if(p.rowHeightEstimated){const m=kr(this.beans,p);p.setRowHeight(m.height),o=!0,s=!0}}o&&this.setRowTopAndRowIndex()}while(o);return s}onPropChange(e){const{nodeManager:t,gos:n,beans:i}=this,o=i.groupStage;if(!t)return;const s=new Set(e),r=o?.onPropChange(s);let l;s.has("rowData")?l=n.get("rowData"):r&&(l=o?.extractData()),l&&!Array.isArray(l)&&(l=null,fe(1));const u={step:"nothing",changedProps:s};if(l){const f=!r&&!this.isEmpty()&&l.length>0&&n.exists("getRowId")&&!n.get("resetRowDataOnUpdate");this.refreshingData=!0,f?(u.keepRenderedRows=!0,u.animate=!n.get("suppressAnimationFrame"),u.changedRowNodes=new ag,t.setImmutableRowData(u,l)):(u.rowDataUpdated=!0,u.newData=!0,t.setNewRowData(l),this.rowNodesCountReady=!0)}const d=u.rowDataUpdated?"group":this.getRefreshedStage(e);d&&(u.step=d,this.refreshModel(u))}getRefreshedStage(e){const{stages:t,stagesRefreshProps:n}=this;if(!t)return null;const i=t.length;let o=i;for(let s=0,r=e.length;s<r&&o;++s)o=Math.min(o,n.get(e[s])??o);return o<i?t[o].step:null}setRowTopAndRowIndex(e){const{beans:t,rowsToDisplay:n}=this,i=t.environment.getDefaultRowHeight();let o=0;const s=Yn(this.gos,"normal");for(let r=0,l=n.length;r<l;++r){const u=n[r],d=u.id;if(d!=null&&e?.add(d),u.rowHeight==null){const f=kr(t,u,s,i);u.setRowHeight(f.height,f.estimated)}u.setRowTop(o),u.setRowIndex(r),o+=u.rowHeight}if(this.beans.formula?.active){const r=this.formulaRows;for(let l=0,u=r.length;l<u;++l){const d=r[l];d.formulaRowIndex=l}}}clearRowTopAndRowIndex(e,t){const n=e.active,i=r=>{r?.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},o=r=>{i(r),i(r.detailNode),i(r.sibling);const l=r.childrenAfterGroup;if(!r.hasChildren()||!l)return;const u=r.level==-1;if(!(n&&!u&&!r.expanded))for(let f=0,p=l.length;f<p;++f)o(l[f])},s=this.rootNode;s&&o(s)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay.length}getTopLevelRowCount(){const{rootNode:e,rowsToDisplay:t}=this;if(!e||!t.length)return 0;if(t[0]===e)return 1;const i=e.sibling?.displayed?1:0;return(e.childrenAfterSort?.length??0)+i}getTopLevelRowDisplayedIndex(e){const{beans:t,rootNode:n,rowsToDisplay:i}=this;if(!n||!i.length||i[0]===n)return e;const s=n.childrenAfterSort,r=u=>{let d=s[u];if(this.gos.get("groupHideOpenParents"))for(;d.expanded&&d.childrenAfterSort&&d.childrenAfterSort.length>0;)d=d.childrenAfterSort[0];return d.rowIndex},l=t.footerSvc;return l?l?.getTopDisplayIndex(i,e,s,r):r(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let o=this.getRow(e);o.footer&&(o=o.sibling);let s=o.parent;for(;s&&s!==t;)o=s,s=o.parent;const r=t.childrenAfterSort?.indexOf(o)??-1;return r>=0?r:e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){this.refreshModel({step:"map",keepRenderedRows:!0,animate:uc(this.gos)})}onFilterChanged({afterDataChange:e,columns:t}){if(!e){const i=t.length===0||t.some(o=>o.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:uc(this.gos)})}}onSortChanged(){this.refreshModel({step:"sort",keepRenderedRows:!0,animate:uc(this.gos)})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.beans.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Md(!1,this.rootNode);return t.active=e,t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.length||t.adds.size)}reMapRows(){if(this.refreshingModel||this.refreshingData){this.noKeepRenderedRows=!0,this.noKeepUndoRedoStack=!0,this.noAnimate=!0;return}this.refreshModel({step:"map",keepRenderedRows:!1,keepUndoRedoStack:!1,animate:!1})}refreshModel(e){const{nodeManager:t,eventSvc:n,started:i}=this;if(!t)return;const o=!!e.rowDataUpdated,s=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&o));if(i&&o&&n.dispatchEvent({type:"rowDataUpdated"}),this.deferRefresh(e)){this.setPendingRefreshFlags(e),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=o);return}this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.step="group"),this.updateRefreshParams(e);let r=!1;this.refreshingModel=!0;try{this.executeRefresh(e,s,o),r=!0}finally{this.refreshingData=!1,this.refreshingModel=!1,r||this.setPendingRefreshFlags(e)}this.clearPendingRefreshFlags(),n.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}executeRefresh(e,t,n){const{beans:i}=this;switch(i.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&i.colFilter?.refreshModel(),e.step){case"group":this.doGrouping(e);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(t,e.changedRowNodes);case"map":this.doRowsToDisplay()}const o=new Set;this.setRowTopAndRowIndex(o),this.clearRowTopAndRowIndex(t,o),this.updateRefreshParams(e)}deferRefresh(e){return this.refreshingModel||this.beans.colModel.changeEventsDispatching?!0:this.isSuppressModelUpdateAfterUpdateTransaction(e)?(this.started&&(this.refreshingData=!1),!0):!this.started}setPendingRefreshFlags(e){this.pendingNewData||(this.pendingNewData=!!e.newData),this.noKeepRenderedRows||(this.noKeepRenderedRows=!e.keepRenderedRows),this.noKeepUndoRedoStack||(this.noKeepUndoRedoStack=!e.keepUndoRedoStack),this.noAnimate||(this.noAnimate=!e.animate)}clearPendingRefreshFlags(){this.pendingNewData=!1,this.noKeepRenderedRows=!1,this.noKeepUndoRedoStack=!1,this.noAnimate=!1}updateRefreshParams(e){e.newData=this.pendingNewData||!!e.newData,e.keepRenderedRows=!this.noKeepRenderedRows&&!!e.keepRenderedRows,e.keepUndoRedoStack=!this.noKeepUndoRedoStack&&!!e.keepUndoRedoStack,e.animate=!this.noAnimate&&!!e.animate}isEmpty(){return!this.rootNode?._leafs?.length||!this.beans.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getOverlayType(){const{beans:e,gos:t}=this;if(this.rootNode?._leafs?.length){if(e.filterManager?.isAnyFilterPresent()&&this.getRowCount()===0)return"noMatchingRows"}else if(this.rowCountReady||(t.get("rowData")?.length??0)==0)return"noRows";return null}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const o=[],s=Pd(this.gos);return this.forEachNodeAfterFilterAndSort(r=>{if(i)return;if(n&&(r===t||r===e)&&(i=!0,s&&r.group)){fI(o,r);return}if(!n){if(r!==t&&r!==e)return;n=!0,t===e&&(i=!0)}(!r.group||!s)&&o.push(r)}),o}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}getFormulaRow(e){return this.formulaRows[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay,n=t.length;if(this.isEmpty()||n===0)return-1;let i=0,o=n-1;if(e<=0)return 0;if(t[o].rowTop<=e)return o;let r=-1,l=-1;for(;;){const u=Math.floor((i+o)/2),d=t[u];if(this.isRowInPixel(d,e)||(d.rowTop<e?i=u+1:d.rowTop>e&&(o=u-1),r===i&&l===o))return u;r=i,l=o}}isRowInPixel(e,t){const n=e.rowTop,i=n+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){const t=this.rootNode?._leafs;if(t)for(let n=0,i=t.length;n<i;++n)e(t[n],n)}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){const t=this.rowsToDisplay;for(let n=0,i=t.length;n<i;++n)e(t[n],n)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t,n){const{colModel:i,rowGroupColsSvc:o}=this.beans;if(!i.isPivotMode())return;if(!o?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,r=>r.leafGroup?null:r[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,i=this.rootNode,o=0){let s=o;if(!i)return s;const r=i===this.rootNode;if(r||e(i,s++),i.hasChildren()&&!i.footer){const l=n(i);if(l){const u=this.beans.footerSvc;s=u?.addTotalRows(s,i,e,t,r,"top")??s;for(const d of l)s=this.depthFirstSearchRowNodes(e,t,n,d,s);return u?.addTotalRows(s,i,e,t,r,"bottom")??s}}return s}doAggregate(e){this.rootNode&&this.beans.aggStage?.execute(e)}doFilterAggregates(e){const t=this.rootNode,n=this.beans.filterAggStage;if(n){n.execute(e);return}t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const n=this.beans.sortStage;if(n){n.execute(e,t);return}e.forEachChangedNodeDepthFirst(i=>{i.childrenAfterSort=i.childrenAfterAggFilter.slice(0),hI(i)})}doGrouping(e){const t=this.rootNode;if(!t)return;const i=this.beans.groupStage?.execute(e);if(i===void 0){const o=t._leafs;t.childrenAfterGroup=o,t.updateHasChildren();const s=t.sibling;s&&(s.childrenAfterGroup=o)}(i||e.rowDataUpdated)&&this.beans.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){const t=this.beans.filterStage;if(t){t.execute(e);return}e.forEachChangedNodeDepthFirst(n=>{n.childrenAfterFilter=n.childrenAfterGroup,gy(n)},!0)}doPivot(e){this.beans.pivotStage?.execute(e)}getRowNode(e){const t=this.nodeManager?.getRowNode(e);return typeof t=="object"?t:this.beans.groupStage?.getNonLeaf(e)}batchUpdateRowData(e,t){if(!this.asyncTransactionsTimer){this.asyncTransactions=[];const n=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimer=setTimeout(()=>this.executeBatchUpdateRowData(),n)}this.asyncTransactions.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){const e=this.asyncTransactionsTimer;e&&(clearTimeout(e),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){const{nodeManager:e,beans:t,eventSvc:n,asyncTransactions:i}=this;if(!e)return;t.valueCache?.onDataChanged();const o=[],s=[],r=new ag,l=!this.gos.get("suppressAnimationFrame");for(const{rowDataTransaction:u,callback:d}of i??[]){this.rowNodesCountReady=!0,this.refreshingData=!0;const f=e.updateRowData(u,r,l);o.push(f),d&&s.push(d.bind(null,f))}this.commitTransactions(r,l),s.length>0&&setTimeout(()=>{for(let u=0,d=s.length;u<d;u++)s[u]()},0),o.length>0&&n.dispatchEvent({type:"asyncTransactionsFlushed",results:o}),this.asyncTransactionsTimer=0,this.asyncTransactions=null}updateRowData(e){const t=this.nodeManager;if(!t)return null;this.beans.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const n=new ag,i=!this.gos.get("suppressAnimationFrame");this.refreshingData=!0;const o=t.updateRowData(e,n,i);return this.commitTransactions(n,i),o}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,keepRenderedRows:!0,animate:t,changedRowNodes:e,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{rootNode:e,beans:t}=this;if(t.formula?.active){const o=e?.childrenAfterSort??[];this.formulaRows=o,this.rowsToDisplay=o.filter(s=>!s.softFiltered);for(const s of this.rowsToDisplay)s.setUiLevel(0);return}const n=t.flattenStage;if(n){this.rowsToDisplay=n.execute();return}const i=this.rootNode.childrenAfterSort??[];for(const o of i)o.setUiLevel(0);this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0);const n=e.sibling;n?.setRowHeight(n.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n?.setRowHeight(n.rowHeight,!0);const i=t.sibling;i?.setRowHeight(i.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){e.rowHeightChanged&&!this.beans.rowAutoHeight?.active&&this.resetRowHeights()}onGridReady(){this.started||this.setInitialData()}destroy(){super.destroy(),this.nodeManager=this.destroyBean(this.nodeManager),this.started=!1,this.rootNode=null,this.rowsToDisplay=[],this.asyncTransactions=null,this.stages=null,this.stagesRefreshProps.clear(),clearTimeout(this.asyncTransactionsTimer)}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}},fI=(e,t)=>{const n=t.childrenAfterGroup;if(n)for(let i=0,o=n.length;i<o;++i){const s=n[i];s.data&&e.push(s),s.group&&fI(e,s)}};function JQ(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function eZ(e,t){const n=Ws(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function tZ(e){return Ws(e)?.isEmpty()??!0}function nZ(e,t){Ws(e)?.forEachLeafNode(t)}function iZ(e,t){Ws(e)?.forEachNodeAfterFilter(t)}function oZ(e,t){Ws(e)?.forEachNodeAfterFilterAndSort(t)}function sZ(e,t){return e.frameworkOverrides.wrapIncoming(()=>Ws(e)?.updateRowData(t))}function rZ(e,t,n){e.frameworkOverrides.wrapIncoming(()=>Ws(e)?.batchUpdateRowData(t,n))}function aZ(e){e.frameworkOverrides.wrapIncoming(()=>Ws(e)?.flushAsyncTransactions())}function lZ(e){return e.selectionSvc?.getBestCostNodeSelection()}var cZ={moduleName:"ClientSideRowModel",version:Ce,rowModels:["clientSide"],beans:[ZQ,XQ],dependsOn:[nI]},uZ={moduleName:"ClientSideRowModelApi",version:Ce,apiFunctions:{onGroupExpandedOrCollapsed:JQ,refreshClientSideRowModel:eZ,isRowDataEmpty:tZ,forEachLeafNode:nZ,forEachNodeAfterFilter:iZ,forEachNodeAfterFilterAndSort:oZ,applyTransaction:sZ,applyTransactionAsync:rZ,flushAsyncTransactions:aZ,getBestCostNodeSelection:lZ,resetRowHeights:dI,onRowHeightChanged:uI},dependsOn:[LQ,NQ]},dZ=":where(.ag-ltr) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,left .2s ease-in-out}}:where(.ag-rtl) :where(.ag-animate-autosize){.ag-cell,.ag-header-cell,.ag-header-group-cell{transition:width .2s ease-in-out,right .2s ease-in-out}}";function hZ(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function gI({colAutosize:e,visibleCols:t},n,i){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:i,source:"api"}):e?.autoSizeCols({...n,colKeys:n.colIds??t.allCols,source:"api"})}function fZ(e,t){t&&typeof t=="object"?gI(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var gZ=class extends re{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){const{gos:e}=this,t=e.get("autoSizeStrategy");if(t){let n=!1;const i=t.type;if(i==="fitGridWidth"||i==="fitProvidedWidth")n=!0;else if(i==="fitCellContents"){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered(t)});const o=e.get("rowData");n=o!=null&&o.length>0&&Cn(e)}n&&this.beans.colDelayRenderSvc?.hideColumns(i)}}autoSizeCols(e){const{eventSvc:t,visibleCols:n,colModel:i}=this.beans;zu(this.beans,!0),this.innerAutoSizeCols(e).then(o=>{const s=f=>Tc(t,Array.from(f),!0,"autosizeColumns");if(!e.scaleUpToFitGridWidth)return zu(this.beans,!1),s(o);const r=w1(this.beans),l=f=>n.leftCols.some(p=>od(p,f)),u=f=>n.rightCols.some(p=>od(p,f)),d=e.colKeys.filter(f=>!i.getCol(f)?.getColDef().suppressAutoSize&&!Ms(f)&&!l(f)&&!u(f));this.sizeColumnsToFit(r,e.source,!0,{defaultMaxWidth:e.defaultMaxWidth,defaultMinWidth:e.defaultMinWidth,columnLimits:e.columnLimits?.map(f=>({...f,key:f.colId})),colKeys:d,onlyScaleUp:!0,animate:!1}),zu(this.beans,!1),s(o)})}innerAutoSizeCols(e){return new Promise((t,n)=>{if(this.shouldQueueResizeOperations)return this.pushResizeOperation(()=>this.innerAutoSizeCols(e).then(t,n));const{colKeys:i,skipHeader:o,skipHeaderGroups:s,stopAtGroup:r,defaultMaxWidth:l,defaultMinWidth:u,columnLimits:d=[],source:f="api"}=e,{animationFrameSvc:p,renderStatus:m,colModel:v,autoWidthCalc:b,visibleCols:S}=this.beans;if(p?.flushAllFrames(),this.timesDelayed<5&&m&&(!m.areHeaderCellsRendered()||!m.areCellsRendered())){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.innerAutoSizeCols(e).then(t,n)});return}this.timesDelayed=0;const R=new Set;let x=-1;const T=Object.fromEntries(d.map(({colId:M,...I})=>[M,I])),F=o??this.gos.get("skipHeaderOnAutoSize"),A=s??F;for(;x!==0;){x=0;const M=[];for(const I of i){if(!I||BU(I))continue;const P=v.getCol(I);if(!P||R.has(P)||P.getColDef().suppressAutoSize)continue;const _=b.getPreferredWidthForColumn(P,F);if(_>0){const L=T[P.colId]??{};L.minWidth??(L.minWidth=u),L.maxWidth??(L.maxWidth=l);const V=pZ(P,_,L);P.setActualWidth(V,f),R.add(P),x++}M.push(P)}M.length&&S.refresh(f)}A||this.autoSizeColumnGroupsByColumns(i,f,r),t(R)})}autoSizeColumn(e,t,n){this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:o}=this.beans,s=new Set,r=i.getColsForKeys(e);for(const u of r){let d=u.getParent();for(;d&&d!=n;)d.isPadding()||s.add(d),d=d.getParent()}let l;for(const u of s){for(const d of o.getHeaderRowContainerCtrls())if(l=d.getHeaderCtrlForColumn(u),l)break;l?.resizeLeafColumnsToFit(t)}}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}this.autoSizeCols({colKeys:this.beans.visibleCols.allCols,...e})}addColumnAutosizeListeners(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const o=new va(e);return o.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),o.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),o=()=>{const s=[],r=t.getDisplayedLeafColumns();for(const l of r)l.getColDef().suppressAutoSize||s.push(l.getColId());s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",o),()=>e.removeEventListener("dblclick",o)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const n=w1(this.beans);if(n>0){this.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):fe(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const{beans:o}=this,s=i?.animate??!0;s&&zu(o,!0);const r={};for(const{key:x,...T}of i?.columnLimits??[])r[typeof x=="string"?x:x.getColId()]=T;const l=o.visibleCols.allCols;if(e<=0||!l.length)return;const u=Ds(l);if(i?.onlyScaleUp&&u>e||e===u&&l.every(T=>{if(T.colDef.suppressSizeToFit)return!0;const F=r?.[T.getId()],A=F?.minWidth??i?.defaultMinWidth,M=F?.maxWidth??i?.defaultMaxWidth,I=T.getActualWidth();return(A==null||I>=A)&&(M==null||I<=M)}))return;const f=[],p=[];for(const x of l){const T=i?.colKeys?.some(F=>od(x,F))??!0;x.getColDef().suppressSizeToFit||!T?p.push(x):f.push(x)}const m=f.slice(0);let v=!1;const b=x=>{ts(f,x),p.push(x)},S={};for(const x of f){i?.onlyScaleUp&&(S[x.getColId()]=x.getActualWidth()),x.resetActualWidth(t);const T=r?.[x.getId()],F=T?.minWidth??i?.defaultMinWidth??-1/0,A=T?.maxWidth??i?.defaultMaxWidth??1/0,M=x.getActualWidth(),I=Math.max(Math.min(M,A),F);I!=M&&x.setActualWidth(I,t,!0)}for(;!v;){v=!0;const x=e-Ds(p);if(x<=0)for(const T of f){const F=r?.[T.getId()]?.minWidth??i?.defaultMinWidth??T.minWidth;T.setActualWidth(F,t,!0)}else{const T=x/Ds(f);let F=x;for(let A=f.length-1;A>=0;A--){const M=f[A],I=M.getColId(),P=S[I],_=r?.[I],L=_?.minWidth??i?.defaultMinWidth??P,V=_?.maxWidth??i?.defaultMaxWidth,z=Math.max(L??-1/0,M.getMinWidth()),K=Math.min(V??1/0,M.getMaxWidth());let se=Math.round(M.getActualWidth()*T);se<z?(se=z,b(M),v=!1):se>K?(se=K,b(M),v=!1):A===0&&(se=F),M.setActualWidth(se,t,!0),F-=se}}}for(const x of m)x.fireColumnWidthChangedEvent(t);const R=o.visibleCols;R.setLeftValues(t),R.updateBodyWidths(),!n&&(Tc(this.eventSvc,m,!0,t),s&&zu(o,!1))}applyAutosizeStrategy(){const{gos:e,colDelayRenderSvc:t}=this.beans,n=e.get("autoSizeStrategy");n?.type!=="fitGridWidth"&&n?.type!=="fitProvidedWidth"||setTimeout(()=>{if(!this.isAlive())return;const i=n.type;if(i==="fitGridWidth"){const{columnLimits:o,defaultMinWidth:s,defaultMaxWidth:r}=n,l=o?.map(({colId:u,minWidth:d,maxWidth:f})=>({key:u,minWidth:d,maxWidth:f}));this.sizeColumnsToFitGridBody({defaultMinWidth:s,defaultMaxWidth:r,columnLimits:l})}else i==="fitProvidedWidth"&&this.sizeColumnsToFit(n.width,"sizeColumnsToFit");t?.revealColumns(i)})}onFirstDataRendered({colIds:e,...t}){setTimeout(()=>{if(!this.isAlive())return;const n="autosizeColumns";e?this.autoSizeCols({...t,source:n,colKeys:e}):this.autoSizeAllColumns({...t,source:n}),this.beans.colDelayRenderSvc?.revealColumns(t.type)})}processResizeOperations(){this.shouldQueueResizeOperations=!1;for(const e of this.resizeOperationQueue)e();this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function pZ(e,t,n={}){const i=n.minWidth??e.getMinWidth();t<i&&(t=i);const o=n.maxWidth??e.getMaxWidth();return t>o&&(t=o),t}function w1({ctrlsSvc:e,scrollVisibleSvc:t}){const n=e.getGridBodyCtrl(),o=n.isVerticalScrollShowing()?t.getScrollbarWidth():0;return Ed(n.eGridBody)-o}var y1="ag-animate-autosize";function zu({ctrlsSvc:e,gos:t},n){if(!t.get("animateColumnResizing")||t.get("enableRtl")||!e.isAlive())return;const i=e.getGridBodyCtrl().eGridBody.classList;n?i.add(y1):i.remove(y1)}var mZ={moduleName:"ColumnAutoSize",version:Ce,beans:[gZ],apiFunctions:{sizeColumnsToFit:hZ,autoSizeColumns:gI,autoSizeAllColumns:fZ},dependsOn:[Mk],css:[dZ]};function vZ(e,t){return!!e.colHover?.isHovered(t)}var CZ=class extends re{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:o,element:s,columns:r}=this,l=i.colHover;if(n??!!o.get("columnHoverHighlight"))this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:l.setMouseOver.bind(l,r),mouseout:l.clearMouseOver.bind(l)});else{for(const d of this.destroyManagedListeners)d();this.destroyManagedListeners=[]}}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},wZ="ag-column-hover",yZ=class extends re{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const o=this.isHovered(n);t.toggleCss("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(wZ,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const o=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:o}),o()}createHoverFeature(e,t,n){e.createManagedBean(new CZ(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},bZ={moduleName:"ColumnHover",version:Ce,beans:[yZ],apiFunctions:{isColumnHovered:vZ}},SZ=class extends re{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:o,exportRowNumbers:s}=t,r=this.getColumnsToExport({allColumns:n,skipRowGroups:o,columnKeys:i,exportRowNumbers:s});return[this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t)].reduce((l,u)=>u(l),e).parse()}processRow(e,t,n,i){const o=t.shouldRowBeSkipped||(()=>!1),r=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!r,u=this.colModel.isPivotMode()?i.leafGroup:!i.group,d=!!i.footer,f=i.allChildrenCount===1&&i.childrenAfterGroup?.length===1&&yU(this.gos,i);if(!u&&!d&&(t.skipRowGroups||f||l)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.stub||i.level===-1&&!u&&!d||o(Ne(this.gos,{node:i})))return;const v=e.onNewBodyRow(i);if(n.forEach((b,S)=>{v.onColumn(b,S,i)}),t.getCustomContentBelowRow){const b=t.getCustomContentBelowRow(Ne(this.gos,{node:i}));b&&e.addCustomContent(b)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new kk,{colGroupSvc:o}=this.beans,s=o?o.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((o,s)=>{i.onColumn(o,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>this.pinnedRowModel?.getPinnedTopRow(o.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{const i=this.rowModel,o=Cn(this.gos),s=Vc(this.gos),r=!o&&e.onlySelected,l=this.processRow.bind(this,n,e,t),{exportedRows:u="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(d=>d.rowPinned==null).sort((d,f)=>d.rowIndex-f.rowIndex).map(d=>i.getRow(d.rowIndex)).forEach(l);else if(this.colModel.isPivotMode())o?i.forEachPivotNode(l,!0,u==="filteredAndSorted"):s?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);else if(e.onlySelectedAllPages||r){const d=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(d),d.forEach(l)}else u==="all"?i.forEachNode(l):o||s?i.forEachNodeAfterFilterAndSort(l,!0):i.forEachNode(l);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),o=(s,r)=>s.rowIndex!=null&&r.rowIndex!=null?s.rowIndex-r.rowIndex:s.level===r.level?s.parent?.id===r.parent?.id?n.compareRowNodes(i,s,r)||(s.rowIndex??-1)-(r.rowIndex??-1):o(s.parent,r.parent):s.level>r.level?o(s.parent,r):o(s,r.parent);e.sort(o)}processPinnedBottomRows(e,t){return n=>{const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>this.pinnedRowModel?.getPinnedBottomRow(o.rowIndex)).forEach(i):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:o}=e,{colModel:s,gos:r,visibleCols:l}=this,u=s.isPivotMode(),d=m=>Br(m)?!1:!Ms(m)||i;if(o?.length)return s.getColsForKeys(o).filter(d);const f=r.get("treeData");let p=[];return t&&!u?p=s.getCols():p=l.allCols,p=p.filter(m=>d(m)&&(n&&!f?!Mb(m):!0)),p}recursivelyAddHeaderGroups(e,t,n){const i=[];for(const o of e){const s=o;if(s.getChildren)for(const r of s.getChildren()??[])i.push(r)}e.length>0&&vn(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let o=0;for(const s of t){const r=s;let l;n?l=n(Ne(this.gos,{columnGroup:r})):l=this.beans.colNames.getDisplayNameForColumnGroup(r,"header");const d=(r.isExpandable()?r.getLeafColumns():[]).reduce((f,p,m,v)=>{let b=Ht(f);return p.getColumnGroupShow()==="open"?(!b||b[1]!=null)&&(b=[m],f.push(b)):b&&b[1]==null&&(b[1]=m-1),m===v.length-1&&b&&b[1]==null&&(b[1]=m),f},[]);i.onColumn(r,l||"",o++,r.getLeafColumns().length-1,d)}}},RZ={moduleName:"SharedExport",version:Ce,beans:[SZ]},xZ=class extends re{getFileName(e){const t=this.getDefaultFileExtension();return e?.length||(e=this.getDefaultFileName()),e.includes(".")?e:`${e}.${t}`}getData(e){return this.beans.gridSerializer.serialize(this.createSerializingSession(e),e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}};function EZ(e,t){const n=document.defaultView||window;if(!n){fe(52);return}const i=document.createElement("a"),o=n.URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),i.remove(),n.setTimeout(()=>{n.URL.revokeObjectURL(o)},0)}var TZ=class{constructor(e){this.valueFrom="data";const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:o,gos:s,processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,valueFrom:f}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=o,this.gos=s,this.processCellCallback=r,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=d,f&&(this.valueFrom=f)}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e){const{column:t,node:n,currentColumnIndex:i,accumulatedRowIndex:o,type:s,useRawFormula:r}=e,l=i===0&&TM(this.gos,n,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||n.group)&&(t.isRowGroupDisplayed(n.rowGroupColumn?.getColId()??"")||l))return{value:this.processRowGroupCallback(Ne(this.gos,{column:t,node:n}))??""};if(this.processCellCallback)return{value:this.processCellCallback(Ne(this.gos,{accumulatedRowIndex:o,column:t,node:n,value:this.valueSvc.getValueForDisplay({column:t,node:n,from:this.valueFrom}).value,type:s,parseValue:b=>this.valueSvc.parseValue(t,n,b,this.valueSvc.getValue(t,n,this.valueFrom)),formatValue:b=>this.valueSvc.formatValue(t,n,b)??b}))??""};const u=this.gos.get("treeData"),d=this.valueSvc,f=n.level===-1&&n.footer,p=t.colDef.showRowGroup===!0&&(n.group||u);if(!f&&(l||p)){let b="",S=n;for(;S&&S.level!==-1;){const{value:R,valueFormatted:x}=d.getValueForDisplay({column:l?void 0:t,node:S,includeValueFormatted:!0,exporting:!0,from:this.valueFrom});b=` -> ${x??R??""}${b}`,S=S.parent}return{value:b,valueFormatted:b}}const{value:m,valueFormatted:v}=d.getValueForDisplay({column:t,node:n,includeValueFormatted:!0,exporting:!0,useRawFormula:r,from:this.valueFrom});return{value:m??"",valueFormatted:v}}getHeaderName(e,t){return e?e(Ne(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}},b1=`\r
`,DZ=class extends TZ{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,b1),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue({column:e,node:n,currentColumnIndex:t,accumulatedRowIndex:t,type:"csv",useRawFormula:!1});this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(fe(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=b1),this.isFirstLine=!1}},FZ=class extends xZ{constructor(){super(...arguments),this.beanName="csvCreator"}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){fe(51);return}const t=()=>{const i=this.getMergedParams(e),o=this.getData(i),s=new Blob(["\uFEFF",o],{type:"text/plain"}),r=i.fileName,l=typeof r=="function"?r(Ne(this.gos,{})):r;EZ(this.getFileName(l),s)},{overlays:n}=this.beans;n?n.showExportOverlay(t):t()}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:o,gos:s}=this.beans,{processCellCallback:r,processHeaderCallback:l,processGroupHeaderCallback:u,processRowGroupCallback:d,suppressQuotes:f,columnSeparator:p,valueFrom:m}=e;return new DZ({colModel:t,colNames:n,valueSvc:o,gos:s,processCellCallback:r||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:u||void 0,processRowGroupCallback:d||void 0,suppressQuotes:f||!1,columnSeparator:p||",",rowGroupColsSvc:i,valueFrom:m})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function PZ(e,t){return e.csvCreator?.getDataAsCsv(t)}function AZ(e,t){e.csvCreator?.exportDataAsCsv(t)}var MZ={moduleName:"CsvExport",version:Ce,beans:[FZ],apiFunctions:{getDataAsCsv:PZ,exportDataAsCsv:AZ},dependsOn:[RZ]},pI=class extends ci{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",i=this.ctrl.getGui();i&&(e!=null&&(e!=""||t)?i.setAttribute(n,e):i.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){if(this.tooltipManager==null){const e=this.beans.registry.createDynamicBean("tooltipStateManager",!0,this.ctrl,()=>this.tooltip);e&&(this.tooltipManager=this.createBean(e,this.beans.context))}}attemptToShowTooltip(){this.tooltipManager?.prepareToShowTooltip()}attemptToHideTooltip(){this.tooltipManager?.hideTooltip()}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},kZ=1e3,IZ=1e3,S1=100,R1,Bf=!1,OZ=class extends ci{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return this.tooltipCtrl[`getTooltip${e}DelayOverride`]?.()??this.getGridOptionsTooltipDelay(`tooltip${e}Delay`)}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Aa()&&(Bf?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},S1):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&i?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Bf)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?this.getTooltipDelay("SwitchShow"):this.getTooltipDelay("Show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-R1<kZ}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.clearEventHandlers(),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ye(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=this.gos.addCommon({location:t.getLocation?.()??"UNKNOWN",value:e,hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.createTooltipComp(n,i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),R1=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const o=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const r=()=>this.setToDoNothing();[this.onBodyScrollEventCallback]=this.addManagedEventListeners({bodyScroll:r}),this.setEventHandlers(r)}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(kn(this.beans),{keydown:r=>{i.contains(r?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Yt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?IZ:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){for(const e of[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener])e&&e();this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Bf=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},S1)}unlockService(){Bf=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("Hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}},_Z=class extends pI{constructor(e,t,n){super(e,n),this.highlightTracker=t,this.onHighlight=this.onHighlight.bind(this)}postConstruct(){super.postConstruct(),this.wireHighlightListeners()}wireHighlightListeners(){this.addManagedPropertyListener("tooltipTrigger",({currentValue:e})=>{this.setTooltipMode(e)}),this.setTooltipMode(this.gos.get("tooltipTrigger")),this.highlightTracker.addEventListener("itemHighlighted",this.onHighlight)}onHighlight(e){this.tooltipMode===1&&(e.highlighted?this.attemptToShowTooltip():this.attemptToHideTooltip())}setTooltipMode(e="focus"){this.tooltipMode=e==="focus"?1:0}destroy(){this.highlightTracker.removeEventListener("itemHighlighted",this.onHighlight),super.destroy()}},LZ=class extends zb{constructor(){super({tag:"div",cls:"ag-tooltip"})}init(e){const{value:t}=e,n=this.getGui();n.textContent=Bc(t);const i=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${i}-tooltip`)}},NZ=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip),&:where(.ag-cell-formula-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Vf=0,HZ=200,GZ=class extends ci{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.addManagedEventListeners({stylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.getDefaultPopupParent()}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,e.type,e.ePopup,null,e.mouseEvent)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,eventSource:s,alignSide:r="left",position:l="over",type:u}=e,d=s.getBoundingClientRect(),f=this.getParentRect();this.setAlignedTo(s,t);const p=()=>{let m=d.left-f.left;r==="right"&&(m-=t.offsetWidth-d.width);let v;return l==="over"?(v=d.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,f,e.nudgeY||0)==="under"?v=d.top-f.top+d.height:v=d.top-t.offsetHeight-(i||0)*2-f.top),{x:m,y:v}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,u,t,s,null)})}positionPopupForMenu(e){const{eventSource:t,ePopup:n,event:i}=e,o=t.getBoundingClientRect(),s=this.getParentRect();this.setAlignedTo(t,n);let r=!1;const l=()=>{const u=this.keepXYWithinBounds(n,o.top-s.top,0),d=n.clientWidth>0?n.clientWidth:200;r||(n.style.minWidth=`${d}px`,r=!0);const p=s.right-s.left-d;let m;return this.gos.get("enableRtl")?(m=b(),m<0&&(m=v(),this.setAlignedStyles(n,"left")),m>p&&(m=0,this.setAlignedStyles(n,"right"))):(m=v(),m>p&&(m=b(),this.setAlignedStyles(n,"right")),m<0&&(m=0,this.setAlignedStyles(n,"left"))),{x:m,y:u};function v(){return o.right-s.left-2}function b(){return o.left-s.left-d}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:l,postProcessCallback:()=>this.callPostProcessPopup(e.additionalParams,"subMenu",n,t,i instanceof MouseEvent?i:void 0)})}shouldRenderUnderOrAbove(e,t,n,i){const o=n.bottom-t.bottom,s=t.top-n.top,r=e.offsetHeight+i;return o>r?"under":s>r||s>o?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:o}=i;if(!o)return;const s=["right","left","over","above","under"];for(const r of s)o.classList.remove(`ag-has-popup-positioned-${r}`),e.classList.remove(`ag-popup-positioned-${r}`);t&&(o.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:o,skipObserver:s,updatePosition:r}=e,l={width:0,height:0},u=(d=!1)=>{let{x:f,y:p}=r();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,i&&(f+=i),o&&(p+=o),n&&(f=this.keepXYWithinBounds(t,f,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${f}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const d=Vs(this.beans,t,()=>u(!0));setTimeout(()=>d(),HZ)}}getParentRect(){const e=kn(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),tM(t)}keepXYWithinBounds(e,t,n){const i=n===0,o=i?"clientHeight":"clientWidth",s=i?"top":"left",r=i?"height":"width",l=i?"scrollTop":"scrollLeft",u=kn(this.beans),d=u.documentElement,f=this.getPopupParent(),p=e.getBoundingClientRect(),m=f.getBoundingClientRect(),v=u.documentElement.getBoundingClientRect(),b=f===u.body,S=Math.ceil(p[r]);let x=b?(i?eM:Dg)(d)+d[l]:f[o];b&&(x-=Math.abs(v[s]-m[s]));const T=x-S;return Math.min(Math.max(t,0),Math.max(T,0))}addPopup(e){const{eChild:t,ariaLabel:n,ariaOwns:i,alwaysOnTop:o,positionCallback:s,anchorToElement:r}=e,l=this.getPopupIndex(t);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(t);const u=this.createPopupWrapper(t,!!o,n,i),d=this.addEventListenersToPopup({...e,wrapperEl:u});return s&&s(),this.addPopupToPopupList(t,u,d,r),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ye(e.style.top)||(e.style.top=`${n.top*-1}px`),ye(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,i){const o=this.getPopupParent(),{environment:s,gos:r}=this.beans,l=La({tag:"div"});return s.applyThemeClasses(l),l.classList.add("ag-popup"),e.classList.add(r.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||_a(e,"dialog"),n?xc(e,n):i&&(e.id||(e.id=`popup-component-${Vf}`),hD(i,e.id)),l.appendChild(e),o.appendChild(l),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),l}addEventListenersToPopup(e){const t=this.beans,n=kn(t),{wrapperEl:i,eChild:o,closedCallback:s,afterGuiAttached:r,closeOnEsc:l,modal:u,ariaOwns:d}=e;let f=!1;const p=S=>{if(!i.contains(Yt(t)))return;S.key===Z.ESCAPE&&!this.isStopPropagation(S)&&b({keyboardEvent:S})},m=S=>b({mouseEvent:S}),v=S=>b({touchEvent:S}),b=(S={})=>{const{mouseEvent:R,touchEvent:x,keyboardEvent:T,forceHide:F}=S;!F&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:x},o)||f)||(f=!0,i.remove(),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",v),n.removeEventListener("contextmenu",m),this.eventSvc.removeListener("dragStarted",m),s&&s(R||x||T),this.removePopupFromPopupList(o,d))};return r&&r({hidePopup:b}),window.setTimeout(()=>{l&&n.addEventListener("keydown",p),u&&(n.addEventListener("mousedown",m),this.eventSvc.addListener("dragStarted",m),n.addEventListener("touchstart",v),n.addEventListener("contextmenu",m))},0),b}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Vf,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i),Vf=Vf+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=o,i.isAnchored=!0,o}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&hD(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:o}=e,s=i.getBoundingClientRect(),r=p=>Number.parseInt(p.substring(0,p.length-1),10),l=(p,m)=>{const v=n[p]-s[p],b=r(o.style[p]);return{initialDiff:v,lastDiff:v,initial:b,last:b,direction:m}},u=l("top",0),d=l("left",1),f=this.beans.frameworkOverrides;return new ct(p=>{f.wrapIncoming(()=>{hj(()=>{const m=t.getBoundingClientRect(),v=i.getBoundingClientRect();if(v.top==0&&v.left==0&&v.height==0&&v.width==0){e.hidePopup();return}const S=(R,x)=>{const T=r(o.style[x]);R.last!==T&&(R.initial=T,R.last=T);const F=m[x]-v[x];if(F!=R.lastDiff){const A=this.keepXYWithinBounds(o,R.initial+R.initialDiff-F,R.direction);o.style[x]=`${A}px`,R.last=A}R.lastDiff=F};S(u,"top"),S(d,"left")},200).then(m=>{p(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,o=n||i;if(!o)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let r=s;r<this.popupList.length;r++){const l=this.popupList[r];if(BW(l.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=kn(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,o=this.getWrapper(e);if(!o||i<=1||!t.contains(e))return;const s=[],r=[];for(const m of n)m!==o&&(m.classList.contains("ag-always-on-top")?r.push(m):s.push(m));const l=[],u=r.length,p=o.classList.contains("ag-always-on-top")||!u?[...s,...r,o]:[...s,o,...r];for(let m=0;m<=i;m++){const v=p[m];if(n[m]===p[m]||v===o)continue;const b=v.querySelectorAll("div");for(const S of b)S.scrollTop!==0&&l.push([S,S.scrollTop]);m===0?t.prepend(v):p[m-1].after(v)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}},BZ=class extends GZ{getDefaultPopupParent(){return this.beans.ctrlsSvc.get("gridCtrl").getGui()}callPostProcessPopup(e,t,n,i,o){const s=this.gos.getCallback("postProcessPopup");if(s){const{column:r,rowNode:l}=e??{};s({column:r,rowNode:l,ePopup:n,type:t,eventSource:i,mouseEvent:o})}}getActivePopups(){return this.popupList.map(e=>e.element)}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isStopPropagation(e){return Is(e)}},Ip={moduleName:"Popup",version:Ce,beans:[BZ]};function py(e){return e.get("tooltipShowMode")==="whenTruncated"}var VZ=(e,t)=>{const n=e;return typeof n.getTranslatedMessage=="function"?n.getTranslatedMessage(t):e.message},my=(e,t,n)=>{const{editModelSvc:i}=e,o=i?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=i?.getRowValidationModel().getRowValidation(t)?.errorMessages,r=o||s;return r?.length?r.join(n("tooltipValidationErrorSeparator",". ")):void 0},zZ=(e,t)=>{if(py(e.gos)){if(t.isCellRenderer()){const i=t.column.getColDef();return!!i.showRowGroup||i.cellRenderer==="agGroupCellRenderer"?Td(()=>{const s=t.eGui;return s.querySelector(".ag-group-value")||s.querySelector(".ag-cell-value")||s}):void 0}return Td(()=>{const i=t.eGui;return i.children.length===0?i:i.querySelector(".ag-cell-value")})}},WZ=(e,t,n)=>{const{editSvc:i}=e,{column:o}=t,s=zZ(e,t),r=()=>i?.isEditing(t)?!1:s?o.isTooltipEnabled()?s():!1:!0;return{shouldDisplayDefault:r,shouldDisplayColumnTooltip:r,shouldDisplayCustomTooltip:n??r}},UZ=({beans:e,ctrl:t,value:n,displayFunctions:i,translate:o})=>{const{editSvc:s,formula:r,gos:l}=e,{column:u,rowNode:d}=t;if(r?.active&&u.isAllowFormula()){const R=r.getFormulaError(u,d);if(R)return{value:VZ(R,o),location:"cellFormula",shouldDisplay:()=>!!r?.getFormulaError(u,d)}}if(!!!s?.isEditing(t)){const R=my(e,t,o);if(R)return{value:R,location:"cellEditor",shouldDisplay:()=>!s?.isEditing(t)&&!!my(e,t,o)}}const{shouldDisplayCustomTooltip:p,shouldDisplayColumnTooltip:m}=i;if(n!=null)return{value:n,location:"cell",shouldDisplay:p};const v=u.getColDef(),b=d.data;if(v.tooltipField&&ye(b))return{value:rd(b,v.tooltipField,u.isTooltipFieldContainsDots()),location:"cell",shouldDisplay:m};const S=v.tooltipValueGetter;return S?{value:S(Ne(l,{location:"cell",colDef:u.getColDef(),column:u,rowIndex:t.cellPosition.rowIndex,node:d,data:d.data,value:t.value,valueFormatted:t.valueFormatted})),location:"cell",shouldDisplay:m}:null},jZ=class extends re{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const o=this.gos,s=py(o),{column:r,eGui:l}=t,u=r.getColDef();!i&&s&&!u.headerComponent&&(i=Td(()=>l.querySelector(".ag-header-cell-text")));const d="header",p=this.beans.colNames.getDisplayNameForColumn(r,"header",!0),m=n??p,v={getGui:()=>l,getLocation:()=>d,getTooltipValue:()=>n??u?.headerTooltipValueGetter?.(Ne(o,{location:d,colDef:u,column:r,value:m,valueFormatted:p}))??u?.headerTooltip,shouldDisplayTooltip:i,getAdditionalParams:()=>({column:r,colDef:r.getColDef()})};let b=this.createTooltipFeature(v);return b&&(b=t.createBean(b),t.setRefreshFunction("tooltip",()=>b.refreshTooltip())),b}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const o=this.gos,s=py(o),{column:r,eGui:l}=t,u=r.getColGroupDef();!i&&s&&!u?.headerGroupComponent&&(i=Td(()=>l.querySelector(".ag-header-group-text")));const d="headerGroup",p=this.beans.colNames.getDisplayNameForColumnGroup(r,"header"),m=n??p,v={getGui:()=>l,getLocation:()=>d,getTooltipValue:()=>n??u?.headerTooltipValueGetter?.(Ne(o,{location:d,colDef:u,column:r,value:m,valueFormatted:p}))??u?.headerTooltip,shouldDisplayTooltip:i,getAdditionalParams:()=>{const S={column:r};return u&&(S.colDef=u),S}},b=this.createTooltipFeature(v);return b&&t.createBean(b)}enableCellTooltipFeature(e,t,n){const{beans:i}=this,{column:o,rowNode:s}=e,r=WZ(i,e,n),l=this.getLocaleTextFunc();let u=null;const d=()=>(u=UZ({beans:i,ctrl:e,value:t,displayFunctions:r,translate:l}),u),p={getGui:()=>e.eGui,getLocation:()=>u?.location??"cell",getTooltipValue:()=>d()?.value,shouldDisplayTooltip:()=>{const m=u??d();return m?m.shouldDisplay?m.shouldDisplay():!0:!1},getAdditionalParams:()=>({column:o,colDef:o.getColDef(),rowIndex:e.cellPosition.rowIndex,node:s,data:s.data,valueFormatted:e.valueFormatted})};return this.createTooltipFeature(p,i)}setupFullWidthRowTooltip(e,t,n,i){const o={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},s=this.beans,r=s.context;e&&t.destroyBean(e,r);const l=this.createTooltipFeature(o,s);if(l)return t.createBean(l,r)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:i}=n,o=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!o)return;const s={getGui:()=>o,getTooltipValue:()=>my(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:l}=n,u=l?.getRowValidationModel()?.getRowValidationMap(),d=l?.getCellValidationModel()?.getCellValidationMap(),f=!!u&&u.size>0,p=!!d&&d.size>0;return f||p}},r=this.createTooltipFeature(s,n);if(r)return e.createBean(r,i)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ye(t.tooltipField)||ye(t.tooltipValueGetter)||ye(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},$Z=class extends OZ{createTooltipComp(e,t){Kj(this.beans.userCompFactory,e)?.newAgStackInstance().then(t)}setEventHandlers(e){[this.onColumnMovedEventCallback]=this.addManagedEventListeners({columnMoved:e})}clearEventHandlers(){this.onColumnMovedEventCallback?.(),this.onColumnMovedEventCallback=void 0}},mI={moduleName:"Tooltip",version:Ce,beans:[jZ],dynamicBeans:{tooltipFeature:pI,highlightTooltipFeature:_Z,tooltipStateManager:$Z},userComponents:{agTooltipComponent:LZ},dependsOn:[Ip],css:[NZ]},Xl=class{constructor(e){this.cellValueChanges=e}},ow=class extends Xl{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},KZ=10,x1=class{constructor(e){this.actionStack=[],this.maxStackSize=e||KZ,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},qZ=class extends re{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&Lb(this.activeCellEdit,t),i=this.activeRowEdit!==null&&g8(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:r,column:l,oldValue:u,value:d}=e,f={rowPinned:s,rowIndex:r,columnId:l.getColId(),newValue:d,oldValue:u};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new x1(n),this.redoStack=new x1(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:o=>{o.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,o=>{this.gridBodyCtrl=o.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const o=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:o})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const o=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:o})}undoRedo(e,t,n,i,o){if(!e)return!1;const s=e.pop();return s?.cellValueChanges?(this.processAction(s,r=>r[i],o),s instanceof ow?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0):!1}processAction(e,t,n){for(const i of e.cellValueChanges){const{rowIndex:o,rowPinned:s,columnId:r}=i,l={rowIndex:o,rowPinned:s},u=Ns(this.beans,l);u.displayed&&u.setDataValue(r,t(i),n)}}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,o)=>{if(!i)return;const s=i.startRow,r=i.endRow;o===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:r.rowIndex,rowEndPinned:r.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,o={rowIndex:n,rowPinned:i},s=Ns(this.beans,o),r={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(r)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:o,focusSvc:s,rangeSvc:r}=this.beans,l=o.getCol(n);if(!l)return;const{scrollFeature:u}=this.gridBodyCtrl;u.ensureIndexVisible(t),u.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:i};s.setFocusedCell({...d,forceBrowserFocus:!0}),r?.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Xl(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Xl(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Xl(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new ow(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Ir(n)?e=new ow(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Xl(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this.updateBigChange(e,!0)}updateBigChange(e,t){e==="bulkEditing"?this.bulkEditing=t:this.batchEditing=t}stopBigChange(e,t){if(e==="bulkEditing"&&!this.bulkEditing||e==="batchEditing"&&!this.batchEditing||(this.updateBigChange(e,!1),t?.length===0))return;const n=new Xl(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},YZ=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{display:block;height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) .ag-text-area-input{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}",XZ={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},QZ=class extends Pp{constructor(){super(XZ,[Ub]),this.eEditor=xe}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:o=>this.setAriaLabel(o.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=Rp(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${i} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},Hs=class extends xa{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ye(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}setCustomValidity(e){const t=this.eInput,n=e.length>0;t.setCustomValidity(e),n&&t.reportValidity(),wb(t,n)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{pk(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{n.clipboardData?.getData("text")?.split("").some(o=>!e.test(o))&&n.preventDefault()}})}},Op={selector:"AG-INPUT-TEXT-FIELD",component:Hs},ZZ=class extends Hs{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Vr();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Yt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ri(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,bi(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?ri(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,bi(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,bi(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return ai(this.getValue())??void 0}setDate(e,t){this.setValue(ri(e??null,this.includeTime),t)}},vI={selector:"AG-INPUT-DATE-FIELD",component:ZZ},_p=class extends Pp{constructor(e){super(),this.cellEditorInput=e,this.eEditor=xe}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:i,eventKey:o,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let r,l=!0;i?(this.focusAfterAttached=!0,o===Z.BACKSPACE||o===Z.DELETE?r="":o&&o.length===1?s?l=!1:r=o:(r=t.getStartValue(),o!==Z.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=t.getStartValue()),l&&r!=null&&n.setStartValue(r),this.addGuiEventListener("keydown",u=>{const{key:d}=u;(d===Z.PAGE_UP||d===Z.PAGE_DOWN)&&u.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Vr()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},JZ={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},eJ=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return JZ}getAgComponents(){return[vI]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:o,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),o!=null&&e.setStep(o),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:i,max:o,getValidationErrors:s}=n;let r=[];const l=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(i){const u=i instanceof Date?i:new Date(i);if(t<u){const d=u.toLocaleDateString();r.push(l("minDateValidation",`Date must be after ${d}`,[d]))}}if(o){const u=o instanceof Date?o:new Date(o);if(t>u){const d=u.toLocaleDateString();r.push(l("maxDateValidation",`Date must be before ${d}`,[d]))}}}return r.length||(r=null),s?s({value:t,cellEditorParams:n,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!ye(n)&&!ye(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ri(e,this.includeTime??!1)}},tJ=class extends _p{constructor(){super(new eJ(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},nJ={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},iJ=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return nJ}getAgComponents(){return[vI]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:i,step:o,colDef:s}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),o!=null&&e.setStep(o),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,i=this.formatDate(this.parseDate(n??void 0)),{min:o,max:s,getValidationErrors:r}=t;let l=[];if(i){const u=new Date(i),d=this.getLocaleTextFunc();if(o){const f=new Date(o);if(u<f){const p=f.toLocaleDateString();l.push(d("minDateValidation",`Date must be after ${p}`,[p]))}}if(s){const f=new Date(s);if(u>f){const p=f.toLocaleDateString();l.push(d("maxDateValidation",`Date must be before ${p}`,[p]))}}}return l.length||(l=null),r?r({value:this.getValue(),cellEditorParams:t,internalErrors:l}):l}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!ye(n)&&!ye(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return ri(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):ai(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ri(e??null,this.includeTime??!1)??void 0}},oJ=class extends _p{constructor(){super(new iJ(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},sJ=class extends xa{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},rJ={selector:"AG-INPUT-TEXT-AREA",component:sJ},aJ={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},lJ=class extends Pp{constructor(){super(aJ,[rJ]),this.eEditor=xe}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:i,maxLength:o,cols:s,rows:r}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(o||200).setCols(s||60).setRows(r||10);let l;n?(this.focusAfterAttached=!0,i===Z.BACKSPACE||i===Z.DELETE?l="":i&&i.length===1?l=i:(l=this.getStartValue(e),i!==Z.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(e)),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}getStartValue(e){const{value:t}=e;return t?.toString()??t}onKeyDown(e){const t=e.key;(t===Z.LEFT||t===Z.UP||t===Z.RIGHT||t===Z.DOWN||e.shiftKey&&t===Z.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,i=this.getLocaleTextFunc();e.setInputAriaLabel(i("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,i=e.getValue();return!ye(i)&&!ye(n)?n:t.parseValue(i)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getLocaleTextFunc(),o=this.getValue();let s=[];return typeof o=="string"&&t!=null&&o.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:o,internalErrors:s,cellEditorParams:e}):s}},sS=class extends Hs{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=Number.parseFloat(e.value),r=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==r&&this.setValue(r)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:o}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof o=="number"&&this.setStep(o)}onWheel(e){Yt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const o=Number.parseFloat(e).toFixed(n);return Number.parseFloat(o).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,bi(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,bi(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,bi(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ye(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const o=this.normalizeValue(n);i=n!=o}if(i)return t(n)}return e(n)}getValue(e=!1){const t=this.eInput;if(!t.validity.valid&&!e)return;const n=t.value;return this.isScientificNotation(n)?this.adjustPrecision(n,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},cJ={selector:"AG-INPUT-NUMBER-FIELD",component:sS},uJ={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},dJ=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return uJ}getAgComponents(){return[cJ]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:i,precision:o,step:s}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),o!=null&&e.setPrecision(o),s!=null&&e.setStep(s);const r=e.getInputElement();t.preventStepping?e.addManagedElementListeners(r,{keydown:this.preventStepping}):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:i}=e,s=this.eEditor.getInputElement().valueAsNumber,r=this.getLocaleTextFunc();let l=[];return typeof s=="number"&&(t!=null&&s<t&&l.push(r("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&l.push(r("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),l.length||(l=null),i?i({value:s,cellEditorParams:e,internalErrors:l}):l}preventStepping(e){(e.key===Z.UP||e.key===Z.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!ye(n)&&!ye(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){Vr()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},hJ=class extends _p{constructor(){super(new dJ(()=>this.getLocaleTextFunc()))}},fJ=".ag-list-item{align-items:center;display:flex;height:var(--ag-list-item-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}",gJ="ag-active-item",pJ=(e,t)=>({tag:"div",cls:`ag-list-item ag-${e}-list-item`,attrs:{role:"option"},children:[{tag:"span",cls:`ag-list-item-text ag-${e}-list-item-text`,ref:"eText",children:t}]}),mJ=class extends zc{constructor(e,t,n){super(pJ(e,t)),this.label=t,this.value=n,this.eText=xe}postConstruct(){this.createTooltip(),this.addEventListeners()}setHighlighted(e){const t=this.getGui();t.classList.toggle(gJ,e),ZA(t,e),this.dispatchLocalEvent({type:"itemHighlighted",highlighted:e})}getHeight(){return this.getGui().clientHeight}setIndex(e,t){const n=this.getGui();EW(n,e),xW(n,t)}createTooltip(){const e={getTooltipValue:()=>this.label,getGui:()=>this.getGui(),getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>nM(this.eText)},t=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("highlightTooltipFeature",!1,e,this));t&&(this.tooltipFeature=t)}addEventListeners(){const e=this.getParentComponent();e&&(this.addGuiEventListener("mouseover",()=>{e.highlightItem(this)}),this.addGuiEventListener("mousedown",t=>{t.preventDefault(),t.stopPropagation(),e.setValue(this.value)}))}},vJ=class extends zc{constructor(e="default"){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.options=[],this.listItems=[],this.highlightedItem=null,this.registerCSS(fJ)}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()})}handleKeyDown(e){const t=e.key;switch(t){case Z.ENTER:if(!this.highlightedItem)this.setValue(this.getValue());else{const n=this.listItems.indexOf(this.highlightedItem);this.setValueByIndex(n)}break;case Z.DOWN:case Z.UP:e.preventDefault(),this.navigate(t);break;case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAGE_HOME:case Z.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){const{value:t,text:n}=e,i=n??t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0);for(const e of this.listItems)e.destroy();xi(this.getGui()),this.listItems=[],this.refreshAriaRole()}updateOptions(e){const t=this.options!==e;return t&&(this.clearOptions(),this.addOptions(e)),t}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.listItems[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.listItems[e])}highlightItem(e){const t=e.getGui();if(!Po(t))return;this.clearHighlighted(),e.setHighlighted(!0),this.highlightedItem=e;const n=this.getGui(),{scrollTop:i,clientHeight:o}=n,{offsetTop:s,offsetHeight:r}=t;(s+r>i+o||s<i)&&t.scrollIntoView({block:"nearest"})}hideItemTooltip(){this.highlightedItem?.tooltipFeature?.attemptToHideTooltip()}destroy(){this.hideItemTooltip(),super.destroy()}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}clearHighlighted(){this.highlightedItem?.setHighlighted(!1),this.highlightedItem=null}renderOption(e,t){const n=new mJ(this.cssIdentifier,t,e);n.setParentComponent(this);const i=this.createManagedBean(n);this.listItems.push(i),this.getGui().appendChild(i.getGui())}navigate(e){const t=e===Z.DOWN;let n;const{listItems:i,highlightedItem:o}=this;if(!o)n=t?i[0]:Ht(i);else{let r=i.indexOf(o)+(t?1:-1);r=Math.min(Math.max(r,0),i.length-1),n=i[r]}this.highlightItem(n)}navigateToPage(e){const{listItems:t,highlightedItem:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),o=this.options.length-1,s=t[0].getHeight(),r=Math.floor(this.getGui().clientHeight/s);let l=-1;e===Z.PAGE_HOME?l=0:e===Z.PAGE_END?l=o:e===Z.PAGE_DOWN?l=Math.min(i+r,o):e===Z.PAGE_UP&&(l=Math.max(i-r,0)),l!==-1&&this.highlightItem(t[l])}refreshAriaRole(){_a(this.getGui(),this.options.length===0?"presentation":"listbox")}updateIndices(){this.refreshAriaRole();const e=this.listItems,t=e.length;e.forEach((n,i)=>{n.setIndex(i+1,t)})}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},CJ=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}.ag-picker-field-wrapper:where(.ag-picker-has-focus),.ag-picker-field-wrapper:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}.ag-picker-field-wrapper:disabled{opacity:.5}",wJ={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},yJ=class extends uk{constructor(e){if(super(e,e?.template||wJ,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=xe,this.eWrapper=xe,this.eDisplayField=xe,this.eIcon=xe,this.registerCSS(CJ),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:o,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),o!=null&&this.setPickerMinWidth(o),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const o=this.beans.iconSvc.createIconNoSpan(n);o&&this.eIcon.appendChild(o)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Ww(e,!1),this.ariaRole&&_a(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Z.UP:case Z.DOWN:case Z.ENTER:case Z.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Z.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:o=!0},maxPickerHeight:s,minPickerWidth:r,maxPickerWidth:l,variableWidth:u,beans:d,eWrapper:f}=this,p={modal:o,eChild:e,closeOnEsc:!0,closedCallback:()=>{const S=mb(d);this.beforeHidePicker(),S&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:f};e.style.position="absolute";const m=d.popupSvc,v=m.addPopup(p);u?(r&&(e.style.minWidth=r),e.style.width=Rb(Dg(f)),l&&(e.style.maxWidth=l)):Ag(e,l??Dg(f));const b=s??`${yb(m.getPopupParent())}px`;return e.style.setProperty("max-height",b),this.alignPickerToComponent(),v.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:o,pickerComponent:s}=this,r=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:o,ePopup:s.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Ww(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return Ag(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},bJ=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}.ag-select:where(:not(.ag-cell-editor,.ag-label-align-top)){min-height:var(--ag-list-item-height)}:where(.ag-select){.ag-picker-field-wrapper{cursor:default;padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}:where(.ag-ltr) .ag-select-list-item{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-select-list-item{padding-right:var(--ag-spacing)}.ag-select-list-item-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",rS=class extends yJ{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(bJ)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Td(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new vJ("select"));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),IW(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}beforeHidePicker(){this.listComponent?.hideItemTooltip(),super.beforeHidePicker()}onKeyDown(e){const{key:t}=e;switch(t===Z.TAB&&this.hidePicker(),t){case Z.ENTER:case Z.UP:case Z.DOWN:case Z.PAGE_UP:case Z.PAGE_DOWN:case Z.PAGE_HOME:case Z.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case Z.ESCAPE:super.onKeyDown(e);break;case Z.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){for(const t of e)this.addOption(t);return this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}updateOptions(e){return this.listComponent?.updateOptions(e)&&this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:o},eDisplayField:s,tooltipFeature:r}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let u=i.getDisplayValue();return u==null&&o&&(u=o),s.textContent=u,r?.setTooltipAndRefresh(u??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},SJ={selector:"AG-SELECT",component:rS},RJ={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},xJ=class extends Pp{constructor(){super(RJ,[SJ]),this.eEditor=xe,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:i}=this,{values:o,value:s,eventKey:r}=e;if(tn(o)){fe(58);return}this.startedByEnter=r!=null?r===Z.ENTER:!1;let l=!1;o.forEach(p=>{const m={value:p},v=n.formatValue(e.column,null,p),b=v!=null;m.text=b?v:p,t.addOption(m),l=l||s===p}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:d,valueListMaxHeight:f}=e;u!=null&&t.setPickerGap(u),f!=null&&t.setPickerMaxHeight(f),d!=null&&t.setPickerMaxWidth(d),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,i=this.getValue();let o=[];if(t&&!t.includes(i)){const s=this.getLocaleTextFunc();o.push(s("invalidSelectionValidation","Invalid selection."))}else o=null;return n?n({value:i,internalErrors:o,cellEditorParams:e}):o}},EJ={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},TJ=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return EJ}getAgComponents(){return[Op]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,i=this.getValue(),o=this.getLocaleTextFunc();let s=[];return t!=null&&typeof i=="string"&&i.length>t&&s.push(o("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!ye(n)&&!ye(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){Vr()&&this.eEditor.getInputElement().focus({preventScroll:!0});const e=this.eEditor,t=e.getValue(),n=ye(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},E1=class extends _p{constructor(){super(new TJ(()=>this.getLocaleTextFunc()))}};function DJ(e){e.undoRedo?.undo("api")}function FJ(e){e.undoRedo?.redo("api")}function PJ(e,t){return e.editModelSvc?.getEditRowDataValue(t,{checkSiblings:!0})}function AJ(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((i,o)=>{const{rowIndex:s,rowPinned:r}=o;i.forEach((l,u)=>{const{editorValue:d,pendingValue:f,sourceValue:p,state:m}=l,v=Eo(l);let b=d??f;b===Gn&&(b=void 0);const S={newValue:b,oldValue:p,state:m,column:u,colId:u.getColId(),colKey:u.getColId(),rowIndex:s,rowPinned:r},R=m==="editing";(R||!R&&v)&&n.push(S)})}),n}function MJ(e,t=!1){const{editSvc:n}=e;if(n?.isBatchEditing()){if(t)for(const i of e.editModelSvc?.getEditPositions()??[])i.state==="editing"&&n.revertSingleCellEdit(i);else Dr(e,{persist:!0});Ea(e,void 0,{cancel:t})}else n?.stopEditing(void 0,{cancel:t,source:"edit",forceStop:!t,forceCancel:t})}function kJ(e,t){const n=Mt(e,t);return!!e.editSvc?.isEditing(n)}function IJ(e,t){const{key:n,colKey:i,rowIndex:o,rowPinned:s}=t,{editSvc:r,colModel:l}=e,u=l.getCol(i);if(!u){fe(12,{colKey:i});return}const f=Ns(e,{rowIndex:o,rowPinned:s||null});if(!f){fe(290,{rowIndex:o,rowPinned:s});return}if(!r?.isCellEditable({rowNode:f,column:u},"api"))return;s==null&&cI(e,o),lI(e,i),r?.startEditing({rowNode:f,column:u},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api",editable:!0})}function OJ(e){return e.editSvc?.validateEdit()||null}function _J(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function LJ(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var NJ={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},HJ=class extends zb{constructor(e){super(NJ),this.params=e}postConstruct(){Ha(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{oy(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}};function GJ(e,{column:t},n,i,o="ui"){if(n instanceof KeyboardEvent&&(n.key===Z.TAB||n.key===Z.ENTER||n.key===Z.F2||n.key===Z.BACKSPACE&&i))return!0;if(n?.shiftKey&&e.rangeSvc?.getCellRanges().length!=0)return!1;const r=t?.getColDef(),l=BJ(e.gos,r),u=n?.type;return u==="click"&&n?.detail===1&&l===1||u==="dblclick"&&n?.detail===2&&l===2?!0:o==="api"?!!i:!1}function BJ(e,t){return e.get("suppressClickEdit")===!0?0:e.get("singleClickEdit")===!0||t?.singleClickEdit?1:2}function sw(e,t){return e.editModelSvc?.hasEdits(t,{withOpenEditor:!0})??!1}function vy(e,t){const n=t.column,i=t.rowNode,o=n.getColDef();if(!i)return sw(e,t);const s=o.editable;if(i.group){const r=o.groupRowEditable;if(r!=null)return n.isColumnFunc(i,r)?!0:sw(e,t)}return n.isColumnFunc(i,s)?!0:sw(e,t)}function VJ(e,t,n="ui"){const i=vy(e,t);if(i||n==="ui")return i;const{rowNode:o,column:s}=t;for(const r of e.colModel.getCols())if(r!==s&&vy(e,{rowNode:o,column:r}))return!0;return!1}var Qg=(e,t=!1)=>{if(e!==void 0)return Eo(e)||t&&e.state==="editing"};function CI(e,t,n=!1){return Qg(e.editModelSvc?.getEdit(t),n)}var wI=(e,t,n)=>{if(e)for(let i=0,o=e.length;i<o;++i){const s=e[i];if(s.data&&(Qg(t?.getEdit({rowNode:s,column:n}))||Qg(t?.getEdit({rowNode:s.pinnedSibling,column:n})))||wI(s.childrenAfterGroup,t,n))return!0}};function yI(e,t){const{column:n,rowNode:i}=t;return e.gos.get("groupTotalRow")&&!i?.footer?!1:wI(i?.childrenAfterGroup,e.editModelSvc,n)}function bI(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return Qg(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var zJ=class extends re{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const o=CI(n,e)||yI(n,e)||bI(n,e);this.applyBatchingStyle(o)}else this.applyBatchingStyle(!1);const i=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",i)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},WJ=class extends re{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let i=e.rowNode,o=t?.getEditRow(i);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:i});if(!o&&i.pinnedSibling&&(i=i.pinnedSibling,o=t?.getEditRow(i)),o){const r=Array.from(o.keys()).some(l=>{const u={rowNode:i,column:l};return CI(n,u,!0)||yI(n,u)||bI(n,u)});this.applyStyle(s,r);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=!!this.editSvc?.isBatchEditing(),i=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:o})=>{o.toggleCss("ag-row-editing",i&&t),o.toggleCss("ag-row-batch-edit",i&&t&&n),o.toggleCss("ag-row-inline-editing",t),o.toggleCss("ag-row-not-inline-editing",!t),o.toggleCss("ag-row-editing-invalid",i&&t&&e)})}},UJ=({rowModel:e,pinnedRowModel:t,editModelSvc:n},i)=>{const o=new Set;e.forEachNode(s=>i.has(s)&&o.add(s)),t?.forEachPinnedRow("top",s=>i.has(s)&&o.add(s)),t?.forEachPinnedRow("bottom",s=>i.has(s)&&o.add(s));for(const s of i)o.has(s)||n.removeEdits({rowNode:s});return o},jJ=({editModelSvc:e},t,n)=>{for(const i of t)e?.getEditRow(i)?.forEach((o,s)=>!n.has(s)&&e.removeEdits({rowNode:i,column:s}))},$J=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),i=new Set(n.keys());jJ(e,UJ(e,i),t)},KJ=new Set(["undo","redo","paste","bulk","rangeSvc"]),qJ=new Set(["ui","api"]),SI={paste:"api",rangeSvc:"api",fillHandle:"api",cellClear:"api",bulk:"api"},YJ=new Set(Object.keys(SI)),XJ=new Set(["paste","rangeSvc","cellClear","redo","undo"]),rw={cancel:!0,source:"api"},QJ={cancel:!1,source:"api"},pa={checkSiblings:!0},Bl={force:!0,suppressFlash:!0},ZJ=class extends re{constructor(){super(...arguments),this.beanName="editSvc",this.committing=!1,this.batch=!1,this.batchStartDispatched=!1,this.stopping=!1,this.rangeSelectionWhileEditing=0}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:i})=>{this.stopEditing(void 0,rw),this.createStrategy(i)});const t=$J(e),n=()=>{const i=this.model.getCellValidationModel().getCellValidationMap().size>0,o=this.model.getRowValidationModel().getRowValidationMap().size>0;return i||o?this.stopEditing(void 0,rw):this.isEditing()&&(this.batch?Ea(e,this.model.getEditPositions()):this.stopEditing(void 0,QJ)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowExpansionStateChanged:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}startBatchEditing(){this.batch||(this.batch=!0,this.batchStartDispatched=!1,this.stopEditing(void 0,rw))}stopBatchEditing(e){this.batch&&(e&&this.stopEditing(void 0,e),this.batchStartDispatched&&this.dispatchBatchStopped(new Map,!1),this.batch=!1,this.batchStartDispatched=!1)}ensureBatchStarted(){!this.batch||this.batchStartDispatched||(this.batchStartDispatched=!0,this.dispatchBatchEvent("batchEditingStarted",new Map))}createStrategy(e){const{beans:t,gos:n,strategy:i}=this,o=T1(n,e);if(i){if(i.beanName===o)return i;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(o,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,i="ui"){const o=GJ(this.beans,e,t,n,i);return o&&(this.strategy??(this.strategy=this.createStrategy())),o}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return $Y(this.beans)}isEditing(e,t){return this.model.hasEdits(e??void 0,t??pa)}isRowEditing(e,t){return!!e&&this.model.hasRowEdits(e,t)}enableRangeSelectionWhileEditing(){this.beans.rangeSvc&&this.gos.get("cellSelection")&&this.rangeSelectionWhileEditing++}disableRangeSelectionWhileEditing(){this.rangeSelectionWhileEditing=Math.max(0,this.rangeSelectionWhileEditing-1)}isRangeSelectionEnabledWhileEditing(){return this.rangeSelectionWhileEditing>0}startEditing(e,t){const{startedEdit:n=!0,event:i=null,source:o="ui",ignoreEventKey:s=!1,silent:r}=t;if(this.strategy??(this.strategy=this.createStrategy()),!(t.editable??this.isCellEditable(e,"api")))return;const u=Mt(this.beans,e);if(u&&!u.comp){t.editable=void 0,u.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const d=this.shouldStartEditing(e,i,n,o);if(d===!1&&o!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,o)&&!t.continueEditing&&this.stopEditing(void 0,{source:o}),d&&this.ensureBatchStarted(),this.strategy.start({position:e,event:i,source:o,ignoreEventKey:s,startedEdit:n,silent:r})}stopEditing(e,t){const n=this.prepareStopContext(e,t);if(!n)return!1;this.stopping=!0;let i=!1,{edits:o}=n;try{const s=this.processStopRequest(n);return i||(i=s.res),o=s.edits,this.finishStopEditing({...n,edits:o,params:t,position:e,res:i}),i}finally{this.rangeSelectionWhileEditing=0,this.stopping=!1}}prepareStopContext(e,t){const{event:n=null,cancel:i=!1,source:o="ui",forceCancel:s=!1,forceStop:r=!1,commit:l=!1}=t||{};if(YJ.has(o)&&this.batch)return this.bulkRefresh(e),null;const u=this.committing?SI[o]:o;if(!(this.committing||this.isEditing(e)||this.batch&&this.model.hasEdits(e,pa))||!this.strategy||this.stopping)return null;const f=Mt(this.beans,e);f&&(f.onEditorAttachedFuncs=[]);const p=!i&&(!!this.shouldStopEditing(e,n,u)||(this.committing||o==="paste")&&!this.batch)||r,m=i&&!!this.shouldCancelEditing(e,n,u)||s;return{cancel:i,cellCtrl:f,edits:this.model.getEditMap(!0),event:n??null,forceCancel:s,forceStop:r,commit:l,position:e,source:o,treatAsSource:u,willCancel:m,willStop:p}}processStopRequest(e){const{event:t,position:n,willCancel:i,willStop:o}=e;return o||i?this.handleStopOrCancel(e):this.shouldHandleMidBatchKey(t,n)?{res:!1,edits:this.handleMidBatchKey(t,n,e)}:(Dr(this.beans,{persist:!0}),this.batch&&this.strategy?.cleanupEditors(n),{res:!1,edits:this.model.getEditMap()})}handleStopOrCancel(e){const{beans:t,model:n}=this,{cancel:i,commit:o,edits:s,event:r,source:l,willCancel:u,willStop:d}=e,f=!this.batch||!u;Dr(t,{persist:f,isCancelling:u||i,isStopping:d});const p=n.getEditMap(),v=!u&&(!this.batch||o)?this.processEdits(p,l):[];i?this.strategy?.stopCancelled(e.forceCancel):this.strategy?.stopCommitted(r,o),this.clearValidationIfNoOpenEditors();for(const b of v)n.clearEditValue(b);this.bulkRefresh(void 0,s);for(const b of n.getEditPositions(p)){const S=Mt(t,b),R=Eo(b);S?.refreshCell({force:!0,suppressFlash:!R})}return{res:d,edits:p}}shouldHandleMidBatchKey(e,t){return e instanceof KeyboardEvent&&this.batch&&!!this.strategy?.midBatchInputsAllowed(t)&&this.isEditing(t,{withOpenEditor:!0})}handleMidBatchKey(e,t,n){const{beans:i,model:o}=this,{cellCtrl:s,edits:r}=n,{key:l}=e,u=l===Z.ENTER,d=l===Z.ESCAPE,f=l===Z.TAB;if(u||f||d){if(u||f)Dr(i,{persist:!0});else if(d&&s){const{rowNode:p,column:m}=s;if(this.batch&&p&&m){const v={rowNode:p,column:m};Ea(i,[v],{silent:!0}),this.model.stop(v,!0,!0),Mt(i,v)?.refreshCell(Bl)}else this.revertSingleCellEdit(s)}return this.batch?this.strategy?.cleanupEditors():Ea(i,o.getEditPositions(),{event:e,cancel:d}),e.preventDefault(),this.bulkRefresh(t,r,{suppressFlash:!0}),o.getEditMap()}return r}finishStopEditing({cellCtrl:e,edits:t,params:n,position:i,res:o,commit:s,forceCancel:r,willCancel:l,willStop:u}){const d=this.beans;o&&i&&(!this.batch||s)&&this.model.removeEdits(i),this.navigateAfterEdit(n,e?.cellPosition),ug(d),this.clearValidationIfNoOpenEditors(),this.bulkRefresh();const{rowRenderer:f,formula:p}=d;if(l&&f.refreshRows({rowNodes:Array.from(t.keys())}),this.batch){p?p.refreshFormulas(!0):f.refreshRows({suppressFlash:!0,force:!0});const m=u&&s;(m||l&&r)&&this.dispatchBatchStopped(t,m)}}dispatchBatchStopped(e,t){let n;t&&(n=GY(e),n.size>0&&this.ensureBatchStarted()),this.batchStartDispatched&&(this.batchStartDispatched=!1,this.dispatchBatchEvent("batchEditingStopped",n??new Map))}clearValidationIfNoOpenEditors(){this.model.hasEdits(void 0,{withOpenEditor:!0})||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap())}navigateAfterEdit(e,t){if(!e||!t)return;const{event:n,suppressNavigateAfterEdit:i}=e;if(!(n instanceof KeyboardEvent)||i)return;const{key:s,shiftKey:r}=n,l=this.gos.get("enterNavigatesVerticallyAfterEdit");if(s!==Z.ENTER||!l)return;const u=r?Z.UP:Z.DOWN;this.beans.navigation?.navigateToNextCell(null,u,t,!1)}processEdits(e,t){const n=Array.from(e.keys()),i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,o=[];for(const s of n){const r=e.get(s);for(const l of r.keys()){const u=r.get(l),d={rowNode:s,column:l};if(Eo(u)&&!i){const f=Mt(this.beans,d);this.setNodeDataValue(s,l,u.pendingValue,f,t)||o.push(d)}}}return o}setNodeDataValue(e,t,n,i,o="edit"){const s=qJ.has(o)?"edit":o;i&&(i.suppressRefreshCell=!0),this.committing=!0;try{return e.setDataValue(t,n,s)}finally{this.committing=!1,i&&(i.suppressRefreshCell=!1)}}syncEditAfterCommit(e,t){const n=this.model.getEdit(e);n&&n.state!=="editing"&&(t?this.beans.editModelSvc?.setEdit(e,{sourceValue:this.valueSvc.getValue(e.column,e.rowNode,"data")}):this.model.clearEditValue(e))}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh();let n=Bl;t?.forceRefreshOfEditCellsOnly&&(n={...JJ(e),...Bl}),this.beans.rowRenderer.refreshCells(n)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:i,sourceValue:o}=n,{rowIndex:s,rowPinned:r,data:l}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:r,column:t,source:"api",data:l,newValue:i,oldValue:o,value:i,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:i,gos:o}=this,{editModelSvc:s,rowModel:r}=i;Cn(o)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((l,u)=>{for(const d of l.keys())this.refCell({rowNode:u,column:d},l.get(d),n)}))}refCell({rowNode:e,column:t},n,i={}){const{beans:o,gos:s}=this,r=new Set([e]),l=new Set,u=e.pinnedSibling;u&&r.add(u);const d=e.sibling;d&&l.add(d);let f=e.parent;for(;f;)f.sibling?.footer&&s.get("groupTotalRow")||!f.parent&&f.sibling&&s.get("grandTotalRow")?l.add(f.sibling):l.add(f),f=f.parent;for(const p of r)this.dispatchEditValuesChanged({rowNode:p,column:t},n);for(const p of r)Mt(o,{rowNode:p,column:t})?.refreshCell(i);for(const p of l)Mt(o,{rowNode:p,column:t})?.refreshCell(i)}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{gos:n,beans:i}=this,o=e.rowNode,s=e.column.getColDef();if(o.group&&s.groupRowEditable==null){if(n.get("treeData")){if(!o.data&&!n.get("enableGroupEdit"))return!1}else if(!n.get("enableGroupEdit"))return!1}const r=T1(n)==="fullRow"?VJ(i,e,t):vy(i,e);return r&&(this.strategy??(this.strategy=this.createStrategy())),r}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const i=Mt(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(i&&!i.hasBrowserFocus()&&i.focusCell(),i?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(i&&this.revertSingleCellEdit(i),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=Mt(this.beans,e);n?.comp?.getCellEditor()&&(Ea(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),Pc(this.beans,e,{silent:!0}),Wa(this.beans),n?.refreshCell(Bl),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Wa(this.beans);const t=Mt(this.beans,e);t&&(t.refreshCell(Bl),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,i="ui"){let o;const s=this.isEditing(),r=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Cc&&s&&(o=this.strategy?.moveToNextEditingCell(e,t,n,i,r)),o===null||(o=o||!!this.beans.focusSvc.focusedHeader,o===!1&&!r&&this.stopEditing()),o}getPendingEditValue(e,t,n){if(n==="data"||n==="batch"&&!this.batch)return;const i=this.model.getEdit({rowNode:e,column:t},pa);if(!i||this.stopping&&!this.batch&&!i.editorState?.cellStartedEditing)return;if(n==="edit"){const s=i.editorValue;if(s!=null&&s!==Gn)return s}const o=i.pendingValue;if(o!==Gn)return o}getCellDataValue(e){const t=this.model.getEdit(e,pa);if(t){const n=t.pendingValue;if(n!==Gn)return n;const i=t.sourceValue;if(i!=null)return i}return this.valueSvc.getValue(e.column,e.rowNode,"data")}addStopEditingWhenGridLosesFocus(e){LY(this,this.beans,e)}createPopupEditorWrapper(e){return new HJ(e)}batchResetToSourceValue(e){if(!this.batch)return!1;const t=this.model.getEdit(e);if(!t)return!1;const{pendingValue:n,sourceValue:i,state:o}=t;return n===i||o==="editing"?!1:(this.dispatchEditValuesChanged(e,{...t,pendingValue:i}),this.beans.editModelSvc?.removeEdits(e),this.bulkRefresh(e),!0)}setDataValue(e,t,n){try{const i=this.batch,o=this.isEditing(i?void 0:e);if((!o||this.committing)&&!XJ.has(n)||!o&&!i&&n==="paste")return;const s=this.beans;this.strategy??(this.strategy=this.createStrategy());let r;if(i?r="ui":this.committing?r=n??"api":r="api",!n||KJ.has(n))return this.applyDirectValue(e,t,n);const l=this.applyExistingEdit(e,t,n,r);return l!==void 0?l:(Yu(s,e,t,n,void 0,{persist:!0}),this.ensureBatchStarted(),this.stopEditing(e,{source:r,suppressNavigateAfterEdit:!0}),!0)}finally{this.committing=!1}}applyExistingEdit(e,t,n,i){const o=this.model.getEdit(e);if(o)return o.pendingValue===t?!1:o.sourceValue!==t?(Yu(this.beans,e,t,n,void 0,{persist:!0}),this.ensureBatchStarted(),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0):(this.beans.editModelSvc?.removeEdits(e),this.ensureBatchStarted(),this.dispatchEditValuesChanged(e,{...o,pendingValue:t}),!0)}applyDirectValue(e,t,n){const i=this.beans;if(this.batch)return Yu(i,e,t,n,void 0,{persist:!0}),this.cleanupEditors(),ug(i),this.ensureBatchStarted(),this.bulkRefresh(),!0;Yu(i,e,t,n,void 0,{persist:!0});const o=Mt(i,e),s=this.setNodeDataValue(e.rowNode,e.column,t,o,n);return this.syncEditAfterCommit(e,s),Mt(i,e)?.refreshCell(Bl),s}handleColDefChanged(e){BY(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){const{model:n}=this;if(!this.batch||!n.hasRowEdits(e.rowNode,pa))return;const{rowNode:o}=e,{compDetails:s,valueToDisplay:r}=t;if(s){const{params:l}=s;return l.data=n.getEditRowDataValue(o,pa),{compDetails:s}}return{valueToDisplay:r}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,i){this.strategy?.dispatchCellEvent(e,t,n,i)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return Ne(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:i,rangeSvc:o,valueSvc:s}=this,{formula:r}=i;Dr(i,{persist:!0});const l=this.model.getEditMap(!0);let u=l.get(e)?.get(t)?.pendingValue,d=!1;this.batch||(this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),d=!0);const f=r?.isFormula(u)??!1;n.forEach(m=>{const v=m.columns.some(b=>b?.isAllowFormula());if(o?.forEachRowInRange(m,b=>{const S=Ns(i,b);if(S===void 0)return;const R=l.get(S)??new Map;let x=u;for(const T of m.columns){if(!T)continue;const F=!!f&&T.isAllowFormula();if(this.isCellEditable({rowNode:S,column:T},"api")){const A=s.getValue(T,S,"data",!0);let M=s.parseValue(T,S??null,x,A);Number.isNaN(M)&&(M=null),R.set(T,{editorValue:void 0,pendingValue:M,sourceValue:A,state:"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}F&&(x=r?.updateFormulaByOffset({value:x,columnDelta:1}))}R.size>0&&l.set(S,R),f&&v&&(u=r?.updateFormulaByOffset({value:u,rowDelta:1}))}),this.setEditMap(l),this.batch){this.cleanupEditors(),ug(i),this.ensureBatchStarted(),this.bulkRefresh();return}this.committing=!0;try{this.stopEditing(void 0,{source:"bulk"})}finally{this.committing=!1,d&&this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(l)})}}),this.bulkRefresh();const p=Mt(i,{rowNode:e,column:t});p&&p.focusCell(!0)}createCellStyleFeature(e){return new zJ(e,this.beans)}createRowStyleFeature(e){return new WJ(e,this.beans)}setEditingCells(e,t){const{beans:n}=this,{colModel:i,valueSvc:o}=n,s=new Map;for(let{colId:r,column:l,colKey:u,rowIndex:d,rowPinned:f,newValue:p,state:m}of e){const v=r?i.getCol(r):u?i.getCol(u):l;if(!v)continue;const b=Ns(n,{rowIndex:d,rowPinned:f});if(!b)continue;const S=o.getValue(v,b,"data",!0);if(!t?.forceRefreshOfEditCellsOnly&&!Eo({pendingValue:p,sourceValue:S})&&m!=="editing")continue;let R=s.get(b);R||(R=new Map,s.set(b,R)),p===void 0&&(p=Gn),R.set(v,{editorValue:void 0,pendingValue:p,sourceValue:S,state:m??"changed",editorState:{isCancelAfterEnd:void 0,isCancelBeforeStart:void 0}})}this.setEditMap(s,t)}onCellFocused(e){const t=Mt(this.beans,e);if(!t||!this.isEditing(t,pa))return;const n=this.model.getEdit(t);if(!n||!Eo(n))return;const o=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(o,"pendingChange")}allowedFocusTargetOnValidation(e){return Mt(this.beans,e)}};function JJ(e){return{rowNodes:e?Array.from(e.keys()):void 0,columns:e?[...new Set(Array.from(e.values()).flatMap(t=>Array.from(t.keys())))]:void 0}}function T1(e,t){return t??e.get("editType")??"singleCell"}var RI=class extends re{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:i,beans:o}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=Mt(o,n));const{gos:r,editModelSvc:l}=o,u=e.type==="cellFocusCleared";if(i.isEditing(void 0,{withOpenEditor:!0})){const{column:d,rowIndex:f,rowPinned:p}=e,m={column:d,rowNode:Ns(o,{rowIndex:f,rowPinned:p})},v=r.get("invalidEditValueMode")==="block";if(v)return;const b=!v,S=!!l?.getCellValidationModel().hasCellValidation(m),R=b&&S;!(n||u)||i.stopEditing(void 0,{cancel:R,source:u&&b?"api":void 0,event:s})||(i.isBatchEditing()?i.cleanupEditors():i.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}stopCancelled(e){const t=this.editSvc.isBatchEditing()&&!e;for(const n of this.model.getEditPositions())kd(this.beans,n,{cancel:!0},Mt(this.beans,n)),this.model.stop(n,t,!0);return!0}stopCommitted(e,t){const n=this.model.getEditPositions(),i={all:[],pass:[],fail:[]};for(const r of n)i.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0?i.fail.push(r):i.pass.push(r);const o=this.processValidationResults(i),s=this.editSvc.isBatchEditing()&&!t;for(const r of o.destroy)kd(this.beans,r,{event:e},Mt(this.beans,r)),this.model.stop(r,s,!1);for(const r of o.keep){const l=Mt(this.beans,r);!this.editSvc.cellEditingInvalidCommitBlocks()&&l&&this.editSvc.revertSingleCellEdit(l)}return!0}cleanupEditors({rowNode:e}={},t){Dr(this.beans,{persist:!1});const n=this.model.getEditPositions(),i=[];if(e)for(const o of n)o.rowNode!==e&&i.push(o);else for(const o of n)i.push(o);Ea(this.beans,i),ug(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const i=this.beans.gos.get("editType")==="fullRow";e.focusCell(i),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e){const{event:t,ignoreEventKey:n=!1,startedEdit:i,position:o,cells:s=this.model.getEditPositions()}=e,r=t instanceof KeyboardEvent&&!n&&t.key||void 0;HY(this.beans,s,o,r,t,i)}dispatchCellEvent(e,t,n,i){const o=Mt(this.beans,e);o&&this.eventSvc.dispatchEvent({...o.createEvent(t??null,n),...i})}dispatchRowEvent(e,t,n){if(n)return;const i=qg(this.beans,e);i&&this.eventSvc.dispatchEvent(i.createRowEvent(t))}shouldStop(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return i&&n==="api"?!0:i&&(n==="ui"||n==="edit")?!1:n==="api"?!0:t instanceof KeyboardEvent&&!i?t.key===Z.ENTER:null}shouldCancel(e,t,n="ui"){const i=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!i&&t.key===Z.ESCAPE||i&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((i,o)=>{i.forEach((s,r)=>{s.state==="editing"&&n.push({...s,rowNode:o,column:r})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const i=n.at(-1),o=i.pendingValue===Gn?void 0:i.pendingValue;this.start({position:i,event:new KeyboardEvent("keydown",{key:o}),source:"api"});const s=Mt(this.beans,i);s&&this.setFocusInOnEditor(s)}}destroy(){this.cleanupEditors(),super.destroy()}},eee=class extends RI{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}shouldStop(e,t,n="ui"){const{rowNode:i}=e||{};if(!qg(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?i!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e){const{position:t,silent:n,startedEdit:i,event:o,ignoreEventKey:s}=e,{rowNode:r}=t;this.rowNode!==r&&super.cleanupEditors(t);const l=this.beans.visibleCols.allCols,u=[],d=[];for(const f of l)f.isCellEditable(r)&&d.push(f);if(d.length!=0){this.dispatchRowEvent({rowNode:r},"rowEditingStarted",n),this.startedRows.push(r);for(const f of d){const p={rowNode:r,column:f};u.push(p),this.model.hasEdits(p)||this.model.start(p)}this.rowNode=r,this.setupEditors({cells:u,position:t,startedEdit:i,event:o,ignoreEventKey:s})}}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stopCancelled(e){const{rowNode:t}=this;return t&&!this.model.hasRowEdits(t)?!1:(super.stopCancelled(e),this.cleanupEditors({rowNode:t},!0),this.rowNode=void 0,!0)}stopCommitted(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const i=[];if(this.model.getEditMap().forEach((o,s)=>{if(!(!o||o.size===0)){for(const r of o.values())if(Eo(r)){i.push(s);break}}}),Wa(this.beans),this.editSvc.checkNavWithValidation({rowNode:n})==="block-stop")return!1;if(super.stopCommitted(e,t),t||!this.editSvc.isBatchEditing())for(const o of i)this.dispatchRowEvent({rowNode:o},"rowValueChanged");return this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent||this.beans.editSvc?.isRangeSelectionEnabledWhileEditing())return;const i=Mt(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&i&&(this.model.getCellValidationModel().getCellValidation(i)||this.model.getRowValidationModel().getRowValidation(i))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t);for(const n of this.startedRows)this.dispatchRowEvent({rowNode:n},"rowEditingStopped"),this.destroyEditorsForRow(n);this.startedRows.length=0}destroyEditorsForRow(e){const t=qg(this.beans,{rowNode:e});if(!t)return;const n={};for(const i of t.getAllCellCtrls())i.comp?.getCellEditor()&&kd(this.beans,i,n,i)}moveToNextEditingCell(e,t,n,i="ui",o=!1){const s=e.cellPosition;let r;this.model.suspend(!0);try{r=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(r===!1)return null;if(r==null)return!1;const l=r.cellPosition,u=e.isCellEditable(),d=r.isCellEditable(),f=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;u&&this.setFocusOutOnEditor(e),this.restoreEditors();const p=this.gos.get("suppressStartEditOnTab");return d&&!o?p?r.focusCell(!0,n):(r.comp?.getCellEditor()||Pc(this.beans,r,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(r),r.focusCell(!1,n)):(d&&o&&this.setFocusInOnEditor(r),r.focusCell(!0,n)),!f&&!o&&(this.editSvc?.stopEditing({rowNode:e.rowNode},{event:n,forceStop:!0}),this.editSvc?.isRowEditing(e.rowNode,{withOpenEditor:!0})&&this.cleanupEditors(r,!0),p?r.focusCell(!0,n):this.editSvc.startEditing(r,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0,editable:d||void 0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},i)=>{if(n!=="editing")return;const o=Mt(this.beans,{rowNode:t,column:i});o&&!o.comp?.getCellEditor()&&Pc(this.beans,o,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},tee=class extends RI{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const i=super.shouldStop(e,t,n);if(i!==null)return i;const o=e?.rowNode,s=e?.column,r=this.rowNode,l=this.column;return(!r||!l)&&o&&s?null:r!==o||l!==s?!0:!r&&!l?this.model.hasEdits(void 0,{withOpenEditor:!0}):!1}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e){const{position:t,startedEdit:n,event:i,ignoreEventKey:o}=e;(this.rowNode!==t.rowNode||this.column!==t.column)&&super.cleanupEditors(),this.rowNode=t.rowNode,this.column=t.column,this.model.start(t),this.setupEditors({cells:[t],position:t,startedEdit:n,event:i,ignoreEventKey:o})}dispatchRowEvent(e,t,n){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stopCancelled(e){return super.stopCancelled(e),this.clearPosition()}stopCommitted(e,t){return super.stopCommitted(e,t),this.clearPosition()}clearPosition(){return this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:i,column:o,rowPinned:s}=e,r=Ns(this.beans,{rowIndex:i,rowPinned:s}),l=uy(o),u=t.getCol(l),d=e.previousParams;if(d){const f=uy(d.column);if(d?.rowIndex===i&&f===l&&d?.rowPinned===s)return}e.type=="cellFocused"&&(n?.isRangeSelectionEnabledWhileEditing()||n?.isEditing({rowNode:r,column:u},{withOpenEditor:!0}))||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,i="ui",o=!1){const s=this.beans.focusSvc.getFocusedCell();s&&(e=Jl(this.beans,s)??e);const r=e.cellPosition;let l;const u=this.beans.gos.get("editType")==="fullRow";u&&this.model.suspend(!0),o||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{l=this.beans.navigation?.findNextCellToFocusOn(r,{backwards:t,startEditing:!0})}finally{u&&this.model.suspend(!1)}if(l===!1)return null;if(l==null)return!1;const d=l.cellPosition,f=e.isCellEditable(),p=l.isCellEditable(),m=d&&r.rowIndex===d.rowIndex&&r.rowPinned===d.rowPinned;f&&!o&&this.setFocusOutOnEditor(e);const v=this.gos.get("suppressStartEditOnTab");if(!m&&!o&&(super.cleanupEditors(l,!0),v?l.focusCell(!0,n):this.editSvc.startEditing(l,{startedEdit:!0,event:n,source:i,ignoreEventKey:!0,editable:p})),p&&!o){if(l.focusCell(!1,n),v)l.focusCell(!0,n);else if(!l.comp?.getCellEditor()){const b=this.editSvc?.isEditing(l,{withOpenEditor:!0});Pc(this.beans,l,{event:n,cellStartedEdit:!0,silent:b}),this.setFocusInOnEditor(l),this.cleanupEditors(l)}}else p&&o&&this.setFocusInOnEditor(l),l.focusCell(!0,n);return e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},Wr={moduleName:"EditCore",version:Ce,beans:[_Y,ZJ],apiFunctions:{getEditingCells:AJ,getEditRowValues:PJ,getCellEditorInstances:NY,startEditingCell:IJ,stopEditing:MJ,isEditing:kJ,validateEdit:OJ},dynamicBeans:{singleCell:tee,fullRow:eee},dependsOn:[Ip,mI],css:[YZ]},nee={moduleName:"UndoRedoEdit",version:Ce,beans:[qZ],apiFunctions:{undoCellEditing:DJ,redoCellEditing:FJ,getCurrentUndoSize:_J,getCurrentRedoSize:LJ},dependsOn:[Wr]},iee={moduleName:"TextEditor",version:Ce,userComponents:{agCellEditor:E1,agTextCellEditor:E1},dependsOn:[Wr]},oee={moduleName:"NumberEditor",version:Ce,userComponents:{agNumberCellEditor:{classImp:hJ}},dependsOn:[Wr]},see={moduleName:"DateEditor",version:Ce,userComponents:{agDateCellEditor:tJ,agDateStringCellEditor:oJ},dependsOn:[Wr]},ree={moduleName:"CheckboxEditor",version:Ce,userComponents:{agCheckboxCellEditor:QZ},dependsOn:[Wr]},aee={moduleName:"SelectEditor",version:Ce,userComponents:{agSelectCellEditor:xJ},dependsOn:[Wr]},lee={moduleName:"LargeTextEditor",version:Ce,userComponents:{agLargeTextCellEditor:lJ},dependsOn:[Wr]},cee={moduleName:"CustomEditor",version:Ce,dependsOn:[Wr]},xI={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agBigIntColumnFilter:"agBigIntColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},uee=new Set(Object.values(xI));function Cr(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const i=n.create(n.refreshed),o=n;return o.created=!0,o.promise=i,i}function dee(e,t,n,i,o,s,r){return t.refresh?.({...n,model:i,source:s,additionalEventAttributes:r}),e().then(l=>{if(l){const{filter:u,filterParams:d}=l;EI(u,d,i,o,s,r)}})}function EI(e,t,n,i,o,s){e?.refresh?.({...t,model:n,state:i,source:o,additionalEventAttributes:s})}function TI(e,t,n,i){const o=e();o?.created&&o.promise.then(s=>{const r=t();EI(s,o.filterParams,r,n()??{model:r},"ui",i)})}function D1(e){let t,n=!1,i;const{action:o,filterParams:s,getFilterUi:r,getModel:l,getState:u,updateState:d,updateModel:f,processModelToApply:p}=e;switch(o){case"apply":{const m=u();i=m?.model??null,p&&(i=p(i)),t={state:m?.state,model:i},n=!0;break}case"clear":{t={model:null},s?.buttons?.includes("apply")||(n=!0,i=null);break}case"reset":{t={model:null},n=!0,i=null;break}case"cancel":{t={model:l()};break}}d(t),n?f(i):TI(r,l,u,{fromAction:o})}function Nn(e,t){return e[t]??null}var hee=class extends Vb{constructor(){super(...arguments),this.iconCreated=!1}wireComp(e,t,n,i,o){this.comp=e;const s=Yd(this,this.beans.context,o);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const r=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:r}),s.addManagedEventListeners({filterSwitched:({column:l})=>{l===this.column&&r()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Ne(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Si("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Kd(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();xc(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(Yt(t)===this.eGui)return;const o=Xa(t,this.eGui,null,e.shiftKey);if(o){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),o.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Z.UP:case Z.DOWN:case Z.LEFT:case Z.RIGHT:if(t)return;Ba(e);case Z.ENTER:t&&Ga(this.eGui)&&e.preventDefault();break;case Z.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Ta(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const o=this.lastFocusEvent,s=!!(o&&o.key===Z.TAB);if(o&&s){const r=o.shiftKey;Ga(this.eGui,r)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new Bb(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!Hi(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:i}=this,o=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const r=this.comp.getFloatingFilterComp();r&&r.then(l=>{if(l){if(i.get("enableFilterHandlers")){const f=s;let p="filter";f?.afterFloatingFilter?p="ui":f?.afterDataChange?p="dataChanged":s?.source==="api"&&(p="api"),this.updateFloatingFilterParams(this.userCompDetails,p);return}const u=t?.getCurrentFloatingFilterParentModel(n),d=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;l.onParentModelChanged(u,d)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:o}),t?.isFilterActive(n)&&o(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.beans.colFilter,o=this.active?i?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!o?this.updateCompDetails(e,o,n):s.then(r=>{!r||i?.areFilterCompsDifferent(this.userCompDetails??null,o)?this.updateCompDetails(e,o,n):this.updateFloatingFilterParams(o,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(i=>{typeof i?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:Nn(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),i.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function fee(e,t){const n=e.colModel.getCol(t);if(!n){Dt(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function gee(e){e.menuSvc?.hidePopupMenu()}var pee=class extends re{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(P1(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){P1(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(Hi(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Or(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Aa()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Hi(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!Hi(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Hi(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:o,onClosedCallback:s}=t,r=t.column;if(o==="button"){const{buttonElement:l}=t;e?.showMenuAfterButtonClick(r,l,n,s,i)}else if(o==="mouse"){const{mouseEvent:l}=t;e?.showMenuAfterMouseEvent(r,l,n,s,i)}else if(r){const l=this.beans,u=l.ctrlsSvc;u.getScrollFeature().ensureColumnVisible(r,"auto"),zs(l,()=>{const d=u.getHeaderRowContainerCtrl(r.getPinned())?.getHeaderCtrlForColumn(r);d&&e?.showMenuAfterButtonClick(r,d.getAnchorElementForMenu(i),n,s,i)})}}};function F1(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function P1(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:i}=e;return t&&Hi(i)?t:n}var mee={moduleName:"SharedMenu",version:Ce,beans:[pee],apiFunctions:{showColumnMenu:fee,hidePopupMenu:gee}},vee=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;:where(.ag-set-filter-group-closed-icon),:where(.ag-set-filter-group-indeterminate-icon),:where(.ag-set-filter-group-opened-icon){cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper{min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>:where(.ag-date-floating-filter-wrapper),>:where(.ag-floating-filter-input),>:where(.ag-input-field){flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(.ag-input-field-input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:var(--ag-widget-container-vertical-padding);:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function Cee(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function wee(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function yee(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function bee(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function See(e){return e.filterManager?.getFilterModel()??{}}function Ree(e,t,n){const{gos:i,colModel:o,colFilter:s}=e;n&&!i.get("enableFilterHandlers")&&(fe(288),n=!1);const r=o.getColDefCol(t);return r?s?.getModelForColumn(r,n)??null:null}function xee(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function Eee(e,t){const n=e.colModel.getCol(t);if(!n){Dt(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function Tee(e){e.menuSvc?.hideFilterMenu()}function Dee(e,t){const n=e.colModel.getCol(t);if(!n){Dt(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function Fee(e,t){const{colModel:n,colFilter:i,gos:o}=e;if(!o.get("enableFilterHandlers")){fe(287);return}const{colId:s,action:r}=t;if(s){const l=n.getColById(s);l&&i?.updateModel(l,r)}else i?.updateAllModels(r)}var A1={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},M1=["january","february","march","april","may","june","july","august","september","october","november","december"];function Pee(e,t){return e==null?-1:t==null?1:Number.parseFloat(e)-Number.parseFloat(t)}function Aee(e,t){if(e==null)return-1;if(t==null)return 1;const n=Ei(e),i=Ei(t);return n!=null&&i!=null?n===i?0:n>i?1:-1:String(e).localeCompare(String(t))}function k1(e){return e instanceof Date&&!isNaN(e.getTime())}var Cy={number:()=>{},bigint:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:k1}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const i=e.dateParser(n);return n==null||i<t?-1:i>t?1:0},isValidDate:t=>typeof t=="string"&&k1(e.dateParser(t))}),dateTime:e=>Cy.date(e),dateTimeString:e=>Cy.dateString(e),object:()=>{},text:()=>{}},wy={number:()=>({comparator:Pee}),bigint:()=>({comparator:Aee}),boolean:({t:e})=>({valueFormatter:t=>ye(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return ye(i)?i:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,i)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(i===1&&n!=null){const o=M1[Number(n)-1];return t(o,A1[o])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>Gf(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:i=>{const o=e(i);return ye(o)?o:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:i=>Gf(t.dateParser(i??void 0),!1),treeListFormatter:(i,o)=>{if(o===1&&i!=null){const s=M1[Number(i)-1];return n(s,A1[s])}return i??n("blanks","(Blanks)")}}),dateTime:e=>{const t=wy.date(e);return t.treeListPathGetter=Gf,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=wy.dateString(e);return n.treeListPathGetter=i=>Gf(t(i??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const i=e(n);return ye(i)?i:t("blanks","(Blanks)")}}),text:()=>{}};function Mee(e,t,n,i,o,s,r){let l=t,u=n;const d=e==="agSetColumnFilter";!u&&i.baseDataType==="object"&&!d&&(u=({column:v,node:b})=>o({column:v,node:b,value:s.valueSvc.getValue(v,b,"data")}));const p=(d?wy:Cy)[i.baseDataType],m=p({dataTypeDefinition:i,formatValue:o,t:r});return l=typeof t=="object"?{...m,...t}:m,{filterParams:l,filterValueGetter:u}}var kee={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",bigint:"agBigIntColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},Iee={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",bigint:"agBigIntColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function Oee(e,t=!1){return(t?Iee:kee)[e??"text"]}function _ee(e,t,n){if(t==null)return null;let i=null;const{compName:o,jsComp:s,fwComp:r}=KM(e,t);return o?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agBigIntColumnFilter:"agBigIntColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[o]:s==null&&r==null&&t.filter===!0&&(i=n()),i}var Lee={filterHandler:()=>({doesFilterPass:()=>!0})};function I1(e,t,n,i){if(!e.isPrimary())return!0;const s=!n;return!e.isValueActive()||!s?!1:t?!0:i}var Nee=class extends re{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...xI},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.addManagedPropertyListener("pivotMode",this.onPivotModeChanged.bind(this));const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api",n){const{colModel:i,dataTypeSvc:o,filterManager:s}=this.beans;if(o?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const r=[],l=this.getModel(!0);if(e){const u=new Set(Object.keys(e));this.allColumnFilters.forEach((d,f)=>{const p=e[f];r.push(this.setModelOnFilterWrapper(d,p)),u.delete(f)}),u.forEach(d=>{const f=i.getColDefCol(d)||i.getCol(d);if(!f){fe(62,{colId:d});return}if(!f.isFilterAllowed()){fe(63,{colId:d});return}const p=this.getOrCreateFilterWrapper(f,!0);if(!p){fe(64,{colId:d});return}r.push(this.setModelOnFilterWrapper(p,e[d],!0))})}else this.model={},this.allColumnFilters.forEach(u=>{r.push(this.setModelOnFilterWrapper(u,null))});ct.all(r).then(()=>{const u=this.getModel(!0),d=[];this.allColumnFilters.forEach((f,p)=>{const m=l?l[p]:null,v=u?u[p]:null;Sd(m,v)||d.push(f.column)}),d.length>0?s?.onFilterChanged({columns:d,source:t}):n&&this.updateActive("filterChanged")})}getModel(e){const t={},{allColumnFilters:n,initialModel:i,beans:{colModel:o}}=this;if(n.forEach((s,r)=>{const l=this.getModelFromFilterWrapper(s);ye(l)&&(t[r]=l)}),!e)for(const s of Object.keys(i)){const r=i[s];ye(r)&&!n.has(s)&&o.getCol(s)?.isFilterAllowed()&&(t[s]=r)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const i of Object.keys(t)){const o=t[i];this.state.set(i,{model:Nn(this.model,i),state:o})}this.setModel(e,n,!0)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((i,o)=>{const s=i.state;s!=null&&(n=!0,t[o]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return Nn(this.model,n);const i=e.filter;return i?typeof i.getModel!="function"?(fe(66),null):i.getModel():Nn(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=u=>u?u.isFilterActive?u.isFilterActive():(fe(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!Ig(n),o=[],s=[],r=(u,d,f)=>{d&&(I1(u,t.isPivotMode(),t.isPivotActive(),i)?o.push(f):s.push(f))},l=[];return this.allColumnFilters.forEach(u=>{const d=u.column,f=d.getColId();if(u.isHandler)l.push(ct.resolve().then(()=>{r(d,this.isHandlerActive(d),{colId:f,isHandler:!0,handler:u.handler,handlerParams:u.handlerParams})}));else{const p=Cr(u);p&&l.push(p.then(m=>{r(d,e(m),{colId:f,isHandler:!1,comp:m})}))}}),ct.all(l).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(i=>{const o=i.column;if(i.isHandler)n.push(ct.resolve().then(()=>{this.setColFilterActive(o,this.isHandlerActive(o),e,t)}));else{const s=Cr(i);s&&n.push(s.then(r=>{this.setColFilterActive(o,r.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),ct.all(n)}doFiltersPass(e,t,n){const{data:i,aggData:o}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,r=n?o:i,l=this.model;for(let u=0;u<s.length;u++){const d=s[u],{colId:f,isHandler:p}=d;if(f!==t)if(p){const{handler:m,handlerParams:v}=d;if(!m.doesFilterPass({node:e,data:r,model:Nn(l,f),handlerParams:v}))return!1}else{const m=d.comp;if(typeof m.doesFilterPass!="function"){Dt(91);continue}if(!m.doesFilterPass({node:e,data:r}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,i=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(o=>{const{column:s,isHandler:r}=o;i!==s.getColId()&&(r&&o.handler.onAnyFilterChanged?.(),Cr(o,r)?.then(l=>{typeof l?.onAnyFilterChanged=="function"&&l.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const i=n.isHandler;i&&n.handler.onNewRowsLoaded?.();const o=Cr(n,i);o&&t.push(o.then(s=>{s.onNewRowsLoaded?.()}))}),ct.all(t).then(()=>this.updateActive(e,{afterDataChange:!0}))}updateActive(e,t){this.updateFilterFlagInColumns(e,t).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:i}=this.beans;return(o,s)=>{const r=s?i.getCol(s):e;return r?n.getValue(r,o,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():Nn(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=ye(Nn(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Cr(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=Cr(t);return n?n.then(i=>({comp:i,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return DU(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":Oee(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,i,o,s){const r=()=>{const d=this.createFilterCompParams(e,o,s),f=i(d,o);return jj(this.beans.userCompFactory,t,f,n)},l=r();return l?{compDetails:l,createFilterUi:d=>(d?r():l).newAgStackInstance()}:null}createFilterInstance(e,t,n,i){const o=this.beans.selectableFilter;o?.isSelectable(t)&&(t=o.getFilterDef(e,t));const{handler:s,handlerParams:r,handlerGenerator:l}=this.createHandler(e,t,n)??{},u=this.createFilterComp(e,t,n,i,!!s,"init");if(!u)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:l,handlerParams:r};const{compDetails:d,createFilterUi:f}=u;return this.isGlobalButtons&&(d.params?.buttons?.length||fe(281,{colId:e.getColId()})),{compDetails:d,handler:s,handlerGenerator:l,handlerParams:r,createFilterUi:f}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:i}=this.beans;return Ne(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:o=>n?.doesRowPassOtherFilters(e.getColId(),o)??!0,rowModel:i})}createFilterCompParams(e,t,n,i){const o=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,i);if(s.filterChangedCallback=o,s.filterModifiedCallback=i?()=>{}:r=>this.filterModified(e,r),t){const r=s,l=e.getColId(),u=Nn(this.model,l);r.model=u,r.state=this.state.get(l)??{model:u},r.onModelChange=(d,f)=>{this.updateStoredModel(l,d),this.refreshHandlerAndUi(e,d,"ui",!1,f).then(()=>{o({...f,source:"columnFilter"})})},r.onStateChange=d=>{this.updateState(e,d),this.updateOrRefreshFilterUi(e)},r.onAction=(d,f,p)=>{this.updateModel(e,d,f),this.dispatchLocalEvent({type:"filterAction",column:e,action:d,event:p})},r.getHandler=()=>this.getHandler(e,!0),r.onUiChange=d=>this.filterUiChanged(e,d),r.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const i=t(),o={created:!0,create:t,filterParams:e.params,compDetails:e,promise:i};return i.then(n),o}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:i,handlerParams:o,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),l=>l),r=e.getColId();if(n)return delete this.initialModel[r],n.init?.({...o,source:"init",model:Nn(this.model,r)}),{column:e,isHandler:!0,handler:n,handlerGenerator:i,handlerParams:o,filterUi:this.createFilterUiForHandler(t,s)};if(s){const l={column:e,filterUi:null,isHandler:!1};return l.filterUi=this.createFilterUiLegacy(t,s,u=>{l.filter=u??void 0}),l}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t,n){const{gos:i,frameworkOverrides:o,registry:s}=this.beans;let r;const l=v=>{const b=v.filter;if(UM(b)){const S=b.handler;return S||(r=b.doesFilterPass,r?()=>({doesFilterPass:r}):void 0)}return typeof b=="string"?b:void 0},u=i.get("enableFilterHandlers"),d=u?l(t):void 0,f=v=>()=>this.createBean(s.createDynamicBean(v,!0));let p,m;if(typeof d=="string"){const v=i.get("filterHandlers")?.[d];v!=null?p=v:uee.has(d)&&(p=f(d),m=d)}else p=d;if(!p){let v;const{compName:b,jsComp:S,fwComp:R}=KM(o,t);b?v=b:S==null&&R==null&&t.filter===!0&&(v=n),m=this.handlerMap[v],m&&(p=f(m))}return p?{filterHandler:p,handlerNameOrCallback:r??m}:u?(Cn(i)&&fe(277,{colId:e.getColId()}),Lee):void 0}createHandler(e,t,n){const i=this.createHandlerFunc(e,t,n);if(!i)return;const o=AC(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:r}=i,{handler:l,handlerParams:u}=this.createHandlerFromFunc(e,r,o);return{handler:l,handlerParams:u,handlerGenerator:s??r}}createHandlerFromFunc(e,t,n){const i=e.getColDef(),o=t(Ne(this.gos,{column:e,colDef:i})),s=this.createHandlerParams(e,n);return{handler:o,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),i=e.getColId(),o=this.filterChangedCallbackFactory(e);return Ne(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(i,s)??!0,onModelChange:(s,r)=>{this.updateStoredModel(i,s),this.refreshHandlerAndUi(e,s,"handler",!1,r).then(()=>{o({...r,source:"columnFilter"})})},onModelAsStringChange:()=>{e.dispatchColEvent("filterChanged","filterChanged"),this.dispatchLocalEvent({type:"filterModelAsStringChanged",column:e})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:i}=this.beans;this.allColumnFilters.forEach((s,r)=>{let l;s.column.isPrimary()?l=t.getColDefCol(r):l=t.getCol(r),!(l&&l===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(r))});const o=i&&e.every(s=>i.isGroupFilter(s));e.length>0&&!o&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:i,selectableFilter:o,gos:s}=this.beans,r=v=>{this.getOrCreateFilterUi(e)?.then(S=>{v(za(S))})},l=e.getColDef(),u=o?.isSelectable(l)?o.getFilterDef(e,l):l,d=_ee(i,u,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",f=s.get("enableFilterHandlers"),p=AC(n,u,this.createFilterCompParams(e,f,"init",!0)),m=Ne(s,{column:e,filterParams:p,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t});if(f){const v=m,b=e.getColId(),S=this.filterChangedCallbackFactory(e);v.onUiChange=R=>this.floatingFilterUiChanged(e,R),v.model=Nn(this.model,b),v.onModelChange=(R,x)=>{this.updateStoredModel(b,R),this.refreshHandlerAndUi(e,R,"floating",!0,x).then(()=>{S({...x,source:"columnFilter"})})},v.getHandler=()=>this.getHandler(e,!0),v.source="init"}return qj(n,l,m,d)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,i){const o="paramsUpdated";if(e.isHandler){const s=t.getColId();delete this.initialModel[s],this.state.delete(s);const r=e.filterUi,l=this.createFilterUiForHandler(n,i);e.filterUi=l;const u=this.eventSvc;r?.created?r.promise.then(d=>{this.destroyBean(d),u.dispatchEvent({type:"filterDestroyed",source:o,column:t})}):u.dispatchEvent({type:"filterHandlerDestroyed",source:o,column:t})}else this.destroyFilter(t,o)}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],i&&this.disposeFilterWrapper(i,t).then(o=>{o&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:i,isHandler:o,filterUi:s}=e,r=i.getColId();o&&(n=this.isHandlerActive(i),this.destroyBean(e.handler),delete this.model[r],this.state.delete(r));const l=()=>{this.setColFilterActive(i,!1,"filterDestroyed"),this.allColumnFilters.delete(r),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:i})};if(s){if(s.created)return s.promise.then(u=>(n=o?n:!!u?.isFilterActive(),this.destroyBean(u),l(),n));l()}return ct.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const i=this.beans,o=n.column,s=o.getColDef(),r=o.isFilterAllowed(),l=this.getDefaultFilter(o),u=i.selectableFilter,d=u?.isSelectable(s)?u.getFilterDef(o,s):s,f=r?this.createHandlerFunc(o,d,this.getDefaultFilter(o)):void 0,p=!!f,m=n.isHandler;if(m!=p){this.destroyFilter(o,"paramsUpdated");return}const{compDetails:v,createFilterUi:b}=(r?this.createFilterComp(o,d,l,R=>R,p,"colDef"):null)??{compDetails:null,createFilterUi:null},S=v?.params??AC(i.userCompFactory,d,this.createFilterCompParams(o,p,"colDef"));if(m){const R=f?.handlerNameOrCallback??f?.filterHandler,x=Nn(this.model,e);if(n.handlerGenerator!=R){const T=n.handler,{handler:F,handlerParams:A}=this.createHandlerFromFunc(o,f.filterHandler,S);n.handler=F,n.handlerParams=A,n.handlerGenerator=R,delete this.model[e],F.init?.({...A,source:"init",model:null}),this.destroyBean(T),x!=null&&this.beans.filterManager?.onFilterChanged({columns:[o],source:t})}else{const T=this.createHandlerParams(o,v?.params);n.handlerParams=T,n.handler.refresh?.({...T,source:"colDef",model:x})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,v)||!n.filterUi||!v){this.destroyFilterUi(n,o,v,b);return}n.filterUi.filterParams=S,Cr(n,m)?.then(R=>{(R?.refresh?R.refresh(S):!0)===!1?this.destroyFilterUi(n,o,v,b):this.dispatchLocalEvent({type:"filterParamsChanged",column:o,params:S})})}refreshHandlerAndUi(e,t,n,i,o){const s=this.cachedFilter(e);if(!s)return i&&this.getOrCreateFilterWrapper(e,!0),ct.resolve();if(!s.isHandler)return ct.resolve();const{filterUi:r,handler:l,handlerParams:u}=s;return dee(()=>{if(r){const{created:d,filterParams:f}=r;if(d)return r.promise.then(p=>p?{filter:p,filterParams:f}:void 0);r.refreshed=!0}return ct.resolve(void 0)},l,u,t,this.state.get(e.getColId())??{model:t},n,o)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||n?.render&&i?.render&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(i=>{n.then(o=>{i(za(o))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:i,model:o}=this,s=e.getColId(),r=i.get(s);return r?r.model??null:Nn(o,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const i=new Promise(o=>{n=o});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),i}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(i=>n(i))})}getStateForColumn(e){return this.state.get(e)??{model:Nn(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),i=n?this.getOrCreateFilterWrapper(n,!0):null;return i?this.setModelOnFilterWrapper(i,t):ct.resolve()}setColDefPropsForDataType(e,t,n){const i=e.filter,o=i===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):i;if(typeof o!="string")return;let s,r;const l=this.beans,{filterParams:u,filterValueGetter:d}=e;o==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:r}=l.multiFilter?.getParamsForDataType(u,d,t,n)??{}:{filterParams:s,filterValueGetter:r}=Mee(o,u,d,t,n,l,this.getLocaleTextFunc()),e.filterParams=s,r&&(e.filterValueGetter=r)}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}setModelOnFilterWrapper(e,t,n){return new ct(i=>{if(e.isHandler){const s=e.column,r=s.getColId(),l=this.model[r];if(this.updateStoredModel(r,t),n&&t===l){i();return}this.refreshHandlerAndUi(s,t,"api").then(()=>i());return}const o=Cr(e);if(o){o.then(s=>{if(typeof s?.setModel!="function"){fe(65),i();return}(s.setModel(t)||ct.resolve()).then(()=>i())});return}i()})}updateStoredModel(e,t){ye(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),i={model:t,state:n?.state};this.state.set(e,i)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const i=e.getColId(),o=this.cachedFilter(e),s=()=>o?.filterUi;D1({action:t,filterParams:o?.filterUi?.filterParams,getFilterUi:s,getModel:()=>Nn(this.model,i),getState:()=>this.state.get(i),updateState:r=>this.updateState(e,r),updateModel:r=>s()?.filterParams?.onModelChange(r,{...n,fromAction:t}),processModelToApply:o?.isHandler?o.handler.processModelToApply?.bind(o.handler):void 0})}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((i,o)=>{const s=this.beans.colModel.getColDefCol(o);s&&D1({action:e,filterParams:i.filterUi?.filterParams,getFilterUi:()=>i.filterUi,getModel:()=>Nn(this.model,o),getState:()=>this.state.get(o),updateState:r=>this.updateState(s,r),updateModel:r=>{this.updateStoredModel(o,r),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,r,"ui"))},processModelToApply:i?.isHandler?i.handler.processModelToApply?.bind(i.handler):void 0})}),n.length&&ct.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();TI(()=>this.cachedFilter(e)?.filterUi,()=>Nn(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const o of n)if(o.source==="COLUMN_MENU")return!1;let i=!1;for(const o of e.keys()){const s=e.get(o);if(s.valid===!1)return!1;(s.model??null)!==Nn(t,o)&&(i=!0)}return i}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==Nn(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}onPivotModeChanged(e){const{colModel:t,pivotColsSvc:n}=this.beans,i=!!Ig(this.gos),o=e.currentValue,s=o?this.activeColumnFilters:this.activeAggregateFilters,r=o?this.activeAggregateFilters:this.activeColumnFilters,l=[];for(const u of s){const d=t.getColById(u.colId),f=o&&!!n?.columns.length;d&&o===I1(d,o,f,i)&&(r.push(u),l.push(u))}hW(s,l)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function Hee(e){return!!e.filterManager?.isAnyFilterPresent()}function Gee(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var Bee=class extends re{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){Ig(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):ct.resolve()).then(()=>{const o={source:t,type:"filterChanged",columns:i};n&&si(o,n),this.eventSvc.dispatchEvent(o),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!Ig(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){fe(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){for(const e of this.advFilterModelUpdateQueue)this.setAdvFilterModel(e);this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},Vee=class extends re{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,i){e&&!e.isColumn||this.showPopup(e,o=>{this.popupSvc?.positionPopupUnderMouseEvent({additionalParams:{column:e},type:n,mouseEvent:t,ePopup:o})},n,t.target,Hi(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){if(e&&!e.isColumn)return;let o=-1,s="left";const r=Hi(this.gos);!r&&this.gos.get("enableRtl")&&(o=1,s="right");const l=r?void 0:4*o,u=r?void 0:4;this.showPopup(e,d=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:l,nudgeY:u,alignSide:s,keepWithinBounds:!0,position:"under",additionalParams:{column:e}})},n,t,r,i)}showPopup(e,t,n,i,o,s){const r=e?this.createBean(new n8(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!r?.hasFilter()||!e){Dt(57);return}const l=Bi({tag:"div",cls:`ag-menu${o?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:S=>this.trapFocusWithin(S,l)}),l.appendChild(r?.getGui());let u;const d=()=>r?.afterGuiDetached(),f=FU(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=S=>{F1(e,!1,"contextMenu");const R=S instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),R&&i&&Po(i)&&tk(i)?.focus({preventScroll:!0}),d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},m=this.getLocaleTextFunc(),v=o&&n!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),b=this.popupSvc?.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:v});b&&(this.hidePopup=u=b.hideFunc),r.afterInit().then(()=>{t(l),r.afterGuiAttached({container:n,hidePopup:u})}),F1(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==Z.TAB||e.defaultPrevented||Xa(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),Ga(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},zee=class extends re{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const i=e.getColDef(),{selectableFilter:o,valueSvc:s,formula:r}=this.beans,l=n??o?.getFilterValueGetter(e.getColId())??i.filterValueGetter;if(l)return this.executeFilterValueGetter(l,t.data,e,t,i);const u=s.getValue(e,t,"data");return e.isAllowFormula()&&r?.isFormula(u)?r.resolveValue(e,t):u}executeFilterValueGetter(e,t,n,i,o){const{expressionSvc:s,valueSvc:r}=this.beans,l=Ne(this.gos,{data:t,node:i,column:n,colDef:o,getValue:r.getValueCallback.bind(r,i)});return typeof e=="function"?e(l):s?.evaluate(e,l)}},Wee={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},Uee=class extends dn{constructor(){super(Wee,[Op]),this.eFloatingFilterText=xe}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,i=n.getHandler();if(i.getModelAsString){const o=i.getModelAsString(n.model);this.eFloatingFilterText.setValue(o)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},jee=class extends Wb{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},aS=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;if(e)for(const t of e){if(typeof t=="string")continue;const n=[["displayKey"],["displayName"],["predicate","test"]],i=o=>o.some(s=>t[s]!=null)?!0:(fe(72,{keys:o}),!1);if(!n.every(i)){this.filterOptions=e.filter(o=>o===t)||[];continue}this.customFilterOptions[t.displayKey]=t}}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;fe(73)}else fe(74)}getCustomOption(e){return this.customFilterOptions[e]}};function ld(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function Zg(e){return e==null||typeof e=="string"&&e.trim().length===0}function $ee(e){return e==="AND"||e==="OR"?e:"AND"}function Kee(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(o=>o==null))return i(t,n)}function qee(e,t){let n=e.length;return n>t&&(e.splice(t),fe(78),n=t),n}var Yee=new Set(["empty","notBlank","blank","today","yesterday","tomorrow","thisWeek","lastWeek","nextWeek","thisMonth","lastMonth","nextMonth","thisQuarter","lastQuarter","nextQuarter","thisYear","lastYear","nextYear","yearToDate","last7Days","last30Days","last90Days","last6Months","last12Months","last24Months"]);function Ua(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&Yee.has(e)?0:e==="inRange"?2:1}var Lp=class extends d8{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new aS;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=$ee(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions(),bi(this.getGui(),"tabindex",this.isReadOnly()?"-1":null)}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const r=e,l=t;s=this.areSimpleModelsEqual(r,l)}else{const r=e,l=t;s=r.operator===l.operator&&Gr(r.conditions,l.conditions,(u,d)=>this.areSimpleModelsEqual(u,d))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),ct.resolve();if(e.operator){const i=e;let o=i.conditions;o==null&&(o=[],fe(77));const s=qee(o,this.maxNumConditions),r=this.getNumConditions();if(s<r)this.removeConditionsAndOperators(s);else if(s>r)for(let u=r;u<s;u++)this.createJoinOperatorPanel(),this.createOption();const l=i.operator==="OR";this.eJoinAnds.forEach(u=>u.setValue(!l,!0)),this.eJoinOrs.forEach(u=>u.setValue(l,!0)),o.forEach((u,d)=>{this.eTypes[d].setValue(u.type,!0),this.setConditionIntoUi(u,d)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),ct.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(fe(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(fe(80),n=1),n>t&&(fe(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new rS);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,o=>this.resetInput(o)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const e=Bi({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const i=this.eJoinPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,o),this.resetJoinOperatorOr(n,i,o),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new jee);e.push(i);const o="ag-filter-condition-operator";return i.addCss(o),i.addCss(`${o}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;for(const n of t)e.addOption(n);e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,o=n-i;o>0&&this.removeConditionsAndOperators(i,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,o)=>{const s=this.isConditionDisabled(o,e);i.setDisabled(s||this.filterListOptions.length<=1),o===1&&(xd(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((i,o)=>{Nt(i,this.isConditionBodyVisible(o))});const n=(t??this.getJoinOperator())==="OR";for(const i of this.eJoinAnds)i.setValue(!n,!0);for(const i of this.eJoinOrs)i.setValue(n,!0);this.forEachInput((i,o,s,r)=>{this.setElementDisplayed(i,o<r),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinPanels:o,eJoinAnds:s,eJoinOrs:r}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeEValues(e,t);const l=Math.max(e-1,0);this.removeElements(o,l,t),this.removeComponents(s,l,t),this.removeComponents(r,l,t)}removeElements(e,t,n){const i=ld(e,t,n);for(const o of i)Mr(o)}removeComponents(e,t,n){const i=ld(e,t,n);for(const o of i)Mr(o.getGui()),this.destroyBean(o)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof xa&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}shouldKeepInvalidInputState(){return!1}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column)||this.shouldKeepInvalidInputState())return;e.onStateChange({model:e.model});let t=-1,n=-1,i=!1;const o=this.getJoinOperator();for(let r=this.getNumConditions()-1;r>=0;r--)if(this.isConditionUiComplete(r))t===-1&&(t=r,n=r);else{const l=r>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(r-1),u=r<t;(l||u)&&(this.removeConditionsAndOperators(r,1),i=!0,u&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,o),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}resetPlaceholder(){const e=this.getLocaleTextFunc(),{filterPlaceholder:t,eTypes:n}=this;this.forEachInput((i,o,s,r)=>{if(!(i instanceof xa))return;const l=o===0&&r>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&r>1?e("ariaFilterFromValue","Filter from value"):o===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value"),d=n[s].getValue(),f=qM(this,t,l,d);i.setInputPlaceholder(f),i.setInputAriaLabel(u)})}setElementValue(e,t,n){e instanceof xa&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){bD(e)&&Nt(e.getGui(),t)}setElementDisabled(e,t){bD(e)&&xd(e.getGui(),t)}attachElementOnChange(e,t){e instanceof xa&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=Ua(t,this.optionsFactory),o=this.getInputs(e);for(let s=0;s<o.length;s++){const r=o[s];r!=null&&n(r,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Ua(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null)||this.positionHasInvalidInputs(e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,o){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((i,o,s)=>{s===t&&this.setElementValue(i,n[o]!=null?n[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}positionHasInvalidInputs(e){return!1}isReadOnly(){return!!this.params.readOnly}},lS=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function yy(e){return e?.allowedCharPattern??null}function DI(e,t){const{filter:n,filterTo:i,type:o}=e||{};return[Ei(n),Ei(i)].slice(0,Ua(o,t))}var Xee=class extends Lp{constructor(){super("bigintFilter",DI,lS),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="bigint",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!Dc()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const{bigintParser:i}=this.params,o=this.getParsedValue(e,i),s=this.getParsedValue(t,i),r=this.isInvalidValue(e,o),l=this.isInvalidValue(t,s),u=n?e:t,d=n?t:e,f=n?r:l,p=n?l:r;let m="";if(f)m=this.getLocaleTextFunc()("invalidBigInt","Invalid BigInt");else if(!r&&!l){const v=Qee(o,s,n);v&&(m=this.translate(v,[String(n?t.getValue():e.getValue())]))}u.setCustomValidity(m),p||d.setCustomValidity(""),m.length>0&&this.beans.ariaAnnounce.announceValue(m,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:i}=e,o=this.state,s=i?.fromAction;return(s&&s!="apply"||n.model!==o.model||!this.areStatesEqual(n.state,o.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){super.setElementValue(e,t,n),t===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,i=yy(e),o=Bi({tag:"div",cls:"ag-filter-body",role:"presentation"}),s=this.createFromToElement(o,t,"from",i),r=this.createFromToElement(o,n,"to",i),l=(f,p,m)=>()=>this.refreshInputPairValidation(f,p,m),u=l(s,r,!0);s.onValueChange(u),s.addGuiEventListener("focusin",u);const d=l(s,r,!1);return r.onValueChange(d),r.addGuiEventListener("focusin",d),o}createFromToElement(e,t,n,i){const o=this.createManagedBean(i?new Hs({allowedCharPattern:i}):new Hs);return o.addCss(`ag-filter-${n}`),o.addCss("ag-filter-filter"),t.push(o),e.appendChild(o.getGui()),o}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(Ei(n.getValue()??null))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=String(i[0])),i.length>1&&(n.filterTo=String(i[1])),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}getParsedValue(e,t){const n=e.getValue();return n==null||typeof n=="string"&&n.trim()===""?null:t?t(n):Ei(n)}isInvalidValue(e,t){const n=e.getValue();return n!=null&&String(n).trim()!==""&&t===null}};function Qee(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var FI=class extends re{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new aS;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,i=[];if(n){const r=t;i.push(...r.conditions??[])}else i.push(t);const o=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return i[o](r=>this.individualConditionPasses(e,r,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:i}}=e;if(t==null)return;let s=YM(t)?t.conditions:[t];const r=n?.map(f=>typeof f=="string"?f:f.displayKey)??this.defaultOptions;if(!(!s||s.every(f=>r.find(p=>p===f.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let u=!1;const d=this.filterType;if((s&&!s.every(f=>f.filterType===d)||t.filterType!==d)&&(s=s.map(f=>({...f,filterType:d})),u=!0),typeof i=="number"&&s&&s.length>i&&(s=s.slice(0,i),u=!0),u){const f=s.length>1?{...t,filterType:d,conditions:s}:{...s[0],filterType:d};this.params={...e,model:f},e.onModelChange(f)}}individualConditionPasses(e,t,n){const i=this.optionsFactory,o=this.mapValuesFromModel(t,i),s=i.getCustomOption(t.type),r=Kee(s,o,n);return r??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(o,n,t,e))}},cS=class extends FI{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:o,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(o)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const o=this.comparator(),s=e[0]!=null?o(e[0],t):0;switch(i){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const r=o(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&r<=0:s>0&&r<0}case"blank":return Zg(t);case"notBlank":return!Zg(t);default:return fe(76,{filterModelType:i}),!0}}},uS={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},Zee={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},Np=class extends re{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),i=t==="filterToolPanel";if(!e)return i?Ro(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,l=(s.conditions??[]).map(d=>this.getModelAsString(d,t)),u=s.operator==="AND"?"andCondition":"orCondition";return l.join(` ${Ro(this,u)} `)}else{if(e.type==="blank"||e.type==="notBlank")return i?Ro(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,r=this.optionsFactory.getCustomOption(s.type),{displayKey:l,displayName:u,numberOfInputs:d}=r||{};return l&&u&&d===0?n(l,u):this.conditionToString(s,i,s.type==="inRange"||d===2,l,u)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,i,o,s){let r;const l=this.getTypeKey(e);return l&&(r=Ro(this,l)),o&&s&&(r=this.getLocaleTextFunc()(o,s)),r!=null?t?`${r} ${Ro(this,"filterSummaryInRangeValues",[n(),i()])}`:`${r} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},PI=class extends Np{constructor(e,t){super(e,t,t.bigintFormatter),this.filterTypeKeys=uS}conditionToString(e,t,n,i,o){const{filter:s,filterTo:r,type:l}=e,u=this.formatValue.bind(this),d=Ei(s),f=Ei(r);if(t){const p=this.conditionForToolPanel(l,n,()=>u(d),()=>u(f),i,o);if(p!=null)return p}return n?`${u(d)}-${u(f)}`:s!=null?u(d):`${l}`}},Jee=class extends cS{constructor(){super(DI,lS),this.filterType="bigint",this.FilterModelFormatterClass=PI}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return Ei(e)!==null}},dS=class extends re{constructor(e){super(),this.params=e,this.eInput=xe,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Hs(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){const{eInput:i}=this;i.setInputAriaLabel(e),t!==void 0&&i.setAutoComplete(t),i.toggleCss("ag-floating-filter-search-icon",!!n),i.setInputPlaceholder(n)}};function by(e){const t=e?.trim();return t===""?e:t}function AI(e,t){const{filter:n,filterTo:i,type:o}=e||{};return[n||null,i||null].slice(0,Ua(o,t))}var MI=class extends dn{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new aS;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(n);this.setEditable(i)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:i,model:o}=t;if(i==="dataChanged"||i==="ui")return;this.onModelUpdated(o)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}isTypeEditable(e){return!!e&&!this.readOnly&&Ua(e,this.optionsFactory)===1}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},ete={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},hS=class extends MI{constructor(){super(...arguments),this.eFloatingFilterInputContainer=xe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(ete)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const{inputSvc:t,defaultDebounceMs:n,readOnly:i}=this,{filterPlaceholder:o,column:s,browserAutoComplete:r,filterParams:l}=e,u=this.lastType??this.optionsFactory.defaultOption,d=e.filterParams.filterPlaceholder,f=o===!0?qM(this,d,"filterOoo",u):o||void 0;if(t.setParams({ariaLabel:this.getAriaLabel(s),autoComplete:r??!1,placeholder:f}),this.applyActive=Dp(l),!i){const p=Ib(l,n);t.setValueChangedListener(Hn(this,this.syncUpWithParentFilter.bind(this),p))}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();xi(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===Z.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:i,params:o,lastType:s}=this;let r=i.getValue();if(o.filterParams.trimInput&&(r=by(r),i.setValue(r,!0)),n){const l=o,u=l.model,d=this.convertValue(r),f=d==null?null:{...u??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:d};l.onModelChange(f,{afterFloatingFilter:!0})}else o.parentFilterInstance(l=>{l?.onFloatingFilterChanged(s||null,r||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},tte=class extends hS{constructor(){super(...arguments),this.FilterModelFormatterClass=PI,this.filterType="bigint",this.defaultOptions=lS}updateParams(e){const t=e.filterParams;yy(t)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),this.bigintParser=t?.bigintParser,super.updateParams(e)}createFloatingFilterInputService(e){const t=e.filterParams;this.allowedCharPattern=yy(t),this.bigintParser=t?.bigintParser;const n=this.allowedCharPattern?{allowedCharPattern:this.allowedCharPattern}:void 0;return this.createManagedBean(new dS({config:n}))}convertValue(e){return e==null||e===""?null:this.bigintParser?this.bigintParser(e):Ei(e)}},O1=".ag-input-field-input",kI=class{constructor(e,t,n,i,o,s){this.context=e,this.eParent=o,this.alive=!0,this.debouncedReport=Hn({isAlive:()=>this.alive},_1,500),this.timeoutHandle=null,$j(t,n,i)?.newAgStackInstance().then(l=>{if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;o.appendChild(l.getGui()),l?.afterGuiAttached?.();const{tempValue:u,disabled:d}=this;u&&l.setDate(u),d!=null&&l.setDisabled?.(d),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Nt(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}setCustomValidity(e,t=!1){const n=this.dateComp?.getGui().querySelector(O1);if(n&&"setCustomValidity"in n){const i=e.length>0;n.setCustomValidity(e),i?t?this.timeoutHandle=this.debouncedReport(n):_1(n):this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),wb(n,i)}}getValidity(){return this.dateComp?.getGui().querySelector(O1)?.validity}};function _1(e){e.reportValidity()}var fS=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function II(e,t){const{dateFrom:n,dateTo:i,type:o}=e||{};return[n&&ai(n,void 0,!0)||null,i&&ai(i,void 0,!0)||null].slice(0,Ua(o,t))}var L1=1e3,N1=1/0,nte=class extends Lp{constructor(){super("dateFilter",II,fS),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=L1,this.maxValidYear=N1,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!Dc()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(u,d)=>{const f=e[u];if(f!=null)if(isNaN(f))fe(82,{param:u});else return f==null?d:Number(f);return d},n=t("minValidYear",L1),i=t("maxValidYear",N1);this.minValidYear=n,this.maxValidYear=i,n>i&&fe(83);const{minValidDate:o,maxValidDate:s}=e,r=o instanceof Date?o:ai(o);this.minValidDate=r;const l=s instanceof Date?s:ai(s);this.maxValidDate=l,r&&l&&r>l&&fe(84)}refreshInputValidation(){for(let e=0;e<this.dateConditionFromComps.length;e++)this.refreshInputPairValidation(e,!1,!0)}refreshInputPairValidation(e,t=!1,n=!1){const{dateConditionFromComps:i,dateConditionToComps:o,beans:s}=this,r=i[e],l=o[e],u=r.getDate(),d=l.getDate(),f=ite(u,d,t),p=f?this.translate(f,[String(t?d:u)]):"",m=!Dc()&&!n;(t?r:l).setCustomValidity(p,m),(t?l:r).setCustomValidity("",m),p.length>0&&s.ariaAnnounce.announceValue(p,"dateFilter")}createDateCompWrapper(e,t,n){const{beans:{userCompFactory:i,context:o,gos:s},params:r}=this,l=n==="from",u=new kI(o,i,r.colDef,Ne(s,{onDateChanged:()=>{this.refreshInputPairValidation(t,l),this.onUiChanged()},onFocusIn:()=>this.refreshInputPairValidation(t,l),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>u.destroy()),u}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}setElementValue(e,t){e.setDate(t),t||e.setCustomValidity("")}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Bi({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const o=Bi({tag:"div",cls:`ag-filter-${i} ag-filter-date-${i}`});t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o,t.length-1,i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),ld(this.eConditionPanelsFrom,e,t),ld(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){const i=ld(e,t,n);for(const o of i)o.destroy()}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:o}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>o)return!1;return!0}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=t.getDate()!=null&&!(t.getValidity()?.valid??!0))),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!(n.getValidity()?.valid??!0))),t}canApply(e){return!this.hasInvalidInputs()}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachPositionInput(e,(n,i,o,s)=>{!t||i>=s||t&&(t=this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},{params:i,filterType:o}=this,s=this.getValues(e),r=i.useIsoSeparator?"T":" ";return s.length>0&&(n.dateFrom=ri(s[0],!0,r)),s.length>1&&(n.dateTo=ri(s[1],!0,r)),{dateFrom:null,dateTo:null,filterType:o,type:t,...n}}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(n.getDate())}),t}translate(e,t){let n=e;return e==="lessThan"?n="before":e==="greaterThan"&&(n="after"),super.translate(n,t)}};function ite(e,t,n){return e!=null&&t!=null&&e>=t?`${n?"max":"min"}DateValidation`:null}var OI=class extends Np{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:i,valueSvc:o}=this.beans,s=t.column,r=i?.getDateFormatterFunction(s),l=r?r(n??void 0):n;return o.formatValue(s,null,l)}),this.filterTypeKeys=uS}conditionToString(e,t,n,i,o){const{type:s}=e,r=ai(e.dateFrom),l=ai(e.dateTo),u=this.filterParams.inRangeFloatingFilterDateFormat,d=t?this.formatValue.bind(this):m=>tK(m,u),f=()=>r!==null?d(r):"null",p=()=>l!==null?d(l):"null";if(r==null&&l==null)return Ro(this,s);if(t){const m=this.conditionForToolPanel(s,n,f,p,i,o);if(m!=null)return m}return n?`${f()}-${p()}`:r!=null?d(r):`${s}`}};function ote(e,t){const n=t;return n<e?-1:n>e?1:0}var ste=class extends cS{constructor(){super(II,fS),this.filterType="date",this.FilterModelFormatterClass=OI,this.filterTypeToRangeCache=new Map}getOrRefreshRangeCacheItem(e,t){const{filterTypeToRangeCache:n}=this,i=Date.now();let o=n.get(e);if(o&&o.expires<i&&(o=void 0),!o){const[s,r]=t(new Date(i),new Date(i));o={from:s,to:r,expires:uo(new Date(i)).getTime()-i},n.set(e,o)}return o}comparator(){return this.params.filterParams.comparator??ote}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}evaluateNonNullValue(e,t,n){const i=n.type,o=this.comparator();if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const s=i,r=Ete[s];if(r){const{from:l,to:u}=this.getOrRefreshRangeCacheItem(s,r);return o(l,t)>=0&&o(u,t)<0}return super.evaluateNonNullValue(e,t,n)}},rte=1,zf=null,ate=()=>{if(zf!=null)return zf;let e;const t=typeof navigator>"u"?void 0:navigator.languages?.[0]??navigator.language;if(t&&typeof Intl<"u"&&typeof Intl.Locale=="function")try{e=new Intl.Locale(t).getWeekInfo?.()?.firstDay}catch{e=void 0}return zf=e==null?rte:e%7,zf},Vi=e=>(e.setHours(0,0,0,0),e),Hp=e=>{const t=e.getDay(),n=ate(),i=(t-n+7)%7;return e.setDate(e.getDate()-i),Vi(e)},Gp=(e,t=1)=>(e.setDate(e.getDate()-t),e),uo=e=>(e.setDate(e.getDate()+1),Vi(e)),_I=e=>(Hp(e),e.setDate(e.getDate()+6),uo(e)),Bp=e=>(e.setDate(1),Vi(e)),gS=e=>(e.setDate(1),e.setMonth(e.getMonth()+1),Vi(e)),pS=e=>{const t=Math.floor(e.getMonth()/3);return e.setMonth(t*3),Bp(e)},LI=e=>{const t=Math.floor(e.getMonth()/3);return e.setMonth(t*3+2),gS(e)},mS=e=>(e.setMonth(0,1),Vi(e)),NI=e=>(e.setMonth(12,0),uo(e)),Mc=e=>Gp(e),Sy=e=>Mc(Hp(e)),Ry=e=>Mc(Bp(e)),xy=e=>Mc(pS(e)),vS=(e,t)=>[Vi(e),uo(t)],lte=(e,t)=>vS(Mc(e),Mc(t)),CS=(e,t)=>[Hp(e),_I(t)],cte=(e,t)=>CS(Sy(e),Sy(t)),wS=(e,t)=>[Bp(e),gS(t)],ute=(e,t)=>wS(Ry(e),Ry(t)),yS=(e,t)=>[pS(e),LI(t)],dte=(e,t)=>yS(xy(e),xy(t)),bS=(e,t)=>[mS(e),NI(t)],hte=(e,t)=>[mS(e),uo(t)],fte=(e,t)=>[Vi(Gp(e,7)),uo(t)],gte=(e,t)=>[Vi(Gp(e,30)),uo(t)],pte=(e,t)=>[Vi(Gp(e,90)),uo(t)],mte=(e,t)=>(e.setFullYear(e.getFullYear()-1),e.setMonth(e.getMonth()+6),[Vi(e),uo(t)]),vte=(e,t)=>(e.setFullYear(e.getFullYear()-1),[Vi(e),uo(t)]),Cte=(e,t)=>(e.setFullYear(e.getFullYear()-2),[Vi(e),uo(t)]),wte=(e,t)=>(e.setFullYear(e.getFullYear()-1),t.setFullYear(t.getFullYear()-1),bS(e,t)),yte=(e,t)=>(e.setFullYear(e.getFullYear()+1),t.setFullYear(t.getFullYear()+1),bS(e,t)),bte=(e,t)=>(e.setMonth(e.getMonth()+3),t.setMonth(t.getMonth()+3),yS(e,t)),Ste=(e,t)=>(e.setMonth(e.getMonth()+1),t.setMonth(t.getMonth()+1),wS(e,t)),Rte=(e,t)=>(e.setDate(e.getDate()+7),t.setDate(t.getDate()+7),CS(e,t)),xte=(e,t)=>(e.setDate(e.getDate()+1),t.setDate(t.getDate()+1),vS(e,t)),Ete={today:vS,yesterday:lte,tomorrow:xte,thisWeek:CS,lastWeek:cte,nextWeek:Rte,thisMonth:wS,lastMonth:ute,nextMonth:Ste,thisQuarter:yS,lastQuarter:dte,nextQuarter:bte,thisYear:bS,lastYear:wte,nextYear:yte,yearToDate:hte,last7Days:fte,last30Days:gte,last90Days:pte,last6Months:mte,last12Months:vte,last24Months:Cte,setStartOfDay:Vi,setStartOfWeek:Hp,setStartOfNextDay:uo,setStartOfNextWeek:_I,setStartOfMonth:Bp,setStartOfNextMonth:gS,setStartOfQuarter:pS,setStartOfNextQuarter:LI,setStartOfYear:mS,setStartOfNextYear:NI,setPreviousDay:Mc,setPreviousWeek:Sy,setPreviousMonth:Ry,setPreviousQuarter:xy},Tte={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},Dte=class extends MI{constructor(){super(Tte,[Op]),this.eReadOnlyText=xe,this.eDateWrapper=xe,this.FilterModelFormatterClass=OI,this.filterType="date",this.defaultOptions=fS}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?ai(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Nt(this.eDateWrapper,e),Nt(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,i=ri(e),o=i==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:i};t.onModelChange(o,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=Ib(e,this.defaultDebounceMs);return Ne(this.gos,{onDateChanged:Hn(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:{column:i}}=this;this.dateComp=new kI(e,t,i.getColDef(),this.getDateComponentParams(),n,o=>{o.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},Fte={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},Pte=class extends dn{constructor(){super(Fte,[Op]),this.eDateInput=xe,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this),focusin:this.handleFocusIn.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}handleFocusIn(){this.params.onFocusIn?.()}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Vr();const{minValidYear:i,maxValidYear:o,minValidDate:s,maxValidDate:r,buttons:l,includeTime:u,colDef:d}=e.filterParams||{},f=this.beans.dataTypeSvc,p=u??f?.getDateIncludesTimeFlag?.(d.cellDataType)??!1;n?p?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text";const m=H1(s,i,!0),v=H1(r,o,!1);m&&v&&m.getTime()>v.getTime()&&fe(87),m&&(t.min=ri(m,p)),v&&(t.max=ri(v,p)),this.isApply=e.location==="floatingFilter"&&!!l?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return ai(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(ri(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e?.suppressFocus||this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}};function H1(e,t,n){return e&&t&&fe(n?85:86),e instanceof Date?e:e?ai(e):t?ai(`${t}-${n?"01-01":"12-31"}`):null}var SS=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function Ey(e){return e?.allowedCharPattern??null}function Jg(e){return e==null||isNaN(e)?null:e}function HI(e,t){const{filter:n,filterTo:i,type:o}=e||{};return[Jg(n),Jg(i)].slice(0,Ua(o,t))}var Ate=class extends Lp{constructor(){super("numberFilter",HI,SS),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}afterGuiAttached(e){super.afterGuiAttached(e),this.refreshInputValidation()}shouldKeepInvalidInputState(){return!Dc()&&this.hasInvalidInputs()&&this.getConditionTypes().includes("inRange")}refreshInputValidation(){for(let e=0;e<this.eValuesFrom.length;e++){const t=this.eValuesFrom[e],n=this.eValuesTo[e];this.refreshInputPairValidation(t,n)}}refreshInputPairValidation(e,t,n=!1){const i=this.params.numberParser,o=G1(i,e),s=G1(i,t),r=Mte(o,s,n),l=r?this.translate(r,[String(n?s:o)]):"";(n?e:t).setCustomValidity(l),(n?t:e).setCustomValidity(""),l.length>0&&this.beans.ariaAnnounce.announceValue(l,"dateFilter")}getState(){return{isInvalid:this.hasInvalidInputs()}}areStatesEqual(e,t){return(e?.isInvalid??!1)===(t?.isInvalid??!1)}refresh(e){const t=super.refresh(e),{state:n,additionalEventAttributes:i}=e,o=this.state,s=i?.fromAction;return(s&&s!="apply"||n.model!==o.model||!this.areStatesEqual(n.state,o.state))&&this.refreshInputValidation(),t}setElementValue(e,t,n){const{numberFormatter:i}=this.params,o=!n&&i?i(t??null):t;super.setElementValue(e,o),o===null&&e.setCustomValidity("")}createEValue(){const{params:e,eValuesFrom:t,eValuesTo:n}=this,i=Ey(e),o=Bi({tag:"div",cls:"ag-filter-body",role:"presentation"}),s=this.createFromToElement(o,t,"from",i),r=this.createFromToElement(o,n,"to",i),l=(f,p,m)=>()=>this.refreshInputPairValidation(f,p,m),u=l(s,r,!0);s.onValueChange(u),s.addGuiEventListener("focusin",u);const d=l(s,r,!1);return r.onValueChange(d),r.addGuiEventListener("focusin",d),o}createFromToElement(e,t,n,i){const o=this.createManagedBean(i?new Hs({allowedCharPattern:i}):new sS);return o.addCss(`ag-filter-${n}`),o.addCss("ag-filter-filter"),t.push(o),e.appendChild(o.getGui()),o}removeEValues(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(Jg(GI(this.params.numberParser,n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}removeConditionsAndOperators(e,t){if(!this.hasInvalidInputs())return super.removeConditionsAndOperators(e,t)}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>e||(e=!t.getInputElement().validity.valid)),e}positionHasInvalidInputs(e){let t=!1;return this.forEachPositionInput(e,n=>t||(t=!n.getInputElement().validity.valid)),t}canApply(e){return!this.hasInvalidInputs()}};function GI(e,t){if(typeof t=="number")return t;let n=As(t);return n!=null&&n.trim()===""&&(n=null),e?e(n):n==null||n.trim()==="-"?null:Number.parseFloat(n)}function G1(e,t){return Jg(GI(e,t.getValue(!0)))}function Mte(e,t,n){return e!=null&&t!=null&&e>=t?`strict${n?"Max":"Min"}ValueValidation`:null}var BI=class extends Np{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=uS}conditionToString(e,t,n,i,o){const{filter:s,filterTo:r,type:l}=e,u=this.formatValue.bind(this);if(t){const d=this.conditionForToolPanel(l,n,()=>u(s),()=>u(r),i,o);if(d!=null)return d}return n?`${u(s)}-${u(r)}`:s!=null?u(s):`${l}`}},kte=class extends cS{constructor(){super(HI,SS),this.filterType="number",this.FilterModelFormatterClass=BI}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},Ite=class extends re{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new sS),this.eTextInput=this.createManagedBean(new Hs),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams({ariaLabel:e,autoComplete:t,placeholder:n}){this.setAriaLabel(e),t!==void 0&&this.setAutoComplete(t),this.setPlaceholder(this.eNumberInput,n),this.setPlaceholder(this.eTextInput,n)}setPlaceholder(e,t){e.toggleCss("ag-floating-filter-search-icon",!!t),e.setInputPlaceholder(t)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},Ote=class extends hS{constructor(){super(...arguments),this.FilterModelFormatterClass=BI,this.filterType="number",this.defaultOptions=SS}updateParams(e){Ey(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=Ey(e.filterParams),this.allowedCharPattern?this.createManagedBean(new dS({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Ite)}convertValue(e){return e?Number(e):null}},RS=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],_te=class extends Lp{constructor(){super("textFilter",AI,RS),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(As(n.getValue()))}),t}createEValue(){const e=Bi({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Hs);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:i,eValuesTo:o}=this;n(i),n(o)}},VI=class extends Np{constructor(){super(...arguments),this.filterTypeKeys=Zee}conditionToString(e,t,n,i,o){const{filter:s,filterTo:r,type:l}=e;if(t){const u=f=>()=>Ro(this,"filterSummaryTextQuote",[f]),d=this.conditionForToolPanel(l,n,u(s),u(r),i,o);if(d!=null)return d}return n?`${s}-${r}`:s!=null?`${s}`:`${l}`}},Lte=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.includes(n);case"notContains":return!t.includes(n);case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},Nte=e=>e,Hte=e=>e==null?null:e.toString().toLowerCase(),Gte=class extends FI{constructor(){super(AI,RS),this.filterType="text",this.FilterModelFormatterClass=VI}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??Lte,this.formatter=t.textFormatter??(t.caseSensitive?Nte:Hte)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const o=e.map(m=>this.formatter(m))||[],s=this.formatter(t),{api:r,colDef:l,column:u,context:d,filterParams:{textFormatter:f}}=this.params;if(n.type==="blank")return Zg(t);if(n.type==="notBlank")return!Zg(t);const p={api:r,colDef:l,column:u,context:d,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:f};return o.some(m=>this.matcher({...p,filterText:m}))}processModelToApply(e){if(e&&this.params.filterParams.trimInput){const t=n=>{const i={...n},{filter:o,filterTo:s}=n;return o&&(i.filter=by(o)??null),s&&(i.filterTo=by(s)??null),i};return YM(e)?{...e,conditions:e.conditions.map(t)}:t(e)}return e}},Bte=class extends hS{constructor(){super(...arguments),this.FilterModelFormatterClass=VI,this.filterType="text",this.defaultOptions=RS}createFloatingFilterInputService(){return this.createManagedBean(new dS)}};function Vte(e){return!!e.quickFilter?.isFilterPresent()}function zte(e){return e.quickFilter?.getText()}function Wte(e){e.quickFilter?.resetCache()}var Ute=class extends re{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,o=t.isPivotMode(),s=e?.getColumns(),r=t.getColDefCols();let l=(o&&!n.get("applyQuickFilterBeforePivotOrAgg")?i?.getPivotResultCols()?.list:r)??[];s&&(l=l.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?l:l.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ye(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){fe(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return ye(i)&&i.includes(t)})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.includes(t)}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:o}=this;return o(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const o=Ne(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(o)}return ye(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];for(const n of this.colsToUse){const i=this.getTextForColumn(n,e);ye(i)&&t.push(i)}return t.join(`
`)}},jte={moduleName:"ClientSideRowModelFilter",version:Ce,rowModels:["clientSide"],beans:[jQ]},xS={moduleName:"FilterCore",version:Ce,beans:[Bee],apiFunctions:{isAnyFilterPresent:Hee,onFilterChanged:Gee},css:[vee],dependsOn:[jte]},zI={moduleName:"FilterValue",version:Ce,beans:[zee]},Jd={moduleName:"ColumnFilter",version:Ce,beans:[Nee,Vee],dynamicBeans:{headerFilterCellCtrl:hee},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:Cee,getColumnFilterInstance:wee,destroyFilter:yee,setFilterModel:bee,getFilterModel:See,getColumnFilterModel:Ree,setColumnFilterModel:xee,showColumnFilter:Eee,hideColumnFilter:Tee,getColumnFilterHandler:Dee,doFilterAction:Fee},dependsOn:[xS,Ip,zI,mee]},$te={moduleName:"CustomFilter",version:Ce,userComponents:{agReadOnlyFloatingFilter:Uee},dependsOn:[Jd]},Kte={moduleName:"TextFilter",version:Ce,dependsOn:[Jd],userComponents:{agTextColumnFilter:{classImp:_te,params:{useForm:!0}},agTextColumnFloatingFilter:Bte},dynamicBeans:{agTextColumnFilterHandler:Gte}},qte={moduleName:"NumberFilter",version:Ce,dependsOn:[Jd],userComponents:{agNumberColumnFilter:{classImp:Ate,params:{useForm:!0}},agNumberColumnFloatingFilter:Ote},dynamicBeans:{agNumberColumnFilterHandler:kte}},Yte={moduleName:"BigIntFilter",version:Ce,dependsOn:[Jd],userComponents:{agBigIntColumnFilter:{classImp:Xee,params:{useForm:!0}},agBigIntColumnFloatingFilter:tte},dynamicBeans:{agBigIntColumnFilterHandler:Jee}},Xte={moduleName:"DateFilter",version:Ce,dependsOn:[Jd],userComponents:{agDateColumnFilter:{classImp:nte,params:{useForm:!0}},agDateInput:Pte,agDateColumnFloatingFilter:Dte},dynamicBeans:{agDateColumnFilterHandler:ste}},Qte={moduleName:"QuickFilterCore",version:Ce,rowModels:["clientSide"],beans:[Ute],dependsOn:[xS,zI]},Zte={moduleName:"QuickFilter",version:Ce,apiFunctions:{isQuickFilterPresent:Vte,getQuickFilter:zte,resetQuickFilter:Wte},dependsOn:[Qte]},Jte={moduleName:"ExternalFilter",version:Ce,dependsOn:[xS]},ene=class extends re{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:o}=this;for(let s=0;s<e;s++){const r=n+s,l=new _r(i);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(r),l.setRowTop(t*r),o.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){ye(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(tn(this.params.datasource.getRows)){fe(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:o},gos:s}=this;return Ne(s,{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:o})}forEachNode(e,t,n){this.rowNodes.forEach((i,o)=>{this.startRow+o<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((o,s)=>{const r=e.rowData?e.rowData[s]:void 0;!o.id&&o.alreadyRendered&&r&&(t[s]=new _r(n),t[s].setRowIndex(o.rowIndex),t[s].setRowTop(o.rowTop),t[s].setRowHeight(o.rowHeight),o._destroy(!0)),this.setDataAndId(t[s],r,this.startRow+s)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){const e=this.rowNodes;for(let t=0,n=e.length;t<n;t++)e[t]._destroy(!1);e.length=0,super.destroy()}},tne=2,nne=class extends re{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new ene(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}for(const t of this.getBlocksInOrder())t.setStateWaitingToLoad();this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){for(const e of this.getBlocksInOrder())this.destroyBlock(e);super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(Na(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(r=>r!=e),n=(r,l)=>l.lastAccessed-r.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,o=i?this.params.maxBlocksInCache-1:null,s=tne-1;t.forEach((r,l)=>{const u=r.state==="needsLoading"&&l>=s,d=i?l>=o:!1;if(u||d){if(this.isBlockCurrentlyDisplayed(r)||this.isBlockFocused(r))return;this.removeBlockFromCache(r)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,s=(e.id+1)*n+i;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,ye(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};for(const n of this.getBlocksInOrder())n.forEachNode(e,t,this.rowCount)}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];for(const t of this.getBlocksInOrder())t.id*this.params.blockSize>=this.rowCount&&e.push(t);if(e.length>0)for(const t of e)this.destroyBlock(t)}purgeCache(){for(const e of this.getBlocksInOrder())this.removeBlockFromCache(e);this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,o=!1;const s={value:0};let r=!1;for(const u of this.getBlocksInOrder())if(!r){if(o&&i+1!==u.id){r=!0;continue}i=u.id,u.forEachNode(d=>{const f=d===e||d===t;(o||f)&&n.push(d),f&&(o=!o)},s,this.rowCount)}return r||o?[]:n}},ine=class extends re{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){if(this.gos.get("rowModelType")!=="infinite")return;const e=this.beans,t=new _r(e);this.rootNode=t,t.level=-1,this.rowHeight=Pa(e),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache())}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy(),this.rootNode=null}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Pa(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Sd(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getOverlayType(){return this.infiniteCache?.getRowCount()===0?this.beans.filterManager?.isAnyFilterPresent()?"noMatchingRows":"noRows":null}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;Ec(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:o,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:i,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Pa(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new nne(this.cacheParams)),o.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}resetRowHeights(){}onRowHeightChanged(){}};function one(e){Mp(e)?.refreshCache()}function sne(e){Mp(e)?.purgeCache()}function rne(e){return Mp(e)?.getRowCount()}var ane=class extends re{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=bU(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Hn(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){ts(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){Na(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length;for(const n of t)n.load();this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){Na(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},lne={moduleName:"InfiniteRowModelCore",version:Ce,rowModels:["infinite"],beans:[ine,ane]},cne={moduleName:"InfiniteRowModel",version:Ce,apiFunctions:{refreshInfiniteCache:one,purgeInfiniteCache:sne,getInfiniteRowCount:rne},dependsOn:[lne,HQ]},une=class extends re{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,i=!cg.has(e),o=i?this.asyncListeners:this.syncListeners;o.has(e)||o.set(e,new Set),o.get(e).add(n),this.eventSvc.addListener(e,n,i)}removeListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,o=!!this.asyncListeners.get(e)?.delete(n);o||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeListener(e,n,o)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,r)=>{cg.has(s)&&t(s,r)},i=(s,r)=>{cg.has(s)||t(s,r)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const o=this.eventSvc;o.addGlobalListener(n,!1),o.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,o=n?.unwrapGlobal(e)??e;if(i.has(o)){const{syncListener:r,asyncListener:l}=i.get(o);t.removeGlobalListener(r,!1),t.removeGlobalListener(l,!0),i.delete(e)}else this.syncGlobalListeners.delete(o),t.removeGlobalListener(o,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(o=>this.eventSvc.removeListener(i,o,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){for(const n of e)this.eventSvc.removeGlobalListener(n,t);e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function dne(e,t,n){e.apiEventSvc?.addListener(t,n)}function hne(e,t,n){e.apiEventSvc?.removeListener(t,n)}function fne(e,t){e.apiEventSvc?.addGlobalListener(t)}function gne(e,t){e.apiEventSvc?.removeGlobalListener(t)}var pne={moduleName:"EventApi",version:Ce,apiFunctions:{addEventListener:dne,addGlobalListener:fne,removeEventListener:hne,removeGlobalListener:gne},beans:[une]},mne=class extends re{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");return t?qW(t):YW(e.get("localeText"))}},vne={moduleName:"Locale",version:Ce,beans:[mne]};function Cne(e){return e.stateSvc?.getState()??{}}function wne(e,t,n){return e.stateSvc?.setState(t,n)}function B1(e){return e={...e},e.version||(e.version="32.1.0"),e.version==="32.1.0"&&(e=yne(e)),e.version=Ce,e}function yne(e){return e.cellSelection=bne(e,"rangeSelection"),e}function bne(e,t){if(e&&typeof e=="object")return e[t]}var Sne=class extends re{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Hn(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Hn(this,()=>{this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(this.updateCachedState("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowGroupExpansion",void 0)):(this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("ssrmRowGroupExpansion",void 0))},0),this.onRowSelectedDebounced=Hn(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){const{gos:e,ctrlsSvc:t,colDelayRenderSvc:n}=this.beans;this.isClientSideRowModel=Cn(e);const i=B1(e.get("initialState")??{}),o=i.partialColumnState;delete i.partialColumnState,this.cachedState=i;const s=this.suppressEventsAndDispatchInitEvent.bind(this);t.whenReady(this,()=>s(()=>this.setupStateOnGridReady(i))),(i.columnOrder||i.columnVisibility||i.columnSizing||i.columnPinning||i.columnGroup)&&n?.hideColumns("columnState");const[r,l,u]=this.addManagedEventListeners({newColumnsLoaded:({source:d})=>{d==="gridInitializing"&&(r(),s(()=>{this.setupStateOnColumnsInitialised(i,!!o),n?.revealColumns("columnState")}))},rowCountReady:()=>{l?.(),s(()=>this.setupStateOnRowCountReady(i))},firstDataRendered:()=>{u?.(),s(()=>this.setupStateOnFirstDataRendered(i))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=B1(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const i="api",o=t?new Set(t):void 0;this.setGridReadyState(n,i,o),this.setColumnsInitialisedState(n,i,!!o,o),this.setRowCountState(n,i,o),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,i,o),this.stopSuppressEvents(i)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,i){this.setColumnState(e,t,n,i),this.setColumnGroupState(e,t,i),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:i,rowGroupExpansion:o,ssrmRowGroupExpansion:s,rowSelection:r,pagination:l,rowPinning:u}=e,d=(p,m)=>!n?.has(p)&&(m||t==="api");d("filter",i)&&this.setFilterState(i),d("rowGroupExpansion",o)&&this.setRowGroupExpansionState(s,o,t),d("rowSelection",r)&&this.setRowSelectionState(r,t),d("pagination",l)&&this.setPaginationState(l,t),d("rowPinning",u)&&this.setRowPinningState(u);const f=this.updateCachedState.bind(this);f("filter",this.getFilterState()),this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(f("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),f("rowGroupExpansion",void 0)):(f("rowGroupExpansion",this.getRowGroupExpansionState()),f("ssrmRowGroupExpansion",void 0)),f("rowSelection",this.getRowSelectionState()),f("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,this.beans.gos.get("ssrmExpandAllAffectsAllRows")?(t("ssrmRowGroupExpansion",this.getRowGroupExpansionState()),t("rowGroupExpansion",void 0)):(t("rowGroupExpansion",this.getRowGroupExpansionState()),t("ssrmRowGroupExpansion",void 0))},i=()=>t("filter",this.getFilterState()),{gos:o,colFilter:s,selectableFilter:r}=this.beans;this.addManagedEventListeners({filterChanged:i,rowExpansionStateChanged:this.onRowGroupOpenedDebounced,expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(o.get("groupDefaultExpanded")!==0||o.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:l=>{(l.newPage||l.newPageSize)&&t("pagination",this.getPaginationState())},pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())}),s&&this.addManagedListeners(s,{filterStateChanged:i}),r&&this.addManagedListeners(r,{selectedFilterChanged:i})}setFirstDataRenderedState(e,t,n){const{scroll:i,cellSelection:o,focusedCell:s,columnOrder:r}=e,l=(f,p)=>!n?.has(f)&&(p||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",o)&&this.setCellSelectionState(o),l("scroll",i)&&this.setScrollState(i),this.setColumnPivotState(!!r?.orderedColIds,t);const u=this.updateCachedState.bind(this);u("sideBar",this.getSideBarState()),u("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();u("rangeSelection",d),u("cellSelection",d),u("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>t("focusedCell",this.getFocusedCellState());this.addManagedEventListeners({cellFocused:n,cellFocusCleared:n,cellSelectionChanged:i=>{if(i.finished){const o=this.getRangeSelectionState();t("rangeSelection",o),t("cellSelection",o)}},bodyScrollEnd:()=>t("scroll",this.getScrollState())})}getColumnState(){const e=this.beans;return fQ(Bg(e),e.colModel.isPivotMode())}setColumnState(e,t,n,i){const{sort:o,rowGroup:s,aggregation:r,pivot:l,columnPinning:u,columnVisibility:d,columnSizing:f,columnOrder:p}=e;let m=!1;const v=(z,K)=>{const se=!i?.has(z)&&!!(K||t==="api");return m||(m=se),se},b={},S=z=>{let K=b[z];return K||(K={colId:z},b[z]=K,K)},R={},x=v("sort",o);x&&o?.sortModel.forEach(({colId:z,sort:K},se)=>{const he=S(z);he.sort=K,he.sortIndex=se}),(x||!n)&&(R.sort=null,R.sortIndex=null);const T=v("rowGroup",s);T&&s?.groupColIds.forEach((z,K)=>{const se=S(z);se.rowGroup=!0,se.rowGroupIndex=K}),(T||!n)&&(R.rowGroup=null,R.rowGroupIndex=null);const F=v("aggregation",r);F&&r?.aggregationModel.forEach(({colId:z,aggFunc:K})=>{S(z).aggFunc=K}),(F||!n)&&(R.aggFunc=null);const A=v("pivot",l);A&&(l?.pivotColIds.forEach((z,K)=>{const se=S(z);se.pivot=!0,se.pivotIndex=K}),this.gos.updateGridOptions({options:{pivotMode:!!l?.pivotMode},source:t})),(A||!n)&&(R.pivot=null,R.pivotIndex=null);const M=v("columnPinning",u);if(M){for(const z of u?.leftColIds??[])S(z).pinned="left";for(const z of u?.rightColIds??[])S(z).pinned="right"}(M||!n)&&(R.pinned=null);const I=v("columnVisibility",d);if(I)for(const z of d?.hiddenColIds??[])S(z).hide=!0;(I||!n)&&(R.hide=null);const P=v("columnSizing",f);if(P)for(const{colId:z,flex:K,width:se}of f?.columnSizingModel??[]){const he=S(z);he.flex=K??null,he.width=se}(P||!n)&&(R.flex=null);const _=p?.orderedColIds,L=!!_?.length&&!i?.has("columnOrder"),V=L?_.map(z=>S(z)):Object.values(b);(V.length||m)&&(this.columnStates=V,To(this.beans,{state:V,applyOrder:L,defaultState:R},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;this.columnGroupStates=void 0;const o=this.beans,{pivotResultCols:s,colGroupSvc:r}=o;if(s?.isPivotResultColsPresent()){if(n){const l=[];for(const u of n)s.getPivotResultCol(u.colId)&&l.push(u);To(o,{state:l,applyOrder:e},t)}i&&r?.setColumnGroupState(i,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return gQ(t)}setColumnGroupState(e,t,n){const i=this.beans.colGroupSvc;if(!i||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const o=new Set(e.columnGroup?.openColumnGroupIds),r=i.getColumnGroupState().map(({groupId:l})=>{const u=o.has(l);return u&&o.delete(l),{groupId:l,open:u}});for(const l of o)r.push({groupId:l,open:!0});r.length&&(this.columnGroupStates=r),i.setColumnGroupState(r,t)}getFilterState(){const{filterManager:e,selectableFilter:t}=this.beans;let n=e?.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);const i=e?.getFilterState(),o=e?.getAdvFilterModel()??void 0,s=t?.getState();return n||o||i||s?{filterModel:n,columnFilterState:i,advancedFilterModel:o,selectableFilters:s}:void 0}setFilterState(e){const{filterManager:t,selectableFilter:n}=this.beans,{filterModel:i,columnFilterState:o,advancedFilterModel:s,selectableFilters:r}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};r!==void 0&&n?.setState(r??{}),(i!==void 0||o!==void 0)&&t?.setFilterState(i??null,o??null,"columnFilter"),s!==void 0&&t?.setAdvFilterModel(s??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:i,startRow:o,endRow:s,columns:r,startColumn:l}=t;return{id:n,type:i,startRow:o,endRow:s,colIds:r.map(u=>u.getColId()),startColId:l.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:o}=this.beans;if(!Ir(t)||!n)return;const s=[];for(const r of e?.cellRanges??[]){const l=[];for(const d of r.colIds){const f=i.getCol(d);f&&l.push(f)}if(!l.length)continue;let u=i.getCol(r.startColId);if(!u){const d=o.allCols,f=new Set(l);u=d.find(p=>f.has(p))}s.push({...r,columns:l,startColumn:u})}n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:i,rowRenderer:o,animationFrameSvc:s,ctrlsSvc:r}=this.beans;i.wrapIncoming(()=>{r.get("center").setCenterViewportScrollLeft(n),r.getScrollFeature()?.setVerticalScrollPosition(t),o.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:i,rowIndex:o,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(i),rowIndex:o,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e,t){const{pagination:n,gos:i}=this.beans;if(!n)return;const{pageSize:o,page:s}=e??{page:0,pageSize:i.get("paginationPageSize")},r=t==="gridInitializing";o&&!i.get("paginationAutoPageSize")&&n.setPageSize(o,r?"initialState":"pageSizeSelector"),typeof s=="number"&&(r?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e}=this.beans;if(e)return e.getExpansionState()}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t,n){const i=this.beans.expansionSvc;if(!i)return;const o=t??{expandedRowGroupIds:[],collapsedRowGroupIds:[]};i.setExpansionState(o,n)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const o of Object.keys(t)){const s=t[o];Sd(s,i[o])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Sd(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;for(const t of e)t==="rowSelection"&&this.setCachedStateValue(t,this.getRowSelectionState());e.clear()}dispatchStateUpdateEvent(e){if(!this.suppressEvents){for(const t of e)this.queuedUpdateSources.add(t);this.dispatchStateUpdateEventDebounced()}}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},Rne={moduleName:"GridState",version:Ce,beans:[Sne],apiFunctions:{getState:Cne,setState:wne}};function xne(e){return e.rowModel.isLastRowIndexKnown()}function Ene(e){return e.pagination?.getPageSize()??100}function Tne(e){return e.pagination?.getCurrentPage()??0}function Dne(e){return e.pagination?.getTotalPages()??1}function Fne(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Pne(e){e.pagination?.goToNextPage()}function Ane(e){e.pagination?.goToPreviousPage()}function Mne(e){e.pagination?.goToFirstPage()}function kne(e){e.pagination?.goToLastPage()}function Ine(e,t){e.pagination?.goToPage(t)}var One=class extends re{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(Pa(t),1),o=Math.floor(e/i);t.pagination.setPageSize(o,"autoCalculated")};this.isBodyRendered?Hn(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function _ne(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),o=n("decimalSeparator",".");return e.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var Wu="paginationPageSizeSelector",Lne={tag:"span",cls:"ag-paging-page-size"},Nne=class extends dn{constructor(){super(Lne),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Wu,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){xi(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Wu)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const o=this.gos.exists("paginationPageSize"),s=this.gos.get(Wu)!==!0;fe(94,{pageSizeSet:o,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||fe(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Wu}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(Gr(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),o=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new rS).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(o).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Wu);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Hne={selector:"AG-PAGE-SIZE-SELECTOR",component:Nne},Gne=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;flex-wrap:wrap-reverse;gap:calc(var(--ag-spacing)*4);justify-content:flex-end;min-height:var(--ag-pagination-panel-height);padding:calc(var(--ag-spacing)*.5) var(--ag-cell-horizontal-padding);row-gap:calc(var(--ag-spacing)*.5);@container (width < 600px){justify-content:center}}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel,.ag-paging-row-summary-panel{margin:calc(var(--ag-spacing)*.5)}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-paging-description{line-height:0}",Bne=class extends Y7{constructor(){super(),this.btFirst=xe,this.btPrevious=xe,this.btNext=xe,this.btLast=xe,this.lbRecordCount=xe,this.lbFirstRowOnPage=xe,this.lbLastRowOnPage=xe,this.lbCurrent=xe,this.lbTotal=xe,this.pageSizeComp=xe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Gne)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Hne]);const{btFirst:t,btPrevious:n,btNext:i,btLast:o}=this;this.activateTabIndex([t,n,i,o]),t.insertAdjacentElement("afterbegin",Si(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",Si(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",Si(e?"previous":"next",this.beans)),o.insertAdjacentElement("afterbegin",Si(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):y8(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){if(!this.areListenersSetup){this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)});for(const e of[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}]){const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===Z.ENTER||i.key===Z.SPACE)&&(i.preventDefault(),n())}})}w8(this.beans,this,this.getGui()),this.areListenersSetup=!0}}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):_ne(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),o=e===n-1;this.nextButtonDisabled=o||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){RW(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,o=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let r,l;this.isZeroPagesToDisplay()?r=l=0:(r=s*o+1,l=r+s-1,e&&l>i&&(l=i));const u=r+s-1,d=!e&&n<u,f=this.formatNumber(r);this.lbFirstRowOnPage.textContent=f;let p;const m=this.getLocaleTextFunc();d?p=m("pageLastRowUnknown","?"):p=this.formatNumber(l),this.lbLastRowOnPage.textContent=p;const b=t>0?o+1:0,S=this.formatNumber(b);this.lbCurrent.textContent=S;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(i);else{const T=m("more","more");R=T,x=T}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(f,p,x,S,R)}announceAriaStatus(e,t,n,i,o){const s=this.getLocaleTextFunc(),r=s("page","Page"),l=s("to","to"),u=s("of","of"),d=`${e} ${l} ${t} ${u} ${n}`,f=`${r} ${i} ${u} ${o}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,this.ariaAnnounce?.announceValue(d,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,this.ariaAnnounce?.announceValue(f,"paginationPage"))}},Vne={selector:"AG-PAGINATION",component:Bne},zne=100,Wne=class extends re{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Vne}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ye(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ye(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ye(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ye(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:zne}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const o=this.currentPage,s=n*o;let r=n*(o+1)-1;if(r>i&&(r=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),r===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},Une={moduleName:"Pagination",version:Ce,beans:[Wne,One],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:xne,paginationGetPageSize:Ene,paginationGetCurrentPage:Tne,paginationGetTotalPages:Dne,paginationGetRowCount:Fne,paginationGoToNextPage:Pne,paginationGoToPreviousPage:Ane,paginationGoToFirstPage:Mne,paginationGoToLastPage:kne,paginationGoToPage:Ine},dependsOn:[Ip]},jne=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function $ne(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function Kne(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function qne(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function Yne(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function Xne(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var Qne={moduleName:"PinnedRow",version:Ce,beans:[l7],css:[jne],apiFunctions:{getPinnedTopRowCount:$ne,getPinnedBottomRowCount:Kne,getPinnedTopRow:qne,getPinnedBottomRow:Yne,forEachPinnedRow:Xne},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},Zne="",Jne="",eie={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},tie=class extends dn{constructor(){super(eie),this.eValue=xe,this.eDelta=xe,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),o=ye(i)?i:n,s=t>=0,r=this.eDelta;s?r.textContent=Zne+o:r.textContent=Jne+o,r.classList.toggle("ag-value-change-delta-up",s),r.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),xi(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:i}=e,{eValue:o,lastValue:s,beans:r}=this;if(n===s||(ye(i)?o.textContent=i:ye(n)?o.textContent=n:xi(o),r.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const l=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,u=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(l===u)return!1;if(typeof l=="number"&&typeof u=="number"){const d=l-u;this.showDelta(e,d)}return s&&o.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},nie=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",iie={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},oie=class extends dn{constructor(){super(iie),this.eCurrent=xe,this.refreshCount=0,this.registerCSS(nie)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious?.remove();const{beans:t,eCurrent:n}=this,i=Bi({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.ePrevious?.remove(),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(tn(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return ye(e.valueFormatted)?i.textContent=e.valueFormatted:ye(e.value)?i.textContent=n:xi(i),!0}},sie=class extends re{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),i=this.beans.gos.get("cellFadeDuration")){const o=this.animations[t];o.delete(e);const s=Date.now(),r=s+n,l=s+n+i,u={phase:"flash",flashEndTime:r,fadeEndTime:l};o.set(e,u);const d=`ag-cell-${t}`,f=`${d}-animation`,{comp:p,eGui:{style:m}}=e;p.toggleCss(d,!0),p.toggleCss(f,!1),m.removeProperty("transition"),m.removeProperty("transition-delay"),this.nextAnimationTime&&r+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=r)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const i=this.animations[n],o=`ag-cell-${n}`,s=`${o}-animation`;for(const[r,l]of i){if(!r.isAlive()||!r.comp){i.delete(r);continue}const{phase:u,flashEndTime:d,fadeEndTime:f}=l,p=u==="flash"?d:f;if(!(e+15>=p)){t=Math.min(p,t??1/0);continue}const{comp:v,eGui:{style:b}}=r;switch(u){case"flash":v.toggleCss(o,!1),v.toggleCss(s,!0),b.transition=`background-color ${f-d}ms`,b.transitionDelay=`${d-e}ms`,t=Math.min(f,t??1/0),l.phase="fade";break;case"fade":v.toggleCss(o,!1),v.toggleCss(s,!1),b.removeProperty("transition"),b.removeProperty("transition-delay"),i.delete(r);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=h8(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function rie(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{for(const i of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns))n.flashCell(i,t)})}var aie={moduleName:"HighlightChanges",version:Ce,beans:[sie],userComponents:{agAnimateShowChangeCellRenderer:tie,agAnimateSlideCellRenderer:oie},apiFunctions:{flashCells:rie}};function lie(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,o=`aria-${t}`;n===null?i.removeAttribute(o):i.setAttribute(o,n)}function cie(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function uie(e){e.frameworkOverrides.wrapIncoming(()=>{for(const t of e.ctrlsSvc.getHeaderRowContainerCtrls())t.refresh()})}function die(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function hie(e){e.animationFrameSvc?.flushAllFrames()}function fie(e){return{rowHeight:Pa(e),headerHeight:qd(e)}}function gie(e,t={}){const n=[];for(const s of e.rowRenderer.getCellCtrls(t.rowNodes,t.columns)){const r=s.getCellRenderer();r!=null&&n.push(za(r))}if(t.columns?.length)return n;const i=[],o=dy(t.rowNodes);for(const s of e.rowRenderer.getAllRowCtrls()){if(o&&!hy(s.rowNode,o)||!s.isFullWidth())continue;const r=s.getFullWidthCellRenderers();for(let l=0;l<r.length;l++){const u=r[l];u!=null&&i.push(za(u))}}return[...i,...n]}var pie={moduleName:"RenderApi",version:Ce,apiFunctions:{setGridAriaProperty:lie,refreshCells:cie,refreshHeader:uie,isAnimationFrameQueueEmpty:die,flushAllAnimationFrames:hie,getSizesForCurrentTheme:fie,getCellRendererInstances:gie}},mie=class extends re{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Hn(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,o=e.autoHeightCols;let s=!1;const r=l=>{const u=l.__autoHeights;let d=kr(this.beans,l).height;for(const f of o){let p=u?.[f.getColId()];const m=n?.getCellSpan(f,l);if(m){if(m.getLastNode()!==l)continue;if(p=n?.getCellSpan(f,l)?.getLastNodeAutoHeight(),!p)return}if(p==null){if(this.colSpanSkipCell(f,l))continue;return}d=Math.max(p,d)}d!==l.rowHeight&&(l.setRowHeight(d),s=!0)};i?.forEachPinnedRow?.("top",r),i?.forEachPinnedRow?.("bottom",r),t.forEachDisplayedNode?.(r),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:o}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=o.getLeftColsForRow(t);break;case"right":s=o.getRightColsForRow(t);break;case null:s=i.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:o,column:s}=e,r=this.beans,l=f=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:v,borderTopWidth:b}=qa(i),S=p+m+v+b,x=t.offsetHeight+S;if(f<5){const F=!kn(r)?.contains(t),A=x==0;if(F||A){window.setTimeout(()=>l(f+1),0);return}}this.setRowAutoHeight(o,x,s)},u=()=>l(0);u();const d=Vs(r,t,u);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(o,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(o=>o.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const i of t){const o=n.__autoHeights[i.getColId()];if(!o||n.rowHeight<o)return!1}}return!0}},vie={moduleName:"RowAutoHeight",version:Ce,beans:[mie]},Cie=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;for(const n of this.spannedNodes)n!==this.lastNode&&(t+=n.rowHeight);return e-t}},wie=class extends re{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:o,valueSvc:s,pagination:r}}=this,{colDef:l}=t,u=this.getNodeMap(e),d=new Map,f=n.getCallback("isFullWidthRow"),p=l.equals,m=l.spanRows,v=typeof m=="function";let b=null,S=null,R;const x=(F,A)=>{b=F,S=null,R=A},T=F=>{const A=!F.isExpandable()&&!F.group&&!F.detail&&(f?!f({rowNode:F}):!0);if(F.rowIndex==null||!A){x(null,null);return}if(b==null||F.level!==b.level||F.footer||S&&F.rowIndex-1!==S?.getLastNode().rowIndex){x(F,s.getValue(t,F,"data"));return}const M=s.getValue(t,F,"data");if(v){const I=Ne(n,{valueA:R,nodeA:b,valueB:M,nodeB:F,column:t,colDef:l});if(!m(I)){x(F,M);return}}else if(p?!p(R,M):R!==M){x(F,M);return}if(!S){const I=u?.get(b);I?.firstNode===b?(I.reset(),S=I):S=new Cie(t,b),d.set(b,S)}S.addSpannedNode(F),d.set(F,S)};switch(e){case"center":o.forEachDisplayedNode?.(F=>{(!r||r.isRowInPage(F.rowIndex))&&T(F)}),this.centerValueNodeMap=d;break;case"top":i?.forEachPinnedRow("top",T),this.topValueNodeMap=d;break;case"bottom":i?.forEachPinnedRow("bottom",T),this.bottomValueNodeMap=d;break}}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this.getNodeMap(e.rowPinned).get(e)}getNodeMap(e){switch(e){case"top":return this.topValueNodeMap;case"bottom":return this.bottomValueNodeMap;default:return this.centerValueNodeMap}}},yie=class extends re{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Hn(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Hn(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new wie(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,o=e.rowIndex,s=this.spanningColumns.get(i);if(!s)return;let r;switch(e.rowPinned){case"top":r=t?.getPinnedTopRow(o);break;case"bottom":r=t?.getPinnedBottomRow(o);break;default:r=n.getRow(o)}if(r)return s.getCellSpan(r)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const o=i.getCellSpan(e);t(n,o)}}destroy(){super.destroy(),this.spanningColumns.clear()}},bie=class extends Cc{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,o,s,r){this.eWrapper=n,super.setComp(e,t,n,i,o,s,r),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){const{eGui:e,rowNode:t}=this;!e||t.rowIndex==null||XA(e,t.rowIndex)}setAriaRowSpan(){DW(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Fp(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Sie=class extends Yg{onRowIndexChanged(){super.onRowIndexChanged();for(const e of this.getAllCellCtrls())e.refreshAriaRowIndex()}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new bie(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},Rie=class extends re{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=this.getCtrlsMap(e),i=n.size,o=this.getAllRelevantRowControls(e),s=new Map;let r=!1;for(const u of o)u.isAlive()&&t?.forEachSpannedColumn(u.rowNode,(d,f)=>{if(s.has(f.firstNode))return;const p=n.get(f.firstNode);if(p){s.set(f.firstNode,p),n.delete(f.firstNode);return}r=!0;const m=new Sie(f.firstNode,this.beans,!1,!1,!1);s.set(f.firstNode,m)});this.setCtrlsMap(e,s);const l=s.size===i;if(!(!r&&l)){for(const u of n.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const i=this.getCtrlsMap(e.rowPinned).get(n.firstNode);if(i)return i.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){return[...this.getCtrlsMap(e).values()]}destroyRowCtrls(e){for(const t of this.getCtrlsMap(e).values())t.destroyFirstPass(!0),t.destroySecondPass();this.setCtrlsMap(e,new Map)}getCtrlsMap(e){switch(e){case"top":return this.topCtrls;case"bottom":return this.bottomCtrls;default:return this.centerCtrls}}setCtrlsMap(e,t){switch(e){case"top":this.topCtrls=t;break;case"bottom":this.bottomCtrls=t;break;default:this.centerCtrls=t;break}}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},xie={moduleName:"CellSpan",version:Ce,beans:[yie,Rie]},Eie=class extends re{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,gc(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),zU(e))}createColumns(e,t){const n=()=>{Hg(this.beans,this.columns?.tree),this.columns=null},i=e.treeDepth,s=(this.columns?.treeDepth??-1)==i,r=this.generateSelectionCols();if(VU(r,this.columns?.list??[])&&s)return;n();const{colGroupSvc:u}=this.beans,d=u?.findDepth(e.tree)??0,f=u?.balanceTreeForAutoCols(r,d)??[];this.columns={list:r,tree:f,treeDepth:d,map:{}},t(m=>{if(!m)return null;const v=m.filter(b=>!Br(b));return[...r,...v]})}updateColumns(e){const t=gc(e.source),{beans:n}=this;for(const i of this.columns?.list??[]){const o=this.createSelectionColDef(e.currentValue);i.setColDef(o,null,t),To(n,{state:[UU(o,i.colId)]},t)}}getColumn(e){return this.columns?.list.find(t=>od(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Fa(e))return!1;const i=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const o=!!dc(n),s=tg(n);return o||s}createSelectionColDef(e){const{gos:t}=this,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:o,spanRows:s,...r}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(l,u,d,f){const p=d.isSelected(),m=f.isSelected();return p===m?0:p?1:-1},editable:!1,suppressFillHandle:!0,suppressAutoSize:!0,pinned:null,...r,colId:AM,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new Ya(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?dc(t):void 0,o=e&&typeof e!="string"?dc(e):void 0,s=i!==o,r=t&&typeof t!="string"?tg(t):void 0,l=e&&typeof e!="string"?tg(e):void 0,u=r!==l,d=Og(e),f=Og(t);(s||u||d!==f)&&this.beans.colModel.refreshAll(n)}destroy(){Hg(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const i=e.length+t.length+n.length;if(i===0)return;const o=this.columns.list[0];if(!o.isVisible())return;const s=()=>{let u;switch(o.pinned){case"left":case!0:u=e;break;case"right":u=n;break;default:u=t}u&&ts(u,o)};(this.beans.rowNumbersSvc?.getColumn(MM)?2:1)===i&&s()}},Tie=':where(.ag-selection-checkbox) .ag-checkbox-input-wrapper:before{content:"";cursor:pointer;inset:-8px;position:absolute}';function Die(e,t){if(!t.nodes.every(r=>r.rowPinned&&!Qd(r)?(fe(59),!1):r.id===void 0?(fe(60),!1):!0))return;const{nodes:i,source:o,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:i,source:o??"api",newValue:s})}function Fie(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function Pie(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function Aie(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function Mie(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function kie(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function Iie(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Oie(e){return e.selectionSvc?.getSelectedNodes()??[]}function _ie(e){return e.selectionSvc?.getSelectedRows()??[]}var Lie={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Nie=class extends dn{constructor(){super(Lie,[Ub]),this.eCheckbox=xe}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),o=Rp(e,i),[s,r]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(s,r);n.setValue(i,!0),n.setInputAriaLabel(`${l} (${o})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getWrapperElement(),{dblclick:Ba,click:i=>{Ba(i),!this.eCheckbox.isDisabled()&&this.beans.selectionSvc?.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:o})=>{const s=typeof i=="object"?PC(i):void 0,r=typeof o=="object"?PC(o):void 0;s!==r&&this.onSelectableChanged()}),Yw(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this,o=t.selectable,s=this.getIsVisible();let r;if(typeof s=="function"){const p=n?.callbackParams;if(!e)r=s({...p,node:t,data:t.data});else{const m=e.createColumnFunctionCallbackParams(t);r=s({...p,...m})}}else r=s??!1;const l=o&&!r||!o&&r,u=o||r,d=i.get("rowSelection"),f=d&&typeof d!="string"?!PC(d):!!e?.getColDef().showDisabledCheckboxes;this.setVisible(u&&(l?f:!0)),this.setDisplayed(u&&(l?f:!0)),u&&this.eCheckbox.setDisabled(l),n?.removeHidden&&this.setDisplayed(u)}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?dc(t):this.column?.getColDef()?.checkboxSelection}},Hie=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:i}=this;return t??(t=n.getRowNode(e)),i?.isManual()&&(t??(t=i.getPinnedRowById(e,"top")),t??(t=i.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(o=>o.id===e.id);if(i>-1){const o=t.slice(0,i),s=t.slice(i+1);return this.setEndRange(e),n?{keep:o,discard:s}:{keep:s,discard:o}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const o=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&o.push(s)),o.push(e),this.setRoot(e),{keep:o,discard:[]}}const i=this.getNodesInRange(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(o=>o.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const o=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:o}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:i}=this;if(!n?.isManual())return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return Zi(n,"top",e,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const o=Zi(n,"bottom",void 0,e),s=i.getRowCount(),r=i.getRow(s-1);return(i.getNodesInRangeForSelection(t,r)??[]).concat(o)}if(!e.rowPinned&&!t.rowPinned)return i.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return Zi(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const o=Zi(n,"top",t,void 0),s=Zi(n,"bottom",void 0,e),r=i.getRow(0),l=i.getRow(i.getRowCount()-1);return o.concat(i.getNodesInRangeForSelection(r,l)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return Zi(n,"top",t,void 0).concat(i.getNodesInRangeForSelection(i.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const o=Zi(n,"top",e,void 0),s=Zi(n,"bottom",void 0,t),r=i.getRow(0),l=i.getRow(i.getRowCount()-1);return o.concat(i.getNodesInRangeForSelection(r,l)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return Zi(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const o=Zi(n,"bottom",void 0,t),s=i.getRow(i.getRowCount());return(i.getNodesInRangeForSelection(e,s)??[]).concat(o)}return null}},Gie=class extends re{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Yt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new Wb);this.cbSelectAll=t,t.addCss("ag-header-select-all"),_a(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:o})=>{const s=r=>typeof r=="string"||!r||r.mode==="singleRow"?void 0:r.selectAll;s(i)!==s(o)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const o=t.hasNodesToSelect(e);n.setDisabled(!o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:o}=this,s=i.getValue(),r=Rp(t,s),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",o?`${l} (${r})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Lg(this.gos)?!0:(fe(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Cn(t)||Vc(t)?!0:(fe(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},o=this.beans.selectionSvc;e?o.selectAllRowNodes(i):o.deselectAllRowNodes(i)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return WI(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=FM(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function WI({gos:e,selectionColSvc:t},n){const i=e.get("rowSelection"),o=n.getColDef(),{headerCheckboxSelection:s}=o;let r=!1;if(typeof i=="object"){const u=Br(n),d=Mb(n);(Og(i)==="autoGroupColumn"&&d||u&&t?.isSelectionColumnEnabled())&&(r=tg(i))}else typeof s=="function"?r=s(Ne(e,{column:n,colDef:o})):r=!!s;return r}var Bie=class extends re{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Hie(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=Yw(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=Yw(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Nie}createSelectAllFeature(e){if(WI(this.beans,e))return new Gie(e)}isMultiSelect(){return Lg(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,o=>{o.rowComp.toggleCss("ag-row-selected",i);const s=o.element;ZA(s,i),s.contains(Yt(this.beans))&&t(o)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected(),n=this.beans.editSvc?.isEditing({rowNode:e});if(!e.selectable||n)return;const o=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(o,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Qd(e)||!Fa(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Pd(this.gos)){const o=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:o??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const o=e.childrenAfterGroup[i];let s=o.isSelected();if(!o.selectable){const r=this.calculateSelectedFromChildren(o);if(r===null)continue;s=r}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){if(t&&e.destroyed)return!1;const o=!e.selectable&&t,s=e.__selected===t;if(o||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const r=e.sibling;r&&r.footer&&r.__localEventService&&r.dispatchRowEvent("rowSelected");const l=e.pinnedSibling;return l?.rowPinned&&l.__localEventService&&l.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...J8(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=Br(e)&&dc(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:o,selectionCtx:s}=this,r=e.isSelected(),l=Pd(o),u=RU(o),d=xU(o),f=this.isMultiSelect(),p=i==="rowClicked";if(p&&!(u||d))return null;if(t&&n&&f){const m=s.getRoot();if(m)if(m.isSelected()){const v=s.isInRange(e)?s.truncate(e):s.extend(e,l);return{deselect:v.discard,select:v.keep,reset:!1}}else{const v=s.extend(e,l);return{select:[],deselect:v.keep,reset:!1}}else return null}else if(t&&f){const m=s.selectAll?this.beans.rowModel.getRow(0):void 0,v=s.getRoot(m),b=s.isInRange(e)?s.truncate(e):s.extend(e,l);return{select:b.keep,deselect:b.discard,reset:s.selectAll||!!(v&&!v.isSelected())}}else if(n){if(p){const m=!r;return m&&!u||!m&&!d?null:(s.setRoot(e),{node:e,newValue:m,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!r,clearSelection:!f}}else{s.setRoot(e);const m=EU(o),v=Ng(o)==="filteredDescendants",b=p&&(!m||!u);if(v&&r===void 0&&Cn(o))return{node:e,newValue:!1,checkFilteredNodes:!0,clearSelection:!f||b};if(p){const S=r?!m:u;return S===r&&!b||S&&!u||!S&&!d?null:{node:e,newValue:S,clearSelection:!f||b,keepDescendants:e.group&&l}}return{node:e,newValue:!r,clearSelection:!f||b}}}},Vie=class extends Bie{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=_g(e),this.groupSelectsDescendants=Pd(e),this.groupSelectsFiltered=Ng(e)==="filteredDescendants",this.masterSelectsDetail=CD(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Pd(e),n=_g(e),i=Ng(e)==="filteredDescendants";this.masterSelectsDetail=CD(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);if(i==null)return 0;if(this.selectionCtx.selectAll=!1,"select"in i)return i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n);{const o=i.checkFilteredNodes?jI(i.node):i.newValue;return this.setNodesSelected({nodes:[i.node],newValue:o,clearSelection:i.clearSelection,keepDescendants:i.keepDescendants,event:e,source:n})}}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:o,source:s,keepDescendants:r=!1}){if(i.length===0)return 0;const{gos:l}=this;if(!Fa(l)&&e)return fe(132),0;if(i.length>1&&!this.isMultiSelect())return fe(130),0;let u=0;for(let d=0;d<i.length;d++){const f=i[d],p=Vl(f);if(p.rowPinned&&!Qd(p)){fe(59);continue}if(p.id===void 0){fe(60);continue}if(e&&f.destroyed)continue;this.groupSelectsFiltered&&p.group&&!l.get("treeData")||this.selectRowNode(p,e,o,s)&&(this.detailSelection.delete(p.id),u++),this.groupSelectsDescendants&&p.childrenAfterGroup?.length&&(u+=this.selectChildren(p,e,s))}return n||(i.length===1&&s==="api"&&this.selectionCtx.setRoot(Vl(i[0])),e&&(t||!this.isMultiSelect())&&(u+=this.clearOtherNodes(Vl(i[0]),r,s)),u>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),u}selectRange(e,t,n){let i=0;return e.forEach(o=>{const s=Vl(o);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!Cn(n))return!1;const o=i.rootNode;if(!o)return!1;t||(t=new Md(!0,o),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(r=>{if(r!==o){const l=this.calculateSelectedFromChildren(r);s=this.selectRowNode(r,l===null?!1:l,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const i=new Map;let o=0;return this.selectedNodes.forEach(s=>{const r=s.id==e.id;if((t?!Wie(e,s):!0)&&!r){const u=this.selectedNodes.get(s.id);o+=this.setNodesSelected({nodes:[u],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&i.set(s.parent.id,s.parent)}}),i.forEach(s=>{const r=this.calculateSelectedFromChildren(s);this.selectRowNode(s,r===null?!1:r,void 0,n)}),o}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new _r(this.beans);return t.id=e.id,t.data=e.data,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Cn(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function o(s){for(let r=0,l=s.length;r<l;r++){const u=s[r];u.isSelected()?i.push(u):u.group&&u.childrenAfterGroup&&o(u.childrenAfterGroup)}}return o(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Cn(this.gos);let i=!1;const o=s=>{const r=this.selectRowNode(Vl(s),!1,void 0,e);i||(i=r)};if(t==="currentPage"||t==="filtered"){if(!n){Dt(102);return}this.getNodesToSelect(t).forEach(o)}else this.selectedNodes.forEach(o),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);i||(i=s)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return UI(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=o=>t.push(o);if(e==="currentPage")return this.forEachNodeOnPage(o=>{if(!o.group){n(o);return}if(!o.expanded&&!o.footer){const s=r=>{n(r),r.childrenAfterFilter?.forEach(s)};s(o);return}this.groupSelectsDescendants||n(o)}),t;const i=this.beans.rowModel;return e==="filtered"?(i.forEachNodeAfterFilter(n),t):(i.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),o=t.getLastRow();for(let s=i;s<=o;s++){const r=n.getRow(s);r&&e(r)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Fa(t)){fe(132);return}if(SU(t)&&!Lg(t)){fe(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:o}=e;let s=!1;if(this.getNodesToSelect(o).forEach(r=>{const l=this.selectRowNode(Vl(r),!0,void 0,i);s||(s=l)}),n.selectAll=!0,Cn(t)&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(i);s||(s=r)}s&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Dt(103);return}const i=new Set(e),o=[];this.beans.rowModel.forEachNode(s=>{i.has(s.id)&&o.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:o,source:t})}canSelectAll(){return Cn(this.beans.gos)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!Fa(t))return;const i="selectableChanged",o=e!==void 0,s=Cn(t)&&this.groupSelectsDescendants,r=[],l=u=>{if(o&&!u.group)return;if(s&&u.group){const f=u.childrenAfterGroup?.some(p=>p.selectable)??!1;this.setRowSelectable(u,f,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&r.push(u)};if(s){if(e===void 0){const u=n.rootNode;e=u?new Md(!1,u):void 0}e?.forEachChangedNodeDepthFirst(l,!o,!o)}else n.forEachNode(l);r.length&&this.setNodesSelected({nodes:r,newValue:!1,source:i}),!o&&s&&this.updateGroupsFromChildrenSelections?.(i)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const i=zie(n);e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),i||this.detailSelection.set(e.id,new Set(n.getSelectedNodes().map(s=>s.id)))}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Lg(t)){fe(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const o=[];for(const s of i){const r=n.getRowNode(s);r&&o.push(r)}n.setNodesSelected({nodes:o,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Vl(e){return Qd(e)?e.pinnedSibling:e.footer?e.sibling:e}function zie(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),UI(t,n)}function UI(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function Wie(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}function jI(e){const t=e.isSelected()===!1,n=e.childrenAfterFilter?.some(jI)??!1;return t||n}var Uie={moduleName:"SharedRowSelection",version:Ce,beans:[Eie],css:[Tie],apiFunctions:{setNodesSelected:Die,selectAll:Fie,deselectAll:Pie,selectAllFiltered:Aie,deselectAllFiltered:Mie,selectAllOnCurrentPage:kie,deselectAllOnCurrentPage:Iie,getSelectedNodes:Oie,getSelectedRows:_ie}},jie={moduleName:"RowSelection",version:Ce,rowModels:["clientSide","infinite","viewport"],beans:[Vie],dependsOn:[Uie]},$ie=class extends re{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,o=this.getCellClassParams(e,n);nS(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,o,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const o=this.getCellClassParams(e,t);i=n(o)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);for(const s of this.staticClasses)t.toggleCss(s,!1);const o=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=o;for(const s of o)t.toggleCss(s,!0)}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return Ne(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},Kie=class extends re{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){nS(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e){return new $ie(e,this.beans)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(o=>{n(o)})}},qie={moduleName:"CellStyle",version:Ce,beans:[Kie]},Yie={moduleName:"RowStyle",version:Ce,beans:[aX]},Xie={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,overlayComponent:!0,suppressOverlays:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},yi="clientSide",Zn="serverSide",zl="infinite",Qie={onGroupExpandedOrCollapsed:[yi],refreshClientSideRowModel:[yi],isRowDataEmpty:[yi],forEachLeafNode:[yi],forEachNodeAfterFilter:[yi],forEachNodeAfterFilterAndSort:[yi],resetRowHeights:[yi,Zn],applyTransaction:[yi],applyTransactionAsync:[yi],flushAsyncTransactions:[yi],getBestCostNodeSelection:[yi],getServerSideSelectionState:[Zn],setServerSideSelectionState:[Zn],applyServerSideTransaction:[Zn],applyServerSideTransactionAsync:[Zn],applyServerSideRowData:[Zn],retryServerSideLoads:[Zn],flushServerSideAsyncTransactions:[Zn],refreshServerSide:[Zn],getServerSideGroupLevelState:[Zn],refreshInfiniteCache:[zl],purgeInfiniteCache:[zl],getInfiniteRowCount:[zl],isLastRowIndexKnown:[zl,Zn],expandAll:[yi,Zn],collapseAll:[yi,Zn],onRowHeightChanged:[yi,Zn],setRowCount:[zl,Zn],getCacheBlockState:[zl,Zn]},Zie={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function Jie(e,t,n){const i=Zie[e];if(i){const{version:s,new:r,old:l,message:u}=i,d=l??e;return(...f)=>{const p=r?`Please use ${r} instead. `:"";return id(`Since ${s} api.${d} is deprecated. ${p}${u??""}`),t.apply(t,f)}}const o=Qie[e];return o?(...s)=>{const r=n.rowModel.getType();if(!o.includes(r)){lc(`api.${e} can only be called when gridOptions.rowModelType is ${o.join(" or ")}`);return}return t.apply(t,s)}:t}var eoe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",highlightTooltipFeature:"Tooltip",tooltipStateManager:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agBigIntColumnFilterHandler:"BigIntFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},toe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,aasc:1,adesc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},noe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",overlayLoading:"Overlay",overlayExporting:"Overlay",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",richSelectLoading:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortAbsoluteAscending:["MenuCore","Sort"],sortAbsoluteDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},ioe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),ooe=class extends re{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,uU(cQ)}warnOnInitialPropertyUpdate(e,t){e==="api"&&Xie[t]&&fe(22,{key:t})}processGridOptions(e){this.processOptions(e,uY())}validateApiFunction(e,t){return Jie(e,t,this.beans)}missingUserComponent(e,t,n,i){const o=vc[t];o?this.gos.assertModuleRegistered(o,`AG Grid '${e}' component: ${t}`):fe(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}missingDynamicBean(e){const t=eoe[e];return t?Zo(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){roe.has(e)&&fe(10,{eventType:e})}validateIcon(e){if(ioe.has(e)&&fe(43,{iconName:e}),toe[e])return;const t=noe[e];if(t){Dt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Fb(),gridId:this.beans.context.getId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}fe(134,{iconName:e})}isProvidedUserComp(e){return!!vc[e]}validateColDef(e){this.processOptions(e,Jq())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:o,propertyExceptions:s,objectName:r,docsUrl:l}=t;o&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(i)],o,r,l);const u=new Set;if(Object.keys(e).forEach(f=>{const p=i[f];if(p){const{message:T,version:F}=p;u.add(`As of v${F}, ${String(f)} is deprecated. ${T??""}`)}const m=e[f];if(m==null||m===!1)return;const v=n[f];if(!v)return;const{dependencies:b,validate:S,supportedRowModels:R,expectedType:x}=v;if(x){const T=typeof m;if(T!==x){u.add(`${String(f)} should be of type '${x}' but received '${T}' (${m}).`);return}}if(R){const T=this.gridOptions.rowModelType??"clientSide";if(!R.includes(T)){u.add(`${String(f)} is not supported with the '${T}' row model. It is only valid with: ${R.join(", ")}.`);return}}if(b){const T=this.checkForRequiredDependencies(f,b,e);if(T){u.add(T);return}}if(S){const T=S(e,this.gridOptions,this.beans);if(T){u.add(T);return}}}),u.size>0)for(const f of u)id(f)}checkForRequiredDependencies(e,t,n){const o=Object.entries(t).filter(([s,r])=>{const l=n[s];return!r.required.includes(l)});return o.length===0?null:o.map(([s,r])=>`'${String(e)}' requires '${s}' to be one of [${r.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${r.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,o){const s=["__ob__","__v_skip","__metadata__"],r=soe(Object.getOwnPropertyNames(e),[...s,...t,...n],n),l=Object.keys(r);for(const u of l){const d=r[u];let f=`invalid ${i} property '${u}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(f+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),id(f)}if(l.length>0&&o){const u=this.beans.frameworkOverrides.getDocLink(o);id(`to see all the valid ${i} properties please check: ${u}`)}}};function soe(e,t,n){const i={},o=e.filter(s=>!t.some(r=>r===s));if(o.length>0)for(const s of o)i[s]=fy({inputValue:s,allSuggestions:n}).values;return i}var roe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),aoe={moduleName:"Validation",version:Ce,beans:[ooe]},$I={moduleName:"AllCommunity",version:Ce,dependsOn:[cZ,MZ,cne,aoe,iee,oee,see,ree,aee,lee,cee,nee,Kte,qte,Yte,Xte,$te,Zte,Jte,Rne,mQ,Une,Ik,PQ,AQ,pie,mZ,M9,Qne,jie,YX,qie,bZ,Yie,pne,ZX,aie,mI,vne,vie,A9,uZ,xie]},loe=class{wrap(e,t,n,i){const o=this.createWrapper(e,i);for(const s of t??[])this.createMethod(o,s,!0);for(const s of n??[])this.createMethod(o,s,!1);return o}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&fe(49,{methodName:t}),null)}}},coe=class extends Sk{constructor(e){super(e,_b)}},ti=de.createContext({}),KI=de.createContext("default"),eh=(e,t,n,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let r,l,u=!1;return s.then(d=>{if(u){t.destroyBean(d);return}r=d,l=r.getGui(),n.appendChild(l),V1(i,r)}),()=>{u=!0,r&&(l?.remove(),t.destroyBean(r),i&&V1(i,void 0))}},V1=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},to=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),oo=class qI{constructor(...t){this.classesMap={};for(const n of t)this.classesMap[n]=!0}setClass(t,n){if(!!this.classesMap[t]==n)return this;const o=new qI;return o.classesMap={...this.classesMap},o.classesMap[t]=n,o}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Uc=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},Ty=de.version?.split(".")[0],YI=Ty==="16"||Ty==="17";function uoe(){return Ty==="19"}var hg=!1;function doe(e){return hg||setTimeout(()=>hg=!1,0),hg=!0,e()}var Id=(e,t)=>{!YI&&e&&!hg?Xy.flushSync(t):t()},hoe=e=>{YI?e():de.startTransition(e)};function foe(e,t,n){return de.useSyncExternalStore?de.useSyncExternalStore(e,t):n}function ep(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],o=[],s=new Map,r=new Map;for(let l=0;l<t.length;l++){const u=t[l];r.set(u.instanceId,u)}for(let l=0;l<e.length;l++){const u=e[l];s.set(u.instanceId,u),r.has(u.instanceId)&&i.push(u)}for(let l=0;l<t.length;l++){const u=t[l],d=u.instanceId;s.has(d)||o.push(u)}return i.length===e.length&&o.length===0?e:i.length===0&&o.length===t.length?t:i.length===0?o:o.length===0?i:[...i,...o]}var XI=w.forwardRef((e,t)=>{const{registry:n,context:i}=w.useContext(ti),o=w.useRef(null),s=w.useRef(null),r=w.useRef(null),l=w.useRef(null),u=w.useRef(null),d=w.useRef(),[f,p]=w.useState(),[m,v]=w.useState(),[b,S]=w.useState(),[R,x]=w.useState(()=>new oo),[T,F]=w.useState(()=>new oo("ag-hidden")),[A,M]=w.useState(()=>new oo("ag-hidden")),[I,P]=w.useState(()=>new oo("ag-invisible"));w.useImperativeHandle(t,()=>({refresh(){return!1}})),w.useLayoutEffect(()=>eh(f,i,s.current),[f]);const _=w.useCallback(q=>{if(o.current=q,!q||i.isDestroyed()){d.current=i.destroyBean(d.current);return}const G={setInnerRenderer:(oe,O)=>{p(oe),S(O)},setChildCount:oe=>v(oe),toggleCss:(oe,O)=>x(U=>U.setClass(oe,O)),setContractedDisplayed:oe=>M(O=>O.setClass("ag-hidden",!oe)),setExpandedDisplayed:oe=>F(O=>O.setClass("ag-hidden",!oe)),setCheckboxVisible:oe=>P(O=>O.setClass("ag-invisible",!oe)),setCheckboxSpacing:oe=>P(O=>O.setClass("ag-group-checkbox-spacing",oe))},ee=n.createDynamicBean("groupCellRendererCtrl",!0);ee&&(d.current=i.createBean(ee),d.current.init(G,q,r.current,l.current,u.current,XI,e))},[]),L=w.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),V=w.useMemo(()=>`ag-group-expanded ${T.toString()}`,[T]),z=w.useMemo(()=>`ag-group-contracted ${A.toString()}`,[A]),K=w.useMemo(()=>`ag-group-checkbox ${I.toString()}`,[I]),se=f?.componentFromFramework,he=se?f.componentClass:void 0,J=f==null&&b!=null,N=Bc(b);return de.createElement("span",{className:L,ref:_,...e.colDef?{}:{role:d.current?.getCellAriaRole()}},de.createElement("span",{className:V,ref:l}),de.createElement("span",{className:z,ref:u}),de.createElement("span",{className:K,ref:r}),de.createElement("span",{className:"ag-group-value",ref:s},J?N:se?de.createElement(he,{...f.params}):null),de.createElement("span",{className:"ag-group-child-count"},m))}),z1=XI,ES=w.createContext({setMethods:()=>{}}),goe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:i,setMethods:o}=e,[{key:s,...r},l]=w.useState(t);return w.useEffect(()=>{n(u=>l(u))},[]),de.createElement(ES.Provider,{value:{setMethods:o}},de.createElement(i,{key:s,...r}))},poe=w.memo(goe),moe=0;function W1(){return`agPortalKey_${++moe}`}var QI=class{constructor(e,t,n,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=W1(),this.portalKey=W1(),this.instanceCreated=this.isStatelessComponent()?ct.resolve(!1):new ct(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const i=n[e];if(i)return i.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ct(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=zd.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return w.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Vp(e,t,n){for(const i of e){const o=t[i];o&&(n[i]=o)}}var ho=class extends QI{constructor(){super(...arguments),this.awaitUpdateCallback=new ct(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=poe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new ct(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Vp(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ct(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},voe=class extends ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Coe=class extends ho{refresh(e){this.sourceParams=e,this.refreshProps()}},woe=class extends ho{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},yoe=class extends ho{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:i}=this;return e.label=t,e.icon=n,e.shake=i,e}},boe=class extends ho{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new ct(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new ct(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},Soe=class extends ho{constructor(){super(...arguments),this.awaitSetMethodsCallback=new ct(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function ZI(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||ct.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Roe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Vp(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ZI(this.floatingFilterParams,e)}},xoe=class extends ho{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),ZI(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Eoe=class extends ho{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},Toe=class extends ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Doe=class extends ho{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Foe=class extends ho{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Poe=class extends ho{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function TS(){fe(231)}var Aoe=1e3,Moe=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||Aoe}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Id(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},koe=de.createContext([]),Ioe=de.createContext(void 0),Ooe=({ctrl:e})=>{const t=e.isAlive(),{context:n}=w.useContext(ti),[i,o]=w.useState(),[s,r]=w.useState(),l=w.useRef(),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),p=w.useRef(),m=w.useRef();t&&!m.current&&(m.current=new $d(()=>u.current));const v=w.useCallback(x=>{if(u.current=x,!x||!e.isAlive()||n.isDestroyed()){l.current=n.destroyBean(l.current);return}l.current=n.createBean(new Wc);const T=()=>{const A=e.getSelectAllGui();A&&(d.current?.insertAdjacentElement("afterend",A),l.current.addDestroyFunc(()=>A.remove()))},F={setWidth:A=>{u.current&&(u.current.style.width=A)},toggleCss:(A,M)=>m.current.toggleCss(A,M),setUserStyles:A=>r(A),setAriaSort:A=>{u.current&&(A?AW(u.current,A):MW(u.current))},setUserCompDetails:A=>o(A),getUserCompInstance:()=>p.current||void 0,refreshSelectAllGui:T,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(F,x,d.current,f.current,l.current),T()},[]);w.useLayoutEffect(()=>eh(i,n,f.current,p),[i]),w.useEffect(()=>{e.setDragSource(u.current)},[i]);const b=w.useMemo(()=>!!(i?.componentFromFramework&&Uc(i.componentClass)),[i]),S=i?.componentFromFramework,R=i?.componentClass;return de.createElement("div",{ref:v,style:s,className:"ag-header-cell",role:"columnheader"},de.createElement("div",{ref:d,className:"ag-header-cell-resize",role:"presentation"}),de.createElement("div",{ref:f,className:"ag-header-cell-comp-wrapper",role:"presentation"},S?b?de.createElement(R,{...i.params}):de.createElement(R,{...i.params,ref:p}):null))},_oe=w.memo(Ooe),Loe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Vp(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},Noe=({ctrl:e})=>{const{context:t,gos:n}=w.useContext(ti),[i,o]=w.useState(),[s,r]=w.useState(()=>new oo("ag-header-cell","ag-floating-filter")),[l,u]=w.useState(()=>new oo),[d,f]=w.useState(()=>new oo("ag-floating-filter-button","ag-hidden")),[p,m]=w.useState("false"),[v,b]=w.useState(),[,S]=w.useState(1),R=w.useRef(),x=w.useRef(null),T=w.useRef(null),F=w.useRef(null),A=w.useRef(null),M=w.useRef(),I=w.useRef(),P=oe=>{oe!=null&&M.current?.(oe)},_=w.useCallback(oe=>{if(x.current=oe,!oe||!e.isAlive()||t.isDestroyed()){R.current=t.destroyBean(R.current);return}R.current=t.createBean(new Wc),I.current=new ct(U=>{M.current=U});const O={toggleCss:(U,Q)=>r(ae=>ae.setClass(U,Q)),setUserStyles:U=>o(U),addOrRemoveBodyCssClass:(U,Q)=>u(ae=>ae.setClass(U,Q)),setButtonWrapperDisplayed:U=>{f(Q=>Q.setClass("ag-hidden",!U)),m(U?"false":"true")},setWidth:U=>{x.current&&(x.current.style.width=U)},setCompDetails:U=>b(U),getFloatingFilterComp:()=>I.current?I.current:null,setMenuIcon:U=>A.current?.appendChild(U)};e.setComp(O,oe,A.current,T.current,R.current)},[]);w.useLayoutEffect(()=>eh(v,t,T.current,P),[v]);const L=w.useMemo(()=>s.toString(),[s]),V=w.useMemo(()=>l.toString(),[l]),z=w.useMemo(()=>d.toString(),[d]),K=w.useMemo(()=>!!(v&&v.componentFromFramework&&Uc(v.componentClass)),[v]),se=w.useMemo(()=>n.get("reactiveCustomComponents"),[]),he=w.useMemo(()=>n.get("enableFilterHandlers"),[]),[J,N]=w.useState();w.useEffect(()=>{if(v?.componentFromFramework)if(se){const oe=he?Loe:Roe,O=new oe(v.params,()=>S(U=>U+1));P(O),N(O)}else TS()},[v]);const q=J?.getProps(),G=v?.componentFromFramework,ee=v?.componentClass;return de.createElement("div",{ref:_,style:i,className:L,role:"gridcell"},de.createElement("div",{ref:T,className:V,role:"presentation"},G?se?q&&de.createElement(ES.Provider,{value:{setMethods:oe=>J.setMethods(oe)}},de.createElement(ee,{...q})):de.createElement(ee,{...v.params,ref:K?()=>{}:P}):null),de.createElement("div",{ref:F,"aria-hidden":p,className:z,role:"presentation"},de.createElement("button",{ref:A,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Hoe=w.memo(Noe),Goe=({ctrl:e})=>{const{context:t}=w.useContext(ti),[n,i]=w.useState(),[o,s]=w.useState(()=>new oo),[r,l]=w.useState(()=>new oo),[u,d]=w.useState("false"),[f,p]=w.useState(),[m,v]=w.useState(),b=w.useRef(),S=w.useRef(null),R=w.useRef(null),x=w.useRef(null),T=w.useRef(),F=w.useCallback(L=>{if(S.current=L,!L||!e.isAlive()||t.isDestroyed()){b.current=t.destroyBean(b.current);return}b.current=t.createBean(new Wc);const V={setWidth:z=>{S.current&&(S.current.style.width=z)},toggleCss:(z,K)=>s(se=>se.setClass(z,K)),setUserStyles:z=>i(z),setHeaderWrapperHidden:z=>{const K=x.current;K&&(z?K.style.setProperty("display","none"):K.style.removeProperty("display"))},setHeaderWrapperMaxHeight:z=>{const K=x.current;K&&(z!=null?K.style.setProperty("max-height",`${z}px`):K.style.removeProperty("max-height"),K.classList.toggle("ag-header-cell-comp-wrapper-limited-height",z!=null))},setUserCompDetails:z=>v(z),setResizableDisplayed:z=>{l(K=>K.setClass("ag-hidden",!z)),d(z?"false":"true")},setAriaExpanded:z=>p(z),getUserCompInstance:()=>T.current||void 0};e.setComp(V,L,R.current,x.current,b.current)},[]);w.useLayoutEffect(()=>eh(m,t,x.current),[m]),w.useEffect(()=>{S.current&&e.setDragSource(S.current)},[m]);const A=w.useMemo(()=>!!(m?.componentFromFramework&&Uc(m.componentClass)),[m]),M=w.useMemo(()=>"ag-header-group-cell "+o.toString(),[o]),I=w.useMemo(()=>"ag-header-cell-resize "+r.toString(),[r]),P=m?.componentFromFramework,_=m?.componentClass;return de.createElement("div",{ref:F,style:n,className:M,role:"columnheader","aria-expanded":f},de.createElement("div",{ref:x,className:"ag-header-cell-comp-wrapper",role:"presentation"},P?A?de.createElement(_,{...m.params}):de.createElement(_,{...m.params,ref:T}):null),de.createElement("div",{ref:R,"aria-hidden":u,className:I}))},Boe=w.memo(Goe),Voe=({ctrl:e})=>{const{gos:t,context:n}=w.useContext(ti),{topOffset:i,rowHeight:o}=w.useMemo(()=>e.getTopAndHeight(),[]),s=w.useMemo(()=>t.get("tabIndex"),[]),[r,l]=w.useState(()=>e.getAriaRowIndex()),u=e.headerRowClass,[d,f]=w.useState(()=>o+"px"),[p,m]=w.useState(()=>i+"px"),v=w.useRef(null),[b,S]=w.useState(()=>e.getUpdatedHeaderCtrls()),R=w.useRef(),x=w.useRef(null),T=w.useCallback(M=>{if(x.current=M,!M||!e.isAlive()||n.isDestroyed()){R.current=n.destroyBean(R.current);return}R.current=n.createBean(new Wc);const I={setHeight:P=>f(P),setTop:P=>m(P),setHeaderCtrls:(P,_,L)=>{const V=v.current,z=ep(V,P,_);z!==V&&(v.current=z,Id(L,()=>S(z)))},setWidth:P=>{x.current&&(x.current.style.width=P)},setRowIndex:P=>{l(P)}};e.setComp(I,R.current,!1)},[]),F=w.useMemo(()=>({height:d,top:p}),[d,p]),A=w.useCallback(M=>{switch(e.type){case"group":return de.createElement(Boe,{ctrl:M,key:M.instanceId});case"filter":return de.createElement(Hoe,{ctrl:M,key:M.instanceId});default:return de.createElement(_oe,{ctrl:M,key:M.instanceId})}},[]);return de.createElement("div",{ref:T,className:u,role:"row",style:F,tabIndex:s,"aria-rowindex":r},b.map(A))},zoe=w.memo(Voe),Woe=({pinned:e})=>{const[t,n]=w.useState(!0),[i,o]=w.useState([]),{context:s}=w.useContext(ti),r=w.useRef(null),l=w.useRef(null),u=w.useRef(),d=e==="left",f=e==="right",p=!d&&!f,m=w.useCallback(S=>{if(r.current=S,!S||s.isDestroyed()){u.current=s.destroyBean(u.current);return}u.current=s.createBean(new O8(e));const R={setDisplayed:n,setCtrls:x=>o(x),setCenterWidth:x=>{l.current&&(l.current.style.width=x)},setViewportScrollLeft:x=>{r.current&&(r.current.scrollLeft=x)},setPinnedContainerWidth:x=>{r.current&&(r.current.style.width=x,r.current.style.minWidth=x,r.current.style.maxWidth=x)}};u.current.setComp(R,r.current)},[]),v=t?"":"ag-hidden",b=()=>i.map(S=>de.createElement(zoe,{ctrl:S,key:S.instanceId}));return d?de.createElement("div",{ref:m,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},b()):f?de.createElement("div",{ref:m,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},b()):p?de.createElement("div",{ref:m,className:"ag-header-viewport "+v,role:"rowgroup",tabIndex:-1},de.createElement("div",{ref:l,className:"ag-header-container",role:"presentation"},b())):null},aw=w.memo(Woe),Uoe=()=>{const[e,t]=w.useState(()=>new oo),[n,i]=w.useState(),{context:o}=w.useContext(ti),s=w.useRef(null),r=w.useRef(),l=w.useCallback(f=>{if(s.current=f,!f||o.isDestroyed()){r.current=o.destroyBean(r.current);return}r.current=o.createBean(new T8);const p={toggleCss:(m,v)=>t(b=>b.setClass(m,v)),setHeightAndMinHeight:m=>i(m)};r.current.setComp(p,f,f)},[]),u=w.useMemo(()=>"ag-header "+e.toString(),[e]),d=w.useMemo(()=>({height:n,minHeight:n}),[n]);return de.createElement("div",{ref:l,className:u,style:d,role:"presentation"},de.createElement(aw,{pinned:"left"}),de.createElement(aw,{pinned:null}),de.createElement(aw,{pinned:"right"}))},joe=w.memo(Uoe),$oe=(e,t)=>{w.useEffect(()=>{const n=t.current;if(n){const i=n.parentElement;if(i){const o=document.createComment(e);return i.insertBefore(o,n),()=>{o.remove()}}}},[e])},ba=$oe,Koe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new ct(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Vp(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},qoe=e=>{const t=w.useRef(e),n=w.useRef(),i=w.useRef(!1),o=w.useRef(!1),[,s]=w.useState(0);i.current&&(o.current=!0),w.useEffect(()=>(i.current||(n.current=t.current(),i.current=!0),s(r=>r+1),()=>{o.current&&n.current?.()}),[])},Yoe=e=>{const[t,n]=w.useState(),i=w.useContext(ti),{context:o,popupSvc:s,gos:r,editSvc:l}=i,{editDetails:u,cellCtrl:d,eParentCell:f}=e;return qoe(()=>{const{compDetails:p}=u,m=r.get("stopEditingWhenCellsLoseFocus");let v,b;if(!o.isDestroyed()){b=o.createBean(l.createPopupEditorWrapper(p.params));const S=b.getGui();if(e.jsChildComp){const M=e.jsChildComp.getGui();M&&S.appendChild(M)}const{column:R,rowNode:x}=d,T={column:R,rowNode:x,type:"popupCellEditor",eventSource:f,ePopup:S,position:u.popupPosition,keepWithinBounds:!0},F=s?.positionPopupByComponent.bind(s,T),A=s?.addPopup({modal:m,eChild:S,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:f,positionCallback:F,ariaOwns:f});v=A?A.hideFunc:void 0,n(b),e.jsChildComp?.afterGuiAttached?.()}return()=>{v?.(),o.destroyBean(b)}}),w.useLayoutEffect(()=>()=>{d.isCellFocused()&&t?.getGui().contains(Yt(i))&&f.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?zd.createPortal(e.wrappedContent,t.getGui()):null},U1=w.memo(Yoe),Xoe=(e,t,n)=>{const{compProxy:i}=e;n(i);const o=i.getProps(),s=Uc(t);return de.createElement(ES.Provider,{value:{setMethods:r=>i.setMethods(r)}},s?de.createElement(t,{...o}):de.createElement(t,{...o,ref:r=>i.setRef(r)}))},j1=(e,t,n)=>e.compProxy?Xoe(e,t,n):de.createElement(t,{...e.compDetails.params,ref:n}),Qoe=(e,t,n,i,o)=>{const s=e.compDetails,r=s.componentClass,l=s.componentFromFramework&&!e.popup,u=s.componentFromFramework&&e.popup,d=!s.componentFromFramework&&e.popup;return l?j1(e,r,t):u?de.createElement(U1,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:j1(e,r,t)}):d&&o?de.createElement(U1,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:o}):null},Zoe=(e,t,n,i,o,s,r=!1)=>{const{context:l}=w.useContext(ti),u=w.useCallback(()=>{const d=o.current;if(!d)return;const f=d.getGui();f&&f.parentElement&&f.remove(),l.destroyBean(d),o.current=void 0},[]);w.useEffect(()=>{const d=e!=null&&!r,f=e?.compDetails&&!e.compDetails.componentFromFramework,p=t&&n==null;if(!(d&&f&&!p)){u();return}const v=e.compDetails;if(o.current){const S=o.current,x=S.refresh!=null&&e.force==!1?S.refresh(v.params):!1;if(x===!0||x===void 0)return;u()}v.newAgStackInstance().then(S=>{if(!S)return;const R=S.getGui();if(!R)return;(t?n:s.current).appendChild(R),o.current=S})},[e,t,i,r]),w.useEffect(()=>u,[])},JI=Zoe,Joe=({cellCtrl:e,parent:t})=>{const n=w.useRef(),i=w.useMemo(()=>{const{loadingComp:o}=e.getDeferLoadingCellRenderer();return o?{value:void 0,compDetails:o,force:!1}:void 0},[e]);if(JI(i,!1,void 0,1,n,t),i?.compDetails?.componentFromFramework){const o=i.compDetails.componentClass;return de.createElement(o,{...i.compDetails.params})}return de.createElement(de.Fragment,null)},ese=({cellCtrl:e,printLayout:t,editingCell:n})=>{const i=w.useContext(ti),{context:o}=i,{column:{colIdSanitised:s},instanceId:r}=e,l=w.useRef(),[u,d]=w.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,p]=w.useState(),[m,v]=w.useState(1),[b,S]=w.useState(),[R,x]=w.useState(!1),[T,F]=w.useState(!1),[A,M]=w.useState(!1),[I,P]=w.useState(),_=w.useMemo(()=>e.isForceWrapper(),[e]),L=w.useMemo(()=>e.getCellAriaRole(),[e]),V=w.useRef(null),z=w.useRef(null),K=w.useRef(null),se=w.useRef(),he=w.useRef(),J=w.useRef(),N=w.useRef([]),q=w.useRef(),G=w.useRef(),[ee,oe]=w.useState(0),O=w.useCallback(He=>{G.current=He,oe(Ze=>Ze+1)},[]),U=u!=null&&(R||A||T)&&(f==null||!!f.popup),Q=_||U,ae=w.useMemo(()=>e.getCellValueClass(),[e]),ve=w.useCallback(He=>{if(he.current=He,He){const Ze=He.isCancelBeforeStart&&He.isCancelBeforeStart();setTimeout(()=>{Ze?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(He))})}},[e]),Se=w.useRef();Se.current||(Se.current=new $d(()=>V.current));const pe=!!f&&!f.popup;JI(u,Q,G.current,ee,se,V,pe);const Ke=w.useRef();w.useLayoutEffect(()=>{const He=Ke.current,Ze=u;if(Ke.current=u,He==null||He.compDetails==null||Ze==null||Ze.compDetails==null)return;q.current?.refreshVisibility();const ut=He.compDetails,ot=Ze.compDetails;if(ut.componentClass!=ot.componentClass||K.current?.refresh==null)return;K.current.refresh(ot.params)!=!0&&v(st=>st+1)},[u]),w.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework)||o.isDestroyed())return;const Ze=f.compDetails,ut=f.popup===!0,ot=Ze.newAgStackInstance();return ot.then(Te=>{if(!Te)return;const st=Te.getGui();ve(Te),ut||((_?J:V).current?.appendChild(st),Te.afterGuiAttached?.()),P(Te)}),()=>{ot.then(Te=>{const st=Te.getGui();e.disableEditorTooltipFeature(),o.destroyBean(Te),ve(void 0),P(void 0),st?.remove()})}},[f]);const Ye=w.useCallback(He=>{if(J.current=He,!He||o.isDestroyed()||!e.isAlive()){const ot=N.current;N.current=[];for(const Te of ot)Te();return}let Ze;const ut=ot=>{ot&&(He.insertAdjacentElement("afterbegin",ot.getGui()),N.current.push(()=>{Mr(ot.getGui()),o.destroyBean(ot),q.current===Ze&&(q.current=void 0)}))};R&&ut(e.createSelectionCheckbox()),A&&ut(e.createDndSource()),T&&(Ze=e.createRowDragComp(),q.current=Ze,Ze&&(ut(Ze),Ze.refreshVisibility()))},[e,o,A,T,R]),We=w.useCallback(()=>{const He=!e.isCellSpanning()||z.current,Ze=V.current;if(!Ze||!He||!e||!e.isAlive()||o.isDestroyed()){l.current=o.destroyBean(l.current);return}l.current=o.createBean(new Wc);const ut={toggleCss:(Te,st)=>Se.current.toggleCss(Te,st),setUserStyles:Te=>S(Te),getFocusableElement:()=>V.current,setIncludeSelection:Te=>x(Te),setIncludeRowDrag:Te=>F(Te),setIncludeDndSource:Te=>M(Te),getCellEditor:()=>he.current??null,getCellRenderer:()=>K.current??se.current,getParentOfValue:()=>G.current??J.current??V.current,setRenderDetails:(Te,st,kt)=>{const Xe=()=>{d(dt=>dt?.compDetails!==Te||dt?.value!==st||dt?.force!==kt?{value:st,compDetails:Te,force:kt}:dt)};if(Te?.params?.deferRender&&!e.rowNode.group){const{loadingComp:dt,onReady:Qt}=e.getDeferLoadingCellRenderer();if(dt){d({value:void 0,compDetails:dt,force:!1}),Qt.then(()=>hoe(Xe));return}}Xe()},setEditDetails:(Te,st,kt,Xe)=>{if(Te){let dt;Te.componentFromFramework&&(Xe?dt=new Koe(Te.params,()=>v(Qt=>Qt+1)):TS()),p({compDetails:Te,popup:st,popupPosition:kt,compProxy:dt}),st||d(void 0)}else e.hasBrowserFocus()&&ut.getFocusableElement().focus({preventScroll:!0}),he.current=void 0,p(void 0)},refreshEditStyles:(Te,st)=>{if(!V.current)return;const{current:kt}=Se;kt.toggleCss("ag-cell-value",!Q),kt.toggleCss("ag-cell-inline-editing",!!Te&&!st),kt.toggleCss("ag-cell-popup-editing",!!Te&&!!st),kt.toggleCss("ag-cell-not-inline-editing",!Te||!!st)}},ot=J.current||void 0;e.setComp(ut,Ze,z.current??void 0,ot,t,n,l.current)},[]),Ft=w.useCallback(He=>{V.current=He,We()},[]),Be=w.useCallback(He=>{z.current=He,We()},[]),pt=w.useMemo(()=>!!(u?.compDetails?.componentFromFramework&&Uc(u.compDetails.componentClass)),[u]);w.useLayoutEffect(()=>{if(!V.current)return;const{current:He}=Se;He.toggleCss("ag-cell-value",!Q),He.toggleCss("ag-cell-inline-editing",!!f&&!f.popup),He.toggleCss("ag-cell-popup-editing",!!f&&!!f.popup),He.toggleCss("ag-cell-not-inline-editing",!f||!!f.popup)});const Gt=()=>{const{compDetails:He,value:Ze}=u;if(!He)return Ze?.toString?.()??Ze;if(He.componentFromFramework){const ut=He.componentClass;return de.createElement(w.Suspense,{fallback:de.createElement(Joe,{cellCtrl:e,parent:V})},pt?de.createElement(ut,{...He.params,key:m}):de.createElement(ut,{...He.params,key:m,ref:K}))}},Xt=()=>{const He=()=>u==null?null:Q?de.createElement("span",{role:"presentation",id:`cell-${r}`,className:ae,ref:O},Gt()):Gt(),Ze=ut=>Qoe(ut,ve,V.current,e,I);return f!=null?f.popup?de.createElement(de.Fragment,null,He(),Ze(f)):Ze(f):He()},Wt=()=>de.createElement("div",{ref:Ft,style:b,role:L,"col-id":s},Q?de.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Ye},Xt()):Xt());return e.isCellSpanning()?de.createElement("div",{ref:Be,className:"ag-spanned-cell-wrapper",role:"presentation"},Wt()):Wt()},tse=w.memo(ese),nse=({rowCtrl:e,containerType:t})=>{const{context:n,gos:i,editSvc:o}=w.useContext(ti),s=w.useContext(KI)==="default",r=w.useRef(),l=w.useRef(e.getDomOrder()),u=e.isFullWidth(),d=e.rowNode.displayed,[f,p]=w.useState(()=>d?e.rowNode.getRowIndexString():null),[m,v]=w.useState(()=>e.rowId),[b,S]=w.useState(()=>e.businessKey),[R,x]=w.useState(()=>e.rowStyles),T=w.useRef(null),[F,A]=w.useState(()=>null),[M,I]=w.useState(),[P,_]=w.useState(()=>d?e.getInitialRowTop(t):void 0),[L,V]=w.useState(()=>d?e.getInitialTransform(t):void 0),z=w.useRef(null),K=w.useRef(),se=w.useRef(),he=w.useRef(!1),[J,N]=w.useState(0);w.useEffect(()=>{if(he.current||!M||J>10)return;const We=z.current?.firstChild;We?(e.setupDetailRowAutoHeight(We),he.current=!0):N(Ft=>Ft+1)},[M,J]);const q=w.useRef();q.current||(q.current=new $d(()=>z.current));const G=w.useRef(()=>{}),ee=w.useCallback(We=>(G.current=We,()=>{G.current=()=>{}}),[]),oe=foe(ee,()=>T.current,[]),O=s?oe:F,U=w.useCallback(We=>{if(z.current=We,r.current=We?n.createBean(new Wc):n.destroyBean(r.current),!We){e.unsetComp(t);return}if(!e.isAlive()||n.isDestroyed())return;const Ft={setTop:_,setTransform:V,toggleCss:(Be,pt)=>q.current.toggleCss(Be,pt),setDomOrder:Be=>l.current=Be,setRowIndex:p,setRowId:v,setRowBusinessKey:S,setUserStyles:x,setCellCtrls:(Be,pt)=>{const Gt=T.current,Xt=ep(Gt,Be,l.current);Xt!==Gt&&(T.current=Xt,s?G.current():Id(pt,()=>A(Xt)))},showFullWidth:Be=>{se.current=Be.params,I(Be)},getFullWidthCellRenderer:()=>K.current,getFullWidthCellRendererParams:()=>se.current,refreshFullWidth:Be=>{const pt=Be();return se.current=pt,pe.current?(I(Gt=>({...Gt,params:pt})),!0):!K.current||!K.current.refresh?!1:K.current.refresh(pt)}};e.setComp(Ft,We,t,r.current)},[]);w.useLayoutEffect(()=>eh(M,n,z.current,K),[M]);const Q=w.useMemo(()=>{const We={top:P,transform:L};return Object.assign(We,R),We},[P,L,R]),ae=u&&M?.componentFromFramework,ve=!u&&O!=null,Se=w.useMemo(()=>!!(M?.componentFromFramework&&Uc(M.componentClass)),[M]),pe=w.useRef(!1);w.useEffect(()=>{pe.current=Se&&!!M&&!!i.get("reactiveCustomComponents")},[Se,M]);const Ke=()=>O?.map(We=>de.createElement(tse,{cellCtrl:We,editingCell:o?.isEditing(We,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:We.instanceId})),Ye=()=>{const We=M.componentClass;return Se?de.createElement(We,{...M.params}):de.createElement(We,{...M.params,ref:K})};return de.createElement("div",{ref:U,role:"row",style:Q,"row-index":f,"row-id":m,"row-business-key":b},ve?Ke():ae?Ye():null)},$1=w.memo(nse),ise=({name:e})=>{const{context:t,gos:n}=w.useContext(ti),i=w.useMemo(()=>Xd(e),[e]),o=w.useRef(null),s=w.useRef(null),r=w.useRef(null),l=w.useRef([]),u=w.useRef([]),[d,f]=w.useState(()=>[]),p=!!n.get("enableCellSpan")&&!!i.getSpannedRowCtrls,m=w.useRef([]),v=w.useRef([]),[b,S]=w.useState(()=>[]),R=w.useRef(!1),x=w.useRef(),T=w.useMemo(()=>to("ag-viewport",Ck(e)),[e]),F=w.useMemo(()=>to(wk(e)),[e]),A=w.useMemo(()=>to("ag-spanning-container",k7(e)),[e]),M=i.type==="center"||p,I=M?o:s;ba(" AG Row Container "+e+" ",I);const P=w.useCallback(()=>{const J=!M||o.current!=null,N=s.current!=null,q=!p||r.current!=null;return J&&N&&q},[]),_=w.useCallback(()=>o.current==null&&s.current==null&&r.current==null,[]),L=w.useCallback(()=>{if(_()&&(x.current=t.destroyBean(x.current)),!t.isDestroyed()&&P()){const J=G=>{const ee=ep(u.current,l.current,R.current);ee!==u.current&&(u.current=ee,Id(G,()=>f(ee)))},N=G=>{const ee=ep(v.current,m.current,R.current);ee!==v.current&&(v.current=ee,Id(G,()=>S(ee)))},q={setHorizontalScroll:G=>{o.current&&(o.current.scrollLeft=G)},setViewportHeight:G=>{o.current&&(o.current.style.height=G)},setRowCtrls:({rowCtrls:G,useFlushSync:ee})=>{const oe=!!ee&&l.current.length>0&&G.length>0;l.current=G,J(oe)},setSpannedRowCtrls:(G,ee)=>{const oe=!!ee&&m.current.length>0&&G.length>0;m.current=G,N(oe)},setDomOrder:G=>{R.current!=G&&(R.current=G,J(!1))},setContainerWidth:G=>{s.current&&(s.current.style.width=G)},setOffsetTop:G=>{s.current&&(s.current.style.transform=`translateY(${G})`)}};x.current=t.createBean(new z7(e)),x.current.setComp(q,s.current,r.current??void 0,o.current)}},[P,_]),V=w.useCallback(J=>{s.current=J,L()},[L]),z=w.useCallback(J=>{r.current=J,L()},[L]),K=w.useCallback(J=>{o.current=J,L()},[L]),se=()=>de.createElement("div",{className:F,ref:V,role:M?"presentation":"rowgroup"},d.map(J=>de.createElement($1,{rowCtrl:J,containerType:i.type,key:J.instanceId})));if(!M)return se();const he=()=>de.createElement("div",{className:A,ref:z,role:"presentation"},b.map(J=>de.createElement($1,{rowCtrl:J,containerType:i.type,key:J.instanceId})));return de.createElement("div",{className:T,ref:K,role:"rowgroup"},se(),p?he():null)},ose=w.memo(ise),sse=()=>{const e=w.useContext(ti),{context:t,overlays:n}=e,[i,o]=w.useState(""),[s,r]=w.useState(0),[l,u]=w.useState(0),[d,f]=w.useState("0px"),[p,m]=w.useState("0px"),[v,b]=w.useState("100%"),[S,R]=w.useState("0px"),[x,T]=w.useState("0px"),[F,A]=w.useState("100%"),[M,I]=w.useState(!0),[P,_]=w.useState(!0),[L,V]=w.useState(null),[z,K]=w.useState(""),[se,he]=w.useState(null),[J,N]=w.useState("ag-layout-normal"),q=w.useRef();q.current||(q.current=new $d(()=>G.current));const G=w.useRef(null),ee=w.useRef(null),oe=w.useRef(null),O=w.useRef(null),U=w.useRef(null),Q=w.useRef(null),ae=w.useRef(null),ve=w.useRef([]),Se=w.useRef([]);ba(" AG Grid Body ",G),ba(" AG Pinned Top ",ee),ba(" AG Sticky Top ",oe),ba(" AG Middle ",Q),ba(" AG Pinned Bottom ",ae);const pe=w.useCallback(Te=>{if(G.current=Te,!Te||t.isDestroyed()){ve.current=t.destroyBeans(ve.current);for(const $e of Se.current)$e();Se.current=[];return}const st=($e,tt)=>{$e.appendChild(tt),Se.current.push(()=>tt.remove())},kt=$e=>{const tt=t.createBean(new $e);return ve.current.push(tt),tt},Xe=($e,tt,Bn)=>{st($e,document.createComment(Bn)),st($e,kt(tt).getGui())};Xe(Te,w7," AG Fake Horizontal Scroll ");const dt=n?.getOverlayWrapperCompClass();dt&&Xe(Te,dt," AG Overlay Wrapper "),U.current&&Xe(U.current,b7," AG Fake Vertical Scroll ");const Qt={setRowAnimationCssOnBodyViewport:o,setColumnCount:$e=>{G.current&&FW(G.current,$e)},setRowCount:$e=>{G.current&&TW(G.current,$e)},setTopHeight:r,setBottomHeight:u,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:b,setTopInvisible:I,setBottomInvisible:_,setColumnMovingCss:($e,tt)=>q.current.toggleCss($e,tt),updateLayoutClasses:N,setAlwaysVerticalScrollClass:V,setPinnedTopBottomOverflowY:K,setCellSelectableCss:($e,tt)=>he(tt?$e:null),setBodyViewportWidth:$e=>{Q.current&&(Q.current.style.width=$e)},registerBodyViewportResizeListener:$e=>{if(Q.current){const tt=Vs(e,Q.current,$e);Se.current.push(()=>tt())}},setStickyBottomHeight:R,setStickyBottomBottom:T,setStickyBottomWidth:A,setGridRootRole:$e=>Te.setAttribute("role",$e)},Zt=t.createBean(new $7);ve.current.push(Zt),Zt.setComp(Qt,Te,Q.current,ee.current,ae.current,oe.current,O.current)},[]),Ke=w.useMemo(()=>to("ag-root","ag-unselectable",J),[J]),Ye=w.useMemo(()=>to("ag-body-viewport",i,J,L,se),[i,J,L,se]),We=w.useMemo(()=>to("ag-body",J),[J]),Ft=w.useMemo(()=>to("ag-floating-top",M?"ag-invisible":null,se),[se,M]),Be=w.useMemo(()=>to("ag-sticky-top",se),[se]),pt=w.useMemo(()=>to("ag-sticky-bottom",S==="0px"?"ag-invisible":null,se),[se,S]),Gt=w.useMemo(()=>to("ag-floating-bottom",P?"ag-invisible":null,se),[se,P]),Xt=w.useMemo(()=>({height:s,minHeight:s,overflowY:z}),[s,z]),Wt=w.useMemo(()=>({height:d,top:p,width:v}),[d,p,v]),He=w.useMemo(()=>({height:S,bottom:x,width:F}),[S,x,F]),Ze=w.useMemo(()=>({height:l,minHeight:l,overflowY:z}),[l,z]),ut=Te=>de.createElement(ose,{name:Te,key:`${Te}-container`}),ot=({section:Te,children:st,className:kt,style:Xe})=>de.createElement("div",{ref:Te,className:kt,role:"presentation",style:Xe},st.map(ut));return de.createElement("div",{ref:pe,className:Ke},de.createElement(joe,null),ot({section:ee,className:Ft,style:Xt,children:["topLeft","topCenter","topRight","topFullWidth"]}),de.createElement("div",{className:We,ref:U,role:"presentation"},ot({section:Q,className:Ye,children:["left","center","right","fullWidth"]})),ot({section:oe,className:Be,style:Wt,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ot({section:O,className:pt,style:He,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ot({section:ae,className:Gt,style:Ze,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},rse=w.memo(sse),ase=(e,t)=>{const{children:n,eFocusableElement:i,onTabKeyDown:o,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:r,isEmpty:l}=e,{context:u}=w.useContext(ti),d=w.useRef(null),f=w.useRef(null),p=w.useRef(),m=x=>{const T=x==null?void 0:parseInt(x,10).toString();for(const F of[d,f])T===void 0?F.current?.removeAttribute("tabindex"):F.current?.setAttribute("tabindex",T)};w.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){p.current?.forceFocusOutOfContainer(x)}}));const v=w.useCallback(()=>{const x=d.current,T=f.current;if(!x&&!T||u.isDestroyed()){p.current=u.destroyBean(p.current);return}if(x&&T){const F={setTabIndex:m};p.current=u.createBean(new coe({comp:F,eTopGuard:x,eBottomGuard:T,eFocusableElement:i,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:r,focusInnerElement:A=>s.focusInnerElement(A),isEmpty:l}))}},[]),b=w.useCallback(x=>{d.current=x,v()},[v]),S=w.useCallback(x=>{f.current=x,v()},[v]),R=x=>{const T=x==="top"?mc.TAB_GUARD_TOP:mc.TAB_GUARD_BOTTOM;return de.createElement("div",{className:`${mc.TAB_GUARD} ${T}`,role:"presentation",ref:x==="top"?b:S})};return de.createElement(de.Fragment,null,R("top"),n,R("bottom"))},lse=w.forwardRef(ase),cse=w.memo(lse),use=({context:e})=>{const[t,n]=w.useState(""),[i,o]=w.useState(""),[s,r]=w.useState(null),[l,u]=w.useState(null),[d,f]=w.useState(!1),[p,m]=w.useState(),v=w.useRef(),b=w.useRef(null),S=w.useRef(),[R,x]=w.useState(null),T=w.useRef(()=>{}),F=w.useRef(),A=w.useRef([]),M=w.useCallback(()=>{},[]);ba(" AG Grid ",b);const I=w.useCallback(K=>{if(b.current=K,v.current=K?e.createBean(new X7):e.destroyBean(v.current),!K||e.isDestroyed())return;const se=v.current;T.current=se.focusInnerElement.bind(se);const he={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:J=>{if(!J&&F.current?.isDisplayed()){F.current.forceFocusOutOfContainer(J);return}S.current?.forceFocusOutOfContainer(J)},updateLayoutClasses:o,getFocusableContainers:()=>{const J=[],N=b.current?.querySelector(".ag-root");N&&J.push({getGui:()=>N});for(const q of A.current)q.isDisplayed()&&J.push(q);return J},setCursor:r,setUserSelect:u};se.setComp(he,K,K),f(!0)},[]);w.useEffect(()=>{const K=v.current,se=b.current;if(!p||!K||!R||!se||e.isDestroyed())return;const he=[],{watermarkSelector:J,paginationSelector:N,sideBarSelector:q,statusBarSelector:G,gridHeaderDropZonesSelector:ee}=K.getOptionalSelectors(),oe=[];if(ee){const U=e.createBean(new ee.component),Q=U.getGui();se.insertAdjacentElement("afterbegin",Q),oe.push(Q),he.push(U)}if(q){const U=e.createBean(new q.component),Q=U.getGui(),ae=R.querySelector(".ag-tab-guard-bottom");ae&&(ae.insertAdjacentElement("beforebegin",Q),oe.push(Q)),he.push(U),A.current.push(U)}const O=U=>{const Q=e.createBean(new U),ae=Q.getGui();return se.insertAdjacentElement("beforeend",ae),oe.push(ae),he.push(Q),Q};if(G&&O(G.component),N){const U=O(N.component);F.current=U,A.current.push(U)}return J&&O(J.component),()=>{e.destroyBeans(he);for(const U of oe)U.remove()}},[p,R,e]);const P=w.useMemo(()=>to("ag-root-wrapper",t,i),[t,i]),_=w.useMemo(()=>to("ag-root-wrapper-body","ag-focus-managed",i),[i]),L=w.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:s??""}),[l,s]),V=w.useCallback(K=>{S.current=K,m(K!==null)},[]),z=w.useCallback(()=>!v.current?.isFocusable(),[]);return de.createElement("div",{ref:I,className:P,style:L,role:"presentation"},de.createElement("div",{className:_,ref:x,role:"presentation"},d&&R&&!e.isDestroyed()&&de.createElement(ti.Provider,{value:e.getBeans()},de.createElement(cse,{ref:V,eFocusableElement:R,onTabKeyDown:M,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:z},de.createElement(rse,null)))))},dse=w.memo(use),hse=class extends re{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(t=>!!t.eGui))}},fse=typeof window>"u"?w.useEffect:w.useLayoutEffect,eO={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},gse={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...eO},tO=new Set(Object.keys(gse)),pse=new Set(Object.keys(eO)),nO=e=>{const t=w.useContext(koe),n=w.useContext(Ioe),i=w.useRef(),o=w.useRef(null),s=w.useRef(null),r=w.useRef([]),l=w.useRef([]),u=w.useRef(e),d=w.useRef(),f=w.useRef(),p=w.useRef(!1),[m,v]=w.useState(void 0),[,b]=w.useState(0),S=w.useRef(),R=M=>{const I=o.current?.classList,P=(_="")=>_.trim().split(/\s+/g).filter(Boolean);if(S.current!==M){for(const _ of P(S.current))I?.contains(_)&&I.remove(_);for(const _ of P(M))I?.contains(_)||I?.add(_);S.current=M}};fse(()=>{R(e.className)},[e.className]);const x=w.useCallback(M=>{if(o.current=M,R(e.className),!M){for(const J of r.current)J();r.current.length=0;return}const I=[...e.modules??[],...t??[]];n&&pM(I)?.setLicenseKey(n),s.current||(s.current=new Moe(()=>b(J=>J+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{s.current?.destroy(),s.current=null}));const P=AU(e.gridOptions,e,Object.keys(e).filter(J=>!tO.has(J))),_=()=>{if(p.current){const J=()=>d.current?.shouldQueueUpdates()?void 0:l.current.shift();let N=J();for(;N;)N(),N=J()}},L=new wse(_);d.current=L;const V=new hse,z={providedBeanInstances:{frameworkCompWrapper:new vse(s.current,P),renderStatus:V},modules:I,frameworkOverrides:L,setThemeOnGridDiv:!0},K=J=>{v(J),J.createBean(V),r.current.push(()=>{J.destroy()}),J.getBean("ctrlsSvc").whenReady({addDestroyFunc:N=>{r.current.push(N)}},()=>{if(J.isDestroyed())return;const N=i.current;N&&e.passGridApi?.(N)})},se=J=>{J.getBean("ctrlsSvc").whenReady({addDestroyFunc:N=>{r.current.push(N)}},()=>{for(const N of l.current)N();l.current.length=0,p.current=!0})},he=new hQ;P.gridId??(P.gridId=f.current),i.current=he.create(M,P,K,se,z),r.current.push(()=>{i.current=void 0}),i.current&&(f.current=i.current.getGridId())},[]),T=w.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),F=w.useCallback(M=>{p.current&&!d.current?.shouldQueueUpdates()?M():l.current.push(M)},[]);w.useEffect(()=>{const M=mse(u.current,e);u.current=e,F(()=>{i.current&&MU(M,i.current)})},[e]);const A=!de.useSyncExternalStore||ng(e,"renderingMode")==="legacy"?"legacy":"default";return de.createElement("div",{style:T,ref:x},de.createElement(KI.Provider,{value:A},m&&!m.isDestroyed()?de.createElement(dse,{key:m.instanceId,context:m}):null,s.current?.getPortals()??null))};function mse(e,t){const n={};for(const i of Object.keys(t)){if(tO.has(i)){pse.has(i)&&fe(274,{prop:i});continue}const o=t[i];e[i]!==o&&(n[i]=o)}return n}var vse=class extends loe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(ng(n,"reactiveCustomComponents")){const r=(l=>{switch(l){case"filter":return ng(n,"enableFilterHandlers")?Soe:boe;case"floatingFilterComponent":return ng(n,"enableFilterHandlers")?Eoe:xoe;case"dateComponent":return woe;case"dragAndDropImageComponent":return yoe;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return Coe;case"statusPanel":return Foe;case"toolPanel":return Poe;case"menuItem":return Doe;case"cellRenderer":return voe;case"innerHeaderComponent":return Toe}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":TS();break}const o=!t.cellRenderer&&t.name!=="toolPanel";return new QI(e,this.parent,t,o)}},Cse=w.forwardRef((e,t)=>{const n=w.useContext(ti),{registry:i,context:o,gos:s,rowModel:r}=n,[l,u]=w.useState(()=>new oo),[d,f]=w.useState(()=>new oo),[p,m]=w.useState(),[v,b]=w.useState(),S=w.useRef(),R=w.useRef(null),x=w.useRef(),T=w.useMemo(()=>lU(e.api.getGridId(),p?.rowModelType??"clientSide"),[e]),F=w.useMemo(()=>l.toString()+" ag-details-row",[l]),A=w.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&w.useImperativeHandle(t,()=>({refresh(){return S.current?.refresh()??!1}})),e.template&&fe(230);const M=w.useCallback(P=>{if(R.current=P,!P||o.isDestroyed()){S.current=o.destroyBean(S.current),x.current?.();return}const _={toggleCss:(V,z)=>u(K=>K.setClass(V,z)),toggleDetailGridCss:(V,z)=>f(K=>K.setClass(V,z)),setDetailGrid:V=>m(V),setRowData:V=>b(V),getGui:()=>R.current},L=i.createDynamicBean("detailCellRendererCtrl",!0);if(L&&(o.createBean(L),L.init(_,e),S.current=L,s.get("detailRowAutoHeight"))){const V=()=>{if(R.current==null)return;const z=R.current.clientHeight;z!=null&&z>0&&setTimeout(()=>{e.node.setRowHeight(z),(Cn(s)||Vc(s))&&r.onRowHeightChanged()},0)};x.current=Vs(n,P,V),V()}},[]),I=w.useCallback(P=>{S.current?.registerDetailWithMaster(P)},[]);return de.createElement("div",{className:F,ref:M},p&&de.createElement(nO,{className:A,...p,modules:T,rowData:v,passGridApi:I}))}),wse=class extends rI{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:z1,agGroupRowRenderer:z1,agDetailCellRenderer:Cse},this.wrapIncoming=(t,n)=>n==="ensureVisible"?doe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return uoe()}},iO=class extends w.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const t of this.apiListeners)t(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return de.createElement(nO,{...this.props,passGridApi:this.setGridApi})}};const yse=Ic("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ur(e){const t=Oe.c(10);let n,i,o;t[0]!==e?({className:n,variant:o,...i}=e,t[0]=e,t[1]=n,t[2]=i,t[3]=o):(n=t[1],i=t[2],o=t[3]);let s;t[4]!==n||t[5]!==o?(s=St(yse({variant:o}),n),t[4]=n,t[5]=o,t[6]=s):s=t[6];let r;return t[7]!==i||t[8]!==s?(r=E.jsx("div",{className:s,...i}),t[7]=i,t[8]=s,t[9]=r):r=t[9],r}const bse={"bg-gradient-to-r from-blue-600 via-red-500 to-yellow-500 text-transparent bg-clip-text":["google","zoho","ebay"],"bg-gradient-to-r from-orange-600 via-green-500 to-blue-600 text-transparent bg-clip-text":["microsoft","slack"],"bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500 text-transparent bg-clip-text":["instagram","canva","figma"],"bg-gradient-to-r from-cyan-600 via-slate-500 to-pink-500 text-transparent bg-clip-text":["tiktok","bytedance"],"text-red-600 dark:text-red-500":["adobe","airtel","bnp-paribas","broadcom","doordash","dream11","fortinet","hsbc","huawei","lg-electronics","makemytrip","mcafee","netflix","oracle","oyo","pinterest","quora","redbus","reddit","riot-games","target","tesla","wells-fargo","yelp","zomato","zynga","activision","careem","citi","cleartrip","databricks","jio","kotak-mahindra-bank","mcdonalds","nintendo","peloton","reliance","societe-generale","toyota","traveloka","virgin","vodafone","yatra","coca-cola"],"text-orange-600 dark:text-orange-400":["amazon","alibaba","blinkit","cloudflare","gojek","mastercard","postman","swiggy","shopee","yandex","agoda","aws","chegg","discover","etsy","flipkart","godaddy","hubspot","imdb","ing","kayak","mozilla","navi","orange","pwc","sprint","strava","ubuntu"],"text-green-600 dark:text-green-400":["acer","bp","grab","groupon","hulu","instacart","nvidia","robinhood","shopify","spotify","whatsapp","zepto","bcg","cashfree","cvent","deloitte","dunzo","duolingo","evernote","fiverr","ge-healthcare","glassdoor","hellofresh","hpe","lime","mongodb","ola","palantir","pubmatic","razer","schneider-electric","servicenow","starbucks","subway","tripadvisor","upwork","veeva"],"text-sky-500 dark:text-sky-400":["twitter","vimeo","skype","snowflake","dropbox","cloudera","palo-alto-networks","appdynamics","docker","epic-systems","freshworks","gartner","hashicorp","intercom","mixpanel","netapp","netsuite","okta","splunk","squarespace","twilio","uipath","zendesk","zscaler","zoom","paytm"],"text-indigo-600 dark:text-indigo-400":["discord","twitch","yahoo","stripe","accenture","github","gitlab","heroku","kraken","tcs","wayfair","zillow","mindtree","lti","epam-systems","wipro","infosys","cognizant"],"text-rose-600 dark:text-rose-400":["airbnb","lyft","nykaa","dribbble","poshmark","foodpanda","meesho","purplle","tinder"],"text-slate-800 dark:text-slate-200":["apple","uber","x","notion","square","block","palantir-technologies","roblox","epic-games","unity","valve","adidas","bbc","bmw","cbs","cnn","disney","ea","honda","ibm","intel","nike","panasonic","samsung","sony","wework","wikipedia","zara","blackrock"]},K1=["text-blue-600 dark:text-blue-400","text-indigo-600 dark:text-indigo-400","text-sky-600 dark:text-sky-400","text-violet-600 dark:text-violet-400","text-cyan-600 dark:text-cyan-400","text-slate-700 dark:text-slate-300"],Dy=new Map;Object.entries(bse).forEach(([e,t])=>{t.forEach(n=>{Dy.set(n.toLowerCase(),e)})});const zp=e=>{const t=e.toLowerCase().trim();if(Dy.has(t))return Dy.get(t)+" font-semibold";let n=0;for(let o=0;o<t.length;o++)n+=t.charCodeAt(o);return K1[n%K1.length]+" font-medium"};var lw=0;function Sse(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q1()),document.body.insertAdjacentElement("beforeend",e[1]??q1()),lw++,()=>{lw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lw--}},[])}function q1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var cw="focusScope.autoFocusOnMount",uw="focusScope.autoFocusOnUnmount",Y1={bubbles:!1,cancelable:!0},Rse="FocusScope",oO=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...r}=e,[l,u]=w.useState(null),d=en(o),f=en(s),p=w.useRef(null),m=Vt(t,S=>u(S)),v=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let S=function(F){if(v.paused||!l)return;const A=F.target;l.contains(A)?p.current=A:wr(p.current,{select:!0})},R=function(F){if(v.paused||!l)return;const A=F.relatedTarget;A!==null&&(l.contains(A)||wr(p.current,{select:!0}))},x=function(F){if(document.activeElement===document.body)for(const M of F)M.removedNodes.length>0&&wr(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",R);const T=new MutationObserver(x);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",R),T.disconnect()}}},[i,l,v.paused]),w.useEffect(()=>{if(l){Q1.add(v);const S=document.activeElement;if(!l.contains(S)){const x=new CustomEvent(cw,Y1);l.addEventListener(cw,d),l.dispatchEvent(x),x.defaultPrevented||(xse(Pse(sO(l)),{select:!0}),document.activeElement===S&&wr(l))}return()=>{l.removeEventListener(cw,d),setTimeout(()=>{const x=new CustomEvent(uw,Y1);l.addEventListener(uw,f),l.dispatchEvent(x),x.defaultPrevented||wr(S??document.body,{select:!0}),l.removeEventListener(uw,f),Q1.remove(v)},0)}}},[l,d,f,v]);const b=w.useCallback(S=>{if(!n&&!i||v.paused)return;const R=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,x=document.activeElement;if(R&&x){const T=S.currentTarget,[F,A]=Ese(T);F&&A?!S.shiftKey&&x===A?(S.preventDefault(),n&&wr(F,{select:!0})):S.shiftKey&&x===F&&(S.preventDefault(),n&&wr(A,{select:!0})):x===T&&S.preventDefault()}},[n,i,v.paused]);return E.jsx(gt.div,{tabIndex:-1,...r,ref:m,onKeyDown:b})});oO.displayName=Rse;function xse(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(wr(i,{select:t}),document.activeElement!==n)return}function Ese(e){const t=sO(e),n=X1(t,e),i=X1(t.reverse(),e);return[n,i]}function sO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function X1(e,t){for(const n of e)if(!Tse(n,{upTo:t}))return n}function Tse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dse(e){return e instanceof HTMLInputElement&&"select"in e}function wr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Dse(e)&&t&&e.select()}}var Q1=Fse();function Fse(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Z1(e,t),e.unshift(t)},remove(t){e=Z1(e,t),e[0]?.resume()}}}function Z1(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function Pse(e){return e.filter(t=>t.tagName!=="A")}var dw="rovingFocusGroup.onEntryFocus",Ase={bubbles:!1,cancelable:!0},th="RovingFocusGroup",[Fy,rO,Mse]=Sp(th),[kse,Wp]=Bs(th,[Mse]),[Ise,Ose]=kse(th),aO=w.forwardRef((e,t)=>E.jsx(Fy.Provider,{scope:e.__scopeRovingFocusGroup,children:E.jsx(Fy.Slot,{scope:e.__scopeRovingFocusGroup,children:E.jsx(_se,{...e,ref:t})})}));aO.displayName=th;var _se=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:s,currentTabStopId:r,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...p}=e,m=w.useRef(null),v=Vt(t,m),b=jd(s),[S,R]=Hr({prop:r,defaultProp:l??null,onChange:u,caller:th}),[x,T]=w.useState(!1),F=en(d),A=rO(n),M=w.useRef(!1),[I,P]=w.useState(0);return w.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(dw,F),()=>_.removeEventListener(dw,F)},[F]),E.jsx(Ise,{scope:n,orientation:i,dir:b,loop:o,currentTabStopId:S,onItemFocus:w.useCallback(_=>R(_),[R]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(_=>_+1),[]),onFocusableItemRemove:w.useCallback(()=>P(_=>_-1),[]),children:E.jsx(gt.div,{tabIndex:x||I===0?-1:0,"data-orientation":i,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{M.current=!0}),onFocus:Ae(e.onFocus,_=>{const L=!M.current;if(_.target===_.currentTarget&&L&&!x){const V=new CustomEvent(dw,Ase);if(_.currentTarget.dispatchEvent(V),!V.defaultPrevented){const z=A().filter(N=>N.focusable),K=z.find(N=>N.active),se=z.find(N=>N.id===S),J=[K,se,...z].filter(Boolean).map(N=>N.ref.current);uO(J,f)}}M.current=!1}),onBlur:Ae(e.onBlur,()=>T(!1))})})}),lO="RovingFocusGroupItem",cO=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:s,children:r,...l}=e,u=yc(),d=s||u,f=Ose(lO,n),p=f.currentTabStopId===d,m=rO(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:S}=f;return w.useEffect(()=>{if(i)return v(),()=>b()},[i,v,b]),E.jsx(Fy.ItemSlot,{scope:n,id:d,focusable:i,active:o,children:E.jsx(gt.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ae(e.onMouseDown,R=>{i?f.onItemFocus(d):R.preventDefault()}),onFocus:Ae(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ae(e.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){f.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const x=Hse(R,f.orientation,f.dir);if(x!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let F=m().filter(A=>A.focusable).map(A=>A.ref.current);if(x==="last")F.reverse();else if(x==="prev"||x==="next"){x==="prev"&&F.reverse();const A=F.indexOf(R.currentTarget);F=f.loop?Gse(F,A+1):F.slice(A+1)}setTimeout(()=>uO(F))}}),children:typeof r=="function"?r({isCurrentTabStop:p,hasTabStop:S!=null}):r})})});cO.displayName=lO;var Lse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Hse(e,t,n){const i=Nse(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Lse[i]}function uO(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function Gse(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var dO=aO,hO=cO;function Bse(e){const t=Vse(e),n=w.forwardRef((i,o)=>{const{children:s,...r}=i,l=w.Children.toArray(s),u=l.find(Wse);if(u){const d=u.props.children,f=l.map(p=>p===u?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:p);return E.jsx(t,{...r,ref:o,children:w.isValidElement(d)?w.cloneElement(d,void 0,f):null})}return E.jsx(t,{...r,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function Vse(e){const t=w.forwardRef((n,i)=>{const{children:o,...s}=n;if(w.isValidElement(o)){const r=jse(o),l=Use(s,o.props);return o.type!==w.Fragment&&(l.ref=i?Nr(i,r):r),w.cloneElement(o,l)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zse=Symbol("radix.slottable");function Wse(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zse}function Use(e,t){const n={...t};for(const i in t){const o=e[i],s=t[i];/^on[A-Z]/.test(i)?o&&s?n[i]=(...l)=>{const u=s(...l);return o(...l),u}:o&&(n[i]=o):i==="style"?n[i]={...o,...s}:i==="className"&&(n[i]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function jse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $se=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wl=new WeakMap,Wf=new WeakMap,Uf={},hw=0,fO=function(e){return e&&(e.host||fO(e.parentNode))},Kse=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=fO(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qse=function(e,t,n,i){var o=Kse(t,Array.isArray(e)?e:[e]);Uf[n]||(Uf[n]=new WeakMap);var s=Uf[n],r=[],l=new Set,u=new Set(o),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};o.forEach(d);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(m){if(l.has(m))f(m);else try{var v=m.getAttribute(i),b=v!==null&&v!=="false",S=(Wl.get(m)||0)+1,R=(s.get(m)||0)+1;Wl.set(m,S),s.set(m,R),r.push(m),S===1&&b&&Wf.set(m,!0),R===1&&m.setAttribute(n,"true"),b||m.setAttribute(i,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return f(t),l.clear(),hw++,function(){r.forEach(function(p){var m=Wl.get(p)-1,v=s.get(p)-1;Wl.set(p,m),s.set(p,v),m||(Wf.has(p)||p.removeAttribute(i),Wf.delete(p)),v||p.removeAttribute(n)}),hw--,hw||(Wl=new WeakMap,Wl=new WeakMap,Wf=new WeakMap,Uf={})}},Yse=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=$se(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),qse(i,o,n,"aria-hidden")):function(){return null}},fg="right-scroll-bar-position",gg="width-before-scroll-bar",Xse="with-scroll-bars-hidden",Qse="--removed-body-scroll-bar-size";function fw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Zse(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=t,n.facade}var Jse=typeof window<"u"?w.useLayoutEffect:w.useEffect,J1=new WeakMap;function ere(e,t){var n=Zse(null,function(i){return e.forEach(function(o){return fw(o,i)})});return Jse(function(){var i=J1.get(n);if(i){var o=new Set(i),s=new Set(e),r=n.current;o.forEach(function(l){s.has(l)||fw(l,null)}),s.forEach(function(l){o.has(l)||fw(l,r)})}J1.set(n,e)},[e]),n}function tre(e){return e}function nre(e,t){t===void 0&&(t=tre);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var r=t(s,i);return n.push(r),function(){n=n.filter(function(l){return l!==r})}},assignSyncMedium:function(s){for(i=!0;n.length;){var r=n;n=[],r.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){i=!0;var r=[];if(n.length){var l=n;n=[],l.forEach(s),r=n}var u=function(){var f=r;r=[],f.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){r.push(f),d()},filter:function(f){return r=r.filter(f),n}}}};return o}function ire(e){e===void 0&&(e={});var t=nre(null);return t.options=Wo({async:!0,ssr:!1},e),t}var gO=function(e){var t=e.sideCar,n=Lc(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,Wo({},n))};gO.isSideCarExport=!0;function ore(e,t){return e.useMedium(t),gO}var pO=ire(),gw=function(){},Up=w.forwardRef(function(e,t){var n=w.useRef(null),i=w.useState({onScrollCapture:gw,onWheelCapture:gw,onTouchMoveCapture:gw}),o=i[0],s=i[1],r=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,p=e.shards,m=e.sideCar,v=e.noRelative,b=e.noIsolation,S=e.inert,R=e.allowPinchZoom,x=e.as,T=x===void 0?"div":x,F=e.gapMode,A=Lc(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,I=ere([n,t]),P=Wo(Wo({},A),o);return w.createElement(w.Fragment,null,f&&w.createElement(M,{sideCar:pO,removeScrollBar:d,shards:p,noRelative:v,noIsolation:b,inert:S,setCallbacks:s,allowPinchZoom:!!R,lockRef:n,gapMode:F}),r?w.cloneElement(w.Children.only(l),Wo(Wo({},P),{ref:I})):w.createElement(T,Wo({},P,{className:u,ref:I}),l))});Up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Up.classNames={fullWidth:gg,zeroRight:fg};var sre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sre();return t&&e.setAttribute("nonce",t),e}function are(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cre=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rre())&&(are(t,n),lre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ure=function(){var e=cre();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},mO=function(){var e=ure(),t=function(n){var i=n.styles,o=n.dynamic;return e(i,o),null};return t},dre={left:0,top:0,right:0,gap:0},pw=function(e){return parseInt(e||"",10)||0},hre=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[pw(n),pw(i),pw(o)]},fre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dre;var t=hre(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},gre=mO(),wc="data-scroll-locked",pre=function(e,t,n,i){var o=e.left,s=e.top,r=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xse,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(wc,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fg,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(gg,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(fg," .").concat(fg,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(gg," .").concat(gg,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(wc,`] {
    `).concat(Qse,": ").concat(l,`px;
  }
`)},eF=function(){var e=parseInt(document.body.getAttribute(wc)||"0",10);return isFinite(e)?e:0},mre=function(){w.useEffect(function(){return document.body.setAttribute(wc,(eF()+1).toString()),function(){var e=eF()-1;e<=0?document.body.removeAttribute(wc):document.body.setAttribute(wc,e.toString())}},[])},vre=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;mre();var s=w.useMemo(function(){return fre(o)},[o]);return w.createElement(gre,{styles:pre(s,!t,o,n?"":"!important")})},Py=!1;if(typeof window<"u")try{var jf=Object.defineProperty({},"passive",{get:function(){return Py=!0,!0}});window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Py=!1}var Ul=Py?{passive:!1}:!1,Cre=function(e){return e.tagName==="TEXTAREA"},vO=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Cre(e)&&n[t]==="visible")},wre=function(e){return vO(e,"overflowY")},yre=function(e){return vO(e,"overflowX")},tF=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=CO(e,i);if(o){var s=wO(e,i),r=s[1],l=s[2];if(r>l)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},bre=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},Sre=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},CO=function(e,t){return e==="v"?wre(t):yre(t)},wO=function(e,t){return e==="v"?bre(t):Sre(t)},Rre=function(e,t){return e==="h"&&t==="rtl"?-1:1},xre=function(e,t,n,i,o){var s=Rre(e,window.getComputedStyle(t).direction),r=s*i,l=n.target,u=t.contains(l),d=!1,f=r>0,p=0,m=0;do{if(!l)break;var v=wO(e,l),b=v[0],S=v[1],R=v[2],x=S-R-s*b;(b||x)&&CO(e,l)&&(p+=x,m+=b);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(d=!0),d},$f=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nF=function(e){return[e.deltaX,e.deltaY]},iF=function(e){return e&&"current"in e?e.current:e},Ere=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Tre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Dre=0,jl=[];function Fre(e){var t=w.useRef([]),n=w.useRef([0,0]),i=w.useRef(),o=w.useState(Dre++)[0],s=w.useState(mO)[0],r=w.useRef(e);w.useEffect(function(){r.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=wV([e.lockRef.current],(e.shards||[]).map(iF),!0).filter(Boolean);return S.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(S,R){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!r.current.allowPinchZoom;var x=$f(S),T=n.current,F="deltaX"in S?S.deltaX:T[0]-x[0],A="deltaY"in S?S.deltaY:T[1]-x[1],M,I=S.target,P=Math.abs(F)>Math.abs(A)?"h":"v";if("touches"in S&&P==="h"&&I.type==="range")return!1;var _=window.getSelection(),L=_&&_.anchorNode,V=L?L===I||L.contains(I):!1;if(V)return!1;var z=tF(P,I);if(!z)return!0;if(z?M=P:(M=P==="v"?"h":"v",z=tF(P,I)),!z)return!1;if(!i.current&&"changedTouches"in S&&(F||A)&&(i.current=M),!M)return!0;var K=i.current||M;return xre(K,R,S,K==="h"?F:A)},[]),u=w.useCallback(function(S){var R=S;if(!(!jl.length||jl[jl.length-1]!==s)){var x="deltaY"in R?nF(R):$f(R),T=t.current.filter(function(M){return M.name===R.type&&(M.target===R.target||R.target===M.shadowParent)&&Ere(M.delta,x)})[0];if(T&&T.should){R.cancelable&&R.preventDefault();return}if(!T){var F=(r.current.shards||[]).map(iF).filter(Boolean).filter(function(M){return M.contains(R.target)}),A=F.length>0?l(R,F[0]):!r.current.noIsolation;A&&R.cancelable&&R.preventDefault()}}},[]),d=w.useCallback(function(S,R,x,T){var F={name:S,delta:R,target:x,should:T,shadowParent:Pre(x)};t.current.push(F),setTimeout(function(){t.current=t.current.filter(function(A){return A!==F})},1)},[]),f=w.useCallback(function(S){n.current=$f(S),i.current=void 0},[]),p=w.useCallback(function(S){d(S.type,nF(S),S.target,l(S,e.lockRef.current))},[]),m=w.useCallback(function(S){d(S.type,$f(S),S.target,l(S,e.lockRef.current))},[]);w.useEffect(function(){return jl.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Ul),document.addEventListener("touchmove",u,Ul),document.addEventListener("touchstart",f,Ul),function(){jl=jl.filter(function(S){return S!==s}),document.removeEventListener("wheel",u,Ul),document.removeEventListener("touchmove",u,Ul),document.removeEventListener("touchstart",f,Ul)}},[]);var v=e.removeScrollBar,b=e.inert;return w.createElement(w.Fragment,null,b?w.createElement(s,{styles:Tre(o)}):null,v?w.createElement(vre,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Pre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Are=ore(pO,Fre);var yO=w.forwardRef(function(e,t){return w.createElement(Up,Wo({},e,{ref:t,sideCar:Are}))});yO.classNames=Up.classNames;var Ay=["Enter"," "],Mre=["ArrowDown","PageUp","Home"],bO=["ArrowUp","PageDown","End"],kre=[...Mre,...bO],Ire={ltr:[...Ay,"ArrowRight"],rtl:[...Ay,"ArrowLeft"]},Ore={ltr:["ArrowLeft"],rtl:["ArrowRight"]},nh="Menu",[Od,_re,Lre]=Sp(nh),[Qa,SO]=Bs(nh,[Lre,wp,Wp]),jp=wp(),RO=Wp(),[Nre,Za]=Qa(nh),[Hre,ih]=Qa(nh),xO=e=>{const{__scopeMenu:t,open:n=!1,children:i,dir:o,onOpenChange:s,modal:r=!0}=e,l=jp(t),[u,d]=w.useState(null),f=w.useRef(!1),p=en(s),m=jd(o);return w.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),E.jsx(QP,{...l,children:E.jsx(Nre,{scope:t,open:n,onOpenChange:p,content:u,onContentChange:d,children:E.jsx(Hre,{scope:t,onClose:w.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:r,children:i})})})};xO.displayName=nh;var Gre="MenuAnchor",DS=w.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,o=jp(n);return E.jsx(ZP,{...o,...i,ref:t})});DS.displayName=Gre;var FS="MenuPortal",[Bre,EO]=Qa(FS,{forceMount:void 0}),TO=e=>{const{__scopeMenu:t,forceMount:n,children:i,container:o}=e,s=Za(FS,t);return E.jsx(Bre,{scope:t,forceMount:n,children:E.jsx(li,{present:n||s.open,children:E.jsx(sb,{asChild:!0,container:o,children:i})})})};TO.displayName=FS;var so="MenuContent",[Vre,PS]=Qa(so),DO=w.forwardRef((e,t)=>{const n=EO(so,e.__scopeMenu),{forceMount:i=n.forceMount,...o}=e,s=Za(so,e.__scopeMenu),r=ih(so,e.__scopeMenu);return E.jsx(Od.Provider,{scope:e.__scopeMenu,children:E.jsx(li,{present:i||s.open,children:E.jsx(Od.Slot,{scope:e.__scopeMenu,children:r.modal?E.jsx(zre,{...o,ref:t}):E.jsx(Wre,{...o,ref:t})})})})}),zre=w.forwardRef((e,t)=>{const n=Za(so,e.__scopeMenu),i=w.useRef(null),o=Vt(t,i);return w.useEffect(()=>{const s=i.current;if(s)return Yse(s)},[]),E.jsx(AS,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Wre=w.forwardRef((e,t)=>{const n=Za(so,e.__scopeMenu);return E.jsx(AS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ure=Bse("MenuContent.ScrollLock"),AS=w.forwardRef((e,t)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:r,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:v,disableOutsideScroll:b,...S}=e,R=Za(so,n),x=ih(so,n),T=jp(n),F=RO(n),A=_re(n),[M,I]=w.useState(null),P=w.useRef(null),_=Vt(t,P,R.onContentChange),L=w.useRef(0),V=w.useRef(""),z=w.useRef(0),K=w.useRef(null),se=w.useRef("right"),he=w.useRef(0),J=b?yO:w.Fragment,N=b?{as:Ure,allowPinchZoom:!0}:void 0,q=ee=>{const oe=V.current+ee,O=A().filter(pe=>!pe.disabled),U=document.activeElement,Q=O.find(pe=>pe.ref.current===U)?.textValue,ae=O.map(pe=>pe.textValue),ve=nae(ae,oe,Q),Se=O.find(pe=>pe.textValue===ve)?.ref.current;(function pe(Ke){V.current=Ke,window.clearTimeout(L.current),Ke!==""&&(L.current=window.setTimeout(()=>pe(""),1e3))})(oe),Se&&setTimeout(()=>Se.focus())};w.useEffect(()=>()=>window.clearTimeout(L.current),[]),Sse();const G=w.useCallback(ee=>se.current===K.current?.side&&oae(ee,K.current?.area),[]);return E.jsx(Vre,{scope:n,searchRef:V,onItemEnter:w.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),onItemLeave:w.useCallback(ee=>{G(ee)||(P.current?.focus(),I(null))},[G]),onTriggerLeave:w.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),pointerGraceTimerRef:z,onPointerGraceIntentChange:w.useCallback(ee=>{K.current=ee},[]),children:E.jsx(J,{...N,children:E.jsx(oO,{asChild:!0,trapped:o,onMountAutoFocus:Ae(s,ee=>{ee.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:r,children:E.jsx(gp,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:v,children:E.jsx(dO,{asChild:!0,...F,dir:x.dir,orientation:"vertical",loop:i,currentTabStopId:M,onCurrentTabStopIdChange:I,onEntryFocus:Ae(u,ee=>{x.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(JP,{role:"menu","aria-orientation":"vertical","data-state":WO(R.open),"data-radix-menu-content":"",dir:x.dir,...T,...S,ref:_,style:{outline:"none",...S.style},onKeyDown:Ae(S.onKeyDown,ee=>{const O=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,U=ee.ctrlKey||ee.altKey||ee.metaKey,Q=ee.key.length===1;O&&(ee.key==="Tab"&&ee.preventDefault(),!U&&Q&&q(ee.key));const ae=P.current;if(ee.target!==ae||!kre.includes(ee.key))return;ee.preventDefault();const Se=A().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);bO.includes(ee.key)&&Se.reverse(),eae(Se)}),onBlur:Ae(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(L.current),V.current="")}),onPointerMove:Ae(e.onPointerMove,_d(ee=>{const oe=ee.target,O=he.current!==ee.clientX;if(ee.currentTarget.contains(oe)&&O){const U=ee.clientX>he.current?"right":"left";se.current=U,he.current=ee.clientX}}))})})})})})})});DO.displayName=so;var jre="MenuGroup",MS=w.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return E.jsx(gt.div,{role:"group",...i,ref:t})});MS.displayName=jre;var $re="MenuLabel",FO=w.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return E.jsx(gt.div,{...i,ref:t})});FO.displayName=$re;var tp="MenuItem",oF="menu.itemSelect",$p=w.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:i,...o}=e,s=w.useRef(null),r=ih(tp,e.__scopeMenu),l=PS(tp,e.__scopeMenu),u=Vt(t,s),d=w.useRef(!1),f=()=>{const p=s.current;if(!n&&p){const m=new CustomEvent(oF,{bubbles:!0,cancelable:!0});p.addEventListener(oF,v=>i?.(v),{once:!0}),bg(p,m),m.defaultPrevented?d.current=!1:r.onClose()}};return E.jsx(PO,{...o,ref:u,disabled:n,onClick:Ae(e.onClick,f),onPointerDown:p=>{e.onPointerDown?.(p),d.current=!0},onPointerUp:Ae(e.onPointerUp,p=>{d.current||p.currentTarget?.click()}),onKeyDown:Ae(e.onKeyDown,p=>{const m=l.searchRef.current!=="";n||m&&p.key===" "||Ay.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});$p.displayName=tp;var PO=w.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:i=!1,textValue:o,...s}=e,r=PS(tp,n),l=RO(n),u=w.useRef(null),d=Vt(t,u),[f,p]=w.useState(!1),[m,v]=w.useState("");return w.useEffect(()=>{const b=u.current;b&&v((b.textContent??"").trim())},[s.children]),E.jsx(Od.ItemSlot,{scope:n,disabled:i,textValue:o??m,children:E.jsx(hO,{asChild:!0,...l,focusable:!i,children:E.jsx(gt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:d,onPointerMove:Ae(e.onPointerMove,_d(b=>{i?r.onItemLeave(b):(r.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,_d(b=>r.onItemLeave(b))),onFocus:Ae(e.onFocus,()=>p(!0)),onBlur:Ae(e.onBlur,()=>p(!1))})})})}),Kre="MenuCheckboxItem",AO=w.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:i,...o}=e;return E.jsx(_O,{scope:e.__scopeMenu,checked:n,children:E.jsx($p,{role:"menuitemcheckbox","aria-checked":np(n)?"mixed":n,...o,ref:t,"data-state":IS(n),onSelect:Ae(o.onSelect,()=>i?.(np(n)?!0:!n),{checkForDefaultPrevented:!1})})})});AO.displayName=Kre;var MO="MenuRadioGroup",[qre,Yre]=Qa(MO,{value:void 0,onValueChange:()=>{}}),kO=w.forwardRef((e,t)=>{const{value:n,onValueChange:i,...o}=e,s=en(i);return E.jsx(qre,{scope:e.__scopeMenu,value:n,onValueChange:s,children:E.jsx(MS,{...o,ref:t})})});kO.displayName=MO;var IO="MenuRadioItem",OO=w.forwardRef((e,t)=>{const{value:n,...i}=e,o=Yre(IO,e.__scopeMenu),s=n===o.value;return E.jsx(_O,{scope:e.__scopeMenu,checked:s,children:E.jsx($p,{role:"menuitemradio","aria-checked":s,...i,ref:t,"data-state":IS(s),onSelect:Ae(i.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});OO.displayName=IO;var kS="MenuItemIndicator",[_O,Xre]=Qa(kS,{checked:!1}),LO=w.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:i,...o}=e,s=Xre(kS,n);return E.jsx(li,{present:i||np(s.checked)||s.checked===!0,children:E.jsx(gt.span,{...o,ref:t,"data-state":IS(s.checked)})})});LO.displayName=kS;var Qre="MenuSeparator",NO=w.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e;return E.jsx(gt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});NO.displayName=Qre;var Zre="MenuArrow",HO=w.forwardRef((e,t)=>{const{__scopeMenu:n,...i}=e,o=jp(n);return E.jsx(eA,{...o,...i,ref:t})});HO.displayName=Zre;var Jre="MenuSub",[Bce,GO]=Qa(Jre),Xu="MenuSubTrigger",BO=w.forwardRef((e,t)=>{const n=Za(Xu,e.__scopeMenu),i=ih(Xu,e.__scopeMenu),o=GO(Xu,e.__scopeMenu),s=PS(Xu,e.__scopeMenu),r=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:e.__scopeMenu},f=w.useCallback(()=>{r.current&&window.clearTimeout(r.current),r.current=null},[]);return w.useEffect(()=>f,[f]),w.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),u(null)}},[l,u]),E.jsx(DS,{asChild:!0,...d,children:E.jsx(PO,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":WO(n.open),...e,ref:Nr(t,o.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,_d(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!r.current&&(s.onPointerGraceIntentChange(null),r.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ae(e.onPointerLeave,_d(p=>{f();const m=n.content?.getBoundingClientRect();if(m){const v=n.content?.dataset.side,b=v==="right",S=b?-5:5,R=m[b?"left":"right"],x=m[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+S,y:p.clientY},{x:R,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:R,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,p=>{const m=s.searchRef.current!=="";e.disabled||m&&p.key===" "||Ire[i.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});BO.displayName=Xu;var VO="MenuSubContent",zO=w.forwardRef((e,t)=>{const n=EO(so,e.__scopeMenu),{forceMount:i=n.forceMount,...o}=e,s=Za(so,e.__scopeMenu),r=ih(so,e.__scopeMenu),l=GO(VO,e.__scopeMenu),u=w.useRef(null),d=Vt(t,u);return E.jsx(Od.Provider,{scope:e.__scopeMenu,children:E.jsx(li,{present:i||s.open,children:E.jsx(Od.Slot,{scope:e.__scopeMenu,children:E.jsx(AS,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:d,align:"start",side:r.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{r.isUsingKeyboardRef.current&&u.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,f=>{r.onClose(),f.preventDefault()}),onKeyDown:Ae(e.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),m=Ore[r.dir].includes(f.key);p&&m&&(s.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});zO.displayName=VO;function WO(e){return e?"open":"closed"}function np(e){return e==="indeterminate"}function IS(e){return np(e)?"indeterminate":e?"checked":"unchecked"}function eae(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function tae(e,t){return e.map((n,i)=>e[(t+i)%e.length])}function nae(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let r=tae(e,Math.max(s,0));o.length===1&&(r=r.filter(d=>d!==n));const u=r.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return u!==n?u:void 0}function iae(e,t){const{x:n,y:i}=e;let o=!1;for(let s=0,r=t.length-1;s<t.length;r=s++){const l=t[s],u=t[r],d=l.x,f=l.y,p=u.x,m=u.y;f>i!=m>i&&n<(p-d)*(i-f)/(m-f)+d&&(o=!o)}return o}function oae(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return iae(n,t)}function _d(e){return t=>t.pointerType==="mouse"?e(t):void 0}var sae=xO,rae=DS,aae=TO,lae=DO,cae=MS,uae=FO,dae=$p,hae=AO,fae=kO,gae=OO,pae=LO,mae=NO,vae=HO,Cae=BO,wae=zO,Kp="DropdownMenu",[yae]=Bs(Kp,[SO]),ui=SO(),[bae,UO]=yae(Kp),jO=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:o,defaultOpen:s,onOpenChange:r,modal:l=!0}=e,u=ui(t),d=w.useRef(null),[f,p]=Hr({prop:o,defaultProp:s??!1,onChange:r,caller:Kp});return E.jsx(bae,{scope:t,triggerId:yc(),triggerRef:d,contentId:yc(),open:f,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(m=>!m),[p]),modal:l,children:E.jsx(sae,{...u,open:f,onOpenChange:p,dir:i,modal:l,children:n})})};jO.displayName=Kp;var $O="DropdownMenuTrigger",KO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...o}=e,s=UO($O,n),r=ui(n);return E.jsx(rae,{asChild:!0,...r,children:E.jsx(gt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...o,ref:Nr(t,s.triggerRef),onPointerDown:Ae(e.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ae(e.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});KO.displayName=$O;var Sae="DropdownMenuPortal",qO=e=>{const{__scopeDropdownMenu:t,...n}=e,i=ui(t);return E.jsx(aae,{...i,...n})};qO.displayName=Sae;var YO="DropdownMenuContent",XO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=UO(YO,n),s=ui(n),r=w.useRef(!1);return E.jsx(lae,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...i,ref:t,onCloseAutoFocus:Ae(e.onCloseAutoFocus,l=>{r.current||o.triggerRef.current?.focus(),r.current=!1,l.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!o.modal||f)&&(r.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XO.displayName=YO;var Rae="DropdownMenuGroup",xae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(cae,{...o,...i,ref:t})});xae.displayName=Rae;var Eae="DropdownMenuLabel",QO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(uae,{...o,...i,ref:t})});QO.displayName=Eae;var Tae="DropdownMenuItem",ZO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(dae,{...o,...i,ref:t})});ZO.displayName=Tae;var Dae="DropdownMenuCheckboxItem",JO=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(hae,{...o,...i,ref:t})});JO.displayName=Dae;var Fae="DropdownMenuRadioGroup",Pae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(fae,{...o,...i,ref:t})});Pae.displayName=Fae;var Aae="DropdownMenuRadioItem",e_=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(gae,{...o,...i,ref:t})});e_.displayName=Aae;var Mae="DropdownMenuItemIndicator",t_=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(pae,{...o,...i,ref:t})});t_.displayName=Mae;var kae="DropdownMenuSeparator",n_=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(mae,{...o,...i,ref:t})});n_.displayName=kae;var Iae="DropdownMenuArrow",Oae=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(vae,{...o,...i,ref:t})});Oae.displayName=Iae;var _ae="DropdownMenuSubTrigger",i_=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(Cae,{...o,...i,ref:t})});i_.displayName=_ae;var Lae="DropdownMenuSubContent",o_=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,o=ui(n);return E.jsx(wae,{...o,...i,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o_.displayName=Lae;var Nae=jO,Hae=KO,Gae=qO,s_=XO,r_=QO,a_=ZO,l_=JO,c_=e_,u_=t_,d_=n_,h_=i_,f_=o_;const Bae=Nae,Vae=Hae,zae=w.forwardRef((e,t)=>{const n=Oe.c(14);let i,o,s,r;n[0]!==e?({className:o,inset:s,children:i,...r}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r):(i=n[1],o=n[2],s=n[3],r=n[4]);const l=s&&"pl-8";let u;n[5]!==o||n[6]!==l?(u=St("focus:bg-accent data-[state=open]:bg-accent flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none select-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l,o),n[5]=o,n[6]=l,n[7]=u):u=n[7];let d;n[8]===Symbol.for("react.memo_cache_sentinel")?(d=E.jsx($G,{className:"ml-auto"}),n[8]=d):d=n[8];let f;return n[9]!==i||n[10]!==r||n[11]!==t||n[12]!==u?(f=E.jsxs(h_,{ref:t,className:u,...r,children:[i,d]}),n[9]=i,n[10]=r,n[11]=t,n[12]=u,n[13]=f):f=n[13],f});zae.displayName=h_.displayName;const Wae=w.forwardRef((e,t)=>{const n=Oe.c(9);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]!==i?(s=St("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-[--radix-dropdown-menu-content-transform-origin] overflow-hidden rounded-md border p-1 shadow-lg",i),n[3]=i,n[4]=s):s=n[4];let r;return n[5]!==o||n[6]!==t||n[7]!==s?(r=E.jsx(f_,{ref:t,className:s,...o}),n[5]=o,n[6]=t,n[7]=s,n[8]=r):r=n[8],r});Wae.displayName=f_.displayName;const g_=w.forwardRef((e,t)=>{const n=Oe.c(11);let i,o,s;n[0]!==e?({className:i,sideOffset:s,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);const r=s===void 0?4:s;let l;n[4]!==i?(l=St("bg-popover text-popover-foreground z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",i),n[4]=i,n[5]=l):l=n[5];let u;return n[6]!==o||n[7]!==t||n[8]!==r||n[9]!==l?(u=E.jsx(Gae,{children:E.jsx(s_,{ref:t,sideOffset:r,className:l,...o})}),n[6]=o,n[7]=t,n[8]=r,n[9]=l,n[10]=u):u=n[10],u});g_.displayName=s_.displayName;const Uae=w.forwardRef((e,t)=>{const n=Oe.c(11);let i,o,s;n[0]!==e?({className:i,inset:o,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);const r=o&&"pl-8";let l;n[4]!==i||n[5]!==r?(l=St("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm transition-colors outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r,i),n[4]=i,n[5]=r,n[6]=l):l=n[6];let u;return n[7]!==s||n[8]!==t||n[9]!==l?(u=E.jsx(a_,{ref:t,className:l,...s}),n[7]=s,n[8]=t,n[9]=l,n[10]=u):u=n[10],u});Uae.displayName=a_.displayName;const p_=w.forwardRef((e,t)=>{const n=Oe.c(14);let i,o,s,r;n[0]!==e?({className:s,children:o,checked:i,...r}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r):(i=n[1],o=n[2],s=n[3],r=n[4]);let l;n[5]!==s?(l=St("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm transition-colors outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),n[5]=s,n[6]=l):l=n[6];let u;n[7]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(u_,{children:E.jsx(WG,{className:"h-4 w-4"})})}),n[7]=u):u=n[7];let d;return n[8]!==i||n[9]!==o||n[10]!==r||n[11]!==t||n[12]!==l?(d=E.jsxs(l_,{ref:t,className:l,checked:i,...r,children:[u,o]}),n[8]=i,n[9]=o,n[10]=r,n[11]=t,n[12]=l,n[13]=d):d=n[13],d});p_.displayName=l_.displayName;const jae=w.forwardRef((e,t)=>{const n=Oe.c(12);let i,o,s;n[0]!==e?({className:o,children:i,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);let r;n[4]!==o?(r=St("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center rounded-sm py-1.5 pr-2 pl-8 text-sm transition-colors outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),n[4]=o,n[5]=r):r=n[5];let l;n[6]===Symbol.for("react.memo_cache_sentinel")?(l=E.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:E.jsx(u_,{children:E.jsx(YG,{className:"h-2 w-2 fill-current"})})}),n[6]=l):l=n[6];let u;return n[7]!==i||n[8]!==s||n[9]!==t||n[10]!==r?(u=E.jsxs(c_,{ref:t,className:r,...s,children:[l,i]}),n[7]=i,n[8]=s,n[9]=t,n[10]=r,n[11]=u):u=n[11],u});jae.displayName=c_.displayName;const m_=w.forwardRef((e,t)=>{const n=Oe.c(11);let i,o,s;n[0]!==e?({className:i,inset:o,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);const r=o&&"pl-8";let l;n[4]!==i||n[5]!==r?(l=St("px-2 py-1.5 text-sm font-semibold",r,i),n[4]=i,n[5]=r,n[6]=l):l=n[6];let u;return n[7]!==s||n[8]!==t||n[9]!==l?(u=E.jsx(r_,{ref:t,className:l,...s}),n[7]=s,n[8]=t,n[9]=l,n[10]=u):u=n[10],u});m_.displayName=r_.displayName;const My=w.forwardRef((e,t)=>{const n=Oe.c(9);let i,o;n[0]!==e?({className:i,...o}=e,n[0]=e,n[1]=i,n[2]=o):(i=n[1],o=n[2]);let s;n[3]!==i?(s=St("bg-muted -mx-1 my-1 h-px",i),n[3]=i,n[4]=s):s=n[4];let r;return n[5]!==o||n[6]!==t||n[7]!==s?(r=E.jsx(d_,{ref:t,className:s,...o}),n[5]=o,n[6]=t,n[7]=s,n[8]=r):r=n[8],r});My.displayName=d_.displayName;function $ae(e,[t,n]){return Math.min(n,Math.max(t,e))}function Kae(e,t){return w.useReducer((n,i)=>t[n][i]??n,e)}var OS="ScrollArea",[v_]=Bs(OS),[qae,fo]=v_(OS),C_=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:o,scrollHideDelay:s=600,...r}=e,[l,u]=w.useState(null),[d,f]=w.useState(null),[p,m]=w.useState(null),[v,b]=w.useState(null),[S,R]=w.useState(null),[x,T]=w.useState(0),[F,A]=w.useState(0),[M,I]=w.useState(!1),[P,_]=w.useState(!1),L=Vt(t,z=>u(z)),V=jd(o);return E.jsx(qae,{scope:n,type:i,dir:V,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:f,content:p,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:M,onScrollbarXEnabledChange:I,scrollbarY:S,onScrollbarYChange:R,scrollbarYEnabled:P,onScrollbarYEnabledChange:_,onCornerWidthChange:T,onCornerHeightChange:A,children:E.jsx(gt.div,{dir:V,...r,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":F+"px",...e.style}})})});C_.displayName=OS;var w_="ScrollAreaViewport",y_=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:o,...s}=e,r=fo(w_,n),l=w.useRef(null),u=Vt(t,l,r.onViewportChange);return E.jsxs(E.Fragment,{children:[E.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),E.jsx(gt.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:r.scrollbarXEnabled?"scroll":"hidden",overflowY:r.scrollbarYEnabled?"scroll":"hidden",...e.style},children:E.jsx("div",{ref:r.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});y_.displayName=w_;var os="ScrollAreaScrollbar",_S=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=fo(os,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:r}=o,l=e.orientation==="horizontal";return w.useEffect(()=>(l?s(!0):r(!0),()=>{l?s(!1):r(!1)}),[l,s,r]),o.type==="hover"?E.jsx(Yae,{...i,ref:t,forceMount:n}):o.type==="scroll"?E.jsx(Xae,{...i,ref:t,forceMount:n}):o.type==="auto"?E.jsx(b_,{...i,ref:t,forceMount:n}):o.type==="always"?E.jsx(LS,{...i,ref:t}):null});_S.displayName=os;var Yae=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=fo(os,e.__scopeScrollArea),[s,r]=w.useState(!1);return w.useEffect(()=>{const l=o.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),r(!0)},f=()=>{u=window.setTimeout(()=>r(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[o.scrollArea,o.scrollHideDelay]),E.jsx(li,{present:n||s,children:E.jsx(b_,{"data-state":s?"visible":"hidden",...i,ref:t})})}),Xae=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=fo(os,e.__scopeScrollArea),s=e.orientation==="horizontal",r=Yp(()=>u("SCROLL_END"),100),[l,u]=Kae("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,o.scrollHideDelay,u]),w.useEffect(()=>{const d=o.viewport,f=s?"scrollLeft":"scrollTop";if(d){let p=d[f];const m=()=>{const v=d[f];p!==v&&(u("SCROLL"),r()),p=v};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[o.viewport,s,u,r]),E.jsx(li,{present:n||l!=="hidden",children:E.jsx(LS,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Ae(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ae(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),b_=w.forwardRef((e,t)=>{const n=fo(os,e.__scopeScrollArea),{forceMount:i,...o}=e,[s,r]=w.useState(!1),l=e.orientation==="horizontal",u=Yp(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;r(l?d:f)}},10);return kc(n.viewport,u),kc(n.content,u),E.jsx(li,{present:i||s,children:E.jsx(LS,{"data-state":s?"visible":"hidden",...o,ref:t})})}),LS=w.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,o=fo(os,e.__scopeScrollArea),s=w.useRef(null),r=w.useRef(0),[l,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=T_(l.viewport,l.content),f={...i,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>r.current=0,onThumbPointerDown:m=>r.current=m};function p(m,v){return nle(m,r.current,l,v)}return n==="horizontal"?E.jsx(Qae,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollLeft,v=sF(m,l,o.dir);s.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=p(m,o.dir))}}):n==="vertical"?E.jsx(Zae,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const m=o.viewport.scrollTop,v=sF(m,l);s.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=p(m))}}):null}),Qae=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...o}=e,s=fo(os,e.__scopeScrollArea),[r,l]=w.useState(),u=w.useRef(null),d=Vt(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),E.jsx(R_,{"data-orientation":"horizontal",...o,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qp(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(s.viewport){const m=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),F_(m,p)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&r&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:op(r.paddingLeft),paddingEnd:op(r.paddingRight)}})}})}),Zae=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...o}=e,s=fo(os,e.__scopeScrollArea),[r,l]=w.useState(),u=w.useRef(null),d=Vt(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),E.jsx(R_,{"data-orientation":"vertical",...o,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qp(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(s.viewport){const m=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),F_(m,p)&&f.preventDefault()}},onResize:()=>{u.current&&s.viewport&&r&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:op(r.paddingTop),paddingEnd:op(r.paddingBottom)}})}})}),[Jae,S_]=v_(os),R_=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:o,onThumbChange:s,onThumbPointerUp:r,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:p,...m}=e,v=fo(os,n),[b,S]=w.useState(null),R=Vt(t,L=>S(L)),x=w.useRef(null),T=w.useRef(""),F=v.viewport,A=i.content-i.viewport,M=en(f),I=en(u),P=Yp(p,10);function _(L){if(x.current){const V=L.clientX-x.current.left,z=L.clientY-x.current.top;d({x:V,y:z})}}return w.useEffect(()=>{const L=V=>{const z=V.target;b?.contains(z)&&M(V,A)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[F,b,A,M]),w.useEffect(I,[i,I]),kc(b,P),kc(v.content,P),E.jsx(Jae,{scope:n,scrollbar:b,hasThumb:o,onThumbChange:en(s),onThumbPointerUp:en(r),onThumbPositionChange:I,onThumbPointerDown:en(l),children:E.jsx(gt.div,{...m,ref:R,style:{position:"absolute",...m.style},onPointerDown:Ae(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),x.current=b.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),_(L))}),onPointerMove:Ae(e.onPointerMove,_),onPointerUp:Ae(e.onPointerUp,L=>{const V=L.target;V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=T.current,v.viewport&&(v.viewport.style.scrollBehavior=""),x.current=null})})})}),ip="ScrollAreaThumb",x_=w.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=S_(ip,e.__scopeScrollArea);return E.jsx(li,{present:n||o.hasThumb,children:E.jsx(ele,{ref:t,...i})})}),ele=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...o}=e,s=fo(ip,n),r=S_(ip,n),{onThumbPositionChange:l}=r,u=Vt(t,p=>r.onThumbChange(p)),d=w.useRef(void 0),f=Yp(()=>{d.current&&(d.current(),d.current=void 0)},100);return w.useEffect(()=>{const p=s.viewport;if(p){const m=()=>{if(f(),!d.current){const v=ile(p,l);d.current=v,l()}};return l(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[s.viewport,f,l]),E.jsx(gt.div,{"data-state":r.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Ae(e.onPointerDownCapture,p=>{const v=p.target.getBoundingClientRect(),b=p.clientX-v.left,S=p.clientY-v.top;r.onThumbPointerDown({x:b,y:S})}),onPointerUp:Ae(e.onPointerUp,r.onThumbPointerUp)})});x_.displayName=ip;var NS="ScrollAreaCorner",E_=w.forwardRef((e,t)=>{const n=fo(NS,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?E.jsx(tle,{...e,ref:t}):null});E_.displayName=NS;var tle=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,o=fo(NS,n),[s,r]=w.useState(0),[l,u]=w.useState(0),d=!!(s&&l);return kc(o.scrollbarX,()=>{const f=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(f),u(f)}),kc(o.scrollbarY,()=>{const f=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(f),r(f)}),d?E.jsx(gt.div,{...i,ref:t,style:{width:s,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function op(e){return e?parseInt(e,10):0}function T_(e,t){const n=e/t;return isNaN(n)?0:n}function qp(e){const t=T_(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function nle(e,t,n,i="ltr"){const o=qp(n),s=o/2,r=t||s,l=o-r,u=n.scrollbar.paddingStart+r,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,p=i==="ltr"?[0,f]:[f*-1,0];return D_([u,d],p)(e)}function sF(e,t,n="ltr"){const i=qp(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,r=t.content-t.viewport,l=s-i,u=n==="ltr"?[0,r]:[r*-1,0],d=$ae(e,u);return D_([0,r],[0,l])(d)}function D_(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function F_(e,t){return e>0&&e<t}var ile=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return(function o(){const s={left:e.scrollLeft,top:e.scrollTop},r=n.left!==s.left,l=n.top!==s.top;(r||l)&&t(),n=s,i=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(i)};function Yp(e,t){const n=en(e),i=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),w.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function kc(e,t){const n=en(t);ao(()=>{let i=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(i),o.unobserve(e)}}},[e,n])}var P_=C_,ole=y_,sle=E_;const A_=w.forwardRef((e,t)=>{const n=Oe.c(15);let i,o,s;n[0]!==e?({className:o,children:i,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);let r;n[4]!==o?(r=St("relative overflow-hidden",o),n[4]=o,n[5]=r):r=n[5];let l;n[6]!==i?(l=E.jsx(ole,{className:"h-full w-full rounded-[inherit]",children:i}),n[6]=i,n[7]=l):l=n[7];let u,d;n[8]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx(M_,{}),d=E.jsx(sle,{}),n[8]=u,n[9]=d):(u=n[8],d=n[9]);let f;return n[10]!==s||n[11]!==t||n[12]!==r||n[13]!==l?(f=E.jsxs(P_,{ref:t,className:r,...s,children:[l,u,d]}),n[10]=s,n[11]=t,n[12]=r,n[13]=l,n[14]=f):f=n[14],f});A_.displayName=P_.displayName;const M_=w.forwardRef((e,t)=>{const n=Oe.c(14);let i,o,s;n[0]!==e?({className:i,orientation:s,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s):(i=n[1],o=n[2],s=n[3]);const r=s===void 0?"vertical":s,l=r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",u=r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]";let d;n[4]!==i||n[5]!==l||n[6]!==u?(d=St("flex touch-none transition-colors select-none",l,u,i),n[4]=i,n[5]=l,n[6]=u,n[7]=d):d=n[7];let f;n[8]===Symbol.for("react.memo_cache_sentinel")?(f=E.jsx(x_,{className:"bg-border relative flex-1 rounded-full"}),n[8]=f):f=n[8];let p;return n[9]!==r||n[10]!==o||n[11]!==t||n[12]!==d?(p=E.jsx(_S,{ref:t,orientation:r,className:d,...o,children:f}),n[9]=r,n[10]=o,n[11]=t,n[12]=d,n[13]=p):p=n[13],p});M_.displayName=_S.displayName;var k_="Toggle",HS=w.forwardRef((e,t)=>{const{pressed:n,defaultPressed:i,onPressedChange:o,...s}=e,[r,l]=Hr({prop:n,onChange:o,defaultProp:i??!1,caller:k_});return E.jsx(gt.button,{type:"button","aria-pressed":r,"data-state":r?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:Ae(e.onClick,()=>{e.disabled||l(!r)})})});HS.displayName=k_;var I_=HS,jr="ToggleGroup",[O_]=Bs(jr,[Wp]),__=Wp(),GS=de.forwardRef((e,t)=>{const{type:n,...i}=e;if(n==="single"){const o=i;return E.jsx(rle,{...o,ref:t})}if(n==="multiple"){const o=i;return E.jsx(ale,{...o,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${jr}\``)});GS.displayName=jr;var[L_,N_]=O_(jr),rle=de.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:o=()=>{},...s}=e,[r,l]=Hr({prop:n,defaultProp:i??"",onChange:o,caller:jr});return E.jsx(L_,{scope:e.__scopeToggleGroup,type:"single",value:de.useMemo(()=>r?[r]:[],[r]),onItemActivate:l,onItemDeactivate:de.useCallback(()=>l(""),[l]),children:E.jsx(H_,{...s,ref:t})})}),ale=de.forwardRef((e,t)=>{const{value:n,defaultValue:i,onValueChange:o=()=>{},...s}=e,[r,l]=Hr({prop:n,defaultProp:i??[],onChange:o,caller:jr}),u=de.useCallback(f=>l((p=[])=>[...p,f]),[l]),d=de.useCallback(f=>l((p=[])=>p.filter(m=>m!==f)),[l]);return E.jsx(L_,{scope:e.__scopeToggleGroup,type:"multiple",value:r,onItemActivate:u,onItemDeactivate:d,children:E.jsx(H_,{...s,ref:t})})});GS.displayName=jr;var[lle,cle]=O_(jr),H_=de.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:i=!1,rovingFocus:o=!0,orientation:s,dir:r,loop:l=!0,...u}=e,d=__(n),f=jd(r),p={role:"group",dir:f,...u};return E.jsx(lle,{scope:n,rovingFocus:o,disabled:i,children:o?E.jsx(dO,{asChild:!0,...d,orientation:s,dir:f,loop:l,children:E.jsx(gt.div,{...p,ref:t})}):E.jsx(gt.div,{...p,ref:t})})}),sp="ToggleGroupItem",G_=de.forwardRef((e,t)=>{const n=N_(sp,e.__scopeToggleGroup),i=cle(sp,e.__scopeToggleGroup),o=__(e.__scopeToggleGroup),s=n.value.includes(e.value),r=i.disabled||e.disabled,l={...e,pressed:s,disabled:r},u=de.useRef(null);return i.rovingFocus?E.jsx(hO,{asChild:!0,...o,focusable:!r,active:s,ref:u,children:E.jsx(rF,{...l,ref:t})}):E.jsx(rF,{...l,ref:t})});G_.displayName=sp;var rF=de.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:i,...o}=e,s=N_(sp,n),r={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=s.type==="single"?r:void 0;return E.jsx(HS,{...l,...o,ref:t,onPressedChange:u=>{u?s.onItemActivate(i):s.onItemDeactivate(i)}})}),B_=GS,V_=G_;const z_=Ic("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),ule=w.forwardRef((e,t)=>{const n=Oe.c(13);let i,o,s,r;n[0]!==e?({className:i,variant:r,size:s,...o}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r):(i=n[1],o=n[2],s=n[3],r=n[4]);let l;n[5]!==i||n[6]!==s||n[7]!==r?(l=St(z_({variant:r,size:s,className:i})),n[5]=i,n[6]=s,n[7]=r,n[8]=l):l=n[8];let u;return n[9]!==o||n[10]!==t||n[11]!==l?(u=E.jsx(I_,{ref:t,className:l,...o}),n[9]=o,n[10]=t,n[11]=l,n[12]=u):u=n[12],u});ule.displayName=I_.displayName;const W_=w.createContext({size:"default",variant:"default"}),U_=w.forwardRef((e,t)=>{const n=Oe.c(19);let i,o,s,r,l;n[0]!==e?({className:o,variant:l,size:r,children:i,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r,n[5]=l):(i=n[1],o=n[2],s=n[3],r=n[4],l=n[5]);let u;n[6]!==o?(u=St("flex items-center justify-center gap-1",o),n[6]=o,n[7]=u):u=n[7];let d;n[8]!==r||n[9]!==l?(d={variant:l,size:r},n[8]=r,n[9]=l,n[10]=d):d=n[10];let f;n[11]!==i||n[12]!==d?(f=E.jsx(W_.Provider,{value:d,children:i}),n[11]=i,n[12]=d,n[13]=f):f=n[13];let p;return n[14]!==s||n[15]!==t||n[16]!==u||n[17]!==f?(p=E.jsx(B_,{ref:t,className:u,...s,children:f}),n[14]=s,n[15]=t,n[16]=u,n[17]=f,n[18]=p):p=n[18],p});U_.displayName=B_.displayName;const ky=w.forwardRef((e,t)=>{const n=Oe.c(17);let i,o,s,r,l;n[0]!==e?({className:o,children:i,variant:l,size:r,...s}=e,n[0]=e,n[1]=i,n[2]=o,n[3]=s,n[4]=r,n[5]=l):(i=n[1],o=n[2],s=n[3],r=n[4],l=n[5]);const u=w.useContext(W_);let d;n[6]!==o||n[7]!==u.size||n[8]!==u.variant||n[9]!==r||n[10]!==l?(d=St(z_({variant:u.variant||l,size:u.size||r}),o),n[6]=o,n[7]=u.size,n[8]=u.variant,n[9]=r,n[10]=l,n[11]=d):d=n[11];let f;return n[12]!==i||n[13]!==s||n[14]!==t||n[15]!==d?(f=E.jsx(V_,{ref:t,className:d,...s,children:i}),n[12]=i,n[13]=s,n[14]=t,n[15]=d,n[16]=f):f=n[16],f});ky.displayName=V_.displayName;function j_(e){const t=Oe.c(39),{allTags:n,selectedTags:i,setSelectedTags:o,tagMatchMode:s,setTagMatchMode:r}=e,[l,u]=w.useState("");let d;if(t[0]!==n||t[1]!==l){let V;t[3]!==l?(V=z=>z.toLowerCase().includes(l.toLowerCase()),t[3]=l,t[4]=V):V=t[4],d=n.filter(V),t[0]=n,t[1]=l,t[2]=d}else d=t[2];const f=d;let p;t[5]!==o?(p=function(z){o(K=>K.includes(z)?K.filter(se=>se!==z):[...K,z])},t[5]=o,t[6]=p):p=t[6];const m=p;let v;t[7]!==o?(v=function(){o([])},t[7]=o,t[8]=v):v=t[8];const b=v,S=i.length>0&&`(${i.length})`;let R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R=E.jsx(jF,{}),t[9]=R):R=t[9];let x;t[10]!==S?(x=E.jsx(Vae,{asChild:!0,children:E.jsxs(io,{variant:"outline",size:"sm",children:["Tags ",S,R]})}),t[10]=S,t[11]=x):x=t[11];let T;t[12]!==i.length||t[13]!==r||t[14]!==s?(T=i.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(m_,{children:"Match Mode"}),E.jsxs(U_,{type:"single",value:s,onValueChange:V=>{V&&r(V)},className:"mb-2",children:[E.jsx(ky,{value:"AND",className:"text-xs",children:"AND"}),E.jsx(ky,{value:"OR",className:"text-xs",children:"OR"})]}),E.jsx(My,{})]}),t[12]=i.length,t[13]=r,t[14]=s,t[15]=T):T=t[15];let F;t[16]===Symbol.for("react.memo_cache_sentinel")?(F=V=>u(V.target.value),t[16]=F):F=t[16];let A;t[17]!==l?(A=E.jsx(pb,{placeholder:"Search tags...",value:l,onChange:F,className:"mb-2 h-8 text-sm"}),t[17]=l,t[18]=A):A=t[18];let M;if(t[19]!==f||t[20]!==i||t[21]!==m){let V;t[23]!==i||t[24]!==m?(V=z=>E.jsx(p_,{checked:i.includes(z),onCheckedChange:()=>m(z),onSelect:dle,children:z},z),t[23]=i,t[24]=m,t[25]=V):V=t[25],M=f.map(V),t[19]=f,t[20]=i,t[21]=m,t[22]=M}else M=t[22];let I;t[26]!==M?(I=E.jsx(A_,{className:"h-56",children:E.jsx("div",{className:"flex flex-col",children:M})}),t[26]=M,t[27]=I):I=t[27];let P;t[28]!==b||t[29]!==i.length?(P=i.length>0&&E.jsxs(E.Fragment,{children:[E.jsx(My,{}),E.jsx("button",{onClick:b,className:"text-muted-foreground hover:text-primary mt-2 cursor-pointer text-xs",children:"Clear filters"})]}),t[28]=b,t[29]=i.length,t[30]=P):P=t[30];let _;t[31]!==I||t[32]!==P||t[33]!==T||t[34]!==A?(_=E.jsxs(g_,{className:"w-72 p-3",align:"start",children:[T,A,I,P]}),t[31]=I,t[32]=P,t[33]=T,t[34]=A,t[35]=_):_=t[35];let L;return t[36]!==_||t[37]!==x?(L=E.jsxs(Bae,{children:[x,_]}),t[36]=_,t[37]=x,t[38]=L):L=t[38],L}function dle(e){return e.preventDefault()}gM.registerModules([$I]);const aF={Easy:0,Medium:1,Hard:2},hle={Easy:"text-emerald-500 bg-emerald-500/10",Medium:"text-amber-500 bg-amber-500/10",Hard:"text-rose-500 bg-rose-500/10"};async function fle(e){let n=0;const i=[];for(;;){const{data:o,error:s}=await $t.from("company_problems").select(`
        timeframe_tag,
        problem:problems (
          id,
          title,
          url,
          difficulty,
          acceptance,
          frequency,
          problem_tags ( tag ),
          company_problems (
            company:companies ( id, name )
          )
        )
      `).eq("company_id",e).range(n,n+4e3-1);if(s||!o||(i.push(...o),o.length<4e3))break;n+=4e3}return i}function gle(e){const{value:t,data:n,api:i}=e;if(!n)return null;const o=n.isToggling,s=async r=>{if(r.stopPropagation(),o)return;const{data:{session:l}}=await $t.auth.getSession();if(!l?.user){alert("Please sign in to mark problems as completed.");return}const u=l.user.id,d=n.id,f=!t,p={...n,isToggling:!0};i.applyTransaction({update:[p]}),i.refreshCells({rowNodes:[e.node],force:!0});try{if(f){const{error:m}=await $t.from("user_completed_problems").insert({user_id:u,problem_id:d});if(m)throw m}else{const{error:m}=await $t.from("user_completed_problems").delete().eq("user_id",u).eq("problem_id",d);if(m)throw m}i.applyTransaction({update:[{...n,completed:f,isToggling:!1}]})}catch(m){console.error("Toggle failed:",m),i.applyTransaction({update:[{...n,completed:t,isToggling:!1}]})}};return E.jsx("div",{className:`flex h-full items-center ${o?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:s,children:o?E.jsx("div",{className:"border-primary h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):t?E.jsx($F,{className:"h-4 w-4 text-emerald-500"}):E.jsx("div",{className:"border-border h-4 w-4 rounded-full border"})})}function ple(e){const t=Oe.c(3),{data:n}=e;if(!n)return null;let i;return t[0]!==n.title||t[1]!==n.url?(i=E.jsx("div",{className:"flex h-full items-center",children:n.url?E.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary group inline-flex items-center gap-1 text-sm font-medium transition-colors",onClick:mle,children:[n.title,E.jsx(WF,{className:"h-3 w-3 opacity-0 transition-opacity group-hover:opacity-60"})]}):E.jsx("span",{className:"text-sm font-medium",children:n.title})}),t[0]=n.title,t[1]=n.url,t[2]=i):i=t[2],i}function mle(e){return e.stopPropagation()}function vle(e){const t=Oe.c(4),{value:n}=e;if(!n){let s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=E.jsx("span",{className:"text-muted-foreground text-xs",children:""}),t[0]=s):s=t[0],s}const i=`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${hle[n]??"text-muted-foreground"}`;let o;return t[1]!==i||t[2]!==n?(o=E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:i,children:n})}),t[1]=i,t[2]=n,t[3]=o):o=t[3],o}function Cle(e){const t=Oe.c(4),{value:n}=e;let i;t[0]!==n?(i=n!=null?`${Number(n).toFixed(1)}%`:"",t[0]=n,t[1]=i):i=t[1];let o;return t[2]!==i?(o=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs tabular-nums",children:i}),t[2]=i,t[3]=o):o=t[3],o}function wle(e){const t=Oe.c(10),{value:n}=e;if(n==null){let u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs",children:""}),t[0]=u):u=t[0],u}const i=`${Math.min(n,100)}%`;let o;t[1]!==i?(o=E.jsx("div",{className:"bg-muted h-1.5 w-14 overflow-hidden rounded-full",children:E.jsx("div",{className:"bg-primary h-full rounded-full",style:{width:i}})}),t[1]=i,t[2]=o):o=t[2];let s;t[3]!==n?(s=n.toFixed(2),t[3]=n,t[4]=s):s=t[4];let r;t[5]!==s?(r=E.jsxs("span",{className:"text-muted-foreground text-xs tabular-nums",children:[s,"%"]}),t[5]=s,t[6]=r):r=t[6];let l;return t[7]!==o||t[8]!==r?(l=E.jsxs("div",{className:"flex h-full items-center gap-1.5",children:[o,r]}),t[7]=o,t[8]=r,t[9]=l):l=t[9],l}function yle(e){const t=Oe.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(ble),t[0]=n,t[1]=i):i=t[1];let o;return t[2]!==i?(o=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=o):o=t[3],o}function ble(e){return E.jsx(Ur,{variant:"secondary",className:"text-muted-foreground text-md",children:e},e)}function Sle(e){const t=Oe.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(Rle),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==n.length?(o=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=o):o=t[3];let s;return t[4]!==i||t[5]!==o?(s=E.jsxs("div",{className:"gap-y-0. flex h-full flex-wrap items-center gap-x-1",children:[i,o]}),t[4]=i,t[5]=o,t[6]=s):s=t[6],s}function Rle(e){return E.jsx(Ur,{variant:"secondary",className:"text-muted-foreground my-0 px-2",children:e})}function xle(e){const t=Oe.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(Ele),t[0]=n,t[1]=i):i=t[1];let o;return t[2]!==i?(o=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=o):o=t[3],o}function Ele(e){return E.jsx(Ur,{variant:"outline",className:St("text-muted-foreground text-md",zp(e)),children:e},e)}function Tle(e){const t=Oe.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(Dle),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==n.length?(o=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=o):o=t[3];let s;return t[4]!==i||t[5]!==o?(s=E.jsxs("div",{className:"flex h-full flex-wrap items-center gap-x-0.5 gap-y-0",children:[i,o]}),t[4]=i,t[5]=o,t[6]=s):s=t[6],s}function Dle(e){return E.jsx(Ur,{variant:"outline",className:St("text-muted-foreground my-0",zp(e)),children:e},e)}function Fle(){const e=Oe.c(108),{theme:t}=gb(),{id:n}=MH(),i=Number(n),[o,s]=w.useState(null);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const[l,u]=w.useState(r),[d,f]=w.useState(!0),[p,m]=w.useState(null),[v,b]=w.useState(""),[S,R]=w.useState("All");let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x=[],e[1]=x):x=e[1];const[T,F]=w.useState(x);let A;e[2]===Symbol.for("react.memo_cache_sentinel")?(A=[],e[2]=A):A=e[2];const[M,I]=w.useState(A),[P,_]=w.useState("AND"),[L,V]=w.useState(!1),z=w.useRef(null);let K,se;e[3]!==i?(K=()=>{if(!i)return;(async function(){f(!0),m(null);const{data:hi,error:H}=await $t.from("companies").select("id, name").eq("id",i).single();if(H||!hi){m("Company not found."),f(!1);return}s(hi);const j=await fle(i);if(console.log("Fetched problems:",j),!j){m("Failed to fetch problems."),f(!1);return}let te=j.map(De=>{const we=De.problem;return{id:we.id,title:we.title??"Untitled",url:we.url??null,difficulty:we.difficulty??null,acceptance:we.acceptance??null,frequency:we.frequency??null,tags:we.problem_tags?.map(Yle)??[],other_companies:we.company_problems?.map(qle).filter(be=>be&&be!==hi.name)??[],completed:!1,timeframe_tag:De.timeframe_tag??null,isToggling:!1}});const{data:ge}=await $t.auth.getSession(),{session:me}=ge;if(me?.user){const{data:De}=await $t.from("user_completed_problems").select("problem_id").eq("user_id",me.user.id),we=new Set(De?.map(Kle));te=te.map(be=>({...be,completed:we.has(be.id)}))}u(te),f(!1)})()},se=[i],e[3]=i,e[4]=K,e[5]=se):(K=e[4],se=e[5]),w.useEffect(K,se);let he,J;e[6]===Symbol.for("react.memo_cache_sentinel")?(he=()=>{(async function(){const{data:hi,error:H}=await $t.from("unique_problem_tags").select("*");H||!hi||F(hi.map($le))})()},J=[],e[6]=he,e[7]=J):(he=e[6],J=e[7]),w.useEffect(he,J);let N;e[8]!==v?(N=()=>{z.current?.api&&(z.current.api.setGridOption("quickFilterText",v),z.current.api.onFilterChanged())},e[8]=v,e[9]=N):N=e[9];let q;e[10]!==S||e[11]!==L||e[12]!==v||e[13]!==M||e[14]!==P?(q=[v,S,M,P,L],e[10]=S,e[11]=L,e[12]=v,e[13]=M,e[14]=P,e[15]=q):q=e[15],w.useEffect(N,q);let G;e[16]!==S||e[17]!==L||e[18]!==M?(G=()=>S!=="All"||M.length>0||L,e[16]=S,e[17]=L,e[18]=M,e[19]=G):G=e[19];const ee=G;let oe;e[20]!==S||e[21]!==L||e[22]!==M||e[23]!==P?(oe=rt=>{const Oo=rt.data;if(!Oo||L&&Oo.completed||S!=="All"&&Oo.difficulty!==S)return!1;if(M.length>0){const hi=Oo.tags??[];if(P==="AND"){if(!M.every(j=>hi.includes(j)))return!1}else if(!M.some(j=>hi.includes(j)))return!1}return!0},e[20]=S,e[21]=L,e[22]=M,e[23]=P,e[24]=oe):oe=e[24];const O=oe;let U;e[25]!==L?(U={field:"completed",headerName:"",headerComponent:()=>E.jsx("div",{className:"flex h-full cursor-pointer items-center justify-center",title:L?"Show completed":"Hide completed",onClick:()=>V(jle),children:L?E.jsx(KF,{className:"h-4 w-4 text-red-500"}):E.jsx(qF,{className:"h-4 w-4"})}),width:48,minWidth:48,maxWidth:48,sortable:!1,filter:!1,cellRenderer:gle,pinned:"left"},e[25]=L,e[26]=U):U=e[26];let Q,ae,ve,Se,pe,Ke,Ye,We;e[27]===Symbol.for("react.memo_cache_sentinel")?(Q={field:"id",headerName:"#",width:72,minWidth:60,sort:null,comparator:Ule},ae={field:"title",headerName:"Title",flex:2,minWidth:200,cellRenderer:ple,getQuickFilterText:Wle},ve={field:"timeframe_tag",headerName:"<Time",headerTooltip:"Indicates how recently this problem was asked at this company  within the last 30 days, 3 months, or 6 months",width:60,cellRenderer:zle,comparator:Vle},Se={field:"difficulty",headerName:"Difficulty",width:120,cellRenderer:vle,comparator:Ble},pe={field:"acceptance",headerName:"Acceptance",width:120,cellRenderer:Cle,comparator:Gle},Ke={field:"frequency",headerName:"Frequency",headerTooltip:"How frequently this problem is asked at this company.",width:130,sort:"desc",cellRenderer:wle,comparator:Hle},Ye={field:"tags",headerName:"Tags",flex:1.5,minWidth:150,sortable:!1,filter:!1,cellRenderer:Sle,tooltipComponent:yle,tooltipValueGetter:Nle},We={field:"other_companies",headerName:"Also Asked At",flex:1.5,minWidth:150,filter:!1,cellRenderer:Tle,comparator:Lle,tooltipComponent:xle,tooltipValueGetter:_le},e[27]=Q,e[28]=ae,e[29]=ve,e[30]=Se,e[31]=pe,e[32]=Ke,e[33]=Ye,e[34]=We):(Q=e[27],ae=e[28],ve=e[29],Se=e[30],pe=e[31],Ke=e[32],Ye=e[33],We=e[34]);let Ft;e[35]!==U?(Ft=[U,Q,ae,ve,Se,pe,Ke,Ye,We],e[35]=U,e[36]=Ft):Ft=e[36];const Be=Ft;let pt;e[37]===Symbol.for("react.memo_cache_sentinel")?(pt={sortable:!0,filter:!1,resizable:!0,suppressMovable:!1,cellStyle:{display:"flex",alignItems:"center"}},e[37]=pt):pt=e[37];const Gt=pt;let Xt;e[38]!==l?(Xt=l.filter(Ole),e[38]=l,e[39]=Xt):Xt=e[39];const Wt=Xt.length;let He;e[40]!==l?(He=l.filter(Ile),e[40]=l,e[41]=He):He=e[41];const Ze=He.length;let ut;e[42]!==l?(ut=l.filter(kle),e[42]=l,e[43]=ut):ut=e[43];const ot=ut.length;let Te;e[44]!==l?(Te=l.filter(Mle),e[44]=l,e[45]=Te):Te=e[45];const st=Te.length;if(d){let rt;return e[46]===Symbol.for("react.memo_cache_sentinel")?(rt=E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"border-primary h-7 w-7 animate-spin rounded-full border-2 border-t-transparent"})}),e[46]=rt):rt=e[46],rt}if(p){let rt;return e[47]!==p?(rt=E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsx("p",{className:"text-muted-foreground",children:p})}),e[47]=p,e[48]=rt):rt=e[48],rt}let kt;e[49]===Symbol.for("react.memo_cache_sentinel")?(kt=E.jsxs("p",{className:"text-muted-foreground flex items-center gap-1 text-xs tracking-wide",children:[E.jsx(UF,{className:"text-muted-foreground mr-1 mb-1 inline h-4 w-4"}),"Company"]}),e[49]=kt):kt=e[49];const Xe=o?.name;let dt;e[50]!==Xe?(dt=E.jsxs("div",{children:[kt,E.jsx("h1",{className:"text-3xl font-semibold capitalize",children:Xe})]}),e[50]=Xe,e[51]=dt):dt=e[51];let Qt;e[52]!==Wt?(Qt={label:"Easy",count:Wt,style:"text-emerald-500"},e[52]=Wt,e[53]=Qt):Qt=e[53];let Zt;e[54]!==Ze?(Zt={label:"Medium",count:Ze,style:"text-amber-500"},e[54]=Ze,e[55]=Zt):Zt=e[55];let $e;e[56]!==ot?($e={label:"Hard",count:ot,style:"text-rose-500"},e[56]=ot,e[57]=$e):$e=e[57];let tt;e[58]!==Qt||e[59]!==Zt||e[60]!==$e?(tt=E.jsx("div",{className:"flex gap-6",children:[Qt,Zt,$e].map(Ale)}),e[58]=Qt,e[59]=Zt,e[60]=$e,e[61]=tt):tt=e[61];let Bn;e[62]===Symbol.for("react.memo_cache_sentinel")?(Bn=E.jsx(bd,{className:"mt-1.5"}),e[62]=Bn):Bn=e[62];let Vn;e[63]!==st||e[64]!==l.length?(Vn=E.jsxs("p",{className:"text-muted-foreground mt-1 text-xs sm:text-sm",children:[l.length," problems  ",st," completed"]}),e[63]=st,e[64]=l.length,e[65]=Vn):Vn=e[65];let Fn;e[66]!==tt||e[67]!==Vn?(Fn=E.jsxs("div",{className:"flex flex-col items-center",children:[tt,Bn,Vn]}),e[66]=tt,e[67]=Vn,e[68]=Fn):Fn=e[68];let hn;e[69]!==dt||e[70]!==Fn?(hn=E.jsxs("div",{className:"flex items-center justify-between gap-4",children:[dt,Fn]}),e[69]=dt,e[70]=Fn,e[71]=hn):hn=e[71];let Rt;e[72]===Symbol.for("react.memo_cache_sentinel")?(Rt=rt=>b(rt.target.value),e[72]=Rt):Rt=e[72];let nn;e[73]!==v?(nn=E.jsx("input",{type:"text",placeholder:"Filter problems",value:v,onChange:Rt,className:"bg-muted/20 border-border text-primary placeholder:text-muted-foreground h-8 rounded-md border px-3 text-sm outline-none focus:ring-1 focus:ring-white/10"}),e[73]=v,e[74]=nn):nn=e[74];let It;e[75]===Symbol.for("react.memo_cache_sentinel")?(It=["All","Easy","Medium","Hard"],e[75]=It):It=e[75];let In;e[76]!==S?(In=E.jsx("div",{className:"flex items-center gap-1",children:It.map(rt=>E.jsx("button",{onClick:()=>R(rt),className:`h-7 cursor-pointer rounded-md px-3 text-xs font-medium transition-colors ${S===rt?rt==="All"?"bg-primary text-primary-foreground":rt==="Easy"?"bg-emerald-500/20 text-emerald-500":rt==="Medium"?"bg-amber-500/20 text-amber-500":"bg-rose-500/20 text-rose-500":"text-muted-foreground hover:text-primary hover:bg-muted/40"}`,children:rt},rt))}),e[76]=S,e[77]=In):In=e[77];let ni;e[78]===Symbol.for("react.memo_cache_sentinel")?(ni=E.jsx(bd,{orientation:"vertical",className:"h-5"}),e[78]=ni):ni=e[78];let On;e[79]!==T||e[80]!==M||e[81]!==P?(On=E.jsx(j_,{allTags:T,selectedTags:M,setSelectedTags:I,tagMatchMode:P,setTagMatchMode:_}),e[79]=T,e[80]=M,e[81]=P,e[82]=On):On=e[82];let fn;e[83]!==nn||e[84]!==In||e[85]!==On?(fn=E.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3 sm:mt-2",children:[nn,In,ni,On]}),e[83]=nn,e[84]=In,e[85]=On,e[86]=fn):fn=e[86];let et;e[87]!==hn||e[88]!==fn?(et=E.jsx("div",{className:"border-border border-b px-6 py-6",children:E.jsxs("div",{className:"mx-auto sm:px-8 md:px-16",children:[hn,fn]})}),e[87]=hn,e[88]=fn,e[89]=et):et=e[89];let yn;e[90]===Symbol.for("react.memo_cache_sentinel")?(yn={height:"calc(100vh - 260px)"},e[90]=yn):yn=e[90];const on=`h-full w-full ${t==="light"?"ag-theme-quartz":"ag-theme-quartz-dark"}`;let sn;e[91]!==t?(sn=Jb.withParams({cellFontFamily:"geist, sans-serif"}).withParams(t==="light"?{rowBorder:{style:"solid",width:"2px",color:"#e5e7eb"}}:{rowBorder:{style:"solid",width:"1px",color:"#2e3135"},rowHoverColor:"#151515",backgroundColor:"#0a0a0a",foregroundColor:"#bfbfbf",browserColorScheme:"dark"}),e[91]=t,e[92]=sn):sn=e[92];let bn;e[93]!==v?(bn=rt=>{rt.api.setGridOption("quickFilterText",v)},e[93]=v,e[94]=bn):bn=e[94];let di;e[95]!==Be||e[96]!==O||e[97]!==ee||e[98]!==l||e[99]!==sn||e[100]!==bn?(di=E.jsx(iO,{ref:z,rowData:l,columnDefs:Be,defaultColDef:Gt,rowHeight:56,tooltipShowDelay:300,tooltipShowMode:"standard",headerHeight:40,theme:sn,animateRows:!0,suppressCellFocus:!0,isExternalFilterPresent:ee,doesExternalFilterPass:O,getRowId:Ple,onGridReady:bn}),e[95]=Be,e[96]=O,e[97]=ee,e[98]=l,e[99]=sn,e[100]=bn,e[101]=di):di=e[101];let Xn;e[102]!==on||e[103]!==di?(Xn=E.jsx("div",{className:"flex-1 px-6 py-4",children:E.jsx("div",{className:"max-w-9xl mx-auto",style:yn,children:E.jsx("div",{className:on,children:di})})}),e[102]=on,e[103]=di,e[104]=Xn):Xn=e[104];let ii;return e[105]!==et||e[106]!==Xn?(ii=E.jsxs("div",{className:"font-geist bg-background text-primary flex flex-col",children:[et,Xn]}),e[105]=et,e[106]=Xn,e[107]=ii):ii=e[107],ii}function Ple(e){return e.data.id.toString()}function Ale(e){const{label:t,count:n,style:i}=e;return E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-sm font-semibold tabular-nums sm:text-2xl ${i}`,children:n}),E.jsx("div",{className:"text-muted-foreground text-xs",children:t})]},t)}function Mle(e){return e.completed}function kle(e){return e.difficulty==="Hard"}function Ile(e){return e.difficulty==="Medium"}function Ole(e){return e.difficulty==="Easy"}function _le(e){return e.value}function Lle(e,t){return(t?.length??0)-(e?.length??0)}function Nle(e){return e.value}function Hle(e,t){return(e??-1)-(t??-1)}function Gle(e,t){return(e??-1)-(t??-1)}function Ble(e,t){return(aF[e??""]??99)-(aF[t??""]??99)}function Vle(e,t){const n={"thirty-days":0,"three-months":1,"six-months":2};return(n[e]??99)-(n[t]??99)}function zle(e){const{value:t}=e,i={"six-months":{label:"6M",style:"text-blue-400 bg-blue-400/10"},"three-months":{label:"3M",style:"text-violet-400 bg-violet-400/10"},"thirty-days":{label:"30D",style:"text-orange-400 bg-orange-400/10"}}[t];return i?E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${i.style}`,children:i.label})}):E.jsx("span",{className:"text-muted-foreground text-xs"})}function Wle(e){return e.value}function Ule(e,t){return e-t}function jle(e){return!e}function $le(e){return e.tag}function Kle(e){return e.problem_id}function qle(e){return e.company?.name}function Yle(e){return e.tag}gM.registerModules([$I]);const lF={Easy:0,Medium:1,Hard:2},Xle={Easy:"text-emerald-500 bg-emerald-500/10",Medium:"text-amber-500 bg-amber-500/10",Hard:"text-rose-500 bg-rose-500/10"};async function Qle(){let t=0;const n=[];for(;;){const{data:i,error:o}=await $t.from("problems").select(`
          id,
          title,
          url,
          difficulty,
          acceptance,
          frequency,
          problem_tags ( tag ),
          company_problems (
            company:companies ( id, name ),
            timeframe_tag
          )
        `).range(t,t+4e3-1);if(o||!i||(n.push(...i),i.length<4e3))break;t+=4e3}return n}function Zle(e){const{value:t,data:n,api:i}=e;if(!n)return null;const o=n.isToggling,s=async r=>{if(r.stopPropagation(),o)return;const{data:{session:l}}=await $t.auth.getSession();if(!l?.user){alert("Please sign in to mark problems as completed.");return}const u=l.user.id,d=n.id,f=!t,p={...n,isToggling:!0};i.applyTransaction({update:[p]}),i.refreshCells({rowNodes:[e.node],force:!0});try{if(f){const{error:m}=await $t.from("user_completed_problems").insert({user_id:u,problem_id:d});if(m)throw m}else{const{error:m}=await $t.from("user_completed_problems").delete().eq("user_id",u).eq("problem_id",d);if(m)throw m}i.applyTransaction({update:[{...n,completed:f,isToggling:!1}]})}catch(m){console.error("Toggle failed:",m),i.applyTransaction({update:[{...n,completed:t,isToggling:!1}]})}};return E.jsx("div",{className:`flex h-full items-center ${o?"cursor-not-allowed opacity-50":"cursor-pointer"}`,onClick:s,children:o?E.jsx("div",{className:"border-primary h-4 w-4 animate-spin rounded-full border-2 border-t-transparent"}):t?E.jsx($F,{className:"h-4 w-4 text-emerald-500"}):E.jsx("div",{className:"border-border h-4 w-4 rounded-full border"})})}function Jle(e){const t=Oe.c(3),{data:n}=e;if(!n)return null;let i;return t[0]!==n.title||t[1]!==n.url?(i=E.jsx("div",{className:"flex h-full items-center",children:n.url?E.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary group inline-flex items-center gap-1 text-sm font-medium transition-colors",onClick:ece,children:[n.title,E.jsx(WF,{className:"h-3 w-3 opacity-0 transition-opacity group-hover:opacity-60"})]}):E.jsx("span",{className:"text-sm font-medium",children:n.title})}),t[0]=n.title,t[1]=n.url,t[2]=i):i=t[2],i}function ece(e){return e.stopPropagation()}function tce(e){const t=Oe.c(4),{value:n}=e;if(!n){let s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=E.jsx("span",{className:"text-muted-foreground text-xs",children:""}),t[0]=s):s=t[0],s}const i=`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${Xle[n]??"text-muted-foreground"}`;let o;return t[1]!==i||t[2]!==n?(o=E.jsx("div",{className:"flex h-full items-center",children:E.jsx("span",{className:i,children:n})}),t[1]=i,t[2]=n,t[3]=o):o=t[3],o}function nce(e){const t=Oe.c(4),{value:n}=e;let i;t[0]!==n?(i=n!=null?`${Number(n).toFixed(1)}%`:"",t[0]=n,t[1]=i):i=t[1];let o;return t[2]!==i?(o=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs tabular-nums",children:i}),t[2]=i,t[3]=o):o=t[3],o}function ice(e){const t=Oe.c(10),{value:n}=e;if(n==null){let u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=E.jsx("div",{className:"text-muted-foreground flex h-full items-center text-xs",children:""}),t[0]=u):u=t[0],u}const i=`${Math.min(n,100)}%`;let o;t[1]!==i?(o=E.jsx("div",{className:"bg-muted h-1.5 w-14 overflow-hidden rounded-full",children:E.jsx("div",{className:"bg-primary h-full rounded-full",style:{width:i}})}),t[1]=i,t[2]=o):o=t[2];let s;t[3]!==n?(s=n.toFixed(2),t[3]=n,t[4]=s):s=t[4];let r;t[5]!==s?(r=E.jsxs("span",{className:"text-muted-foreground text-xs tabular-nums",children:[s,"%"]}),t[5]=s,t[6]=r):r=t[6];let l;return t[7]!==o||t[8]!==r?(l=E.jsxs("div",{className:"flex h-full items-center gap-1.5",children:[o,r]}),t[7]=o,t[8]=r,t[9]=l):l=t[9],l}function oce(e){const t=Oe.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(sce),t[0]=n,t[1]=i):i=t[1];let o;return t[2]!==i?(o=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=o):o=t[3],o}function sce(e){return E.jsx(Ur,{variant:"secondary",className:"text-muted-foreground text-md",children:e},e)}function rce(e){const t=Oe.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(ace),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==n.length?(o=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=o):o=t[3];let s;return t[4]!==i||t[5]!==o?(s=E.jsxs("div",{className:"gap-y-0. flex h-full flex-wrap items-center gap-x-1",children:[i,o]}),t[4]=i,t[5]=o,t[6]=s):s=t[6],s}function ace(e){return E.jsx(Ur,{variant:"secondary",className:"text-muted-foreground my-0 px-2",children:e})}function lce(e){const t=Oe.c(4),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.map(cce),t[0]=n,t[1]=i):i=t[1];let o;return t[2]!==i?(o=E.jsx("div",{className:"bg-background rounded-md border p-2 shadow-lg",children:E.jsx("div",{className:"flex max-w-xs flex-wrap gap-1",children:i})}),t[2]=i,t[3]=o):o=t[3],o}function cce(e){return E.jsx(Ur,{variant:"outline",className:St("text-muted-foreground text-md",zp(e)),children:e},e)}function uce(e){const t=Oe.c(7),{value:n}=e;if(!n||n.length===0)return null;let i;t[0]!==n?(i=n.slice(0,3).map(dce),t[0]=n,t[1]=i):i=t[1];let o;t[2]!==n.length?(o=n.length>3&&E.jsxs("span",{className:"text-muted-foreground text-[10px]",children:["+",n.length-3]}),t[2]=n.length,t[3]=o):o=t[3];let s;return t[4]!==i||t[5]!==o?(s=E.jsxs("div",{className:"flex h-full flex-wrap items-center gap-x-0.5 gap-y-0",children:[i,o]}),t[4]=i,t[5]=o,t[6]=s):s=t[6],s}function dce(e){return E.jsx(Ur,{variant:"outline",className:St("text-muted-foreground my-0",zp(e)),children:e},e)}function hce(){const e=Oe.c(101),{theme:t}=gb();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[i,o]=w.useState(n),[s,r]=w.useState(!0),[l,u]=w.useState(null),[d,f]=w.useState(""),[p,m]=w.useState("All");let v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=[],e[1]=v):v=e[1];const[b,S]=w.useState(v);let R;e[2]===Symbol.for("react.memo_cache_sentinel")?(R=[],e[2]=R):R=e[2];const[x,T]=w.useState(R),[F,A]=w.useState("AND"),[M,I]=w.useState(!1),P=w.useRef(null);let _,L;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{(async function(){r(!0),u(null);const on=await Qle();if(!on){u("Failed to fetch problems."),r(!1);return}let sn=on.map(Ace);const{data:bn}=await $t.auth.getSession(),{session:di}=bn;if(di?.user){const{data:Xn}=await $t.from("user_completed_problems").select("problem_id").eq("user_id",di.user.id),ii=new Set(Xn?.map(Pce));sn=sn.map(rt=>({...rt,completed:ii.has(rt.id)}))}o(sn),r(!1)})()},L=[],e[3]=_,e[4]=L):(_=e[3],L=e[4]),w.useEffect(_,L);let V,z;e[5]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{(async function(){const{data:on,error:sn}=await $t.from("unique_problem_tags").select("*");sn||!on||S(on.map(Fce))})()},z=[],e[5]=V,e[6]=z):(V=e[5],z=e[6]),w.useEffect(V,z);let K;e[7]!==d?(K=()=>{P.current?.api&&(P.current.api.setGridOption("quickFilterText",d),P.current.api.onFilterChanged())},e[7]=d,e[8]=K):K=e[8];let se;e[9]!==p||e[10]!==M||e[11]!==d||e[12]!==x||e[13]!==F?(se=[d,p,x,F,M],e[9]=p,e[10]=M,e[11]=d,e[12]=x,e[13]=F,e[14]=se):se=e[14],w.useEffect(K,se);let he;e[15]!==p||e[16]!==M||e[17]!==x?(he=()=>p!=="All"||x.length>0||M,e[15]=p,e[16]=M,e[17]=x,e[18]=he):he=e[18];const J=he;let N;e[19]!==p||e[20]!==M||e[21]!==x||e[22]!==F?(N=et=>{const yn=et.data;if(!yn||M&&yn.completed||p!=="All"&&yn.difficulty!==p)return!1;if(x.length>0){const on=yn.tags??[];if(F==="AND"){if(!x.every(bn=>on.includes(bn)))return!1}else if(!x.some(bn=>on.includes(bn)))return!1}return!0},e[19]=p,e[20]=M,e[21]=x,e[22]=F,e[23]=N):N=e[23];const q=N;let G;e[24]!==M?(G={field:"completed",headerName:"",headerComponent:()=>E.jsx("div",{className:"flex h-full cursor-pointer items-center justify-center",title:M?"Show completed":"Hide completed",onClick:()=>I(Dce),children:M?E.jsx(KF,{className:"h-4 w-4 text-red-500"}):E.jsx(qF,{className:"h-4 w-4"})}),width:48,minWidth:48,maxWidth:48,sortable:!1,filter:!1,cellRenderer:Zle,pinned:"left"},e[24]=M,e[25]=G):G=e[25];let ee,oe,O,U,Q,ae,ve;e[26]===Symbol.for("react.memo_cache_sentinel")?(ee={field:"id",headerName:"#",width:72,minWidth:60,sort:null,comparator:Tce},oe={field:"title",headerName:"Title",flex:2,minWidth:200,cellRenderer:Jle,getQuickFilterText:Ece},O={field:"difficulty",headerName:"Difficulty",width:120,cellRenderer:tce,comparator:xce},U={field:"acceptance",headerName:"Acceptance",width:120,cellRenderer:nce,comparator:Rce},Q={field:"frequency",headerName:"Frequency",headerTooltip:"How frequently this problem is asked at this company.",width:130,sort:"desc",cellRenderer:ice,comparator:Sce},ae={field:"tags",headerName:"Tags",flex:1.5,minWidth:150,sortable:!1,filter:!1,cellRenderer:rce,tooltipComponent:oce,tooltipValueGetter:bce},ve={field:"other_companies",headerName:"Also Asked At",flex:1.5,minWidth:150,filter:!1,cellRenderer:uce,comparator:yce,tooltipComponent:lce,tooltipValueGetter:wce},e[26]=ee,e[27]=oe,e[28]=O,e[29]=U,e[30]=Q,e[31]=ae,e[32]=ve):(ee=e[26],oe=e[27],O=e[28],U=e[29],Q=e[30],ae=e[31],ve=e[32]);let Se;e[33]!==G?(Se=[G,ee,oe,O,U,Q,ae,ve],e[33]=G,e[34]=Se):Se=e[34];const pe=Se;let Ke;e[35]===Symbol.for("react.memo_cache_sentinel")?(Ke={sortable:!0,filter:!1,resizable:!0,suppressMovable:!1,cellStyle:{display:"flex",alignItems:"center"}},e[35]=Ke):Ke=e[35];const Ye=Ke;let We;e[36]!==i?(We=i.filter(Cce),e[36]=i,e[37]=We):We=e[37];const Ft=We.length;let Be;e[38]!==i?(Be=i.filter(vce),e[38]=i,e[39]=Be):Be=e[39];const pt=Be.length;let Gt;e[40]!==i?(Gt=i.filter(mce),e[40]=i,e[41]=Gt):Gt=e[41];const Xt=Gt.length;let Wt;e[42]!==i?(Wt=i.filter(pce),e[42]=i,e[43]=Wt):Wt=e[43];const He=Wt.length;if(s){let et;return e[44]===Symbol.for("react.memo_cache_sentinel")?(et=E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:"border-primary h-7 w-7 animate-spin rounded-full border-2 border-t-transparent"})}),e[44]=et):et=e[44],et}if(l){let et;return e[45]!==l?(et=E.jsx("div",{className:"flex min-h-screen items-center justify-center",children:E.jsx("p",{className:"text-muted-foreground",children:l})}),e[45]=l,e[46]=et):et=e[46],et}let Ze;e[47]===Symbol.for("react.memo_cache_sentinel")?(Ze=E.jsx("div",{children:E.jsx("h1",{className:"text-3xl font-semibold capitalize",children:"All Problems"})}),e[47]=Ze):Ze=e[47];let ut;e[48]!==Ft?(ut={label:"Easy",count:Ft,style:"text-emerald-500"},e[48]=Ft,e[49]=ut):ut=e[49];let ot;e[50]!==pt?(ot={label:"Medium",count:pt,style:"text-amber-500"},e[50]=pt,e[51]=ot):ot=e[51];let Te;e[52]!==Xt?(Te={label:"Hard",count:Xt,style:"text-rose-500"},e[52]=Xt,e[53]=Te):Te=e[53];let st;e[54]!==ut||e[55]!==ot||e[56]!==Te?(st=E.jsx("div",{className:"flex gap-6",children:[ut,ot,Te].map(gce)}),e[54]=ut,e[55]=ot,e[56]=Te,e[57]=st):st=e[57];let kt;e[58]===Symbol.for("react.memo_cache_sentinel")?(kt=E.jsx(bd,{className:"mt-1.5"}),e[58]=kt):kt=e[58];let Xe;e[59]!==He||e[60]!==i.length?(Xe=E.jsxs("p",{className:"text-muted-foreground mt-1 text-xs sm:text-sm",children:[i.length," problems  ",He," completed"]}),e[59]=He,e[60]=i.length,e[61]=Xe):Xe=e[61];let dt;e[62]!==st||e[63]!==Xe?(dt=E.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Ze,E.jsxs("div",{className:"flex flex-col items-center",children:[st,kt,Xe]})]}),e[62]=st,e[63]=Xe,e[64]=dt):dt=e[64];let Qt;e[65]===Symbol.for("react.memo_cache_sentinel")?(Qt=et=>f(et.target.value),e[65]=Qt):Qt=e[65];let Zt;e[66]!==d?(Zt=E.jsx("input",{type:"text",placeholder:"Filter problems",value:d,onChange:Qt,className:"bg-muted/20 border-border text-primary placeholder:text-muted-foreground h-8 rounded-md border px-3 text-sm outline-none focus:ring-1 focus:ring-white/10"}),e[66]=d,e[67]=Zt):Zt=e[67];let $e;e[68]===Symbol.for("react.memo_cache_sentinel")?($e=["All","Easy","Medium","Hard"],e[68]=$e):$e=e[68];let tt;e[69]!==p?(tt=E.jsx("div",{className:"flex items-center gap-1",children:$e.map(et=>E.jsx("button",{onClick:()=>m(et),className:`h-7 cursor-pointer rounded-md px-3 text-xs font-medium transition-colors ${p===et?et==="All"?"bg-primary text-primary-foreground":et==="Easy"?"bg-emerald-500/20 text-emerald-500":et==="Medium"?"bg-amber-500/20 text-amber-500":"bg-rose-500/20 text-rose-500":"text-muted-foreground hover:text-primary hover:bg-muted/40"}`,children:et},et))}),e[69]=p,e[70]=tt):tt=e[70];let Bn;e[71]===Symbol.for("react.memo_cache_sentinel")?(Bn=E.jsx(bd,{orientation:"vertical",className:"h-5"}),e[71]=Bn):Bn=e[71];let Vn;e[72]!==b||e[73]!==x||e[74]!==F?(Vn=E.jsx(j_,{allTags:b,selectedTags:x,setSelectedTags:T,tagMatchMode:F,setTagMatchMode:A}),e[72]=b,e[73]=x,e[74]=F,e[75]=Vn):Vn=e[75];let Fn;e[76]!==Zt||e[77]!==tt||e[78]!==Vn?(Fn=E.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3 sm:mt-2",children:[Zt,tt,Bn,Vn]}),e[76]=Zt,e[77]=tt,e[78]=Vn,e[79]=Fn):Fn=e[79];let hn;e[80]!==dt||e[81]!==Fn?(hn=E.jsx("div",{className:"border-border border-b px-6 py-6",children:E.jsxs("div",{className:"mx-auto sm:px-8 md:px-16",children:[dt,Fn]})}),e[80]=dt,e[81]=Fn,e[82]=hn):hn=e[82];let Rt;e[83]===Symbol.for("react.memo_cache_sentinel")?(Rt={height:"calc(100vh - 260px)"},e[83]=Rt):Rt=e[83];const nn=`h-full w-full ${t==="light"?"ag-theme-quartz":"ag-theme-quartz-dark"}`;let It;e[84]!==t?(It=Jb.withParams({cellFontFamily:"geist, sans-serif"}).withParams(t==="light"?{rowBorder:{style:"solid",width:"2px",color:"#e5e7eb"}}:{rowBorder:{style:"solid",width:"1px",color:"#2e3135"},rowHoverColor:"#151515",backgroundColor:"#0a0a0a",foregroundColor:"#bfbfbf",browserColorScheme:"dark"}),e[84]=t,e[85]=It):It=e[85];let In;e[86]!==d?(In=et=>{et.api.setGridOption("quickFilterText",d)},e[86]=d,e[87]=In):In=e[87];let ni;e[88]!==pe||e[89]!==q||e[90]!==J||e[91]!==i||e[92]!==It||e[93]!==In?(ni=E.jsx(iO,{ref:P,rowData:i,columnDefs:pe,defaultColDef:Ye,rowHeight:56,tooltipShowDelay:300,tooltipShowMode:"standard",headerHeight:40,theme:It,animateRows:!0,suppressCellFocus:!0,isExternalFilterPresent:J,doesExternalFilterPass:q,getRowId:fce,onGridReady:In}),e[88]=pe,e[89]=q,e[90]=J,e[91]=i,e[92]=It,e[93]=In,e[94]=ni):ni=e[94];let On;e[95]!==nn||e[96]!==ni?(On=E.jsx("div",{className:"flex-1 px-6 py-4",children:E.jsx("div",{className:"max-w-9xl mx-auto",style:Rt,children:E.jsx("div",{className:nn,children:ni})})}),e[95]=nn,e[96]=ni,e[97]=On):On=e[97];let fn;return e[98]!==hn||e[99]!==On?(fn=E.jsxs("div",{className:"font-geist bg-background text-primary flex flex-col",children:[hn,On]}),e[98]=hn,e[99]=On,e[100]=fn):fn=e[100],fn}function fce(e){return e.data.id.toString()}function gce(e){const{label:t,count:n,style:i}=e;return E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:`text-sm font-semibold tabular-nums sm:text-2xl ${i}`,children:n}),E.jsx("div",{className:"text-muted-foreground text-xs",children:t})]},t)}function pce(e){return e.completed}function mce(e){return e.difficulty==="Hard"}function vce(e){return e.difficulty==="Medium"}function Cce(e){return e.difficulty==="Easy"}function wce(e){return e.value}function yce(e,t){return(t?.length??0)-(e?.length??0)}function bce(e){return e.value}function Sce(e,t){return(e??-1)-(t??-1)}function Rce(e,t){return(e??-1)-(t??-1)}function xce(e,t){return(lF[e??""]??99)-(lF[t??""]??99)}function Ece(e){return e.value}function Tce(e,t){return e-t}function Dce(e){return!e}function Fce(e){return e.tag}function Pce(e){return e.problem_id}function Ace(e){return{id:e.id,title:e.title??"Untitled",url:e.url??null,difficulty:e.difficulty??null,acceptance:e.acceptance??null,frequency:e.frequency??null,tags:e.problem_tags?.map(kce)??[],other_companies:e.company_problems?.map(Mce).filter(Boolean)??[],completed:!1,timeframe_tag:null,isToggling:!1}}function Mce(e){return e.company?.name}function kce(e){return e.tag}const Ice=RG([{element:E.jsx(cD,{}),errorElement:E.jsx(cD,{children:E.jsx(gr,{})}),children:[{path:"/",element:E.jsx(Q3,{}),errorElement:E.jsx(gr,{})},{path:"/sign-in",element:E.jsx(uW,{}),errorElement:E.jsx(gr,{})},{path:"/auth/callback",element:E.jsx(dW,{}),errorElement:E.jsx(gr,{})},{path:"/company/:id",element:E.jsx(Fle,{}),errorElement:E.jsx(gr,{})},{path:"/all-problems",element:E.jsx(hce,{}),errorElement:E.jsx(gr,{})},{path:"/error",element:E.jsx(gr,{}),errorElement:E.jsx(gr,{})}]}],{basename:"/visor-leetcode"});function Oce(){const e=Oe.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=E.jsx(YH,{router:Ice}),e[0]=t):t=e[0],t}function _ce(e){const t=Oe.c(7),{children:n}=e,[i,o]=w.useState(Lce),[s,r]=w.useState(0);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=m=>{o(m),localStorage.setItem("theme",m),document.body.classList.toggle("dark",m==="dark")},t[0]=l):l=t[0];const u=l;let d;t[1]!==s||t[2]!==i?(d={theme:i,setTheme:u,otherState:s,setOtherState:r},t[1]=s,t[2]=i,t[3]=d):d=t[3];const f=d;let p;return t[4]!==f||t[5]!==n?(p=E.jsx(BA.Provider,{value:f,children:n}),t[4]=f,t[5]=n,t[6]=p):p=t[6],p}function Lce(){const e=localStorage.getItem("theme");return document.body.classList.toggle("dark",(e??"dark")==="dark"),e??"dark"}a2.createRoot(document.getElementById("root")).render(E.jsx(_ce,{children:E.jsx(Oce,{})}));
